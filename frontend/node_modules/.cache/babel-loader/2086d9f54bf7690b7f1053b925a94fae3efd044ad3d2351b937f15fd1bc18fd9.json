{"ast":null,"code":"var _jsxFileName = \"/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/NewDealEntry.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Car, ArrowLeft, Save, Send, AlertCircle, CheckCircle, Loader2, Search, Calendar, DollarSign, FileText, User, Settings, MapPin, Phone, Mail, Hash, Palette, Key, Gauge, Info, Shield, Zap, Eye, Clock, Plus, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewDealEntry = () => {\n  _s();\n  const [currentUser] = useState({\n    name: 'Chris Murphy',\n    role: 'admin',\n    permissions: {\n      canCreateDeals: true,\n      canViewFinancials: true,\n      canManageDealers: true\n    }\n  });\n  const [formData, setFormData] = useState({\n    // Vehicle Information\n    vin: '',\n    year: '',\n    make: '',\n    model: '',\n    mileage: '',\n    exteriorColor: '',\n    interiorColor: '',\n    // Deal Information\n    dealType: '',\n    fundingSource: '',\n    purchaseDate: '',\n    paymentMethod: '',\n    currentStage: 'initial-contact',\n    // Financial Information\n    purchasePrice: '',\n    listPrice: '',\n    killPrice: '',\n    wholesalePrice: '',\n    commissionRate: '',\n    brokerageFee: '',\n    brokeerageFeePaidTo: '',\n    payoffBalance: '',\n    amountDueToCustomer: '',\n    amountDueToRP: '',\n    // Seller Information\n    sellerName: '',\n    sellerCompany: '',\n    sellerAddress: '',\n    sellerPhone: '',\n    sellerEmail: '',\n    // RP Information\n    rpStockNumber: '',\n    vehicleDescription: '',\n    generalNotes: '',\n    // Documentation\n    contractRequired: false,\n    titlePresent: false,\n    driverLicensePresent: false,\n    odometerPresent: false,\n    dealerLicensePresent: false\n  });\n  const [vinDecoding, setVinDecoding] = useState(false);\n  const [vinDecoded, setVinDecoded] = useState(false);\n  const [dealerSuggestions, setDealerSuggestions] = useState([]);\n  const [searchingDealers, setSearchingDealers] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n  const dealTypes = [{\n    value: 'wholesale-d2d',\n    label: 'Wholesale - D2D'\n  }, {\n    value: 'wholesale-private',\n    label: 'Wholesale - Private Party'\n  }, {\n    value: 'wholesale-flip',\n    label: 'Wholesale - Flip'\n  }, {\n    value: 'retail-pp',\n    label: 'Retail - PP'\n  }, {\n    value: 'retail-auction',\n    label: 'Retail - Auction'\n  }, {\n    value: 'retail-dtod',\n    label: 'Retail - DtoD'\n  }, {\n    value: 'auction',\n    label: 'Auction'\n  }, {\n    value: 'deal-type-2',\n    label: 'Deal Type 2'\n  }];\n  const fundingSources = [{\n    value: 'flpn-retail',\n    label: 'FLPN - Retail'\n  }, {\n    value: 'flpn-wholesale',\n    label: 'FLPN - Wholesale'\n  }, {\n    value: 'cash',\n    label: 'Cash'\n  }, {\n    value: 'flooring-line',\n    label: 'Flooring Line'\n  }, {\n    value: 'consignment',\n    label: 'Consignment'\n  }];\n  const paymentMethods = [{\n    value: 'check',\n    label: 'Check'\n  }, {\n    value: 'wire',\n    label: 'Wire Transfer'\n  }, {\n    value: 'ach',\n    label: 'ACH'\n  }, {\n    value: 'cash',\n    label: 'Cash'\n  }, {\n    value: 'financed',\n    label: 'Financed'\n  }];\n  const dealStages = [{\n    value: 'initial-contact',\n    label: 'Initial Contact'\n  }, {\n    value: 'price-negotiated',\n    label: 'Price Negotiated'\n  }, {\n    value: 'inspection-scheduled',\n    label: 'Inspection Scheduled'\n  }, {\n    value: 'inspection-complete',\n    label: 'Inspection Complete'\n  }, {\n    value: 'purchased',\n    label: 'Purchased'\n  }, {\n    value: 'title-processing',\n    label: 'Title Processing'\n  }, {\n    value: 'title-received',\n    label: 'Title Received'\n  }, {\n    value: 'ready-to-list',\n    label: 'Ready to List'\n  }, {\n    value: 'listed',\n    label: 'Listed'\n  }, {\n    value: 'sold',\n    label: 'Sold'\n  }, {\n    value: 'delivered',\n    label: 'Delivered'\n  }];\n\n  // Get deal type specific fields\n  const getDealTypeFields = () => {\n    const dealType = formData.dealType;\n    switch (dealType) {\n      case 'wholesale-d2d':\n      case 'wholesale-private':\n      case 'wholesale-flip':\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice', 'sellerName']\n        };\n      case 'retail-pp':\n      case 'retail-auction':\n      case 'retail-dtod':\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice', 'sellerName']\n        };\n      case 'auction':\n        return {\n          showFinancials: true,\n          showSellerInfo: false,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice']\n        };\n      case 'deal-type-2':\n        return {\n          showFinancials: false,\n          showSellerInfo: true,\n          showDocumentation: false,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'sellerName']\n        };\n      default:\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model']\n        };\n    }\n  };\n  const dealTypeFields = getDealTypeFields();\n\n  // Real VIN decode function using backend API\n  const decodeVIN = async vin => {\n    setVinDecoding(true);\n    try {\n      const response = await fetch('/api/deals/vin/decode', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          vin\n        })\n      });\n      const data = await response.json();\n      if (data.success && data.data) {\n        setFormData(prev => ({\n          ...prev,\n          year: data.data.year || '',\n          make: data.data.make || '',\n          model: data.data.model || ''\n        }));\n        setVinDecoded(true);\n        setTimeout(() => setVinDecoded(false), 3000);\n      } else {\n        console.error('VIN decode failed:', data.error);\n        alert(data.error || 'Unable to decode VIN. Please check the VIN and try again.');\n      }\n    } catch (error) {\n      console.error('VIN decode error:', error);\n      alert('VIN decode service temporarily unavailable. Please try again later.');\n    } finally {\n      setVinDecoding(false);\n    }\n  };\n\n  // Real dealer search using backend API\n  const searchDealers = async query => {\n    if (query.length < 2) {\n      setDealerSuggestions([]);\n      return;\n    }\n    setSearchingDealers(true);\n    try {\n      const response = await fetch(`/api/dealers/search?q=${encodeURIComponent(query)}`);\n      const data = await response.json();\n      setDealerSuggestions(data.dealers || []);\n    } catch (error) {\n      console.error('Dealer search error:', error);\n      setDealerSuggestions([]);\n    } finally {\n      setSearchingDealers(false);\n    }\n  };\n\n  // Auto-generate stock number\n  useEffect(() => {\n    if (!formData.rpStockNumber && formData.year && formData.make) {\n      const year = new Date().getFullYear();\n      const stockNumber = `RP${year}${String(Math.floor(Math.random() * 9999) + 1).padStart(4, '0')}`;\n      setFormData(prev => ({\n        ...prev,\n        rpStockNumber: stockNumber\n      }));\n    }\n  }, [formData.year, formData.make, formData.rpStockNumber]);\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: null\n      }));\n    }\n\n    // Trigger VIN decode when VIN is 17 characters\n    if (field === 'vin' && value.length === 17 && !vinDecoded) {\n      decodeVIN(value);\n    }\n\n    // Search dealers when typing in seller field\n    if (field === 'sellerName') {\n      searchDealers(value);\n    }\n\n    // Reset to step 1 when deal type changes\n    if (field === 'dealType' && currentStep > 1) {\n      setCurrentStep(1);\n    }\n  };\n  const validateForm = () => {\n    const errors = {};\n    const requiredFields = dealTypeFields.requiredFields || ['vin', 'dealType', 'year', 'make', 'model'];\n    requiredFields.forEach(field => {\n      if (!formData[field] || formData[field].toString().trim() === '') {\n        errors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      }\n    });\n\n    // Additional validation for specific fields\n    if (formData.vin && formData.vin.length !== 17) {\n      errors.vin = 'VIN must be exactly 17 characters';\n    }\n    if (formData.year && (formData.year < 1900 || formData.year > new Date().getFullYear() + 1)) {\n      errors.year = 'Please enter a valid year';\n    }\n    if (formData.mileage && formData.mileage < 0) {\n      errors.mileage = 'Mileage cannot be negative';\n    }\n    if (dealTypeFields.showFinancials && formData.purchasePrice && formData.purchasePrice <= 0) {\n      errors.purchasePrice = 'Purchase price must be greater than 0';\n    }\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleSave = async (isDraft = false) => {\n    if (!isDraft && !validateForm()) {\n      return;\n    }\n    setSaving(true);\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      console.log('Saving deal:', {\n        ...formData,\n        isDraft\n      });\n\n      // Show success message or redirect\n      alert(isDraft ? 'Draft saved successfully!' : 'Deal created successfully!');\n    } catch (error) {\n      console.error('Save error:', error);\n      alert('Error saving deal. Please try again.');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleEmailToListingTeam = () => {\n    const emailBody = `New Vehicle Ready for Listing\n\nVehicle: ${formData.year} ${formData.make} ${formData.model}\nVIN: ${formData.vin}\nStock #: ${formData.rpStockNumber}\nMileage: ${formData.mileage}\nExterior: ${formData.exteriorColor}\nInterior: ${formData.interiorColor}\n\nDescription:\n${formData.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${currentUser.name}`;\n    const mailtoLink = `mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${formData.year} ${formData.make} ${formData.model}&body=${encodeURIComponent(emailBody)}`;\n    window.open(mailtoLink);\n  };\n  const steps = [{\n    id: 1,\n    title: 'Vehicle Info',\n    icon: Car\n  }, {\n    id: 2,\n    title: 'Deal Details',\n    icon: FileText\n  }, {\n    id: 3,\n    title: 'Financial',\n    icon: DollarSign\n  }, {\n    id: 4,\n    title: 'Seller Info',\n    icon: User\n  }, {\n    id: 5,\n    title: 'Documentation',\n    icon: Shield\n  }];\n  const renderStepIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: Array.from({\n        length: totalSteps\n      }, (_, index) => {\n        const stepNumber = index + 1;\n        const isActive = currentStep === stepNumber;\n        const isCompleted = currentStep > stepNumber;\n        let stepTitle = '';\n        let stepDescription = '';\n        if (stepNumber === 1) {\n          stepTitle = 'Vehicle & Deal Type';\n          stepDescription = 'Enter vehicle information and select deal type';\n        } else if (stepNumber === 2) {\n          stepTitle = 'Deal Configuration';\n          stepDescription = 'Configure funding, payment, and timeline';\n        } else if (stepNumber === 3 && dealTypeFields.showFinancials) {\n          stepTitle = 'Financial Information';\n          stepDescription = 'Set pricing and financial terms';\n        } else if (stepNumber === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo || stepNumber === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo) {\n          stepTitle = 'Seller Information';\n          stepDescription = 'Add seller contact information';\n        } else if (stepNumber === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation || stepNumber === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation || stepNumber === 5 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) {\n          stepTitle = 'Documentation & Notes';\n          stepDescription = 'Document status and additional notes';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${isActive ? 'bg-blue-600 border-blue-600 text-white' : isCompleted ? 'bg-green-600 border-green-600 text-white' : 'bg-white/10 border-white/20 text-gray-400'}`,\n            children: isCompleted ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: stepNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm font-medium ${isActive ? 'text-white' : 'text-gray-400'}`,\n              children: stepTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: stepDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), stepNumber < totalSteps && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-16 h-0.5 mx-4 ${isCompleted ? 'bg-green-600' : 'bg-white/20'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this)]\n        }, stepNumber, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 339,\n    columnNumber: 5\n  }, this);\n  const renderFormField = (label, field, type = 'text', options = null, required = false, icon = null) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex items-center text-sm font-medium text-gray-300\",\n      children: [icon && /*#__PURE__*/React.createElement(icon, {\n        className: \"h-4 w-4 mr-2\"\n      }), label, required && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-400 ml-1\",\n        children: \"*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), type === 'select' ? /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formData[field],\n      onChange: e => handleInputChange(field, e.target.value),\n      className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: [\"Select \", label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this), options === null || options === void 0 ? void 0 : options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: option.value,\n        className: \"bg-gray-800\",\n        children: option.label\n      }, option.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }, this) : type === 'textarea' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: formData[field],\n      onChange: e => handleInputChange(field, e.target.value),\n      rows: 4,\n      placeholder: `Enter ${label.toLowerCase()}...`,\n      className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 9\n    }, this) : type === 'checkbox' ? /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex items-center space-x-2 cursor-pointer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: formData[field],\n        onChange: e => handleInputChange(field, e.target.checked),\n        className: \"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-300\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: type,\n        value: formData[field],\n        onChange: e => handleInputChange(field, e.target.value),\n        placeholder: `Enter ${label.toLowerCase()}...`,\n        className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'} ${field === 'vin' ? 'pr-20' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this), field === 'vin' && formData.vin.length === 17 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-2 top-1/2 transform -translate-y-1/2\",\n        children: vinDecoding ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-5 w-5 text-blue-400 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 17\n        }, this) : vinDecoded ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-5 w-5 text-green-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => decodeVIN(formData.vin),\n          className: \"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors\",\n          children: \"Decode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 13\n      }, this), field === 'sellerName' && dealerSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto\",\n        children: dealerSuggestions.map(dealer => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0\",\n          onClick: () => {\n            setFormData(prev => {\n              var _dealer$contact;\n              return {\n                ...prev,\n                sellerName: dealer.name,\n                sellerCompany: dealer.company,\n                sellerPhone: dealer.phone,\n                sellerEmail: ((_dealer$contact = dealer.contact) === null || _dealer$contact === void 0 ? void 0 : _dealer$contact.email) || dealer.email || ''\n              };\n            });\n            setDealerSuggestions([]);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-white\",\n            children: dealer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-400\",\n            children: [dealer.company, \" \\u2022 \", dealer.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 19\n          }, this)]\n        }, dealer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 9\n    }, this), formErrors[field] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-red-400 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-4 w-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this), formErrors[field]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 401,\n    columnNumber: 5\n  }, this);\n  const renderStep = () => {\n    var _dealTypes$find;\n    switch (currentStep) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Deal Type Selection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 15\n            }, this), renderFormField('Deal Type', 'dealType', 'select', dealTypes, true, Car), formData.dealType && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-300 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Selected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this), \" \", (_dealTypes$find = dealTypes.find(dt => dt.value === formData.dealType)) === null || _dealTypes$find === void 0 ? void 0 : _dealTypes$find.label]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-200 text-xs mt-1\",\n                children: [dealTypeFields.showFinancials ? '✓ Financial information required' : '✗ No financial information needed', dealTypeFields.showSellerInfo ? ' ✓ Seller information required' : ' ✗ No seller information needed', dealTypeFields.showDocumentation ? ' ✓ Documentation required' : ' ✗ No documentation needed']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Vehicle Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: renderFormField('VIN', 'vin', 'text', null, true, Hash)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 17\n              }, this), renderFormField('Year', 'year', 'number', null, true, Calendar), renderFormField('Make', 'make', 'text', null, true), renderFormField('Model', 'model', 'text', null, true), renderFormField('Mileage', 'mileage', 'number', null, false, Gauge), renderFormField('Exterior Color', 'exteriorColor', 'text', null, false, Palette), renderFormField('Interior Color', 'interiorColor', 'text', null, false, Palette)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Deal Configuration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [renderFormField('Funding Source', 'fundingSource', 'select', fundingSources, true, DollarSign), renderFormField('Purchase/Sale Date', 'purchaseDate', 'date', null, true, Calendar), renderFormField('Payment Method', 'paymentMethod', 'select', paymentMethods, true), renderFormField('Current Deal Stage', 'currentStage', 'select', dealStages, true, Clock), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: renderFormField('RP Stock Number', 'rpStockNumber', 'text', null, false, Hash)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return dealTypeFields.showFinancials ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Financial Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [renderFormField('Purchase Price', 'purchasePrice', 'number', null, true, DollarSign), renderFormField('List Price', 'listPrice', 'number'), renderFormField('Kill Price', 'killPrice', 'number'), renderFormField('Wholesale Price', 'wholesalePrice', 'number'), renderFormField('Commission Rate (%)', 'commissionRate', 'number'), renderFormField('Brokerage Fee', 'brokerageFee', 'number'), renderFormField('Payoff Balance', 'payoffBalance', 'number'), renderFormField('Amount Due to Customer', 'amountDueToCustomer', 'number'), renderFormField('Amount Due to RP', 'amountDueToRP', 'number'), renderFormField('Brokerage Fee Paid To', 'brokeerageFeePaidTo', 'text')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Financial Information Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require financial information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return dealTypeFields.showSellerInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Seller Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: renderFormField('Purchased From', 'sellerName', 'text', null, true, User)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this), renderFormField('Company/Dealer', 'sellerCompany', 'text'), renderFormField('Phone', 'sellerPhone', 'tel', null, false, Phone), renderFormField('Email', 'sellerEmail', 'email', null, false, Mail), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: renderFormField('Address', 'sellerAddress', 'text', null, false, MapPin)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Seller Information Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require seller information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this);\n      case 5:\n        return dealTypeFields.showDocumentation ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Documentation & Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-md font-medium text-white mb-4\",\n                  children: \"Documentation Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 19\n                }, this), renderFormField('Contract Required', 'contractRequired', 'checkbox'), renderFormField('Title Present', 'titlePresent', 'checkbox'), renderFormField('Driver License Present', 'driverLicensePresent', 'checkbox'), renderFormField('Odometer Present', 'odometerPresent', 'checkbox'), renderFormField('Dealer License Present', 'dealerLicensePresent', 'checkbox')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: renderFormField('Vehicle Description', 'vehicleDescription', 'textarea', null, false, FileText)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: renderFormField('General Notes', 'generalNotes', 'textarea', null, false, Info)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Documentation Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require documentation tracking.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n\n  // Calculate total steps based on deal type\n  const getTotalSteps = () => {\n    let steps = 2; // Always have vehicle info and deal config\n    if (dealTypeFields.showFinancials) steps++;\n    if (dealTypeFields.showSellerInfo) steps++;\n    if (dealTypeFields.showDocumentation) steps++;\n    return steps;\n  };\n  const totalSteps = getTotalSteps();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 overflow-hidden pointer-events-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"relative bg-black/20 backdrop-blur-md border-b border-white/10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.history.back(),\n              className: \"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"h-6 w-6 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl font-bold text-white\",\n                  children: \"New Deal Entry\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-300 text-sm\",\n                  children: \"Create a new vehicle deal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(true),\n              disabled: saving,\n              className: \"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 79\n              }, this), \"Save Draft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(false),\n              disabled: saving,\n              className: \"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 79\n              }, this), \"Create Deal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative max-w-6xl mx-auto px-6 py-8\",\n      children: [renderStepIndicator(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-white mb-2\",\n            children: [currentStep === 1 && 'Vehicle Information & Deal Type', currentStep === 2 && 'Deal Configuration', currentStep === 3 && dealTypeFields.showFinancials && 'Financial Information', currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information', currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes', currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information', currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes', currentStep === 5 && 'Documentation & Notes']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-300\",\n            children: [currentStep === 1 && 'Enter basic vehicle information and select the deal type', currentStep === 2 && 'Configure deal type, funding, and timeline', currentStep === 3 && dealTypeFields.showFinancials && 'Set pricing and financial terms', currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information', currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes', currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information', currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes', currentStep === 5 && 'Document status and additional notes']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this), renderStep(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mt-8 pt-6 border-t border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStep(Math.max(1, currentStep - 1)),\n            disabled: currentStep === 1,\n            className: \"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 15\n            }, this), \"Previous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [currentStep === totalSteps && formData.vehicleDescription && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleEmailToListingTeam,\n              className: \"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 19\n              }, this), \"Email to Listing Team\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 17\n            }, this), currentStep < totalSteps ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentStep(Math.min(totalSteps, currentStep + 1)),\n              className: \"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors\",\n              children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-4 w-4 ml-2 rotate-180\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(false),\n              disabled: saving,\n              className: \"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 81\n              }, this), \"Complete Deal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this), vinDecoding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-4 w-4 mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 13\n        }, this), \"Decoding VIN...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 11\n      }, this), vinDecoded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 13\n        }, this), \"VIN decoded successfully!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 664,\n    columnNumber: 5\n  }, this);\n};\n_s(NewDealEntry, \"NwqM6T+ZF4MEZqiz3rLO36n8YZQ=\");\n_c = NewDealEntry;\nexport default NewDealEntry;\nvar _c;\n$RefreshReg$(_c, \"NewDealEntry\");","map":{"version":3,"names":["React","useState","useEffect","Car","ArrowLeft","Save","Send","AlertCircle","CheckCircle","Loader2","Search","Calendar","DollarSign","FileText","User","Settings","MapPin","Phone","Mail","Hash","Palette","Key","Gauge","Info","Shield","Zap","Eye","Clock","Plus","X","jsxDEV","_jsxDEV","NewDealEntry","_s","currentUser","name","role","permissions","canCreateDeals","canViewFinancials","canManageDealers","formData","setFormData","vin","year","make","model","mileage","exteriorColor","interiorColor","dealType","fundingSource","purchaseDate","paymentMethod","currentStage","purchasePrice","listPrice","killPrice","wholesalePrice","commissionRate","brokerageFee","brokeerageFeePaidTo","payoffBalance","amountDueToCustomer","amountDueToRP","sellerName","sellerCompany","sellerAddress","sellerPhone","sellerEmail","rpStockNumber","vehicleDescription","generalNotes","contractRequired","titlePresent","driverLicensePresent","odometerPresent","dealerLicensePresent","vinDecoding","setVinDecoding","vinDecoded","setVinDecoded","dealerSuggestions","setDealerSuggestions","searchingDealers","setSearchingDealers","formErrors","setFormErrors","saving","setSaving","currentStep","setCurrentStep","dealTypes","value","label","fundingSources","paymentMethods","dealStages","getDealTypeFields","showFinancials","showSellerInfo","showDocumentation","requiredFields","dealTypeFields","decodeVIN","response","fetch","method","headers","body","JSON","stringify","data","json","success","prev","setTimeout","console","error","alert","searchDealers","query","length","encodeURIComponent","dealers","Date","getFullYear","stockNumber","String","Math","floor","random","padStart","handleInputChange","field","validateForm","errors","forEach","toString","trim","charAt","toUpperCase","slice","Object","keys","handleSave","isDraft","Promise","resolve","log","handleEmailToListingTeam","emailBody","mailtoLink","window","open","steps","id","title","icon","renderStepIndicator","className","children","Array","from","totalSteps","_","index","stepNumber","isActive","isCompleted","stepTitle","stepDescription","fileName","_jsxFileName","lineNumber","columnNumber","renderFormField","type","options","required","createElement","onChange","e","target","map","option","rows","placeholder","toLowerCase","checked","onClick","dealer","_dealer$contact","company","phone","contact","email","location","renderStep","_dealTypes$find","find","dt","getTotalSteps","history","back","disabled","max","min","_c","$RefreshReg$"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/NewDealEntry.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Car, ArrowLeft, Save, Send, AlertCircle, CheckCircle, Loader2, \n  Search, Calendar, DollarSign, FileText, User, Settings, \n  MapPin, Phone, Mail, Hash, Palette, Key, Gauge, \n  Info, Shield, Zap, Eye, Clock, Plus, X\n} from 'lucide-react';\n\nconst NewDealEntry = () => {\n  const [currentUser] = useState({\n    name: 'Chris Murphy',\n    role: 'admin',\n    permissions: {\n      canCreateDeals: true,\n      canViewFinancials: true,\n      canManageDealers: true\n    }\n  });\n\n  const [formData, setFormData] = useState({\n    // Vehicle Information\n    vin: '',\n    year: '',\n    make: '',\n    model: '',\n    mileage: '',\n    exteriorColor: '',\n    interiorColor: '',\n    \n    // Deal Information\n    dealType: '',\n    fundingSource: '',\n    purchaseDate: '',\n    paymentMethod: '',\n    currentStage: 'initial-contact',\n    \n    // Financial Information\n    purchasePrice: '',\n    listPrice: '',\n    killPrice: '',\n    wholesalePrice: '',\n    commissionRate: '',\n    brokerageFee: '',\n    brokeerageFeePaidTo: '',\n    payoffBalance: '',\n    amountDueToCustomer: '',\n    amountDueToRP: '',\n    \n    // Seller Information\n    sellerName: '',\n    sellerCompany: '',\n    sellerAddress: '',\n    sellerPhone: '',\n    sellerEmail: '',\n    \n    // RP Information\n    rpStockNumber: '',\n    vehicleDescription: '',\n    generalNotes: '',\n    \n    // Documentation\n    contractRequired: false,\n    titlePresent: false,\n    driverLicensePresent: false,\n    odometerPresent: false,\n    dealerLicensePresent: false\n  });\n\n  const [vinDecoding, setVinDecoding] = useState(false);\n  const [vinDecoded, setVinDecoded] = useState(false);\n  const [dealerSuggestions, setDealerSuggestions] = useState([]);\n  const [searchingDealers, setSearchingDealers] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  const dealTypes = [\n    { value: 'wholesale-d2d', label: 'Wholesale - D2D' },\n    { value: 'wholesale-private', label: 'Wholesale - Private Party' },\n    { value: 'wholesale-flip', label: 'Wholesale - Flip' },\n    { value: 'retail-pp', label: 'Retail - PP' },\n    { value: 'retail-auction', label: 'Retail - Auction' },\n    { value: 'retail-dtod', label: 'Retail - DtoD' },\n    { value: 'auction', label: 'Auction' },\n    { value: 'deal-type-2', label: 'Deal Type 2' }\n  ];\n\n  const fundingSources = [\n    { value: 'flpn-retail', label: 'FLPN - Retail' },\n    { value: 'flpn-wholesale', label: 'FLPN - Wholesale' },\n    { value: 'cash', label: 'Cash' },\n    { value: 'flooring-line', label: 'Flooring Line' },\n    { value: 'consignment', label: 'Consignment' }\n  ];\n\n  const paymentMethods = [\n    { value: 'check', label: 'Check' },\n    { value: 'wire', label: 'Wire Transfer' },\n    { value: 'ach', label: 'ACH' },\n    { value: 'cash', label: 'Cash' },\n    { value: 'financed', label: 'Financed' }\n  ];\n\n  const dealStages = [\n    { value: 'initial-contact', label: 'Initial Contact' },\n    { value: 'price-negotiated', label: 'Price Negotiated' },\n    { value: 'inspection-scheduled', label: 'Inspection Scheduled' },\n    { value: 'inspection-complete', label: 'Inspection Complete' },\n    { value: 'purchased', label: 'Purchased' },\n    { value: 'title-processing', label: 'Title Processing' },\n    { value: 'title-received', label: 'Title Received' },\n    { value: 'ready-to-list', label: 'Ready to List' },\n    { value: 'listed', label: 'Listed' },\n    { value: 'sold', label: 'Sold' },\n    { value: 'delivered', label: 'Delivered' }\n  ];\n\n  // Get deal type specific fields\n  const getDealTypeFields = () => {\n    const dealType = formData.dealType;\n    \n    switch(dealType) {\n      case 'wholesale-d2d':\n      case 'wholesale-private':\n      case 'wholesale-flip':\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice', 'sellerName']\n        };\n      case 'retail-pp':\n      case 'retail-auction':\n      case 'retail-dtod':\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice', 'sellerName']\n        };\n      case 'auction':\n        return {\n          showFinancials: true,\n          showSellerInfo: false,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'purchasePrice']\n        };\n      case 'deal-type-2':\n        return {\n          showFinancials: false,\n          showSellerInfo: true,\n          showDocumentation: false,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model', 'sellerName']\n        };\n      default:\n        return {\n          showFinancials: true,\n          showSellerInfo: true,\n          showDocumentation: true,\n          requiredFields: ['vin', 'dealType', 'year', 'make', 'model']\n        };\n    }\n  };\n\n  const dealTypeFields = getDealTypeFields();\n\n  // Real VIN decode function using backend API\n  const decodeVIN = async (vin) => {\n    setVinDecoding(true);\n    try {\n      const response = await fetch('/api/deals/vin/decode', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ vin })\n      });\n      \n      const data = await response.json();\n      \n      if (data.success && data.data) {\n        setFormData(prev => ({\n          ...prev,\n          year: data.data.year || '',\n          make: data.data.make || '',\n          model: data.data.model || ''\n        }));\n        \n        setVinDecoded(true);\n        setTimeout(() => setVinDecoded(false), 3000);\n      } else {\n        console.error('VIN decode failed:', data.error);\n        alert(data.error || 'Unable to decode VIN. Please check the VIN and try again.');\n      }\n    } catch (error) {\n      console.error('VIN decode error:', error);\n      alert('VIN decode service temporarily unavailable. Please try again later.');\n    } finally {\n      setVinDecoding(false);\n    }\n  };\n\n  // Real dealer search using backend API\n  const searchDealers = async (query) => {\n    if (query.length < 2) {\n      setDealerSuggestions([]);\n      return;\n    }\n    setSearchingDealers(true);\n    try {\n      const response = await fetch(`/api/dealers/search?q=${encodeURIComponent(query)}`);\n      const data = await response.json();\n      setDealerSuggestions(data.dealers || []);\n    } catch (error) {\n      console.error('Dealer search error:', error);\n      setDealerSuggestions([]);\n    } finally {\n      setSearchingDealers(false);\n    }\n  };\n\n  // Auto-generate stock number\n  useEffect(() => {\n    if (!formData.rpStockNumber && formData.year && formData.make) {\n      const year = new Date().getFullYear();\n      const stockNumber = `RP${year}${String(Math.floor(Math.random() * 9999) + 1).padStart(4, '0')}`;\n      setFormData(prev => ({ ...prev, rpStockNumber: stockNumber }));\n    }\n  }, [formData.year, formData.make, formData.rpStockNumber]);\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    \n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: null }));\n    }\n    \n    // Trigger VIN decode when VIN is 17 characters\n    if (field === 'vin' && value.length === 17 && !vinDecoded) {\n      decodeVIN(value);\n    }\n    \n    // Search dealers when typing in seller field\n    if (field === 'sellerName') {\n      searchDealers(value);\n    }\n\n    // Reset to step 1 when deal type changes\n    if (field === 'dealType' && currentStep > 1) {\n      setCurrentStep(1);\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    const requiredFields = dealTypeFields.requiredFields || ['vin', 'dealType', 'year', 'make', 'model'];\n    \n    requiredFields.forEach(field => {\n      if (!formData[field] || formData[field].toString().trim() === '') {\n        errors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      }\n    });\n\n    // Additional validation for specific fields\n    if (formData.vin && formData.vin.length !== 17) {\n      errors.vin = 'VIN must be exactly 17 characters';\n    }\n\n    if (formData.year && (formData.year < 1900 || formData.year > new Date().getFullYear() + 1)) {\n      errors.year = 'Please enter a valid year';\n    }\n\n    if (formData.mileage && formData.mileage < 0) {\n      errors.mileage = 'Mileage cannot be negative';\n    }\n\n    if (dealTypeFields.showFinancials && formData.purchasePrice && formData.purchasePrice <= 0) {\n      errors.purchasePrice = 'Purchase price must be greater than 0';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSave = async (isDraft = false) => {\n    if (!isDraft && !validateForm()) {\n      return;\n    }\n    \n    setSaving(true);\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      console.log('Saving deal:', { ...formData, isDraft });\n      \n      // Show success message or redirect\n      alert(isDraft ? 'Draft saved successfully!' : 'Deal created successfully!');\n      \n    } catch (error) {\n      console.error('Save error:', error);\n      alert('Error saving deal. Please try again.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleEmailToListingTeam = () => {\n    const emailBody = `New Vehicle Ready for Listing\n\nVehicle: ${formData.year} ${formData.make} ${formData.model}\nVIN: ${formData.vin}\nStock #: ${formData.rpStockNumber}\nMileage: ${formData.mileage}\nExterior: ${formData.exteriorColor}\nInterior: ${formData.interiorColor}\n\nDescription:\n${formData.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${currentUser.name}`;\n\n    const mailtoLink = `mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${formData.year} ${formData.make} ${formData.model}&body=${encodeURIComponent(emailBody)}`;\n    window.open(mailtoLink);\n  };\n\n  const steps = [\n    { id: 1, title: 'Vehicle Info', icon: Car },\n    { id: 2, title: 'Deal Details', icon: FileText },\n    { id: 3, title: 'Financial', icon: DollarSign },\n    { id: 4, title: 'Seller Info', icon: User },\n    { id: 5, title: 'Documentation', icon: Shield }\n  ];\n\n  const renderStepIndicator = () => (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center justify-between\">\n        {Array.from({ length: totalSteps }, (_, index) => {\n          const stepNumber = index + 1;\n          const isActive = currentStep === stepNumber;\n          const isCompleted = currentStep > stepNumber;\n          \n          let stepTitle = '';\n          let stepDescription = '';\n          \n          if (stepNumber === 1) {\n            stepTitle = 'Vehicle & Deal Type';\n            stepDescription = 'Enter vehicle information and select deal type';\n          } else if (stepNumber === 2) {\n            stepTitle = 'Deal Configuration';\n            stepDescription = 'Configure funding, payment, and timeline';\n          } else if (stepNumber === 3 && dealTypeFields.showFinancials) {\n            stepTitle = 'Financial Information';\n            stepDescription = 'Set pricing and financial terms';\n          } else if ((stepNumber === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo) || \n                     (stepNumber === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo)) {\n            stepTitle = 'Seller Information';\n            stepDescription = 'Add seller contact information';\n          } else if ((stepNumber === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) ||\n                     (stepNumber === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) ||\n                     (stepNumber === 5 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation)) {\n            stepTitle = 'Documentation & Notes';\n            stepDescription = 'Document status and additional notes';\n          }\n          \n          return (\n            <div key={stepNumber} className=\"flex items-center\">\n              <div className={`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${\n                isActive \n                  ? 'bg-blue-600 border-blue-600 text-white' \n                  : isCompleted \n                    ? 'bg-green-600 border-green-600 text-white' \n                    : 'bg-white/10 border-white/20 text-gray-400'\n              }`}>\n                {isCompleted ? (\n                  <CheckCircle className=\"h-5 w-5\" />\n                ) : (\n                  <span className=\"text-sm font-medium\">{stepNumber}</span>\n                )}\n              </div>\n              <div className=\"ml-3\">\n                <p className={`text-sm font-medium ${isActive ? 'text-white' : 'text-gray-400'}`}>\n                  {stepTitle}\n                </p>\n                <p className=\"text-xs text-gray-500\">{stepDescription}</p>\n              </div>\n              {stepNumber < totalSteps && (\n                <div className={`w-16 h-0.5 mx-4 ${isCompleted ? 'bg-green-600' : 'bg-white/20'}`} />\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n\n  const renderFormField = (label, field, type = 'text', options = null, required = false, icon = null) => (\n    <div className=\"space-y-2\">\n      <label className=\"flex items-center text-sm font-medium text-gray-300\">\n        {icon && React.createElement(icon, { className: \"h-4 w-4 mr-2\" })}\n        {label}\n        {required && <span className=\"text-red-400 ml-1\">*</span>}\n      </label>\n      \n      {type === 'select' ? (\n        <select\n          value={formData[field]}\n          onChange={(e) => handleInputChange(field, e.target.value)}\n          className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${\n            formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n          }`}\n        >\n          <option value=\"\">Select {label}</option>\n          {options?.map(option => (\n            <option key={option.value} value={option.value} className=\"bg-gray-800\">\n              {option.label}\n            </option>\n          ))}\n        </select>\n      ) : type === 'textarea' ? (\n        <textarea\n          value={formData[field]}\n          onChange={(e) => handleInputChange(field, e.target.value)}\n          rows={4}\n          placeholder={`Enter ${label.toLowerCase()}...`}\n          className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none ${\n            formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n          }`}\n        />\n      ) : type === 'checkbox' ? (\n        <label className=\"flex items-center space-x-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={formData[field]}\n            onChange={(e) => handleInputChange(field, e.target.checked)}\n            className=\"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500\"\n          />\n          <span className=\"text-gray-300\">{label}</span>\n        </label>\n      ) : (\n        <div className=\"relative\">\n          <input\n            type={type}\n            value={formData[field]}\n            onChange={(e) => handleInputChange(field, e.target.value)}\n            placeholder={`Enter ${label.toLowerCase()}...`}\n            className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${\n              formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n            } ${field === 'vin' ? 'pr-20' : ''}`}\n          />\n          \n          {field === 'vin' && formData.vin.length === 17 && (\n            <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2\">\n              {vinDecoding ? (\n                <Loader2 className=\"h-5 w-5 text-blue-400 animate-spin\" />\n              ) : vinDecoded ? (\n                <CheckCircle className=\"h-5 w-5 text-green-400\" />\n              ) : (\n                <button\n                  onClick={() => decodeVIN(formData.vin)}\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors\"\n                >\n                  Decode\n                </button>\n              )}\n            </div>\n          )}\n          \n          {field === 'sellerName' && dealerSuggestions.length > 0 && (\n            <div className=\"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto\">\n              {dealerSuggestions.map(dealer => (\n                <div\n                  key={dealer.id}\n                  className=\"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0\"\n                  onClick={() => {\n                    setFormData(prev => ({\n                      ...prev,\n                      sellerName: dealer.name,\n                      sellerCompany: dealer.company,\n                      sellerPhone: dealer.phone,\n                      sellerEmail: dealer.contact?.email || dealer.email || ''\n                    }));\n                    setDealerSuggestions([]);\n                  }}\n                >\n                  <div className=\"font-medium text-white\">{dealer.name}</div>\n                  <div className=\"text-sm text-gray-400\">{dealer.company} • {dealer.location}</div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {formErrors[field] && (\n        <div className=\"flex items-center text-red-400 text-sm\">\n          <AlertCircle className=\"h-4 w-4 mr-1\" />\n          {formErrors[field]}\n        </div>\n      )}\n    </div>\n  );\n\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return (\n          <div className=\"space-y-6\">\n            {/* Deal Type Selector - Always at the top */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Deal Type Selection</h3>\n              {renderFormField('Deal Type', 'dealType', 'select', dealTypes, true, Car)}\n              {formData.dealType && (\n                <div className=\"mt-4 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20\">\n                  <p className=\"text-blue-300 text-sm\">\n                    <strong>Selected:</strong> {dealTypes.find(dt => dt.value === formData.dealType)?.label}\n                  </p>\n                  <p className=\"text-blue-200 text-xs mt-1\">\n                    {dealTypeFields.showFinancials ? '✓ Financial information required' : '✗ No financial information needed'}\n                    {dealTypeFields.showSellerInfo ? ' ✓ Seller information required' : ' ✗ No seller information needed'}\n                    {dealTypeFields.showDocumentation ? ' ✓ Documentation required' : ' ✗ No documentation needed'}\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Vehicle Information */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Vehicle Information</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"md:col-span-2\">\n                  {renderFormField('VIN', 'vin', 'text', null, true, Hash)}\n                </div>\n                {renderFormField('Year', 'year', 'number', null, true, Calendar)}\n                {renderFormField('Make', 'make', 'text', null, true)}\n                {renderFormField('Model', 'model', 'text', null, true)}\n                {renderFormField('Mileage', 'mileage', 'number', null, false, Gauge)}\n                {renderFormField('Exterior Color', 'exteriorColor', 'text', null, false, Palette)}\n                {renderFormField('Interior Color', 'interiorColor', 'text', null, false, Palette)}\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 2:\n        return (\n          <div className=\"space-y-6\">\n            {/* Deal Configuration */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Deal Configuration</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {renderFormField('Funding Source', 'fundingSource', 'select', fundingSources, true, DollarSign)}\n                {renderFormField('Purchase/Sale Date', 'purchaseDate', 'date', null, true, Calendar)}\n                {renderFormField('Payment Method', 'paymentMethod', 'select', paymentMethods, true)}\n                {renderFormField('Current Deal Stage', 'currentStage', 'select', dealStages, true, Clock)}\n                <div className=\"md:col-span-2\">\n                  {renderFormField('RP Stock Number', 'rpStockNumber', 'text', null, false, Hash)}\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 3:\n        return dealTypeFields.showFinancials ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Financial Information</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {renderFormField('Purchase Price', 'purchasePrice', 'number', null, true, DollarSign)}\n              {renderFormField('List Price', 'listPrice', 'number')}\n              {renderFormField('Kill Price', 'killPrice', 'number')}\n              {renderFormField('Wholesale Price', 'wholesalePrice', 'number')}\n              {renderFormField('Commission Rate (%)', 'commissionRate', 'number')}\n              {renderFormField('Brokerage Fee', 'brokerageFee', 'number')}\n              {renderFormField('Payoff Balance', 'payoffBalance', 'number')}\n              {renderFormField('Amount Due to Customer', 'amountDueToCustomer', 'number')}\n              {renderFormField('Amount Due to RP', 'amountDueToRP', 'number')}\n              {renderFormField('Brokerage Fee Paid To', 'brokeerageFeePaidTo', 'text')}\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <DollarSign className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Financial Information Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require financial information.</p>\n          </div>\n        );\n      \n      case 4:\n        return dealTypeFields.showSellerInfo ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Seller Information</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                {renderFormField('Purchased From', 'sellerName', 'text', null, true, User)}\n              </div>\n              {renderFormField('Company/Dealer', 'sellerCompany', 'text')}\n              {renderFormField('Phone', 'sellerPhone', 'tel', null, false, Phone)}\n              {renderFormField('Email', 'sellerEmail', 'email', null, false, Mail)}\n              <div className=\"md:col-span-2\">\n                {renderFormField('Address', 'sellerAddress', 'text', null, false, MapPin)}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <User className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Seller Information Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require seller information.</p>\n          </div>\n        );\n      \n      case 5:\n        return dealTypeFields.showDocumentation ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Documentation & Notes</h3>\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <h4 className=\"text-md font-medium text-white mb-4\">Documentation Status</h4>\n                  {renderFormField('Contract Required', 'contractRequired', 'checkbox')}\n                  {renderFormField('Title Present', 'titlePresent', 'checkbox')}\n                  {renderFormField('Driver License Present', 'driverLicensePresent', 'checkbox')}\n                  {renderFormField('Odometer Present', 'odometerPresent', 'checkbox')}\n                  {renderFormField('Dealer License Present', 'dealerLicensePresent', 'checkbox')}\n                </div>\n                <div>\n                  {renderFormField('Vehicle Description', 'vehicleDescription', 'textarea', null, false, FileText)}\n                </div>\n              </div>\n              <div>\n                {renderFormField('General Notes', 'generalNotes', 'textarea', null, false, Info)}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Documentation Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require documentation tracking.</p>\n          </div>\n        );\n      \n      default:\n        return null;\n    }\n  };\n\n  // Calculate total steps based on deal type\n  const getTotalSteps = () => {\n    let steps = 2; // Always have vehicle info and deal config\n    if (dealTypeFields.showFinancials) steps++;\n    if (dealTypeFields.showSellerInfo) steps++;\n    if (dealTypeFields.showDocumentation) steps++;\n    return steps;\n  };\n\n  const totalSteps = getTotalSteps();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n      </div>\n\n      {/* Header */}\n      <header className=\"relative bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <button \n                onClick={() => window.history.back()}\n                className=\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\"\n              >\n                <ArrowLeft className=\"h-5 w-5 text-white\" />\n              </button>\n              <div className=\"flex items-center\">\n                <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\">\n                  <Plus className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white\">New Deal Entry</h1>\n                  <p className=\"text-gray-300 text-sm\">Create a new vehicle deal</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => handleSave(true)}\n                disabled={saving}\n                className=\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\"\n              >\n                {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\n                Save Draft\n              </button>\n              \n              <button\n                onClick={() => handleSave(false)}\n                disabled={saving}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50\"\n              >\n                {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <CheckCircle className=\"h-4 w-4 mr-2\" />}\n                Create Deal\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"relative max-w-6xl mx-auto px-6 py-8\">\n        {/* Step Indicator */}\n        {renderStepIndicator()}\n\n        {/* Form Content */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8\">\n          <div className=\"mb-6\">\n            <h2 className=\"text-2xl font-bold text-white mb-2\">\n              {currentStep === 1 && 'Vehicle Information & Deal Type'}\n              {currentStep === 2 && 'Deal Configuration'}\n              {currentStep === 3 && dealTypeFields.showFinancials && 'Financial Information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes'}\n              {currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information'}\n              {currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes'}\n              {currentStep === 5 && 'Documentation & Notes'}\n            </h2>\n            <p className=\"text-gray-300\">\n              {currentStep === 1 && 'Enter basic vehicle information and select the deal type'}\n              {currentStep === 2 && 'Configure deal type, funding, and timeline'}\n              {currentStep === 3 && dealTypeFields.showFinancials && 'Set pricing and financial terms'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes'}\n              {currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information'}\n              {currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes'}\n              {currentStep === 5 && 'Document status and additional notes'}\n            </p>\n          </div>\n\n          {renderStep()}\n\n          {/* Navigation Buttons */}\n          <div className=\"flex items-center justify-between mt-8 pt-6 border-t border-white/10\">\n            <button\n              onClick={() => setCurrentStep(Math.max(1, currentStep - 1))}\n              disabled={currentStep === 1}\n              className=\"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Previous\n            </button>\n\n            <div className=\"flex items-center space-x-3\">\n              {currentStep === totalSteps && formData.vehicleDescription && (\n                <button\n                  onClick={handleEmailToListingTeam}\n                  className=\"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\"\n                >\n                  <Send className=\"h-4 w-4 mr-2\" />\n                  Email to Listing Team\n                </button>\n              )}\n              \n              {currentStep < totalSteps ? (\n                <button\n                  onClick={() => setCurrentStep(Math.min(totalSteps, currentStep + 1))}\n                  className=\"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors\"\n                >\n                  Next\n                  <ArrowLeft className=\"h-4 w-4 ml-2 rotate-180\" />\n                </button>\n              ) : (\n                <button\n                  onClick={() => handleSave(false)}\n                  disabled={saving}\n                  className=\"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50\"\n                >\n                  {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <CheckCircle className=\"h-4 w-4 mr-2\" />}\n                  Complete Deal\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* VIN Decode Status */}\n        {vinDecoding && (\n          <div className=\"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\">\n            <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n            Decoding VIN...\n          </div>\n        )}\n        \n        {vinDecoded && (\n          <div className=\"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\">\n            <CheckCircle className=\"h-4 w-4 mr-2\" />\n            VIN decoded successfully!\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NewDealEntry; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}