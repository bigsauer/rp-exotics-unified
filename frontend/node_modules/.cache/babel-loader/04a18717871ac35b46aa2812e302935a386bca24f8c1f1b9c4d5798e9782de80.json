{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ChevronDown,ChevronUp,Clock,CheckCircle,AlertCircle,FileText,Car,DollarSign,User,Calendar,ArrowLeft,Play,Lock,Search,RefreshCw,Edit3,TrendingUp,XCircle,Shield}from'lucide-react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const statusDisplayMap={'contract-received':'Initial Contact','title-processing':'Documentation','payment-approved':'Finance Review','funds-disbursed':'Funds Disbursed','title-received':'Title Received','deal-complete':'Completion'};const progressSteps=['contract-received','title-processing','payment-approved','funds-disbursed','title-received','deal-complete'];// Add a mapping for dealType2SubType display names\nconst dealType2DisplayMap={'buy':'Buy','sale':'Sale','buy-sell':'Buy/Sell','consign-a':'Consign-A','consign-b':'Consign-B','consign-c':'Consign-C','consign-rdnc':'Consign-RDNC'};const DealStatusPage=()=>{const[deals,setDeals]=useState([]);const[loading,setLoading]=useState(true);const[expandedDeal,setExpandedDeal]=useState(null);const[filterStatus,setFilterStatus]=useState('all');const[filterDealType,setFilterDealType]=useState('all');const[searchTerm,setSearchTerm]=useState('');const[autoRefresh,setAutoRefresh]=useState(true);const[lastSync,setLastSync]=useState(null);const navigate=useNavigate();useEffect(()=>{fetchDeals();// Set up auto-refresh every 30 seconds if enabled\nlet interval;if(autoRefresh){interval=setInterval(()=>{fetchDeals();setLastSync(new Date());},30000);// 30 seconds\n}return()=>{if(interval)clearInterval(interval);};},[autoRefresh]);const fetchDeals=async()=>{try{setLoading(true);const response=await fetch(`/api/deals`,{credentials:'include'});if(response.ok){const data=await response.json();const dealsData=data.deals||data.data||[];// Transform backend data to match frontend format\nconst transformedDeals=dealsData.map(deal=>{var _deal$seller,_deal$buyer,_deal$titleInfo,_deal$titleInfo2;return{id:deal._id||deal.id,stockNumber:deal.rpStockNumber||deal.stockNumber,vin:deal.vin,vehicle:`${deal.year||''} ${deal.make||''} ${deal.model||''}`.trim(),dealType:deal.dealType||'wholesale',currentStage:deal.currentStage||'initial-contact',seller:((_deal$seller=deal.seller)===null||_deal$seller===void 0?void 0:_deal$seller.name)||'Unknown',buyerContact:((_deal$buyer=deal.buyer)===null||_deal$buyer===void 0?void 0:_deal$buyer.name)||'Pending',purchasePrice:deal.purchasePrice||0,salePrice:deal.listPrice||deal.salePrice||0,payoffBalance:deal.payoffBalance||0,createdDate:new Date(deal.createdAt||deal.createdDate).toISOString().split('T')[0],lastUpdated:new Date(deal.updatedAt||deal.lastUpdated).toISOString().split('T')[0],priority:deal.priority||'medium',notes:deal.notes||deal.generalNotes||'',paymentMethod:deal.paymentMethod||'Check',requiresContract:true,documentation:{contract:{status:'received',date:deal.createdDate},title:{status:((_deal$titleInfo=deal.titleInfo)===null||_deal$titleInfo===void 0?void 0:_deal$titleInfo.status)==='clean'?'received':'pending',date:(_deal$titleInfo2=deal.titleInfo)===null||_deal$titleInfo2===void 0?void 0:_deal$titleInfo2.titleReceivedDate},odometer:{status:'pending',date:null},paymentApproval:{status:'approved',date:deal.createdDate}},titleInfo:deal.titleInfo||{},wholesalePrice:deal.wholesalePrice||null,dealType2SubType:deal.dealType2SubType||deal.dealType2||''};});setDeals(transformedDeals);}}catch(error){console.error('Error fetching deals:',error);}finally{setLoading(false);}};const getStageInfo=currentStage=>{return{id:currentStage,label:statusDisplayMap[currentStage]||currentStage,description:{'contract-received':'Deal created and initial contact made','title-processing':'Documents being prepared and reviewed','payment-approved':'Financial terms and approval process','funds-disbursed':'Funds have been disbursed','title-received':'Title has been received','deal-complete':'Deal finalized and closed'}[currentStage]||''};};const getStageProgress=currentStage=>{const currentIndex=progressSteps.indexOf(currentStage);return currentIndex>=0?Math.round(currentIndex/(progressSteps.length-1)*100):0;};const getStatusColor=stage=>{switch(stage){case'deal-complete':return'green';case'payment-approved':case'funds-disbursed':case'title-received':return'blue';case'title-processing':case'contract-received':return'yellow';default:return'gray';}};const getPriorityColor=priority=>{switch(priority){case'high':return'text-red-400';case'medium':return'text-orange-400';case'low':return'text-green-400';default:return'text-gray-400';}};const filteredDeals=deals.filter(deal=>{var _deal$stockNumber,_deal$vin;const matchesSearch=searchTerm===''||deal.vehicle.toLowerCase().includes(searchTerm.toLowerCase())||((_deal$stockNumber=deal.stockNumber)===null||_deal$stockNumber===void 0?void 0:_deal$stockNumber.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$vin=deal.vin)===null||_deal$vin===void 0?void 0:_deal$vin.toLowerCase().includes(searchTerm.toLowerCase()));const matchesStatus=filterStatus==='all'||deal.currentStage===filterStatus;const matchesType=filterDealType==='all'||deal.dealType===filterDealType;return matchesSearch&&matchesStatus&&matchesType;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-lg\",children:\"Loading deals...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/'),className:\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-2\",children:\"Sales Deal Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"Track and monitor your deals through the sales pipeline\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"autoRefresh\",checked:autoRefresh,onChange:e=>setAutoRefresh(e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"autoRefresh\",className:\"text-gray-300 text-sm\",children:\"Auto-refresh\"})]}),lastSync&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm\",children:[\"Last sync: \",lastSync.toLocaleTimeString()]}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchDeals,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search deals...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterDealType,onChange:e=>setFilterDealType(e.target.value),className:\"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Deal Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wholesale-d2d\",children:\"Wholesale D2D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"retail\",children:\"Retail\"}),/*#__PURE__*/_jsx(\"option\",{value:\"retail-pp\",children:\"Retail PP\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contract-received\",children:\"Initial Contact\"}),/*#__PURE__*/_jsx(\"option\",{value:\"title-processing\",children:\"Documentation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"payment-approved\",children:\"Finance Review\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deal-complete\",children:\"Complete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-sm flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Showing:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[filteredDeals.length,\" deals\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredDeals.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 rounded-2xl p-8 border border-white/10\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-white text-lg font-medium mb-2\",children:\"No deals found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Try adjusting your filters or search terms.\"})]})}):filteredDeals.map(deal=>{const stageInfo=getStageInfo(deal.currentStage);const progress=getStageProgress(deal.currentStage);const statusColor=getStatusColor(deal.currentStage);const priorityColor=getPriorityColor(deal.priority);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3\",children:/*#__PURE__*/_jsx(Car,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:deal.vehicle}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full\",children:deal.dealType.toUpperCase()}),deal.dealType2SubType&&deal.dealType!=='wholesale-flip'&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full\",children:dealType2DisplayMap[deal.dealType2SubType]||deal.dealType2SubType}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-400 rounded-full animate-pulse\",title:\"In sync with finance system\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 text-xs\",children:\"Synced\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-gray-300 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Stock #\",deal.stockNumber]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:deal.seller}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Created: \",deal.createdDate]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedDeal(expandedDeal===deal.id?null:deal.id),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\",children:expandedDeal===deal.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Hide Details\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Details\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`bg-${statusColor}-500/20 text-${statusColor}-400 text-xs font-medium px-2 py-1 rounded-full`,children:stageInfo.label}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400 text-xs\",children:[Math.round(progress),\"% Complete\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:`bg-gradient-to-r from-${statusColor}-500 to-${statusColor}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${progress}%`}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 rounded-lg p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"VIN\"}),/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-blue-400\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-bold text-sm font-mono\",children:deal.vin})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"Documentation Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:Object.entries(deal.documentation).map(_ref=>{let[doc,info]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[info.status==='received'||info.status==='approved'?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-400\"}):info.status==='pending'?/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-orange-400\"}):/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4 text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300 text-sm capitalize\",children:doc.replace('_',' ')})]},doc);})})]}),expandedDeal===deal.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-6 border-t border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-4\",children:\"Deal Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-600\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:progressSteps.map((stage,index)=>{const stageData=getStageInfo(stage);const isCompleted=index<progressSteps.indexOf(deal.currentStage);const isCurrent=stage===deal.currentStage;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${isCompleted?'bg-green-500':isCurrent?'bg-blue-500':'bg-gray-600'}`,children:isCompleted?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-white\"}):isCurrent?/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4 text-white\"}):/*#__PURE__*/_jsx(Lock,{className:\"h-4 w-4 text-gray-300\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:`font-medium ${isCompleted?'text-green-400':isCurrent?'text-blue-400':'text-gray-400'}`,children:stageData.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mt-1\",children:stageData.description}),isCurrent&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded\",children:\"In progress...\"})]})]},stage);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"Deal Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Deal Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white capitalize\",children:deal.dealType.replace('-',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Payment Method:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:deal.paymentMethod})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Priority:\"}),/*#__PURE__*/_jsx(\"span\",{className:priorityColor,children:deal.priority})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Last Updated:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:deal.lastUpdated})]}),deal.dealType!=='wholesale-flip'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Deal Type 2:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white capitalize\",children:dealType2DisplayMap[deal.dealType2SubType]||deal.dealType2SubType||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Seller:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:deal.seller})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Buyer:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:deal.buyerContact})]})]})]})]})]}),deal.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-300 text-sm\",children:deal.notes})]})})]},deal.id);})})]})]});};export default DealStatusPage;","map":{"version":3,"names":["React","useState","useEffect","ChevronDown","ChevronUp","Clock","CheckCircle","AlertCircle","FileText","Car","DollarSign","User","Calendar","ArrowLeft","Play","Lock","Search","RefreshCw","Edit3","TrendingUp","XCircle","Shield","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","statusDisplayMap","progressSteps","dealType2DisplayMap","DealStatusPage","deals","setDeals","loading","setLoading","expandedDeal","setExpandedDeal","filterStatus","setFilterStatus","filterDealType","setFilterDealType","searchTerm","setSearchTerm","autoRefresh","setAutoRefresh","lastSync","setLastSync","navigate","fetchDeals","interval","setInterval","Date","clearInterval","response","fetch","credentials","ok","data","json","dealsData","transformedDeals","map","deal","_deal$seller","_deal$buyer","_deal$titleInfo","_deal$titleInfo2","id","_id","stockNumber","rpStockNumber","vin","vehicle","year","make","model","trim","dealType","currentStage","seller","name","buyerContact","buyer","purchasePrice","salePrice","listPrice","payoffBalance","createdDate","createdAt","toISOString","split","lastUpdated","updatedAt","priority","notes","generalNotes","paymentMethod","requiresContract","documentation","contract","status","date","title","titleInfo","titleReceivedDate","odometer","paymentApproval","wholesalePrice","dealType2SubType","dealType2","error","console","getStageInfo","label","description","getStageProgress","currentIndex","indexOf","Math","round","length","getStatusColor","stage","getPriorityColor","filteredDeals","filter","_deal$stockNumber","_deal$vin","matchesSearch","toLowerCase","includes","matchesStatus","matchesType","className","children","onClick","type","checked","onChange","e","target","htmlFor","toLocaleTimeString","placeholder","value","stageInfo","progress","statusColor","priorityColor","toUpperCase","style","width","Object","entries","_ref","doc","info","replace","index","stageData","isCompleted","isCurrent"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/DealStatusPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  ChevronDown, \n  ChevronUp, \n  Clock, \n  CheckCircle, \n  AlertCircle, \n  FileText, \n  Car, \n  DollarSign, \n  User, \n  Calendar, \n  ArrowLeft,\n  Play,\n  Lock,\n  Search,\n  RefreshCw,\n  Edit3,\n  TrendingUp,\n  XCircle,\n  Shield\n} from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\n\nconst statusDisplayMap = {\n  'contract-received': 'Initial Contact',\n  'title-processing': 'Documentation',\n  'payment-approved': 'Finance Review',\n  'funds-disbursed': 'Funds Disbursed',\n  'title-received': 'Title Received',\n  'deal-complete': 'Completion'\n};\nconst progressSteps = [\n  'contract-received',\n  'title-processing',\n  'payment-approved',\n  'funds-disbursed',\n  'title-received',\n  'deal-complete'\n];\n\n// Add a mapping for dealType2SubType display names\nconst dealType2DisplayMap = {\n  'buy': 'Buy',\n  'sale': 'Sale',\n  'buy-sell': 'Buy/Sell',\n  'consign-a': 'Consign-A',\n  'consign-b': 'Consign-B',\n  'consign-c': 'Consign-C',\n  'consign-rdnc': 'Consign-RDNC'\n};\n\nconst DealStatusPage = () => {\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedDeal, setExpandedDeal] = useState(null);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterDealType, setFilterDealType] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [autoRefresh, setAutoRefresh] = useState(true);\n  const [lastSync, setLastSync] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchDeals();\n    \n    // Set up auto-refresh every 30 seconds if enabled\n    let interval;\n    if (autoRefresh) {\n      interval = setInterval(() => {\n        fetchDeals();\n        setLastSync(new Date());\n      }, 30000); // 30 seconds\n    }\n    \n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [autoRefresh]);\n\n  const fetchDeals = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/deals`, {\n        credentials: 'include'\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const dealsData = data.deals || data.data || [];\n        \n        // Transform backend data to match frontend format\n        const transformedDeals = dealsData.map(deal => ({\n          id: deal._id || deal.id,\n          stockNumber: deal.rpStockNumber || deal.stockNumber,\n          vin: deal.vin,\n          vehicle: `${deal.year || ''} ${deal.make || ''} ${deal.model || ''}`.trim(),\n          dealType: deal.dealType || 'wholesale',\n          currentStage: deal.currentStage || 'initial-contact',\n          seller: deal.seller?.name || 'Unknown',\n          buyerContact: deal.buyer?.name || 'Pending',\n          purchasePrice: deal.purchasePrice || 0,\n          salePrice: deal.listPrice || deal.salePrice || 0,\n          payoffBalance: deal.payoffBalance || 0,\n          createdDate: new Date(deal.createdAt || deal.createdDate).toISOString().split('T')[0],\n          lastUpdated: new Date(deal.updatedAt || deal.lastUpdated).toISOString().split('T')[0],\n          priority: deal.priority || 'medium',\n          notes: deal.notes || deal.generalNotes || '',\n          paymentMethod: deal.paymentMethod || 'Check',\n          requiresContract: true,\n          documentation: {\n            contract: { status: 'received', date: deal.createdDate },\n            title: { status: deal.titleInfo?.status === 'clean' ? 'received' : 'pending', date: deal.titleInfo?.titleReceivedDate },\n            odometer: { status: 'pending', date: null },\n            paymentApproval: { status: 'approved', date: deal.createdDate }\n          },\n          titleInfo: deal.titleInfo || {},\n          wholesalePrice: deal.wholesalePrice || null,\n          dealType2SubType: deal.dealType2SubType || deal.dealType2 || '',\n        }));\n        \n        setDeals(transformedDeals);\n      }\n    } catch (error) {\n      console.error('Error fetching deals:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStageInfo = (currentStage) => {\n    return {\n      id: currentStage,\n      label: statusDisplayMap[currentStage] || currentStage,\n      description: {\n        'contract-received': 'Deal created and initial contact made',\n        'title-processing': 'Documents being prepared and reviewed',\n        'payment-approved': 'Financial terms and approval process',\n        'funds-disbursed': 'Funds have been disbursed',\n        'title-received': 'Title has been received',\n        'deal-complete': 'Deal finalized and closed'\n      }[currentStage] || ''\n    };\n  };\n  const getStageProgress = (currentStage) => {\n    const currentIndex = progressSteps.indexOf(currentStage);\n    return currentIndex >= 0 ? Math.round((currentIndex / (progressSteps.length - 1)) * 100) : 0;\n  };\n\n  const getStatusColor = (stage) => {\n    switch (stage) {\n      case 'deal-complete':\n        return 'green';\n      case 'payment-approved':\n      case 'funds-disbursed':\n      case 'title-received':\n        return 'blue';\n      case 'title-processing':\n      case 'contract-received':\n        return 'yellow';\n      default:\n        return 'gray';\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high':\n        return 'text-red-400';\n      case 'medium':\n        return 'text-orange-400';\n      case 'low':\n        return 'text-green-400';\n      default:\n        return 'text-gray-400';\n    }\n  };\n\n  const filteredDeals = deals.filter(deal => {\n    const matchesSearch = searchTerm === '' || \n      deal.vehicle.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      deal.stockNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      deal.vin?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesStatus = filterStatus === 'all' || deal.currentStage === filterStatus;\n    const matchesType = filterDealType === 'all' || deal.dealType === filterDealType;\n    \n    return matchesSearch && matchesStatus && matchesType;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\">\n        <div className=\"flex flex-col items-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4\"></div>\n          <p className=\"text-white text-lg\">Loading deals...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Background Effects */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n      </div>\n\n      <div className=\"relative max-w-7xl mx-auto px-6 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => navigate('/')}\n                className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n              >\n                <ArrowLeft className=\"h-4 w-4\" />\n                <span>Back</span>\n              </button>\n              <div>\n                <h1 className=\"text-3xl font-bold text-white mb-2\">Sales Deal Status</h1>\n                <p className=\"text-gray-300\">Track and monitor your deals through the sales pipeline</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              {/* Auto-refresh toggle */}\n              <div className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"autoRefresh\"\n                  checked={autoRefresh}\n                  onChange={(e) => setAutoRefresh(e.target.checked)}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"autoRefresh\" className=\"text-gray-300 text-sm\">\n                  Auto-refresh\n                </label>\n              </div>\n              \n              {/* Last sync indicator */}\n              {lastSync && (\n                <div className=\"text-gray-400 text-sm\">\n                  Last sync: {lastSync.toLocaleTimeString()}\n                </div>\n              )}\n              \n              <button \n                onClick={fetchDeals}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n              >\n                <RefreshCw className=\"h-4 w-4\" />\n                <span>Refresh</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Filters */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search deals...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            \n            <select\n              value={filterDealType}\n              onChange={(e) => setFilterDealType(e.target.value)}\n              className=\"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Deal Types</option>\n              <option value=\"wholesale-d2d\">Wholesale D2D</option>\n              <option value=\"retail\">Retail</option>\n              <option value=\"retail-pp\">Retail PP</option>\n            </select>\n\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Statuses</option>\n              <option value=\"contract-received\">Initial Contact</option>\n              <option value=\"title-processing\">Documentation</option>\n              <option value=\"payment-approved\">Finance Review</option>\n              <option value=\"deal-complete\">Complete</option>\n            </select>\n\n            <div className=\"text-white text-sm flex items-center\">\n              <span className=\"text-gray-400\">Showing:</span>\n              <span className=\"ml-2 font-medium\">{filteredDeals.length} deals</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Deals Grid */}\n        <div className=\"space-y-4\">\n          {filteredDeals.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <div className=\"bg-white/5 rounded-2xl p-8 border border-white/10\">\n                <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-white text-lg font-medium mb-2\">No deals found</h3>\n                <p className=\"text-gray-400\">Try adjusting your filters or search terms.</p>\n              </div>\n            </div>\n          ) : (\n            filteredDeals.map((deal) => {\n              const stageInfo = getStageInfo(deal.currentStage);\n              const progress = getStageProgress(deal.currentStage);\n              const statusColor = getStatusColor(deal.currentStage);\n              const priorityColor = getPriorityColor(deal.priority);\n\n              return (\n                <div key={deal.id} className=\"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3\">\n                        <Car className=\"h-6 w-6 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"flex items-center space-x-3 mb-1\">\n                          <h3 className=\"text-xl font-bold text-white\">{deal.vehicle}</h3>\n                          <span className=\"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full\">\n                            {deal.dealType.toUpperCase()}\n                          </span>\n                          {/* Show Deal Type 2 if present */}\n                          {deal.dealType2SubType && deal.dealType !== 'wholesale-flip' && (\n                            <span className=\"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full\">\n                              {dealType2DisplayMap[deal.dealType2SubType] || deal.dealType2SubType}\n                            </span>\n                          )}\n                          {/* Sync status indicator */}\n                          <div className=\"flex items-center space-x-1\">\n                            <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\" title=\"In sync with finance system\"></div>\n                            <span className=\"text-green-400 text-xs\">Synced</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-4 text-gray-300 text-sm\">\n                          <span>Stock #{deal.stockNumber}</span>\n                          <span>•</span>\n                          <span>{deal.seller}</span>\n                          <span>•</span>\n                          <span>Created: {deal.createdDate}</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-3\">\n                      <button\n                        onClick={() => setExpandedDeal(expandedDeal === deal.id ? null : deal.id)}\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n                      >\n                        {expandedDeal === deal.id ? (\n                          <>\n                            <ChevronUp className=\"h-4 w-4\" />\n                            <span>Hide Details</span>\n                          </>\n                        ) : (\n                          <>\n                            <ChevronDown className=\"h-4 w-4\" />\n                            <span>View Details</span>\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Status Progress */}\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-gray-400 text-sm\">Progress</span>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`bg-${statusColor}-500/20 text-${statusColor}-400 text-xs font-medium px-2 py-1 rounded-full`}>\n                          {stageInfo.label}\n                        </span>\n                        <span className=\"text-gray-400 text-xs\">{Math.round(progress)}% Complete</span>\n                      </div>\n                    </div>\n                    <div className=\"w-full bg-gray-700 rounded-full h-2\">\n                      <div \n                        className={`bg-gradient-to-r from-${statusColor}-500 to-${statusColor}-400 h-2 rounded-full transition-all duration-500`}\n                        style={{ width: `${progress}%` }}\n                      ></div>\n                    </div>\n                  </div>\n\n                  {/* Deal Details Grid */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                    {/* Remove price cards for sales users, only show VIN */}\n                    <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-gray-400 text-sm\">VIN</span>\n                        <FileText className=\"h-4 w-4 text-blue-400\" />\n                      </div>\n                      <p className=\"text-white font-bold text-sm font-mono\">{deal.vin}</p>\n                    </div>\n                  </div>\n\n                  {/* Documentation Status */}\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-medium mb-3\">Documentation Status</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      {Object.entries(deal.documentation).map(([doc, info]) => (\n                        <div key={doc} className=\"flex items-center space-x-2\">\n                          {info.status === 'received' || info.status === 'approved' ? (\n                            <CheckCircle className=\"h-4 w-4 text-green-400\" />\n                          ) : info.status === 'pending' ? (\n                            <Clock className=\"h-4 w-4 text-orange-400\" />\n                          ) : (\n                            <XCircle className=\"h-4 w-4 text-red-400\" />\n                          )}\n                          <span className=\"text-gray-300 text-sm capitalize\">\n                            {doc.replace('_', ' ')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Expanded Details */}\n                  {expandedDeal === deal.id && (\n                    <div className=\"mt-6 pt-6 border-t border-white/10\">\n                      {/* Stage Timeline */}\n                      <div className=\"mb-6\">\n                        <h4 className=\"text-white font-medium mb-4\">Deal Progress</h4>\n                        <div className=\"relative\">\n                          <div className=\"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-600\"></div>\n                          <div className=\"space-y-4\">\n                            {progressSteps.map((stage, index) => {\n                              const stageData = getStageInfo(stage);\n                              const isCompleted = index < progressSteps.indexOf(deal.currentStage);\n                              const isCurrent = stage === deal.currentStage;\n                              \n                              return (\n                                <div key={stage} className=\"relative flex items-start space-x-4\">\n                                  <div className={`w-8 h-8 rounded-full flex items-center justify-center z-10 ${\n                                    isCompleted \n                                      ? 'bg-green-500' \n                                      : isCurrent \n                                        ? 'bg-blue-500'\n                                        : 'bg-gray-600'\n                                  }`}>\n                                    {isCompleted ? (\n                                      <CheckCircle className=\"h-4 w-4 text-white\" />\n                                    ) : isCurrent ? (\n                                      <Play className=\"h-4 w-4 text-white\" />\n                                    ) : (\n                                      <Lock className=\"h-4 w-4 text-gray-300\" />\n                                    )}\n                                  </div>\n                                  \n                                  <div className=\"flex-1 pt-1\">\n                                    <div className={`font-medium ${\n                                      isCompleted \n                                        ? 'text-green-400' \n                                        : isCurrent \n                                          ? 'text-blue-400'\n                                          : 'text-gray-400'\n                                    }`}>\n                                      {stageData.label}\n                                    </div>\n                                    <div className=\"text-sm text-gray-500 mt-1\">\n                                      {stageData.description}\n                                    </div>\n                                    {isCurrent && (\n                                      <div className=\"mt-2 text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded\">\n                                        In progress...\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Additional Details */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                          <h4 className=\"text-white font-medium mb-3\">Deal Information</h4>\n                          <div className=\"space-y-2 text-sm\">\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Deal Type:</span>\n                              <span className=\"text-white capitalize\">{deal.dealType.replace('-', ' ')}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Payment Method:</span>\n                              <span className=\"text-white\">{deal.paymentMethod}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Priority:</span>\n                              <span className={priorityColor}>{deal.priority}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Last Updated:</span>\n                              <span className=\"text-white\">{deal.lastUpdated}</span>\n                            </div>\n                            {deal.dealType !== 'wholesale-flip' && (\n                              <div className=\"flex justify-between\">\n                                <span className=\"text-gray-400\">Deal Type 2:</span>\n                                <span className=\"text-white capitalize\">{dealType2DisplayMap[deal.dealType2SubType] || deal.dealType2SubType || 'N/A'}</span>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n\n                        <div>\n                          <h4 className=\"text-white font-medium mb-3\">Contact Information</h4>\n                          <div className=\"space-y-2 text-sm\">\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Seller:</span>\n                              <span className=\"text-white\">{deal.seller}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-400\">Buyer:</span>\n                              <span className=\"text-white\">{deal.buyerContact}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Notes */}\n                  {deal.notes && (\n                    <div className=\"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3\">\n                      <div className=\"flex items-start space-x-2\">\n                        <AlertCircle className=\"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0\" />\n                        <p className=\"text-orange-300 text-sm\">{deal.notes}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DealStatusPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}