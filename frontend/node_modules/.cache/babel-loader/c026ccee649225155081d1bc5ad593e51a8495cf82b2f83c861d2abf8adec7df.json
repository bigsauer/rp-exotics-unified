{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Search,Plus,Phone,Mail,Users,ArrowLeft,Trash2}from'lucide-react';import{useNavigate}from'react-router-dom';import{useAuth}from'./AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DealerNetworkPage=()=>{var _editFormData$contact3,_editFormData$contact4;const navigate=useNavigate();const{user:currentUser}=useAuth();const permissions={admin:{canCreateDeals:true,canViewDeals:true,canEditDeals:true,canSearchDealers:true,canManageDealers:true,canAccessBackOffice:true,canViewReports:true,canViewFinancials:true,canManageUsers:true},sales:{canCreateDeals:true,canViewDeals:true,canEditDeals:true,canSearchDealers:true,canManageDealers:true,canAccessBackOffice:false,canViewReports:true,canViewFinancials:false,canManageUsers:false},finance:{canCreateDeals:false,canViewDeals:true,canEditDeals:true,canSearchDealers:true,canManageDealers:false,canAccessBackOffice:true,canViewReports:true,canViewFinancials:true,canManageUsers:false},viewer:{canCreateDeals:false,canViewDeals:true,canEditDeals:false,canSearchDealers:true,canManageDealers:false,canAccessBackOffice:false,canViewReports:true,canViewFinancials:false,canManageUsers:false}};// Get user's display name from profile or construct from firstName/lastName\nconst getUserDisplayName=()=>{var _currentUser$profile,_currentUser$email;if(!currentUser)return'Guest';if((_currentUser$profile=currentUser.profile)!==null&&_currentUser$profile!==void 0&&_currentUser$profile.displayName){return currentUser.profile.displayName;}if(currentUser.firstName&&currentUser.lastName){return`${currentUser.firstName} ${currentUser.lastName}`;}if(currentUser.firstName){return currentUser.firstName;}return((_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.split('@')[0])||'User';};const userDisplayName=getUserDisplayName();const userPermissions=permissions[currentUser===null||currentUser===void 0?void 0:currentUser.role]||permissions.viewer;const[dealers,setDealers]=useState([]);const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const[selectedFilters,setSelectedFilters]=useState({region:'all',dealerType:'all',status:'all',rating:'all'});const[viewMode,setViewMode]=useState('grid');// 'grid' or 'list'\nconst[showAddDealer,setShowAddDealer]=useState(false);const[editDealer,setEditDealer]=useState(null);const[editFormData,setEditFormData]=useState({});const[deleteConfirm,setDeleteConfirm]=useState(null);const[successMessage,setSuccessMessage]=useState('');const[addFormData,setAddFormData]=useState({dealerName:'',contactPerson:'',contact:{phone:'',email:''},licenseNumber:'',status:'Active',fullAddress:''});const[addingDealer,setAddingDealer]=useState(false);const API_BASE=process.env.REACT_APP_API_URL;// Load dealers from MongoDB\nuseEffect(()=>{const loadDealers=async()=>{setLoading(true);try{const response=await fetch(`/api/dealers`);const data=await response.json();setDealers(data.data||data.dealers||[]);setLoading(false);}catch(error){console.error('Error loading dealers:',error);setLoading(false);}};loadDealers();},[]);const handleEditDealer=async(dealerId,dealerData)=>{var _editFormData$contact,_editFormData$contact2;// Map form data to backend schema\nconst body={name:editFormData.dealerName,company:editFormData.dealerName,licenseNumber:editFormData.licenseNumber||'',contact:{person:editFormData.contactPerson||'',phone:((_editFormData$contact=editFormData.contact)===null||_editFormData$contact===void 0?void 0:_editFormData$contact.phone)||'',email:((_editFormData$contact2=editFormData.contact)===null||_editFormData$contact2===void 0?void 0:_editFormData$contact2.email)||'',address:parseAddress(editFormData.fullAddress)},status:editFormData.status||'Active'};console.log('Sending dealer update body:',body);try{const response=await fetch(`/api/dealers/${dealerId}`,{method:'PUT',headers:{'Content-Type':'application/json'},credentials:'include',// Ensure cookies/session are sent\nbody:JSON.stringify(body)});const updated=await response.json();if(updated&&updated.success&&updated.data){setDealers(prev=>prev.map(d=>d.id===dealerId?updated.data:d));setEditDealer(null);setEditFormData({});setSuccessMessage('Dealer updated successfully!');setTimeout(()=>setSuccessMessage(''),2000);console.log('Updated dealer:',updated.data);}else{setSuccessMessage('Failed to update dealer.');setTimeout(()=>setSuccessMessage(''),2000);console.error('Update response:',updated);}}catch(error){setSuccessMessage('Error updating dealer.');setTimeout(()=>setSuccessMessage(''),2000);console.error('Error updating dealer:',error);}};const openEditModal=dealer=>{var _dealer$contact,_dealer$contact2;setEditDealer(dealer);setEditFormData({dealerName:dealer.company||dealer.name||'',contactPerson:((_dealer$contact=dealer.contact)===null||_dealer$contact===void 0?void 0:_dealer$contact.person)||'',contact:dealer.contact||{},licenseNumber:dealer.licenseNumber||'',status:dealer.status||'Active',fullAddress:joinAddress((_dealer$contact2=dealer.contact)===null||_dealer$contact2===void 0?void 0:_dealer$contact2.address)});};const handleEditSubmit=e=>{e.preventDefault();if(editDealer){handleEditDealer(editDealer.id,editFormData);}};const handleDeleteDealer=async dealerId=>{try{const response=await fetch(`/api/dealers/${dealerId}`,{method:'DELETE',headers:{'Content-Type':'application/json'}});if(response.ok){setDealers(prev=>prev.filter(d=>d.id!==dealerId));setDeleteConfirm(null);}else{console.error('Error deleting dealer:',response.statusText);alert('Failed to delete dealer. Please try again.');}}catch(error){console.error('Error deleting dealer:',error);alert('Failed to delete dealer. Please try again.');}};const handleAddDealer=async e=>{var _addFormData$contact,_addFormData$contact2;e.preventDefault();setAddingDealer(true);setSuccessMessage('');// Map form data to backend schema\nconst body={name:addFormData.dealerName,company:addFormData.dealerName,licenseNumber:addFormData.licenseNumber||'',type:'Dealer',contact:{person:addFormData.contactPerson||'',phone:((_addFormData$contact=addFormData.contact)===null||_addFormData$contact===void 0?void 0:_addFormData$contact.phone)||'',email:((_addFormData$contact2=addFormData.contact)===null||_addFormData$contact2===void 0?void 0:_addFormData$contact2.email)||'',address:parseAddress(addFormData.fullAddress)},status:addFormData.status||'Active'};try{const response=await fetch(`/api/dealers`,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(body)});const result=await response.json();if(response.ok&&result.success&&result.data){setDealers(prev=>[result.data,...prev]);setShowAddDealer(false);setAddFormData({dealerName:'',contactPerson:'',contact:{phone:'',email:''},licenseNumber:'',status:'Active',fullAddress:''});setSuccessMessage('Dealer added successfully!');setTimeout(()=>setSuccessMessage(''),2000);}else{setSuccessMessage(result.error||'Failed to add dealer.');setTimeout(()=>setSuccessMessage(''),2000);}}catch(error){setSuccessMessage('Error adding dealer.');setTimeout(()=>setSuccessMessage(''),2000);}finally{setAddingDealer(false);}};const filteredDealers=dealers.filter(dealer=>{var _dealer$name,_dealer$company,_dealer$contact3,_dealer$contact3$pers,_dealer$location;const matchesSearch=(((_dealer$name=dealer.name)===null||_dealer$name===void 0?void 0:_dealer$name.toLowerCase())||'').includes(searchQuery.toLowerCase())||(((_dealer$company=dealer.company)===null||_dealer$company===void 0?void 0:_dealer$company.toLowerCase())||'').includes(searchQuery.toLowerCase())||(((_dealer$contact3=dealer.contact)===null||_dealer$contact3===void 0?void 0:(_dealer$contact3$pers=_dealer$contact3.person)===null||_dealer$contact3$pers===void 0?void 0:_dealer$contact3$pers.toLowerCase())||'').includes(searchQuery.toLowerCase());const matchesRegion=selectedFilters.region==='all'||((_dealer$location=dealer.location)===null||_dealer$location===void 0?void 0:_dealer$location.includes(selectedFilters.region));const matchesType=selectedFilters.dealerType==='all'||dealer.type===selectedFilters.dealerType;const matchesStatus=selectedFilters.status==='all'||dealer.status===selectedFilters.status;return matchesSearch&&matchesRegion&&matchesType&&matchesStatus;});const getStatusColor=status=>{switch(status){case'Active':return'bg-green-500/20 text-green-400';case'Inactive':return'bg-red-500/20 text-red-400';case'Pending':return'bg-yellow-500/20 text-yellow-400';default:return'bg-gray-500/20 text-gray-400';}};// Add a helper to join address parts into a single line\nfunction joinAddress(address){if(!address)return'';const{street,city,state,zip}=address;return[street,city,state,zip].filter(Boolean).join(', ');}// Add a helper to parse a single line address into parts\nfunction parseAddress(full){if(!full)return{street:'',city:'',state:'',zip:''};const parts=full.split(',').map(s=>s.trim());return{street:parts[0]||'',city:parts[1]||'',state:parts[2]||'',zip:parts[3]||''};}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-lg\",children:\"Loading dealer network...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-black/20 backdrop-blur-md border-b border-white/10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"mr-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"Dealer Network\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Manage your dealer contacts and relationships\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white\",children:userDisplayName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-xs\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.role)||'Guest'})]}),userPermissions.canManageDealers&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddDealer(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Dealer\"})]})]})]})})}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transition-all\",children:successMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search dealers by name, company, or contact...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedFilters.region,onChange:e=>setSelectedFilters(prev=>({...prev,region:e.target.value})),className:\"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Regions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"North\",children:\"North\"}),/*#__PURE__*/_jsx(\"option\",{value:\"South\",children:\"South\"}),/*#__PURE__*/_jsx(\"option\",{value:\"East\",children:\"East\"}),/*#__PURE__*/_jsx(\"option\",{value:\"West\",children:\"West\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedFilters.status,onChange:e=>setSelectedFilters(prev=>({...prev,status:e.target.value})),className:\"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inactive\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm\",children:\"View:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('grid'),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${viewMode==='grid'?'bg-blue-600 text-white':'bg-white/10 text-gray-300 hover:bg-white/20'}`,children:\"Grid\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('list'),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${viewMode==='list'?'bg-blue-600 text-white':'bg-white/10 text-gray-300 hover:bg-white/20'}`,children:\"List\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm\",children:[filteredDealers.length,\" of \",dealers.length,\" dealers\"]})]}),viewMode==='grid'?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredDealers.map(dealer=>{var _dealer$contact4,_dealer$contact5,_dealer$contact6;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-1\",children:dealer.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:dealer.company})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-xs font-medium px-2 py-1 rounded-full ${getStatusColor(dealer.status)}`,children:dealer.status}),userPermissions.canManageDealers&&/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDeleteConfirm(dealer),className:\"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors\",title:\"Delete dealer\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mb-4\",children:[((_dealer$contact4=dealer.contact)===null||_dealer$contact4===void 0?void 0:_dealer$contact4.person)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300 text-sm\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.person]}),((_dealer$contact5=dealer.contact)===null||_dealer$contact5===void 0?void 0:_dealer$contact5.phone)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300 text-sm\",children:[/*#__PURE__*/_jsx(Phone,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.phone]}),((_dealer$contact6=dealer.contact)===null||_dealer$contact6===void 0?void 0:_dealer$contact6.email)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300 text-sm\",children:[/*#__PURE__*/_jsx(Mail,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400 text-xs\",children:[\"Deals: \",dealer.totalDeals||0]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-semibold\",children:[dealer.totalDeals||0,\" deals\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[\"$\",(dealer.totalVolume||0).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\",children:\"View Details\"}),userPermissions.canManageDealers&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(dealer),className:\"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\",children:\"Edit\"})]})]},dealer.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredDealers.map(dealer=>{var _dealer$contact7,_dealer$contact8,_dealer$contact9;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-1\",children:dealer.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:dealer.company})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm\",children:[((_dealer$contact7=dealer.contact)===null||_dealer$contact7===void 0?void 0:_dealer$contact7.person)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.person]}),((_dealer$contact8=dealer.contact)===null||_dealer$contact8===void 0?void 0:_dealer$contact8.phone)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(Phone,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.phone]}),((_dealer$contact9=dealer.contact)===null||_dealer$contact9===void 0?void 0:_dealer$contact9.email)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(Mail,{className:\"h-4 w-4 mr-2 text-gray-400\"}),dealer.contact.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-semibold\",children:[dealer.totalDeals||0,\" deals\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[\"$\",(dealer.totalVolume||0).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-xs font-medium px-2 py-1 rounded-full ${getStatusColor(dealer.status)}`,children:dealer.status}),userPermissions.canManageDealers&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(dealer),className:\"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDeleteConfirm(dealer),className:\"bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\",children:\"Delete\"})]})]})]})},dealer.id);})}),filteredDealers.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-16 w-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-2\",children:\"No dealers found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-6\",children:\"Try adjusting your search or filters\"}),userPermissions.canManageDealers&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddDealer(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Your First Dealer\"})]})]})]}),showAddDealer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Add New Dealer\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddDealer,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-dealer-name\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Dealer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"add-dealer-name\",value:addFormData.dealerName,onChange:e=>setAddFormData(prev=>({...prev,dealerName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-contact-person\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Contact Person\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"add-contact-person\",value:addFormData.contactPerson,onChange:e=>setAddFormData(prev=>({...prev,contactPerson:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-contact-phone\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"add-contact-phone\",value:addFormData.contact.phone,onChange:e=>setAddFormData(prev=>({...prev,contact:{...prev.contact,phone:e.target.value}})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-contact-email\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"add-contact-email\",value:addFormData.contact.email,onChange:e=>setAddFormData(prev=>({...prev,contact:{...prev.contact,email:e.target.value}})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Street, City, State, Zip\",value:addFormData.fullAddress||'',onChange:e=>setAddFormData(prev=>({...prev,fullAddress:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-license-number\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Dealer License Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"add-license-number\",value:addFormData.licenseNumber||'',onChange:e=>setAddFormData(prev=>({...prev,licenseNumber:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"add-status\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"add-status\",value:addFormData.status,onChange:e=>setAddFormData(prev=>({...prev,status:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inactive\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAddDealer(false),className:\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\",disabled:addingDealer,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",disabled:addingDealer,children:addingDealer?'Saving...':'Add Dealer'})]})]})]})}),editDealer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Edit Dealer\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEditSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-dealer-name\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Dealer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"edit-dealer-name\",value:editFormData.dealerName,onChange:e=>setEditFormData(prev=>({...prev,dealerName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-contact-person\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Contact Person\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"edit-contact-person\",value:editFormData.contactPerson,onChange:e=>setEditFormData(prev=>({...prev,contactPerson:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-contact-phone\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"edit-contact-phone\",value:(_editFormData$contact3=editFormData.contact)===null||_editFormData$contact3===void 0?void 0:_editFormData$contact3.phone,onChange:e=>setEditFormData(prev=>({...prev,contact:{...prev.contact,phone:e.target.value}})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-contact-email\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"edit-contact-email\",value:(_editFormData$contact4=editFormData.contact)===null||_editFormData$contact4===void 0?void 0:_editFormData$contact4.email,onChange:e=>setEditFormData(prev=>({...prev,contact:{...prev.contact,email:e.target.value}})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Street, City, State, Zip\",value:editFormData.fullAddress||'',onChange:e=>setEditFormData(prev=>({...prev,fullAddress:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-license-number\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Dealer License Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"edit-license-number\",value:editFormData.licenseNumber||'',onChange:e=>setEditFormData(prev=>({...prev,licenseNumber:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-status\",className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"edit-status\",value:editFormData.status,onChange:e=>setEditFormData(prev=>({...prev,status:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inactive\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditDealer(null),className:\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Save Changes\"})]})]})]})}),deleteConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Delete Dealer\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 mb-6\",children:[\"Are you sure you want to delete \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:deleteConfirm.name}),\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDeleteConfirm(null),className:\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteDealer(deleteConfirm.id),className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Delete\"})]})]})})]});};export default DealerNetworkPage;","map":{"version":3,"names":["React","useState","useEffect","Search","Plus","Phone","Mail","Users","ArrowLeft","Trash2","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DealerNetworkPage","_editFormData$contact3","_editFormData$contact4","navigate","user","currentUser","permissions","admin","canCreateDeals","canViewDeals","canEditDeals","canSearchDealers","canManageDealers","canAccessBackOffice","canViewReports","canViewFinancials","canManageUsers","sales","finance","viewer","getUserDisplayName","_currentUser$profile","_currentUser$email","profile","displayName","firstName","lastName","email","split","userDisplayName","userPermissions","role","dealers","setDealers","loading","setLoading","searchQuery","setSearchQuery","selectedFilters","setSelectedFilters","region","dealerType","status","rating","viewMode","setViewMode","showAddDealer","setShowAddDealer","editDealer","setEditDealer","editFormData","setEditFormData","deleteConfirm","setDeleteConfirm","successMessage","setSuccessMessage","addFormData","setAddFormData","dealerName","contactPerson","contact","phone","licenseNumber","fullAddress","addingDealer","setAddingDealer","API_BASE","process","env","REACT_APP_API_URL","loadDealers","response","fetch","data","json","error","console","handleEditDealer","dealerId","dealerData","_editFormData$contact","_editFormData$contact2","body","name","company","person","address","parseAddress","log","method","headers","credentials","JSON","stringify","updated","success","prev","map","d","id","setTimeout","openEditModal","dealer","_dealer$contact","_dealer$contact2","joinAddress","handleEditSubmit","e","preventDefault","handleDeleteDealer","ok","filter","statusText","alert","handleAddDealer","_addFormData$contact","_addFormData$contact2","type","result","filteredDealers","_dealer$name","_dealer$company","_dealer$contact3","_dealer$contact3$pers","_dealer$location","matchesSearch","toLowerCase","includes","matchesRegion","location","matchesType","matchesStatus","getStatusColor","street","city","state","zip","Boolean","join","full","parts","s","trim","className","children","onClick","placeholder","value","onChange","target","length","_dealer$contact4","_dealer$contact5","_dealer$contact6","title","totalDeals","totalVolume","toLocaleString","_dealer$contact7","_dealer$contact8","_dealer$contact9","onSubmit","htmlFor","required","disabled"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/DealerNetworkPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Search, \n  Plus, \n  Phone, \n  Mail, \n  Users, \n  ArrowLeft, \n  Trash2\n} from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './AuthContext';\n\nconst DealerNetworkPage = () => {\n  const navigate = useNavigate();\n  const { user: currentUser } = useAuth();\n\n  const permissions = {\n    admin: {\n      canCreateDeals: true,\n      canViewDeals: true,\n      canEditDeals: true,\n      canSearchDealers: true,\n      canManageDealers: true,\n      canAccessBackOffice: true,\n      canViewReports: true,\n      canViewFinancials: true,\n      canManageUsers: true\n    },\n    sales: {\n      canCreateDeals: true,\n      canViewDeals: true,\n      canEditDeals: true,\n      canSearchDealers: true,\n      canManageDealers: true,\n      canAccessBackOffice: false,\n      canViewReports: true,\n      canViewFinancials: false,\n      canManageUsers: false\n    },\n    finance: {\n      canCreateDeals: false,\n      canViewDeals: true,\n      canEditDeals: true,\n      canSearchDealers: true,\n      canManageDealers: false,\n      canAccessBackOffice: true,\n      canViewReports: true,\n      canViewFinancials: true,\n      canManageUsers: false\n    },\n    viewer: {\n      canCreateDeals: false,\n      canViewDeals: true,\n      canEditDeals: false,\n      canSearchDealers: true,\n      canManageDealers: false,\n      canAccessBackOffice: false,\n      canViewReports: true,\n      canViewFinancials: false,\n      canManageUsers: false\n    }\n  };\n\n  // Get user's display name from profile or construct from firstName/lastName\n  const getUserDisplayName = () => {\n    if (!currentUser) return 'Guest';\n    if (currentUser.profile?.displayName) {\n      return currentUser.profile.displayName;\n    }\n    if (currentUser.firstName && currentUser.lastName) {\n      return `${currentUser.firstName} ${currentUser.lastName}`;\n    }\n    if (currentUser.firstName) {\n      return currentUser.firstName;\n    }\n    return currentUser.email?.split('@')[0] || 'User';\n  };\n\n  const userDisplayName = getUserDisplayName();\n  const userPermissions = permissions[currentUser?.role] || permissions.viewer;\n\n  const [dealers, setDealers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState({\n    region: 'all',\n    dealerType: 'all',\n    status: 'all',\n    rating: 'all'\n  });\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'list'\n  const [showAddDealer, setShowAddDealer] = useState(false);\n  const [editDealer, setEditDealer] = useState(null);\n  const [editFormData, setEditFormData] = useState({});\n  const [deleteConfirm, setDeleteConfirm] = useState(null);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [addFormData, setAddFormData] = useState({\n    dealerName: '',\n    contactPerson: '',\n    contact: { phone: '', email: '' },\n    licenseNumber: '',\n    status: 'Active',\n    fullAddress: ''\n  });\n  const [addingDealer, setAddingDealer] = useState(false);\n\n  const API_BASE = process.env.REACT_APP_API_URL;\n\n  // Load dealers from MongoDB\n  useEffect(() => {\n    const loadDealers = async () => {\n      setLoading(true);\n      try {\n        const response = await fetch(`/api/dealers`);\n        const data = await response.json();\n        setDealers(data.data || data.dealers || []);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error loading dealers:', error);\n        setLoading(false);\n      }\n    };\n    loadDealers();\n  }, []);\n\n  const handleEditDealer = async (dealerId, dealerData) => {\n    // Map form data to backend schema\n    const body = {\n      name: editFormData.dealerName,\n      company: editFormData.dealerName,\n      licenseNumber: editFormData.licenseNumber || '',\n      contact: {\n        person: editFormData.contactPerson || '',\n        phone: editFormData.contact?.phone || '',\n        email: editFormData.contact?.email || '',\n        address: parseAddress(editFormData.fullAddress)\n      },\n      status: editFormData.status || 'Active',\n    };\n    console.log('Sending dealer update body:', body);\n    try {\n      const response = await fetch(`/api/dealers/${dealerId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include', // Ensure cookies/session are sent\n        body: JSON.stringify(body),\n      });\n      const updated = await response.json();\n      if (updated && updated.success && updated.data) {\n        setDealers(prev => prev.map(d => d.id === dealerId ? updated.data : d));\n        setEditDealer(null);\n        setEditFormData({});\n        setSuccessMessage('Dealer updated successfully!');\n        setTimeout(() => setSuccessMessage(''), 2000);\n        console.log('Updated dealer:', updated.data);\n      } else {\n        setSuccessMessage('Failed to update dealer.');\n        setTimeout(() => setSuccessMessage(''), 2000);\n        console.error('Update response:', updated);\n      }\n    } catch (error) {\n      setSuccessMessage('Error updating dealer.');\n      setTimeout(() => setSuccessMessage(''), 2000);\n      console.error('Error updating dealer:', error);\n    }\n  };\n\n  const openEditModal = (dealer) => {\n    setEditDealer(dealer);\n    setEditFormData({\n      dealerName: dealer.company || dealer.name || '',\n      contactPerson: dealer.contact?.person || '',\n      contact: dealer.contact || {},\n      licenseNumber: dealer.licenseNumber || '',\n      status: dealer.status || 'Active',\n      fullAddress: joinAddress(dealer.contact?.address)\n    });\n  };\n\n  const handleEditSubmit = (e) => {\n    e.preventDefault();\n    if (editDealer) {\n      handleEditDealer(editDealer.id, editFormData);\n    }\n  };\n\n  const handleDeleteDealer = async (dealerId) => {\n    try {\n      const response = await fetch(`/api/dealers/${dealerId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      if (response.ok) {\n        setDealers(prev => prev.filter(d => d.id !== dealerId));\n        setDeleteConfirm(null);\n      } else {\n        console.error('Error deleting dealer:', response.statusText);\n        alert('Failed to delete dealer. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error deleting dealer:', error);\n      alert('Failed to delete dealer. Please try again.');\n    }\n  };\n\n  const handleAddDealer = async (e) => {\n    e.preventDefault();\n    setAddingDealer(true);\n    setSuccessMessage('');\n    // Map form data to backend schema\n    const body = {\n      name: addFormData.dealerName,\n      company: addFormData.dealerName,\n      licenseNumber: addFormData.licenseNumber || '',\n      type: 'Dealer',\n      contact: {\n        person: addFormData.contactPerson || '',\n        phone: addFormData.contact?.phone || '',\n        email: addFormData.contact?.email || '',\n        address: parseAddress(addFormData.fullAddress)\n      },\n      status: addFormData.status || 'Active',\n    };\n    try {\n      const response = await fetch(`/api/dealers`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify(body),\n      });\n      const result = await response.json();\n      if (response.ok && result.success && result.data) {\n        setDealers(prev => [result.data, ...prev]);\n        setShowAddDealer(false);\n        setAddFormData({ dealerName: '', contactPerson: '', contact: { phone: '', email: '' }, licenseNumber: '', status: 'Active', fullAddress: '' });\n        setSuccessMessage('Dealer added successfully!');\n        setTimeout(() => setSuccessMessage(''), 2000);\n      } else {\n        setSuccessMessage(result.error || 'Failed to add dealer.');\n        setTimeout(() => setSuccessMessage(''), 2000);\n      }\n    } catch (error) {\n      setSuccessMessage('Error adding dealer.');\n      setTimeout(() => setSuccessMessage(''), 2000);\n    } finally {\n      setAddingDealer(false);\n    }\n  };\n\n  const filteredDealers = dealers.filter(dealer => {\n    const matchesSearch = (dealer.name?.toLowerCase() || '').includes(searchQuery.toLowerCase()) ||\n                         (dealer.company?.toLowerCase() || '').includes(searchQuery.toLowerCase()) ||\n                         (dealer.contact?.person?.toLowerCase() || '').includes(searchQuery.toLowerCase());\n    \n    const matchesRegion = selectedFilters.region === 'all' || dealer.location?.includes(selectedFilters.region);\n    const matchesType = selectedFilters.dealerType === 'all' || dealer.type === selectedFilters.dealerType;\n    const matchesStatus = selectedFilters.status === 'all' || dealer.status === selectedFilters.status;\n\n    return matchesSearch && matchesRegion && matchesType && matchesStatus;\n  });\n\n  const getStatusColor = (status) => {\n    switch(status) {\n      case 'Active': return 'bg-green-500/20 text-green-400';\n      case 'Inactive': return 'bg-red-500/20 text-red-400';\n      case 'Pending': return 'bg-yellow-500/20 text-yellow-400';\n      default: return 'bg-gray-500/20 text-gray-400';\n    }\n  };\n\n  // Add a helper to join address parts into a single line\n  function joinAddress(address) {\n    if (!address) return '';\n    const { street, city, state, zip } = address;\n    return [street, city, state, zip].filter(Boolean).join(', ');\n  }\n  // Add a helper to parse a single line address into parts\n  function parseAddress(full) {\n    if (!full) return { street: '', city: '', state: '', zip: '' };\n    const parts = full.split(',').map(s => s.trim());\n    return {\n      street: parts[0] || '',\n      city: parts[1] || '',\n      state: parts[2] || '',\n      zip: parts[3] || ''\n    };\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n          <p className=\"text-white text-lg\">Loading dealer network...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Header */}\n      <header className=\"bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <button \n                onClick={() => navigate('/')}\n                className=\"mr-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors\"\n              >\n                <ArrowLeft className=\"h-5 w-5 text-white\" />\n              </button>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white\">Dealer Network</h1>\n                <p className=\"text-gray-300 text-sm\">Manage your dealer contacts and relationships</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-white\">{userDisplayName}</p>\n                <p className=\"text-gray-400 text-xs\">{currentUser?.role || 'Guest'}</p>\n              </div>\n              {userPermissions.canManageDealers && (\n                <button\n                  onClick={() => setShowAddDealer(true)}\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  <span>Add Dealer</span>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {successMessage && (\n        <div className=\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transition-all\">\n          {successMessage}\n        </div>\n      )}\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Search and Filters */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            {/* Search */}\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search dealers by name, company, or contact...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n\n            {/* Filters */}\n            <div className=\"flex gap-4\">\n              <select\n                value={selectedFilters.region}\n                onChange={(e) => setSelectedFilters(prev => ({ ...prev, region: e.target.value }))}\n                className=\"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Regions</option>\n                <option value=\"North\">North</option>\n                <option value=\"South\">South</option>\n                <option value=\"East\">East</option>\n                <option value=\"West\">West</option>\n              </select>\n\n              <select\n                value={selectedFilters.status}\n                onChange={(e) => setSelectedFilters(prev => ({ ...prev, status: e.target.value }))}\n                className=\"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"Active\">Active</option>\n                <option value=\"Inactive\">Inactive</option>\n                <option value=\"Pending\">Pending</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* View Mode Toggle */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-white text-sm\">View:</span>\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${\n                viewMode === 'grid' \n                  ? 'bg-blue-600 text-white' \n                  : 'bg-white/10 text-gray-300 hover:bg-white/20'\n              }`}\n            >\n              Grid\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${\n                viewMode === 'list' \n                  ? 'bg-blue-600 text-white' \n                  : 'bg-white/10 text-gray-300 hover:bg-white/20'\n              }`}\n            >\n              List\n            </button>\n          </div>\n          <div className=\"text-gray-400 text-sm\">\n            {filteredDealers.length} of {dealers.length} dealers\n          </div>\n        </div>\n\n        {/* Dealers Grid/List */}\n        {viewMode === 'grid' ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {filteredDealers.map((dealer) => (\n              <div key={dealer.id} className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-bold text-white mb-1\">{dealer.name}</h3>\n                    <p className=\"text-gray-400 text-sm\">{dealer.company}</p>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`text-xs font-medium px-2 py-1 rounded-full ${getStatusColor(dealer.status)}`}>\n                      {dealer.status}\n                    </span>\n                    {userPermissions.canManageDealers && (\n                      <div className=\"relative\">\n                        <button \n                          onClick={() => setDeleteConfirm(dealer)}\n                          className=\"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors\"\n                          title=\"Delete dealer\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"space-y-3 mb-4\">\n                  {dealer.contact?.person && (\n                    <div className=\"flex items-center text-gray-300 text-sm\">\n                      <Users className=\"h-4 w-4 mr-2 text-gray-400\" />\n                      {dealer.contact.person}\n                    </div>\n                  )}\n                  {dealer.contact?.phone && (\n                    <div className=\"flex items-center text-gray-300 text-sm\">\n                      <Phone className=\"h-4 w-4 mr-2 text-gray-400\" />\n                      {dealer.contact.phone}\n                    </div>\n                  )}\n                  {dealer.contact?.email && (\n                    <div className=\"flex items-center text-gray-300 text-sm\">\n                      <Mail className=\"h-4 w-4 mr-2 text-gray-400\" />\n                      {dealer.contact.email}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center\">\n                    <span className=\"text-gray-400 text-xs\">Deals: {dealer.totalDeals || 0}</span>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-white font-semibold\">{dealer.totalDeals || 0} deals</p>\n                    <p className=\"text-gray-400 text-xs\">${(dealer.totalVolume || 0).toLocaleString()}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex space-x-2\">\n                  <button className=\"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\">\n                    View Details\n                  </button>\n                  {userPermissions.canManageDealers && (\n                    <button \n                      onClick={() => openEditModal(dealer)}\n                      className=\"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\"\n                    >\n                      Edit\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {filteredDealers.map((dealer) => (\n              <div key={dealer.id} className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-6\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-lg font-bold text-white mb-1\">{dealer.name}</h3>\n                      <p className=\"text-gray-400 text-sm\">{dealer.company}</p>\n                    </div>\n                    <div className=\"flex items-center space-x-4 text-sm\">\n                      {dealer.contact?.person && (\n                        <div className=\"flex items-center text-gray-300\">\n                          <Users className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          {dealer.contact.person}\n                        </div>\n                      )}\n                      {dealer.contact?.phone && (\n                        <div className=\"flex items-center text-gray-300\">\n                          <Phone className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          {dealer.contact.phone}\n                        </div>\n                      )}\n                      {dealer.contact?.email && (\n                        <div className=\"flex items-center text-gray-300\">\n                          <Mail className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          {dealer.contact.email}\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-white font-semibold\">{dealer.totalDeals || 0} deals</p>\n                      <p className=\"text-gray-400 text-xs\">${(dealer.totalVolume || 0).toLocaleString()}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`text-xs font-medium px-2 py-1 rounded-full ${getStatusColor(dealer.status)}`}>\n                      {dealer.status}\n                    </span>\n                    {userPermissions.canManageDealers && (\n                      <>\n                        <button \n                          onClick={() => openEditModal(dealer)}\n                          className=\"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\"\n                        >\n                          Edit\n                        </button>\n                        <button \n                          onClick={() => setDeleteConfirm(dealer)}\n                          className=\"bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors\"\n                        >\n                          Delete\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Empty State */}\n        {filteredDealers.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Users className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-bold text-white mb-2\">No dealers found</h3>\n            <p className=\"text-gray-400 mb-6\">Try adjusting your search or filters</p>\n            {userPermissions.canManageDealers && (\n              <button\n                onClick={() => setShowAddDealer(true)}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-colors\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>Add Your First Dealer</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Dealer Modal would go here */}\n      {/* For now, we'll just show a placeholder */}\n      {showAddDealer && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-xl p-6 w-full max-w-md\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">Add New Dealer</h3>\n            <form onSubmit={handleAddDealer} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"add-dealer-name\" className=\"block text-sm font-medium text-gray-300 mb-1\">Dealer Name</label>\n                <input\n                  type=\"text\"\n                  id=\"add-dealer-name\"\n                  value={addFormData.dealerName}\n                  onChange={e => setAddFormData(prev => ({ ...prev, dealerName: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  required\n                />\n              </div>\n              <div>\n                <label htmlFor=\"add-contact-person\" className=\"block text-sm font-medium text-gray-300 mb-1\">Contact Person</label>\n                <input\n                  type=\"text\"\n                  id=\"add-contact-person\"\n                  value={addFormData.contactPerson}\n                  onChange={e => setAddFormData(prev => ({ ...prev, contactPerson: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"add-contact-phone\" className=\"block text-sm font-medium text-gray-300 mb-1\">Phone</label>\n                <input\n                  type=\"text\"\n                  id=\"add-contact-phone\"\n                  value={addFormData.contact.phone}\n                  onChange={e => setAddFormData(prev => ({ ...prev, contact: { ...prev.contact, phone: e.target.value } }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"add-contact-email\" className=\"block text-sm font-medium text-gray-300 mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"add-contact-email\"\n                  value={addFormData.contact.email}\n                  onChange={e => setAddFormData(prev => ({ ...prev, contact: { ...prev.contact, email: e.target.value } }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Address</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Street, City, State, Zip\"\n                  value={addFormData.fullAddress || ''}\n                  onChange={e => setAddFormData(prev => ({ ...prev, fullAddress: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"add-license-number\" className=\"block text-sm font-medium text-gray-300 mb-1\">Dealer License Number</label>\n                <input\n                  type=\"text\"\n                  id=\"add-license-number\"\n                  value={addFormData.licenseNumber || ''}\n                  onChange={e => setAddFormData(prev => ({ ...prev, licenseNumber: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"add-status\" className=\"block text-sm font-medium text-gray-300 mb-1\">Status</label>\n                <select\n                  id=\"add-status\"\n                  value={addFormData.status}\n                  onChange={e => setAddFormData(prev => ({ ...prev, status: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"Active\">Active</option>\n                  <option value=\"Inactive\">Inactive</option>\n                  <option value=\"Pending\">Pending</option>\n                </select>\n              </div>\n              <div className=\"flex justify-end space-x-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddDealer(false)}\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\"\n                  disabled={addingDealer}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\n                  disabled={addingDealer}\n                >\n                  {addingDealer ? 'Saving...' : 'Add Dealer'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {editDealer && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-xl p-6 w-full max-w-md\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">Edit Dealer</h3>\n            <form onSubmit={handleEditSubmit} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"edit-dealer-name\" className=\"block text-sm font-medium text-gray-300 mb-1\">Dealer Name</label>\n                <input\n                  type=\"text\"\n                  id=\"edit-dealer-name\"\n                  value={editFormData.dealerName}\n                  onChange={e => setEditFormData(prev => ({ ...prev, dealerName: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"edit-contact-person\" className=\"block text-sm font-medium text-gray-300 mb-1\">Contact Person</label>\n                <input\n                  type=\"text\"\n                  id=\"edit-contact-person\"\n                  value={editFormData.contactPerson}\n                  onChange={e => setEditFormData(prev => ({ ...prev, contactPerson: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"edit-contact-phone\" className=\"block text-sm font-medium text-gray-300 mb-1\">Phone</label>\n                <input\n                  type=\"text\"\n                  id=\"edit-contact-phone\"\n                  value={editFormData.contact?.phone}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, contact: { ...prev.contact, phone: e.target.value } }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"edit-contact-email\" className=\"block text-sm font-medium text-gray-300 mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"edit-contact-email\"\n                  value={editFormData.contact?.email}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, contact: { ...prev.contact, email: e.target.value } }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              {/* Address Fields */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Address</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Street, City, State, Zip\"\n                  value={editFormData.fullAddress || ''}\n                  onChange={e => setEditFormData(prev => ({ ...prev, fullAddress: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              {/* License Number Field */}\n              <div>\n                <label htmlFor=\"edit-license-number\" className=\"block text-sm font-medium text-gray-300 mb-1\">Dealer License Number</label>\n                <input\n                  type=\"text\"\n                  id=\"edit-license-number\"\n                  value={editFormData.licenseNumber || ''}\n                  onChange={e => setEditFormData(prev => ({ ...prev, licenseNumber: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label htmlFor=\"edit-status\" className=\"block text-sm font-medium text-gray-300 mb-1\">Status</label>\n                <select\n                  id=\"edit-status\"\n                  value={editFormData.status}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, status: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"Active\">Active</option>\n                  <option value=\"Inactive\">Inactive</option>\n                  <option value=\"Pending\">Pending</option>\n                </select>\n              </div>\n              <div className=\"flex justify-end space-x-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setEditDealer(null)}\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\n                >\n                  Save Changes\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deleteConfirm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-xl p-6 w-full max-w-md\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">Delete Dealer</h3>\n            <p className=\"text-gray-400 mb-6\">\n              Are you sure you want to delete <span className=\"text-white font-semibold\">{deleteConfirm.name}</span>? \n              This action cannot be undone.\n            </p>\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setDeleteConfirm(null)}\n                className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => handleDeleteDealer(deleteConfirm.id)}\n                className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DealerNetworkPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}