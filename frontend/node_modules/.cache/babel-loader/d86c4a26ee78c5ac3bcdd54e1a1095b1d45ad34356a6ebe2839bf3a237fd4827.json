{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'./AuthContext';import{Users,UserPlus,Edit,Trash2,Search,Filter,MoreVertical,Eye,EyeOff,Shield,ShieldCheck,ShieldX,Mail,Phone,Calendar,CheckCircle,XCircle,AlertCircle,Plus,Save,X,RefreshCw,Download,Upload,ArrowLeft}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserManagementPage=()=>{const{user,token,getAuthHeaders,loading:authLoading}=useAuth();const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[roleFilter,setRoleFilter]=useState('all');const[statusFilter,setStatusFilter]=useState('all');const[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[selectedUser,setSelectedUser]=useState(null);const[editingUser,setEditingUser]=useState(null);const[saving,setSaving]=useState(false);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);// Form states\nconst[newUser,setNewUser]=useState({firstName:'',lastName:'',email:'',username:'',role:'sales',department:'Sales',phone:'',isActive:true,permissions:{deals:{create:true,read:true,update:true,delete:false,viewFinancials:false},dealers:{create:true,read:true,update:true,delete:false},backoffice:{access:false},reports:{access:true,viewFinancials:false},users:{manage:false},system:{configure:false}}});const API_BASE=process.env.REACT_APP_API_BASE||'http://localhost:5001';// Fetch users\nconst fetchUsers=async()=>{try{setLoading(true);setError(null);if(!token){throw new Error('No authentication token available');}console.log('[USER MANAGEMENT] Current user:',user);console.log('[USER MANAGEMENT] User role:',user===null||user===void 0?void 0:user.role);console.log('[USER MANAGEMENT] Token available:',!!token);console.log('[USER MANAGEMENT] Token preview:',token?`${token.substring(0,20)}...`:'None');console.log('[USER MANAGEMENT] Fetching users from:',`${API_BASE}/api/users`);const headers={...getAuthHeaders(),'Content-Type':'application/json'};console.log('[USER MANAGEMENT] Request headers:',headers);const response=await fetch(`/api/users`,{headers,credentials:'include'});console.log('[USER MANAGEMENT] Response status:',response.status);console.log('[USER MANAGEMENT] Response headers:',Object.fromEntries(response.headers.entries()));if(!response.ok){const errorData=await response.json().catch(()=>({}));console.error('[USER MANAGEMENT] Error response:',errorData);throw new Error(errorData.error||`HTTP ${response.status}: Failed to fetch users`);}const data=await response.json();console.log('[USER MANAGEMENT] Users data:',data);console.log('[USER MANAGEMENT] Number of users received:',data.length);setUsers(data);}catch(error){console.error('[USER MANAGEMENT] Error fetching users:',error);setError(error.message||'Failed to load users');}finally{setLoading(false);}};useEffect(()=>{if(authLoading){return;// Wait for auth to load\n}if(!user){setError('Please log in to access user management');setLoading(false);return;}if(user.role==='admin'){fetchUsers();}else{setError('Admin access required');setLoading(false);}},[user,authLoading]);// Create new user\nconst handleCreateUser=async()=>{try{setSaving(true);setError(null);const response=await fetch(`/api/users`,{method:'POST',headers:getAuthHeaders(),body:JSON.stringify(newUser)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to create user');}setSuccess('User created successfully');setShowCreateModal(false);setNewUser({firstName:'',lastName:'',email:'',username:'',role:'sales',department:'Sales',phone:'',isActive:true,permissions:{deals:{create:true,read:true,update:true,delete:false,viewFinancials:false},dealers:{create:true,read:true,update:true,delete:false},backoffice:{access:false},reports:{access:true,viewFinancials:false},users:{manage:false},system:{configure:false}}});fetchUsers();}catch(error){console.error('Error creating user:',error);setError(error.message);}finally{setSaving(false);}};// Update user\nconst handleUpdateUser=async()=>{try{setSaving(true);setError(null);const response=await fetch(`/api/users/${editingUser._id}`,{method:'PUT',headers:getAuthHeaders(),body:JSON.stringify(editingUser)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to update user');}setSuccess('User updated successfully');setShowEditModal(false);setEditingUser(null);fetchUsers();}catch(error){console.error('Error updating user:',error);setError(error.message);}finally{setSaving(false);}};// Delete user\nconst handleDeleteUser=async userId=>{if(!window.confirm('Are you sure you want to delete this user? This action cannot be undone.')){return;}try{const response=await fetch(`/api/users/${userId}`,{method:'DELETE',headers:getAuthHeaders()});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to delete user');}setSuccess('User deleted successfully');fetchUsers();}catch(error){console.error('Error deleting user:',error);setError(error.message);}};// Toggle user status\nconst handleToggleStatus=async user=>{try{const response=await fetch(`/api/users/${user._id}`,{method:'PUT',headers:getAuthHeaders(),body:JSON.stringify({isActive:!user.isActive})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to update user status');}setSuccess(`User ${user.isActive?'deactivated':'activated'} successfully`);fetchUsers();}catch(error){console.error('Error updating user status:',error);setError(error.message);}};// Filter users\nconst filteredUsers=users.filter(user=>{var _user$firstName,_user$lastName,_user$email,_user$username;const matchesSearch=((_user$firstName=user.firstName)===null||_user$firstName===void 0?void 0:_user$firstName.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$lastName=user.lastName)===null||_user$lastName===void 0?void 0:_user$lastName.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.toLowerCase().includes(searchTerm.toLowerCase()));const matchesRole=roleFilter==='all'||user.role===roleFilter;const matchesStatus=statusFilter==='all'||statusFilter==='active'&&user.isActive||statusFilter==='inactive'&&!user.isActive;return matchesSearch&&matchesRole&&matchesStatus;});// Get role permissions\nconst getRolePermissions=role=>{const permissions={admin:{deals:{create:true,read:true,update:true,delete:true,viewFinancials:true},dealers:{create:true,read:true,update:true,delete:true},backoffice:{access:true},reports:{access:true,viewFinancials:true},users:{manage:true},system:{configure:true}},sales:{deals:{create:true,read:true,update:true,delete:false,viewFinancials:false},dealers:{create:true,read:true,update:true,delete:false},backoffice:{access:false},reports:{access:true,viewFinancials:false},users:{manage:false},system:{configure:false}},finance:{deals:{create:false,read:true,update:true,delete:false,viewFinancials:true},dealers:{create:false,read:true,update:false,delete:false},backoffice:{access:true},reports:{access:true,viewFinancials:true},users:{manage:false},system:{configure:false}}};return permissions[role]||permissions.sales;};// Update permissions when role changes\nconst handleRoleChange=role=>{const permissions=getRolePermissions(role);if(showCreateModal){setNewUser(prev=>({...prev,role,permissions}));}else if(editingUser){setEditingUser(prev=>({...prev,role,permissions}));}};const getRoleBadge=role=>{const badges={admin:'bg-red-100 text-red-800 border-red-200',sales:'bg-blue-100 text-blue-800 border-blue-200',finance:'bg-green-100 text-green-800 border-green-200'};return badges[role]||'bg-gray-100 text-gray-800 border-gray-200';};const getStatusIcon=isActive=>{return isActive?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500\"}):/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4 text-red-500\"});};// Show loading while auth is loading\nif(authLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading authentication...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"})]}),/*#__PURE__*/_jsx(\"header\",{className:\"relative bg-black/20 backdrop-blur-md border-b border-white/10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-white\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Manage system users and permissions\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchUsers(),disabled:loading,className:\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:`h-4 w-4 mr-2 ${loading?'animate-spin':''}`}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-4 w-4 mr-2\"}),\"Add User\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-7xl mx-auto px-6 py-8\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400 mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"ml-auto text-red-400 hover:text-red-300\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-400 mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400\",children:success}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSuccess(null),className:\"ml-auto text-green-400 hover:text-green-300\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:roleFilter,onChange:e=>setRoleFilter(e.target.value),className:\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"finance\",children:\"Finance\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end text-gray-300 text-sm\",children:[filteredUsers.length,\" of \",users.length,\" users\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading users...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-white/5 border-b border-white/10\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-white/10\",children:filteredUsers.map(user=>{var _user$firstName2,_user$lastName2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-white/5 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium text-sm\",children:[(_user$firstName2=user.firstName)===null||_user$firstName2===void 0?void 0:_user$firstName2[0],(_user$lastName2=user.lastName)===null||_user$lastName2===void 0?void 0:_user$lastName2[0]]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-white\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:user.email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getRoleBadge(user.role)}`,children:user.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(user.isActive),/*#__PURE__*/_jsx(\"span\",{className:`ml-2 text-sm ${user.isActive?'text-green-400':'text-red-400'}`,children:user.isActive?'Active':'Inactive'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\",children:user.lastLogin?new Date(user.lastLogin).toLocaleDateString():'Never'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\",children:user.createdAt?new Date(user.createdAt).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus(user),className:`p-2 rounded-lg transition-colors ${user.isActive?'text-red-400 hover:text-red-300 hover:bg-red-500/10':'text-green-400 hover:text-green-300 hover:bg-green-500/10'}`,title:user.isActive?'Deactivate':'Activate',children:user.isActive?/*#__PURE__*/_jsx(ShieldX,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ShieldCheck,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingUser(user);setShowEditModal(true);},className:\"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteUser(user._id),className:\"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})})]},user._id);})})]}),filteredUsers.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No users found\"})]})]})})]}),showCreateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Create New User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(false),className:\"text-gray-400 hover:text-white\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.firstName,onChange:e=>setNewUser(prev=>({...prev,firstName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.lastName,onChange:e=>setNewUser(prev=>({...prev,lastName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newUser.email,onChange:e=>setNewUser(prev=>({...prev,email:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.username,onChange:e=>setNewUser(prev=>({...prev,username:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:newUser.role,onChange:e=>handleRoleChange(e.target.value),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"finance\",children:\"Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:newUser.phone,onChange:e=>setNewUser(prev=>({...prev,phone:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"isActive\",checked:newUser.isActive,onChange:e=>setNewUser(prev=>({...prev,isActive:e.target.checked})),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"isActive\",className:\"ml-2 block text-sm text-gray-300\",children:\"Active User\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(false),className:\"px-4 py-2 text-gray-400 hover:text-white transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreateUser,disabled:saving||!newUser.firstName||!newUser.lastName||!newUser.email,className:\"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50\",children:[saving?/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),\"Create User\"]})]})]})}),showEditModal&&editingUser&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowEditModal(false);setEditingUser(null);},className:\"text-gray-400 hover:text-white\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingUser.firstName||'',onChange:e=>setEditingUser(prev=>({...prev,firstName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingUser.lastName||'',onChange:e=>setEditingUser(prev=>({...prev,lastName:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:editingUser.email||'',onChange:e=>setEditingUser(prev=>({...prev,email:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingUser.role||'sales',onChange:e=>handleRoleChange(e.target.value),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"finance\",children:\"Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editingUser.phone||'',onChange:e=>setEditingUser(prev=>({...prev,phone:e.target.value})),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"editIsActive\",checked:editingUser.isActive,onChange:e=>setEditingUser(prev=>({...prev,isActive:e.target.checked})),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"editIsActive\",className:\"ml-2 block text-sm text-gray-300\",children:\"Active User\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowEditModal(false);setEditingUser(null);},className:\"px-4 py-2 text-gray-400 hover:text-white transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleUpdateUser,disabled:saving||!editingUser.firstName||!editingUser.lastName||!editingUser.email,className:\"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50\",children:[saving?/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),\"Update User\"]})]})]})})]});};export default UserManagementPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Users","UserPlus","Edit","Trash2","Search","Filter","MoreVertical","Eye","EyeOff","Shield","ShieldCheck","ShieldX","Mail","Phone","Calendar","CheckCircle","XCircle","AlertCircle","Plus","Save","X","RefreshCw","Download","Upload","ArrowLeft","jsx","_jsx","jsxs","_jsxs","UserManagementPage","user","token","getAuthHeaders","loading","authLoading","users","setUsers","setLoading","searchTerm","setSearchTerm","roleFilter","setRoleFilter","statusFilter","setStatusFilter","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","selectedUser","setSelectedUser","editingUser","setEditingUser","saving","setSaving","error","setError","success","setSuccess","newUser","setNewUser","firstName","lastName","email","username","role","department","phone","isActive","permissions","deals","create","read","update","delete","viewFinancials","dealers","backoffice","access","reports","manage","system","configure","API_BASE","process","env","REACT_APP_API_BASE","fetchUsers","Error","console","log","substring","headers","response","fetch","credentials","status","Object","fromEntries","entries","ok","errorData","json","catch","data","length","message","handleCreateUser","method","body","JSON","stringify","handleUpdateUser","_id","handleDeleteUser","userId","window","confirm","handleToggleStatus","filteredUsers","filter","_user$firstName","_user$lastName","_user$email","_user$username","matchesSearch","toLowerCase","includes","matchesRole","matchesStatus","getRolePermissions","admin","sales","finance","handleRoleChange","prev","getRoleBadge","badges","getStatusIcon","className","children","onClick","history","back","disabled","type","placeholder","value","onChange","e","target","map","_user$firstName2","_user$lastName2","lastLogin","Date","toLocaleDateString","createdAt","title","id","checked","htmlFor"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/UserManagementPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from './AuthContext';\nimport { \n  Users, \n  UserPlus, \n  Edit, \n  Trash2, \n  Search, \n  Filter, \n  MoreVertical, \n  Eye, \n  EyeOff,\n  Shield,\n  ShieldCheck,\n  ShieldX,\n  Mail,\n  Phone,\n  Calendar,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  Plus,\n  Save,\n  X,\n  RefreshCw,\n  Download,\n  Upload,\n  ArrowLeft\n} from 'lucide-react';\n\nconst UserManagementPage = () => {\n  const { user, token, getAuthHeaders, loading: authLoading } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [roleFilter, setRoleFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [editingUser, setEditingUser] = useState(null);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Form states\n  const [newUser, setNewUser] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    username: '',\n    role: 'sales',\n    department: 'Sales',\n    phone: '',\n    isActive: true,\n    permissions: {\n      deals: { create: true, read: true, update: true, delete: false, viewFinancials: false },\n      dealers: { create: true, read: true, update: true, delete: false },\n      backoffice: { access: false },\n      reports: { access: true, viewFinancials: false },\n      users: { manage: false },\n      system: { configure: false }\n    }\n  });\n\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5001';\n\n  // Fetch users\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      if (!token) {\n        throw new Error('No authentication token available');\n      }\n      \n      console.log('[USER MANAGEMENT] Current user:', user);\n      console.log('[USER MANAGEMENT] User role:', user?.role);\n      console.log('[USER MANAGEMENT] Token available:', !!token);\n      console.log('[USER MANAGEMENT] Token preview:', token ? `${token.substring(0, 20)}...` : 'None');\n      console.log('[USER MANAGEMENT] Fetching users from:', `${API_BASE}/api/users`);\n      \n      const headers = {\n        ...getAuthHeaders(),\n        'Content-Type': 'application/json'\n      };\n      \n      console.log('[USER MANAGEMENT] Request headers:', headers);\n      \n      const response = await fetch(`/api/users`, {\n        headers,\n        credentials: 'include'\n      });\n      \n      console.log('[USER MANAGEMENT] Response status:', response.status);\n      console.log('[USER MANAGEMENT] Response headers:', Object.fromEntries(response.headers.entries()));\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('[USER MANAGEMENT] Error response:', errorData);\n        throw new Error(errorData.error || `HTTP ${response.status}: Failed to fetch users`);\n      }\n      \n      const data = await response.json();\n      console.log('[USER MANAGEMENT] Users data:', data);\n      console.log('[USER MANAGEMENT] Number of users received:', data.length);\n      setUsers(data);\n    } catch (error) {\n      console.error('[USER MANAGEMENT] Error fetching users:', error);\n      setError(error.message || 'Failed to load users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (authLoading) {\n      return; // Wait for auth to load\n    }\n    \n    if (!user) {\n      setError('Please log in to access user management');\n      setLoading(false);\n      return;\n    }\n    \n    if (user.role === 'admin') {\n      fetchUsers();\n    } else {\n      setError('Admin access required');\n      setLoading(false);\n    }\n  }, [user, authLoading]);\n\n  // Create new user\n  const handleCreateUser = async () => {\n    try {\n      setSaving(true);\n      setError(null);\n      \n      const response = await fetch(`/api/users`, {\n        method: 'POST',\n        headers: getAuthHeaders(),\n        body: JSON.stringify(newUser)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to create user');\n      }\n      \n      setSuccess('User created successfully');\n      setShowCreateModal(false);\n      setNewUser({\n        firstName: '',\n        lastName: '',\n        email: '',\n        username: '',\n        role: 'sales',\n        department: 'Sales',\n        phone: '',\n        isActive: true,\n        permissions: {\n          deals: { create: true, read: true, update: true, delete: false, viewFinancials: false },\n          dealers: { create: true, read: true, update: true, delete: false },\n          backoffice: { access: false },\n          reports: { access: true, viewFinancials: false },\n          users: { manage: false },\n          system: { configure: false }\n        }\n      });\n      fetchUsers();\n    } catch (error) {\n      console.error('Error creating user:', error);\n      setError(error.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Update user\n  const handleUpdateUser = async () => {\n    try {\n      setSaving(true);\n      setError(null);\n      \n      const response = await fetch(`/api/users/${editingUser._id}`, {\n        method: 'PUT',\n        headers: getAuthHeaders(),\n        body: JSON.stringify(editingUser)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to update user');\n      }\n      \n      setSuccess('User updated successfully');\n      setShowEditModal(false);\n      setEditingUser(null);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error updating user:', error);\n      setError(error.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Delete user\n  const handleDeleteUser = async (userId) => {\n    if (!window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      const response = await fetch(`/api/users/${userId}`, {\n        method: 'DELETE',\n        headers: getAuthHeaders()\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to delete user');\n      }\n      \n      setSuccess('User deleted successfully');\n      fetchUsers();\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      setError(error.message);\n    }\n  };\n\n  // Toggle user status\n  const handleToggleStatus = async (user) => {\n    try {\n      const response = await fetch(`/api/users/${user._id}`, {\n        method: 'PUT',\n        headers: getAuthHeaders(),\n        body: JSON.stringify({\n          isActive: !user.isActive\n        })\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to update user status');\n      }\n      \n      setSuccess(`User ${user.isActive ? 'deactivated' : 'activated'} successfully`);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error updating user status:', error);\n      setError(error.message);\n    }\n  };\n\n  // Filter users\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = \n      user.firstName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.lastName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.username?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = roleFilter === 'all' || user.role === roleFilter;\n    const matchesStatus = statusFilter === 'all' || \n      (statusFilter === 'active' && user.isActive) ||\n      (statusFilter === 'inactive' && !user.isActive);\n    \n    return matchesSearch && matchesRole && matchesStatus;\n  });\n\n  // Get role permissions\n  const getRolePermissions = (role) => {\n    const permissions = {\n      admin: { \n        deals: { create: true, read: true, update: true, delete: true, viewFinancials: true },\n        dealers: { create: true, read: true, update: true, delete: true },\n        backoffice: { access: true },\n        reports: { access: true, viewFinancials: true },\n        users: { manage: true },\n        system: { configure: true }\n      },\n      sales: { \n        deals: { create: true, read: true, update: true, delete: false, viewFinancials: false },\n        dealers: { create: true, read: true, update: true, delete: false },\n        backoffice: { access: false },\n        reports: { access: true, viewFinancials: false },\n        users: { manage: false },\n        system: { configure: false }\n      },\n      finance: { \n        deals: { create: false, read: true, update: true, delete: false, viewFinancials: true },\n        dealers: { create: false, read: true, update: false, delete: false },\n        backoffice: { access: true },\n        reports: { access: true, viewFinancials: true },\n        users: { manage: false },\n        system: { configure: false }\n      }\n    };\n    return permissions[role] || permissions.sales;\n  };\n\n  // Update permissions when role changes\n  const handleRoleChange = (role) => {\n    const permissions = getRolePermissions(role);\n    if (showCreateModal) {\n      setNewUser(prev => ({ ...prev, role, permissions }));\n    } else if (editingUser) {\n      setEditingUser(prev => ({ ...prev, role, permissions }));\n    }\n  };\n\n  const getRoleBadge = (role) => {\n    const badges = {\n      admin: 'bg-red-100 text-red-800 border-red-200',\n      sales: 'bg-blue-100 text-blue-800 border-blue-200',\n      finance: 'bg-green-100 text-green-800 border-green-200'\n    };\n    return badges[role] || 'bg-gray-100 text-gray-800 border-gray-200';\n  };\n\n  const getStatusIcon = (isActive) => {\n    return isActive ? (\n      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n    ) : (\n      <XCircle className=\"h-4 w-4 text-red-500\" />\n    );\n  };\n\n  // Show loading while auth is loading\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4\" />\n          <p className=\"text-gray-400\">Loading authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n      </div>\n\n      {/* Header */}\n      <header className=\"relative bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <button \n                onClick={() => window.history.back()}\n                className=\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\"\n              >\n                <ArrowLeft className=\"h-5 w-5 text-white\" />\n              </button>\n              <div className=\"flex items-center\">\n                <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\">\n                  <Shield className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white\">User Management</h1>\n                  <p className=\"text-gray-300 text-sm\">Manage system users and permissions</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => fetchUsers()}\n                disabled={loading}\n                className=\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\"\n              >\n                <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n                Refresh\n              </button>\n              \n              <button\n                onClick={() => setShowCreateModal(true)}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors\"\n              >\n                <UserPlus className=\"h-4 w-4 mr-2\" />\n                Add User\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"relative max-w-7xl mx-auto px-6 py-8\">\n        {/* Alerts */}\n        {error && (\n          <div className=\"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-center\">\n            <AlertCircle className=\"h-5 w-5 text-red-400 mr-3\" />\n            <span className=\"text-red-400\">{error}</span>\n            <button\n              onClick={() => setError(null)}\n              className=\"ml-auto text-red-400 hover:text-red-300\"\n            >\n              <X className=\"h-4 w-4\" />\n            </button>\n          </div>\n        )}\n\n        {success && (\n          <div className=\"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center\">\n            <CheckCircle className=\"h-5 w-5 text-green-400 mr-3\" />\n            <span className=\"text-green-400\">{success}</span>\n            <button\n              onClick={() => setSuccess(null)}\n              className=\"ml-auto text-green-400 hover:text-green-300\"\n            >\n              <X className=\"h-4 w-4\" />\n            </button>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search users...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n\n            {/* Role Filter */}\n            <select\n              value={roleFilter}\n              onChange={(e) => setRoleFilter(e.target.value)}\n              className=\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Roles</option>\n              <option value=\"admin\">Admin</option>\n              <option value=\"sales\">Sales</option>\n              <option value=\"finance\">Finance</option>\n            </select>\n\n            {/* Status Filter */}\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-end text-gray-300 text-sm\">\n              {filteredUsers.length} of {users.length} users\n            </div>\n          </div>\n        </div>\n\n        {/* Users Table */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden\">\n          {loading ? (\n            <div className=\"p-8 text-center\">\n              <RefreshCw className=\"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4\" />\n              <p className=\"text-gray-400\">Loading users...</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-white/5 border-b border-white/10\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      User\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Role\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Status\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Last Login\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Created\n                    </th>\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-white/10\">\n                  {filteredUsers.map((user) => (\n                    <tr key={user._id} className=\"hover:bg-white/5 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-10 w-10\">\n                            <div className=\"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center\">\n                              <span className=\"text-white font-medium text-sm\">\n                                {user.firstName?.[0]}{user.lastName?.[0]}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-white\">\n                              {user.firstName} {user.lastName}\n                            </div>\n                            <div className=\"text-sm text-gray-400\">\n                              {user.email}\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getRoleBadge(user.role)}`}>\n                          {user.role}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          {getStatusIcon(user.isActive)}\n                          <span className={`ml-2 text-sm ${user.isActive ? 'text-green-400' : 'text-red-400'}`}>\n                            {user.isActive ? 'Active' : 'Inactive'}\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\">\n                        {user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : 'Never'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\">\n                        {user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center justify-end space-x-2\">\n                          <button\n                            onClick={() => handleToggleStatus(user)}\n                            className={`p-2 rounded-lg transition-colors ${\n                              user.isActive \n                                ? 'text-red-400 hover:text-red-300 hover:bg-red-500/10' \n                                : 'text-green-400 hover:text-green-300 hover:bg-green-500/10'\n                            }`}\n                            title={user.isActive ? 'Deactivate' : 'Activate'}\n                          >\n                            {user.isActive ? <ShieldX className=\"h-4 w-4\" /> : <ShieldCheck className=\"h-4 w-4\" />}\n                          </button>\n                          \n                          <button\n                            onClick={() => {\n                              setEditingUser(user);\n                              setShowEditModal(true);\n                            }}\n                            className=\"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors\"\n                            title=\"Edit\"\n                          >\n                            <Edit className=\"h-4 w-4\" />\n                          </button>\n                          \n                          <button\n                            onClick={() => handleDeleteUser(user._id)}\n                            className=\"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors\"\n                            title=\"Delete\"\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              \n              {filteredUsers.length === 0 && (\n                <div className=\"p-8 text-center\">\n                  <Users className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-400\">No users found</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Create User Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-white\">Create New User</h2>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"text-gray-400 hover:text-white\"\n              >\n                <X className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">First Name</label>\n                  <input\n                    type=\"text\"\n                    value={newUser.firstName}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, firstName: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Last Name</label>\n                  <input\n                    type=\"text\"\n                    value={newUser.lastName}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, lastName: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  value={newUser.email}\n                  onChange={(e) => setNewUser(prev => ({ ...prev, email: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Username</label>\n                <input\n                  type=\"text\"\n                  value={newUser.username}\n                  onChange={(e) => setNewUser(prev => ({ ...prev, username: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Role</label>\n                  <select\n                    value={newUser.role}\n                    onChange={(e) => handleRoleChange(e.target.value)}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"sales\">Sales</option>\n                    <option value=\"finance\">Finance</option>\n                    <option value=\"admin\">Admin</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Phone</label>\n                  <input\n                    type=\"tel\"\n                    value={newUser.phone}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"isActive\"\n                  checked={newUser.isActive}\n                  onChange={(e) => setNewUser(prev => ({ ...prev, isActive: e.target.checked }))}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"isActive\" className=\"ml-2 block text-sm text-gray-300\">\n                  Active User\n                </label>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10\">\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCreateUser}\n                disabled={saving || !newUser.firstName || !newUser.lastName || !newUser.email}\n                className=\"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50\"\n              >\n                {saving ? <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\n                Create User\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit User Modal */}\n      {showEditModal && editingUser && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-white\">Edit User</h2>\n              <button\n                onClick={() => {\n                  setShowEditModal(false);\n                  setEditingUser(null);\n                }}\n                className=\"text-gray-400 hover:text-white\"\n              >\n                <X className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">First Name</label>\n                  <input\n                    type=\"text\"\n                    value={editingUser.firstName || ''}\n                    onChange={(e) => setEditingUser(prev => ({ ...prev, firstName: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Last Name</label>\n                  <input\n                    type=\"text\"\n                    value={editingUser.lastName || ''}\n                    onChange={(e) => setEditingUser(prev => ({ ...prev, lastName: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  value={editingUser.email || ''}\n                  onChange={(e) => setEditingUser(prev => ({ ...prev, email: e.target.value }))}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Role</label>\n                  <select\n                    value={editingUser.role || 'sales'}\n                    onChange={(e) => handleRoleChange(e.target.value)}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"sales\">Sales</option>\n                    <option value=\"finance\">Finance</option>\n                    <option value=\"admin\">Admin</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Phone</label>\n                  <input\n                    type=\"tel\"\n                    value={editingUser.phone || ''}\n                    onChange={(e) => setEditingUser(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"editIsActive\"\n                  checked={editingUser.isActive}\n                  onChange={(e) => setEditingUser(prev => ({ ...prev, isActive: e.target.checked }))}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"editIsActive\" className=\"ml-2 block text-sm text-gray-300\">\n                  Active User\n                </label>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10\">\n              <button\n                onClick={() => {\n                  setShowEditModal(false);\n                  setEditingUser(null);\n                }}\n                className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleUpdateUser}\n                disabled={saving || !editingUser.firstName || !editingUser.lastName || !editingUser.email}\n                className=\"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50\"\n              >\n                {saving ? <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\n                Update User\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserManagementPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}