{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Car,Search,Filter,MoreVertical,Eye,Edit,Trash2,Download,Upload,RefreshCw,Calendar,DollarSign,User,Building,FileText,CheckCircle,Clock,AlertCircle,ArrowUpDown,Plus,Settings,BarChart3}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllDealsPage=()=>{const[deals,setDeals]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[dealTypeFilter,setDealTypeFilter]=useState('all');const[dateFilter,setDateFilter]=useState('all');const[sortBy,setSortBy]=useState('createdAt');const[sortOrder,setSortOrder]=useState('desc');const[selectedDeals,setSelectedDeals]=useState([]);const[showFilters,setShowFilters]=useState(false);const[error,setError]=useState(null);const[stats,setStats]=useState({total:0,active:0,completed:0,pending:0});const API_BASE=process.env.REACT_APP_API_BASE||'http://localhost:3000';const getAuthHeaders=()=>{const token=localStorage.getItem('token')||sessionStorage.getItem('token');return{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'};};// Fetch all deals\nconst fetchDeals=async()=>{try{var _data$deals,_data$data,_data$deals2,_data$deals3,_data$deals4;setLoading(true);const response=await fetch(`/api/deals`,{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to fetch deals');}const data=await response.json();setDeals(data.deals||data.data||[]);// Calculate stats\nconst total=((_data$deals=data.deals)===null||_data$deals===void 0?void 0:_data$deals.length)||((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.length)||0;const active=((_data$deals2=data.deals)===null||_data$deals2===void 0?void 0:_data$deals2.filter(d=>d.status==='active').length)||0;const completed=((_data$deals3=data.deals)===null||_data$deals3===void 0?void 0:_data$deals3.filter(d=>d.status==='completed').length)||0;const pending=((_data$deals4=data.deals)===null||_data$deals4===void 0?void 0:_data$deals4.filter(d=>d.status==='pending').length)||0;setStats({total,active,completed,pending});}catch(error){console.error('Error fetching deals:',error);setError('Failed to load deals');}finally{setLoading(false);}};useEffect(()=>{fetchDeals();},[]);// Filter and sort deals\nconst filteredAndSortedDeals=deals.filter(deal=>{var _deal$vin,_deal$rpStockNumber,_deal$vehicle,_deal$vehicle$make,_deal$vehicle2,_deal$vehicle2$model,_deal$seller,_deal$seller$name,_deal$buyer,_deal$buyer$name;const matchesSearch=((_deal$vin=deal.vin)===null||_deal$vin===void 0?void 0:_deal$vin.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$rpStockNumber=deal.rpStockNumber)===null||_deal$rpStockNumber===void 0?void 0:_deal$rpStockNumber.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$vehicle=deal.vehicle)===null||_deal$vehicle===void 0?void 0:(_deal$vehicle$make=_deal$vehicle.make)===null||_deal$vehicle$make===void 0?void 0:_deal$vehicle$make.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$vehicle2=deal.vehicle)===null||_deal$vehicle2===void 0?void 0:(_deal$vehicle2$model=_deal$vehicle2.model)===null||_deal$vehicle2$model===void 0?void 0:_deal$vehicle2$model.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$seller=deal.seller)===null||_deal$seller===void 0?void 0:(_deal$seller$name=_deal$seller.name)===null||_deal$seller$name===void 0?void 0:_deal$seller$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_deal$buyer=deal.buyer)===null||_deal$buyer===void 0?void 0:(_deal$buyer$name=_deal$buyer.name)===null||_deal$buyer$name===void 0?void 0:_deal$buyer$name.toLowerCase().includes(searchTerm.toLowerCase()));const matchesStatus=statusFilter==='all'||deal.status===statusFilter;const matchesType=dealTypeFilter==='all'||deal.dealType===dealTypeFilter;let matchesDate=true;if(dateFilter!=='all'){const dealDate=new Date(deal.createdAt||deal.dateCreated);const now=new Date();const today=new Date(now.getFullYear(),now.getMonth(),now.getDate());switch(dateFilter){case'today':matchesDate=dealDate>=today;break;case'week':const weekAgo=new Date(today.getTime()-7*24*60*60*1000);matchesDate=dealDate>=weekAgo;break;case'month':const monthAgo=new Date(today.getTime()-30*24*60*60*1000);matchesDate=dealDate>=monthAgo;break;}}return matchesSearch&&matchesStatus&&matchesType&&matchesDate;}).sort((a,b)=>{let aValue=a[sortBy];let bValue=b[sortBy];// Handle nested properties\nif(sortBy==='vehicle'){var _a$vehicle,_a$vehicle2,_a$vehicle3,_b$vehicle,_b$vehicle2,_b$vehicle3;aValue=`${(_a$vehicle=a.vehicle)===null||_a$vehicle===void 0?void 0:_a$vehicle.year} ${(_a$vehicle2=a.vehicle)===null||_a$vehicle2===void 0?void 0:_a$vehicle2.make} ${(_a$vehicle3=a.vehicle)===null||_a$vehicle3===void 0?void 0:_a$vehicle3.model}`;bValue=`${(_b$vehicle=b.vehicle)===null||_b$vehicle===void 0?void 0:_b$vehicle.year} ${(_b$vehicle2=b.vehicle)===null||_b$vehicle2===void 0?void 0:_b$vehicle2.make} ${(_b$vehicle3=b.vehicle)===null||_b$vehicle3===void 0?void 0:_b$vehicle3.model}`;}if(sortBy==='seller'){var _a$seller,_b$seller;aValue=((_a$seller=a.seller)===null||_a$seller===void 0?void 0:_a$seller.name)||'';bValue=((_b$seller=b.seller)===null||_b$seller===void 0?void 0:_b$seller.name)||'';}if(sortBy==='buyer'){var _a$buyer,_b$buyer;aValue=((_a$buyer=a.buyer)===null||_a$buyer===void 0?void 0:_a$buyer.name)||'';bValue=((_b$buyer=b.buyer)===null||_b$buyer===void 0?void 0:_b$buyer.name)||'';}// Handle dates\nif(sortBy==='createdAt'||sortBy==='dateCreated'){aValue=new Date(aValue);bValue=new Date(bValue);}if(sortOrder==='asc'){return aValue>bValue?1:-1;}else{return aValue<bValue?1:-1;}});// Handle deal selection\nconst handleDealSelection=dealId=>{setSelectedDeals(prev=>prev.includes(dealId)?prev.filter(id=>id!==dealId):[...prev,dealId]);};// Handle bulk selection\nconst handleSelectAll=()=>{if(selectedDeals.length===filteredAndSortedDeals.length){setSelectedDeals([]);}else{setSelectedDeals(filteredAndSortedDeals.map(deal=>deal._id));}};// Get status badge styling\nconst getStatusBadge=status=>{const badges={active:'bg-green-100 text-green-800 border-green-200',pending:'bg-yellow-100 text-yellow-800 border-yellow-200',completed:'bg-blue-100 text-blue-800 border-blue-200',cancelled:'bg-red-100 text-red-800 border-red-200'};return badges[status]||'bg-gray-100 text-gray-800 border-gray-200';};// Get deal type badge styling\nconst getDealTypeBadge=dealType=>{const badges={'wholesale-d2d':'bg-purple-100 text-purple-800 border-purple-200','wholesale-private':'bg-indigo-100 text-indigo-800 border-indigo-200','wholesale-flip':'bg-pink-100 text-pink-800 border-pink-200','retail-pp':'bg-orange-100 text-orange-800 border-orange-200','retail-auction':'bg-teal-100 text-teal-800 border-teal-200','retail-dtod':'bg-cyan-100 text-cyan-800 border-cyan-200'};return badges[dealType]||'bg-gray-100 text-gray-800 border-gray-200';};// Format currency\nconst formatCurrency=amount=>{if(!amount)return'N/A';return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);};// Format date\nconst formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString();};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"})]}),/*#__PURE__*/_jsx(\"header\",{className:\"relative bg-black/20 backdrop-blur-md border-b border-white/10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\",children:/*#__PURE__*/_jsx(Car,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-white\",children:\"All Deals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Complete deal management and oversight\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchDeals(),disabled:loading,className:\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:`h-4 w-4 mr-2 ${loading?'animate-spin':''}`}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/deals/new',className:\"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"New Deal\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Total Deals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white\",children:stats.total})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500/20 rounded-lg p-3\",children:/*#__PURE__*/_jsx(Car,{className:\"h-6 w-6 text-blue-400\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Active Deals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-400\",children:stats.active})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500/20 rounded-lg p-3\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-6 w-6 text-green-400\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-400\",children:stats.completed})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500/20 rounded-lg p-3\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-6 w-6 text-blue-400\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-400\",children:stats.pending})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500/20 rounded-lg p-3\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-6 w-6 text-yellow-400\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-white\",children:\"Filters & Search\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"flex items-center px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Filter,{className:\"h-4 w-4 mr-2\"}),showFilters?'Hide':'Show',\" Filters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search deals...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:dealTypeFilter,onChange:e=>setDealTypeFilter(e.target.value),className:\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wholesale-d2d\",children:\"Wholesale D2D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wholesale-private\",children:\"Wholesale Private\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wholesale-flip\",children:\"Wholesale Flip\"}),/*#__PURE__*/_jsx(\"option\",{value:\"retail-pp\",children:\"Retail PP\"}),/*#__PURE__*/_jsx(\"option\",{value:\"retail-auction\",children:\"Retail Auction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"retail-dtod\",children:\"Retail D2D\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:dateFilter,onChange:e=>setDateFilter(e.target.value),className:\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"today\",children:\"Today\"}),/*#__PURE__*/_jsx(\"option\",{value:\"week\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"month\",children:\"This Month\"})]})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"createdAt\",children:\"Created Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vehicle\",children:\"Vehicle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"seller\",children:\"Seller\"}),/*#__PURE__*/_jsx(\"option\",{value:\"buyer\",children:\"Buyer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"status\",children:\"Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dealType\",children:\"Deal Type\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Sort Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder,onChange:e=>setSortOrder(e.target.value),className:\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Newest First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Oldest First\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300 text-sm\",children:[filteredAndSortedDeals.length,\" of \",deals.length,\" deals\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading deals...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-white/5 border-b border-white/10\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeals.length===filteredAndSortedDeals.length&&filteredAndSortedDeals.length>0,onChange:handleSelectAll,className:\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Vehicle\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Deal Info\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Parties\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-white/10\",children:filteredAndSortedDeals.map(deal=>{var _deal$vehicle3,_deal$vehicle4,_deal$vehicle5,_deal$financials,_deal$financials2,_deal$seller2,_deal$buyer2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-white/5 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeals.includes(deal._id),onChange:()=>handleDealSelection(deal._id),className:\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-white\",children:[(_deal$vehicle3=deal.vehicle)===null||_deal$vehicle3===void 0?void 0:_deal$vehicle3.year,\" \",(_deal$vehicle4=deal.vehicle)===null||_deal$vehicle4===void 0?void 0:_deal$vehicle4.make,\" \",(_deal$vehicle5=deal.vehicle)===null||_deal$vehicle5===void 0?void 0:_deal$vehicle5.model]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[\"VIN: \",deal.vin]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[\"Stock: \",deal.rpStockNumber||'N/A']})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getDealTypeBadge(deal.dealType)}`,children:deal.dealType}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400 mt-1\",children:[formatCurrency((_deal$financials=deal.financials)===null||_deal$financials===void 0?void 0:_deal$financials.purchasePrice),\" \\u2192 \",formatCurrency((_deal$financials2=deal.financials)===null||_deal$financials2===void 0?void 0:_deal$financials2.salePrice)]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300\",children:[/*#__PURE__*/_jsx(User,{className:\"h-3 w-3 inline mr-1\"}),((_deal$seller2=deal.seller)===null||_deal$seller2===void 0?void 0:_deal$seller2.name)||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300\",children:[/*#__PURE__*/_jsx(Building,{className:\"h-3 w-3 inline mr-1\"}),((_deal$buyer2=deal.buyer)===null||_deal$buyer2===void 0?void 0:_deal$buyer2.name)||'N/A']})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getStatusBadge(deal.status)}`,children:deal.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\",children:formatDate(deal.createdAt||deal.dateCreated)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/deals/${deal._id}`,className:\"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/deals/${deal._id}/edit`,className:\"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors\",title:\"Edit Deal\",children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/deals/${deal._id}/documents`,className:\"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-colors\",title:\"Documents\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4\"})})]})})]},deal._id);})})]}),filteredAndSortedDeals.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(Car,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No deals found\"})]})]})}),selectedDeals.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-6 right-6 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-white text-sm\",children:[selectedDeals.length,\" deal(s) selected\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors\",children:\"Export Selected\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors\",children:\"Bulk Update\"})]})})]})]});};export default AllDealsPage;","map":{"version":3,"names":["React","useState","useEffect","Car","Search","Filter","MoreVertical","Eye","Edit","Trash2","Download","Upload","RefreshCw","Calendar","DollarSign","User","Building","FileText","CheckCircle","Clock","AlertCircle","ArrowUpDown","Plus","Settings","BarChart3","jsx","_jsx","jsxs","_jsxs","AllDealsPage","deals","setDeals","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","dealTypeFilter","setDealTypeFilter","dateFilter","setDateFilter","sortBy","setSortBy","sortOrder","setSortOrder","selectedDeals","setSelectedDeals","showFilters","setShowFilters","error","setError","stats","setStats","total","active","completed","pending","API_BASE","process","env","REACT_APP_API_BASE","getAuthHeaders","token","localStorage","getItem","sessionStorage","fetchDeals","_data$deals","_data$data","_data$deals2","_data$deals3","_data$deals4","response","fetch","headers","ok","Error","data","json","length","filter","d","status","console","filteredAndSortedDeals","deal","_deal$vin","_deal$rpStockNumber","_deal$vehicle","_deal$vehicle$make","_deal$vehicle2","_deal$vehicle2$model","_deal$seller","_deal$seller$name","_deal$buyer","_deal$buyer$name","matchesSearch","vin","toLowerCase","includes","rpStockNumber","vehicle","make","model","seller","name","buyer","matchesStatus","matchesType","dealType","matchesDate","dealDate","Date","createdAt","dateCreated","now","today","getFullYear","getMonth","getDate","weekAgo","getTime","monthAgo","sort","a","b","aValue","bValue","_a$vehicle","_a$vehicle2","_a$vehicle3","_b$vehicle","_b$vehicle2","_b$vehicle3","year","_a$seller","_b$seller","_a$buyer","_b$buyer","handleDealSelection","dealId","prev","id","handleSelectAll","map","_id","getStatusBadge","badges","cancelled","getDealTypeBadge","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","toLocaleDateString","className","children","onClick","window","history","back","disabled","location","href","type","placeholder","value","onChange","e","target","checked","_deal$vehicle3","_deal$vehicle4","_deal$vehicle5","_deal$financials","_deal$financials2","_deal$seller2","_deal$buyer2","financials","purchasePrice","salePrice","title"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/AllDealsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Car, \n  Search, \n  Filter, \n  MoreVertical, \n  Eye, \n  Edit, \n  Trash2,\n  Download,\n  Upload,\n  RefreshCw,\n  Calendar,\n  DollarSign,\n  User,\n  Building,\n  FileText,\n  CheckCircle,\n  Clock,\n  AlertCircle,\n  ArrowUpDown,\n  Plus,\n  Settings,\n  BarChart3\n} from 'lucide-react';\n\nconst AllDealsPage = () => {\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [dealTypeFilter, setDealTypeFilter] = useState('all');\n  const [dateFilter, setDateFilter] = useState('all');\n  const [sortBy, setSortBy] = useState('createdAt');\n  const [sortOrder, setSortOrder] = useState('desc');\n  const [selectedDeals, setSelectedDeals] = useState([]);\n  const [showFilters, setShowFilters] = useState(false);\n  const [error, setError] = useState(null);\n  const [stats, setStats] = useState({\n    total: 0,\n    active: 0,\n    completed: 0,\n    pending: 0\n  });\n\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3000';\n\n  const getAuthHeaders = () => {\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token');\n    return {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    };\n  };\n\n  // Fetch all deals\n  const fetchDeals = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/deals`, {\n        headers: getAuthHeaders()\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch deals');\n      }\n      \n      const data = await response.json();\n      setDeals(data.deals || data.data || []);\n      \n      // Calculate stats\n      const total = data.deals?.length || data.data?.length || 0;\n      const active = data.deals?.filter(d => d.status === 'active').length || 0;\n      const completed = data.deals?.filter(d => d.status === 'completed').length || 0;\n      const pending = data.deals?.filter(d => d.status === 'pending').length || 0;\n      \n      setStats({ total, active, completed, pending });\n    } catch (error) {\n      console.error('Error fetching deals:', error);\n      setError('Failed to load deals');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDeals();\n  }, []);\n\n  // Filter and sort deals\n  const filteredAndSortedDeals = deals\n    .filter(deal => {\n      const matchesSearch = \n        deal.vin?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        deal.rpStockNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        deal.vehicle?.make?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        deal.vehicle?.model?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        deal.seller?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        deal.buyer?.name?.toLowerCase().includes(searchTerm.toLowerCase());\n      \n      const matchesStatus = statusFilter === 'all' || deal.status === statusFilter;\n      const matchesType = dealTypeFilter === 'all' || deal.dealType === dealTypeFilter;\n      \n      let matchesDate = true;\n      if (dateFilter !== 'all') {\n        const dealDate = new Date(deal.createdAt || deal.dateCreated);\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        \n        switch (dateFilter) {\n          case 'today':\n            matchesDate = dealDate >= today;\n            break;\n          case 'week':\n            const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n            matchesDate = dealDate >= weekAgo;\n            break;\n          case 'month':\n            const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);\n            matchesDate = dealDate >= monthAgo;\n            break;\n        }\n      }\n      \n      return matchesSearch && matchesStatus && matchesType && matchesDate;\n    })\n    .sort((a, b) => {\n      let aValue = a[sortBy];\n      let bValue = b[sortBy];\n      \n      // Handle nested properties\n      if (sortBy === 'vehicle') {\n        aValue = `${a.vehicle?.year} ${a.vehicle?.make} ${a.vehicle?.model}`;\n        bValue = `${b.vehicle?.year} ${b.vehicle?.make} ${b.vehicle?.model}`;\n      }\n      \n      if (sortBy === 'seller') {\n        aValue = a.seller?.name || '';\n        bValue = b.seller?.name || '';\n      }\n      \n      if (sortBy === 'buyer') {\n        aValue = a.buyer?.name || '';\n        bValue = b.buyer?.name || '';\n      }\n      \n      // Handle dates\n      if (sortBy === 'createdAt' || sortBy === 'dateCreated') {\n        aValue = new Date(aValue);\n        bValue = new Date(bValue);\n      }\n      \n      if (sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n  // Handle deal selection\n  const handleDealSelection = (dealId) => {\n    setSelectedDeals(prev => \n      prev.includes(dealId) \n        ? prev.filter(id => id !== dealId)\n        : [...prev, dealId]\n    );\n  };\n\n  // Handle bulk selection\n  const handleSelectAll = () => {\n    if (selectedDeals.length === filteredAndSortedDeals.length) {\n      setSelectedDeals([]);\n    } else {\n      setSelectedDeals(filteredAndSortedDeals.map(deal => deal._id));\n    }\n  };\n\n  // Get status badge styling\n  const getStatusBadge = (status) => {\n    const badges = {\n      active: 'bg-green-100 text-green-800 border-green-200',\n      pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n      completed: 'bg-blue-100 text-blue-800 border-blue-200',\n      cancelled: 'bg-red-100 text-red-800 border-red-200'\n    };\n    return badges[status] || 'bg-gray-100 text-gray-800 border-gray-200';\n  };\n\n  // Get deal type badge styling\n  const getDealTypeBadge = (dealType) => {\n    const badges = {\n      'wholesale-d2d': 'bg-purple-100 text-purple-800 border-purple-200',\n      'wholesale-private': 'bg-indigo-100 text-indigo-800 border-indigo-200',\n      'wholesale-flip': 'bg-pink-100 text-pink-800 border-pink-200',\n      'retail-pp': 'bg-orange-100 text-orange-800 border-orange-200',\n      'retail-auction': 'bg-teal-100 text-teal-800 border-teal-200',\n      'retail-dtod': 'bg-cyan-100 text-cyan-800 border-cyan-200'\n    };\n    return badges[dealType] || 'bg-gray-100 text-gray-800 border-gray-200';\n  };\n\n  // Format currency\n  const formatCurrency = (amount) => {\n    if (!amount) return 'N/A';\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  // Format date\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n      </div>\n\n      {/* Header */}\n      <header className=\"relative bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <button \n                onClick={() => window.history.back()}\n                className=\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\"\n              >\n                <Car className=\"h-5 w-5 text-white\" />\n              </button>\n              <div className=\"flex items-center\">\n                <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25\">\n                  <FileText className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white\">All Deals</h1>\n                  <p className=\"text-gray-300 text-sm\">Complete deal management and oversight</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => fetchDeals()}\n                disabled={loading}\n                className=\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\"\n              >\n                <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n                Refresh\n              </button>\n              \n              <button\n                onClick={() => window.location.href = '/deals/new'}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors\"\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                New Deal\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"relative max-w-7xl mx-auto px-6 py-8\">\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-400 text-sm\">Total Deals</p>\n                <p className=\"text-2xl font-bold text-white\">{stats.total}</p>\n              </div>\n              <div className=\"bg-blue-500/20 rounded-lg p-3\">\n                <Car className=\"h-6 w-6 text-blue-400\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-400 text-sm\">Active Deals</p>\n                <p className=\"text-2xl font-bold text-green-400\">{stats.active}</p>\n              </div>\n              <div className=\"bg-green-500/20 rounded-lg p-3\">\n                <CheckCircle className=\"h-6 w-6 text-green-400\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-400 text-sm\">Completed</p>\n                <p className=\"text-2xl font-bold text-blue-400\">{stats.completed}</p>\n              </div>\n              <div className=\"bg-blue-500/20 rounded-lg p-3\">\n                <BarChart3 className=\"h-6 w-6 text-blue-400\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-400 text-sm\">Pending</p>\n                <p className=\"text-2xl font-bold text-yellow-400\">{stats.pending}</p>\n              </div>\n              <div className=\"bg-yellow-500/20 rounded-lg p-3\">\n                <Clock className=\"h-6 w-6 text-yellow-400\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-bold text-white\">Filters & Search</h2>\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"flex items-center px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors\"\n            >\n              <Filter className=\"h-4 w-4 mr-2\" />\n              {showFilters ? 'Hide' : 'Show'} Filters\n            </button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search deals...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              />\n            </div>\n\n            {/* Status Filter */}\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n\n            {/* Deal Type Filter */}\n            <select\n              value={dealTypeFilter}\n              onChange={(e) => setDealTypeFilter(e.target.value)}\n              className=\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"wholesale-d2d\">Wholesale D2D</option>\n              <option value=\"wholesale-private\">Wholesale Private</option>\n              <option value=\"wholesale-flip\">Wholesale Flip</option>\n              <option value=\"retail-pp\">Retail PP</option>\n              <option value=\"retail-auction\">Retail Auction</option>\n              <option value=\"retail-dtod\">Retail D2D</option>\n            </select>\n\n            {/* Date Filter */}\n            <select\n              value={dateFilter}\n              onChange={(e) => setDateFilter(e.target.value)}\n              className=\"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Time</option>\n              <option value=\"today\">Today</option>\n              <option value=\"week\">This Week</option>\n              <option value=\"month\">This Month</option>\n            </select>\n          </div>\n\n          {showFilters && (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-white/10\">\n              {/* Sort By */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Sort By</label>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                >\n                  <option value=\"createdAt\">Created Date</option>\n                  <option value=\"vehicle\">Vehicle</option>\n                  <option value=\"seller\">Seller</option>\n                  <option value=\"buyer\">Buyer</option>\n                  <option value=\"status\">Status</option>\n                  <option value=\"dealType\">Deal Type</option>\n                </select>\n              </div>\n\n              {/* Sort Order */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Sort Order</label>\n                <select\n                  value={sortOrder}\n                  onChange={(e) => setSortOrder(e.target.value)}\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                >\n                  <option value=\"desc\">Newest First</option>\n                  <option value=\"asc\">Oldest First</option>\n                </select>\n              </div>\n\n              {/* Results Count */}\n              <div className=\"flex items-end\">\n                <div className=\"text-gray-300 text-sm\">\n                  {filteredAndSortedDeals.length} of {deals.length} deals\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Deals Table */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden\">\n          {loading ? (\n            <div className=\"p-8 text-center\">\n              <RefreshCw className=\"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4\" />\n              <p className=\"text-gray-400\">Loading deals...</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-white/5 border-b border-white/10\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedDeals.length === filteredAndSortedDeals.length && filteredAndSortedDeals.length > 0}\n                        onChange={handleSelectAll}\n                        className=\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\"\n                      />\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Vehicle\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Deal Info\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Parties\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Status\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Created\n                    </th>\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-white/10\">\n                  {filteredAndSortedDeals.map((deal) => (\n                    <tr key={deal._id} className=\"hover:bg-white/5 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedDeals.includes(deal._id)}\n                          onChange={() => handleDealSelection(deal._id)}\n                          className=\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\"\n                        />\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm font-medium text-white\">\n                            {deal.vehicle?.year} {deal.vehicle?.make} {deal.vehicle?.model}\n                          </div>\n                          <div className=\"text-sm text-gray-400\">\n                            VIN: {deal.vin}\n                          </div>\n                          <div className=\"text-sm text-gray-400\">\n                            Stock: {deal.rpStockNumber || 'N/A'}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getDealTypeBadge(deal.dealType)}`}>\n                            {deal.dealType}\n                          </span>\n                          <div className=\"text-sm text-gray-400 mt-1\">\n                            {formatCurrency(deal.financials?.purchasePrice)} → {formatCurrency(deal.financials?.salePrice)}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm text-gray-300\">\n                            <User className=\"h-3 w-3 inline mr-1\" />\n                            {deal.seller?.name || 'N/A'}\n                          </div>\n                          <div className=\"text-sm text-gray-300\">\n                            <Building className=\"h-3 w-3 inline mr-1\" />\n                            {deal.buyer?.name || 'N/A'}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getStatusBadge(deal.status)}`}>\n                          {deal.status}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\">\n                        {formatDate(deal.createdAt || deal.dateCreated)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center justify-end space-x-2\">\n                          <button\n                            onClick={() => window.location.href = `/deals/${deal._id}`}\n                            className=\"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors\"\n                            title=\"View Details\"\n                          >\n                            <Eye className=\"h-4 w-4\" />\n                          </button>\n                          \n                          <button\n                            onClick={() => window.location.href = `/deals/${deal._id}/edit`}\n                            className=\"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors\"\n                            title=\"Edit Deal\"\n                          >\n                            <Edit className=\"h-4 w-4\" />\n                          </button>\n                          \n                          <button\n                            onClick={() => window.location.href = `/deals/${deal._id}/documents`}\n                            className=\"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-colors\"\n                            title=\"Documents\"\n                          >\n                            <FileText className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              \n              {filteredAndSortedDeals.length === 0 && (\n                <div className=\"p-8 text-center\">\n                  <Car className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-400\">No deals found</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Bulk Actions */}\n        {selectedDeals.length > 0 && (\n          <div className=\"fixed bottom-6 right-6 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 p-4 shadow-lg\">\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-white text-sm\">\n                {selectedDeals.length} deal(s) selected\n              </span>\n              <button className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors\">\n                Export Selected\n              </button>\n              <button className=\"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors\">\n                Bulk Update\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AllDealsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}