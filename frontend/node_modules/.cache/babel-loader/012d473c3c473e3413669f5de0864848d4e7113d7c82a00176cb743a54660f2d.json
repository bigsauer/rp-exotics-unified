{"ast":null,"code":"var _jsxFileName = \"/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/NewDealEntry.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Car, ArrowLeft, Save, Send, AlertCircle, CheckCircle, Loader2, Calendar, DollarSign, FileText, User, MapPin, Phone, Mail, Hash, Palette, Gauge, Info, Shield, Clock, Plus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewDealEntry = () => {\n  _s();\n  const [currentUser] = useState({\n    name: 'Chris Murphy',\n    role: 'admin',\n    permissions: {\n      canCreateDeals: true,\n      canViewFinancials: true,\n      canManageDealers: true\n    }\n  });\n  const [formData, setFormData] = useState({\n    // Vehicle Information\n    vin: '',\n    year: '',\n    make: '',\n    model: '',\n    mileage: '',\n    exteriorColor: '',\n    interiorColor: '',\n    // Deal Information\n    dealType: '',\n    dealType2SubType: '',\n    // <-- Add this for Deal Type 2 sub-options\n    fundingSource: '',\n    purchaseDate: '',\n    paymentMethod: 'check',\n    // Default to 'check'\n    currentStage: 'initial-contact',\n    // Financial Information\n    purchasePrice: '',\n    listPrice: '',\n    killPrice: '',\n    wholesalePrice: '',\n    commissionRate: '',\n    brokerageFee: '',\n    brokeerageFeePaidTo: '',\n    payoffBalance: '',\n    amountDueToCustomer: '',\n    amountDueToRP: '',\n    // Seller Information\n    sellerName: '',\n    sellerCompany: '',\n    sellerAddress: '',\n    sellerPhone: '',\n    sellerEmail: '',\n    // RP Information\n    rpStockNumber: '',\n    vehicleDescription: '',\n    generalNotes: '',\n    // Documentation\n    contractRequired: false,\n    titlePresent: false,\n    driverLicensePresent: false,\n    odometerPresent: false,\n    dealerLicensePresent: false\n  });\n  const [vinDecoding, setVinDecoding] = useState(false);\n  const [vinDecoded, setVinDecoded] = useState(false);\n  const [dealerSuggestions, setDealerSuggestions] = useState([]);\n  const [formErrors, setFormErrors] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Remove dealMode state and toggle\n  // Always show both dealType and dealType2SubType\n\n  // Remove Deal Type 2 from main dealTypes\n  const dealTypes = [{\n    value: 'wholesale-d2d',\n    label: 'Wholesale - D2D'\n  }, {\n    value: 'wholesale-private',\n    label: 'Wholesale - Private Party'\n  }, {\n    value: 'wholesale-flip',\n    label: 'Wholesale - Flip'\n  }, {\n    value: 'retail-pp',\n    label: 'Retail - PP'\n  }, {\n    value: 'retail-auction',\n    label: 'Retail - Auction'\n  }, {\n    value: 'retail-dtod',\n    label: 'Retail - DtoD'\n  }, {\n    value: 'auction',\n    label: 'Auction'\n  }];\n  const fundingSources = [{\n    value: 'flpn-retail',\n    label: 'FLPN - Retail'\n  }, {\n    value: 'flpn-wholesale',\n    label: 'FLPN - Wholesale'\n  }, {\n    value: 'cash',\n    label: 'Cash'\n  }, {\n    value: 'flooring-line',\n    label: 'Flooring Line'\n  }, {\n    value: 'consignment',\n    label: 'Consignment'\n  }];\n  const paymentMethods = [{\n    value: 'check',\n    label: 'Check'\n  }, {\n    value: 'wire',\n    label: 'Wire Transfer'\n  }, {\n    value: 'ach',\n    label: 'ACH'\n  }, {\n    value: 'cash',\n    label: 'Cash'\n  }, {\n    value: 'financed',\n    label: 'Financed'\n  }];\n  const dealStages = [{\n    value: 'initial-contact',\n    label: 'Initial Contact'\n  }, {\n    value: 'price-negotiated',\n    label: 'Price Negotiated'\n  }, {\n    value: 'inspection-scheduled',\n    label: 'Inspection Scheduled'\n  }, {\n    value: 'inspection-complete',\n    label: 'Inspection Complete'\n  }, {\n    value: 'purchased',\n    label: 'Purchased'\n  }, {\n    value: 'title-processing',\n    label: 'Title Processing'\n  }, {\n    value: 'title-received',\n    label: 'Title Received'\n  }, {\n    value: 'ready-to-list',\n    label: 'Ready to List'\n  }, {\n    value: 'listed',\n    label: 'Listed'\n  }, {\n    value: 'sold',\n    label: 'Sold'\n  }, {\n    value: 'delivered',\n    label: 'Delivered'\n  }];\n  const dealType2SubOptions = [{\n    value: 'buy',\n    label: 'Buy'\n  }, {\n    value: 'sale',\n    label: 'Sale'\n  }, {\n    value: 'buy-sell',\n    label: 'Buy/Sell'\n  }, {\n    value: 'consign-a',\n    label: 'Consign-A'\n  }, {\n    value: 'consign-b',\n    label: 'Consign-B'\n  }, {\n    value: 'consign-c',\n    label: 'Consign-C'\n  }, {\n    value: 'consign-rdnc',\n    label: 'Consign-RDNC'\n  }];\n\n  // Get deal type specific fields\n  const getDealTypeFields = () => {\n    // Both dealType and dealType2SubType are always required\n    const dealType = formData.dealType;\n    return {\n      showFinancials: ['wholesale-d2d', 'wholesale-private', 'wholesale-flip', 'retail-pp', 'retail-auction', 'retail-dtod', 'auction'].includes(dealType),\n      showSellerInfo: true,\n      showDocumentation: ['wholesale-d2d', 'wholesale-private', 'wholesale-flip', 'retail-pp', 'retail-auction', 'retail-dtod', 'auction'].includes(dealType),\n      requiredFields: ['vin', 'dealType', 'dealType2SubType', 'year', 'make', 'model', 'sellerName']\n    };\n  };\n  const dealTypeFields = getDealTypeFields();\n\n  // Real VIN decode function using backend API\n  const decodeVIN = async vin => {\n    setVinDecoding(true);\n    try {\n      const response = await fetch('/api/deals/vin/decode', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          vin\n        })\n      });\n      const data = await response.json();\n      if (data.success && data.data) {\n        setFormData(prev => ({\n          ...prev,\n          year: data.data.year || '',\n          make: data.data.make || '',\n          model: data.data.model || ''\n        }));\n        setVinDecoded(true);\n        setTimeout(() => setVinDecoded(false), 3000);\n      } else {\n        console.error('VIN decode failed:', data.error);\n        alert(data.error || 'Unable to decode VIN. Please check the VIN and try again.');\n      }\n    } catch (error) {\n      console.error('VIN decode error:', error);\n      alert('VIN decode service temporarily unavailable. Please try again later.');\n    } finally {\n      setVinDecoding(false);\n    }\n  };\n\n  // Real dealer search using backend API\n  const searchDealers = async query => {\n    if (query.length < 2) {\n      setDealerSuggestions([]);\n      return;\n    }\n    // setSearchingDealers(true); // Removed unused state\n    try {\n      const response = await fetch(`/api/dealers/search?q=${encodeURIComponent(query)}`);\n      const data = await response.json();\n      setDealerSuggestions(data.dealers || []);\n    } catch (error) {\n      console.error('Dealer search error:', error);\n      setDealerSuggestions([]);\n    } finally {\n      // setSearchingDealers(false); // Removed unused state\n    }\n  };\n\n  // Auto-generate stock number\n  useEffect(() => {\n    if (!formData.rpStockNumber && formData.year && formData.make) {\n      const year = new Date().getFullYear();\n      const stockNumber = `RP${year}${String(Math.floor(Math.random() * 9999) + 1).padStart(4, '0')}`;\n      setFormData(prev => ({\n        ...prev,\n        rpStockNumber: stockNumber\n      }));\n    }\n  }, [formData.year, formData.make, formData.rpStockNumber]);\n  const handleInputChange = (field, value) => {\n    // If changing dealType, reset dealType2SubType unless still deal-type-2\n    if (field === 'dealType') {\n      setFormData(prev => ({\n        ...prev,\n        dealType: value,\n        dealType2SubType: value === 'deal-type-2' ? prev.dealType2SubType : ''\n      }));\n      if (currentStep > 1) setCurrentStep(1);\n      return;\n    }\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: null\n      }));\n    }\n\n    // Trigger VIN decode when VIN is 17 characters\n    if (field === 'vin' && value.length === 17 && !vinDecoded) {\n      decodeVIN(value);\n    }\n\n    // Search dealers when typing in seller field\n    if (field === 'sellerName') {\n      searchDealers(value);\n    }\n\n    // Reset to step 1 when deal type changes\n    if (field === 'dealType' && currentStep > 1) {\n      setCurrentStep(1);\n    }\n  };\n  const validateForm = () => {\n    const errors = {};\n    const requiredFields = dealTypeFields.requiredFields || ['vin', 'dealType', 'dealType2SubType', 'year', 'make', 'model', 'sellerName'];\n    requiredFields.forEach(field => {\n      if (!formData[field] || formData[field].toString().trim() === '') {\n        errors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      }\n    });\n\n    // Additional validation for specific fields\n    if (formData.vin && formData.vin.length !== 17) {\n      errors.vin = 'VIN must be exactly 17 characters';\n    }\n    if (formData.year && (formData.year < 1900 || formData.year > new Date().getFullYear() + 1)) {\n      errors.year = 'Please enter a valid year';\n    }\n    if (formData.mileage && formData.mileage < 0) {\n      errors.mileage = 'Mileage cannot be negative';\n    }\n    if (dealTypeFields.showFinancials && formData.purchasePrice && formData.purchasePrice <= 0) {\n      errors.purchasePrice = 'Purchase price must be greater than 0';\n    }\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleSave = async (isDraft = false) => {\n    if (!isDraft && !validateForm()) {\n      return;\n    }\n    setSaving(true);\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      console.log('Saving deal:', {\n        ...formData,\n        isDraft\n      });\n\n      // Show success message or redirect\n      alert(isDraft ? 'Draft saved successfully!' : 'Deal created successfully!');\n    } catch (error) {\n      console.error('Save error:', error);\n      alert('Error saving deal. Please try again.');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleEmailToListingTeam = () => {\n    const emailBody = `New Vehicle Ready for Listing\n\nVehicle: ${formData.year} ${formData.make} ${formData.model}\nVIN: ${formData.vin}\nStock #: ${formData.rpStockNumber}\nMileage: ${formData.mileage}\nExterior: ${formData.exteriorColor}\nInterior: ${formData.interiorColor}\n\nDescription:\n${formData.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${currentUser.name}`;\n    const mailtoLink = `mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${formData.year} ${formData.make} ${formData.model}&body=${encodeURIComponent(emailBody)}`;\n    window.open(mailtoLink);\n  };\n  const steps = [{\n    id: 1,\n    title: 'Vehicle Info',\n    icon: Car\n  }, {\n    id: 2,\n    title: 'Deal Details',\n    icon: FileText\n  }, {\n    id: 3,\n    title: 'Financial',\n    icon: DollarSign\n  }, {\n    id: 4,\n    title: 'Seller Info',\n    icon: User\n  }, {\n    id: 5,\n    title: 'Documentation',\n    icon: Shield\n  }];\n  const renderStepIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: Array.from({\n        length: totalSteps\n      }, (_, index) => {\n        const stepNumber = index + 1;\n        const isActive = currentStep === stepNumber;\n        const isCompleted = currentStep > stepNumber;\n        let stepTitle = '';\n        let stepDescription = '';\n        if (stepNumber === 1) {\n          stepTitle = 'Vehicle & Deal Type';\n          stepDescription = 'Enter vehicle information and select deal type';\n        } else if (stepNumber === 2) {\n          stepTitle = 'Deal Configuration';\n          stepDescription = 'Configure funding, payment, and timeline';\n        } else if (stepNumber === 3 && dealTypeFields.showFinancials) {\n          stepTitle = 'Financial Information';\n          stepDescription = 'Set pricing and financial terms';\n        } else if (stepNumber === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo || stepNumber === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo) {\n          stepTitle = 'Seller Information';\n          stepDescription = 'Add seller contact information';\n        } else if (stepNumber === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation || stepNumber === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation || stepNumber === 5 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) {\n          stepTitle = 'Documentation & Notes';\n          stepDescription = 'Document status and additional notes';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${isActive ? 'bg-blue-600 border-blue-600 text-white' : isCompleted ? 'bg-green-600 border-green-600 text-white' : 'bg-white/10 border-white/20 text-gray-400'}`,\n            children: isCompleted ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: stepNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm font-medium ${isActive ? 'text-white' : 'text-gray-400'}`,\n              children: stepTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: stepDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), stepNumber < totalSteps && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-16 h-0.5 mx-4 ${isCompleted ? 'bg-green-600' : 'bg-white/20'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)]\n        }, stepNumber, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 5\n  }, this);\n  const renderFormField = (label, field, type = 'text', options = null, required = false, icon = null) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex items-center text-sm font-medium text-gray-300\",\n      children: [icon && /*#__PURE__*/React.createElement(icon, {\n        className: \"h-4 w-4 mr-2\"\n      }), label, required && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-400 ml-1\",\n        children: \"*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), type === 'select' ? /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formData[field],\n      onChange: e => handleInputChange(field, e.target.value),\n      className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: [\"Select \", label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this), options === null || options === void 0 ? void 0 : options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: option.value,\n        className: \"bg-gray-800\",\n        children: option.label\n      }, option.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }, this) : type === 'textarea' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: formData[field],\n      onChange: e => handleInputChange(field, e.target.value),\n      rows: 4,\n      placeholder: `Enter ${label.toLowerCase()}...`,\n      className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }, this) : type === 'checkbox' ? /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex items-center space-x-2 cursor-pointer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: formData[field],\n        onChange: e => handleInputChange(field, e.target.checked),\n        className: \"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-300\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: type,\n        value: formData[field],\n        onChange: e => handleInputChange(field, e.target.value),\n        placeholder: `Enter ${label.toLowerCase()}...`,\n        className: `w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'} ${field === 'vin' ? 'pr-20' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }, this), field === 'vin' && formData.vin.length === 17 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-2 top-1/2 transform -translate-y-1/2\",\n        children: vinDecoding ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-5 w-5 text-blue-400 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 17\n        }, this) : vinDecoded ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-5 w-5 text-green-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => decodeVIN(formData.vin),\n          className: \"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors\",\n          children: \"Decode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 13\n      }, this), field === 'sellerName' && dealerSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto\",\n        children: dealerSuggestions.map(dealer => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0\",\n          onClick: () => {\n            setFormData(prev => {\n              var _dealer$contact;\n              return {\n                ...prev,\n                sellerName: dealer.name,\n                sellerCompany: dealer.company,\n                sellerPhone: dealer.phone,\n                sellerEmail: ((_dealer$contact = dealer.contact) === null || _dealer$contact === void 0 ? void 0 : _dealer$contact.email) || dealer.email || ''\n              };\n            });\n            setDealerSuggestions([]);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-white\",\n            children: dealer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-400\",\n            children: [dealer.company, \" \\u2022 \", dealer.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 19\n          }, this)]\n        }, dealer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 9\n    }, this), formErrors[field] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-red-400 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-4 w-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this), formErrors[field]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 5\n  }, this);\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Deal Type Selection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), renderFormField('Deal Type', 'dealType', 'select', dealTypes, true, Car), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: renderFormField('Deal Type 2', 'dealType2SubType', 'select', dealType2SubOptions, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Vehicle Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: renderFormField('VIN', 'vin', 'text', null, true, Hash)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this), renderFormField('Year', 'year', 'number', null, true, Calendar), renderFormField('Make', 'make', 'text', null, true), renderFormField('Model', 'model', 'text', null, true), renderFormField('Mileage', 'mileage', 'number', null, false, Gauge), renderFormField('Exterior Color', 'exteriorColor', 'text', null, false, Palette), renderFormField('Interior Color', 'interiorColor', 'text', null, false, Palette)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-white mb-4\",\n              children: \"Deal Configuration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [renderFormField('Funding Source', 'fundingSource', 'select', fundingSources, true, DollarSign), renderFormField('Purchase/Sale Date', 'purchaseDate', 'date', null, true, Calendar), renderFormField('Payment Method', 'paymentMethod', 'select', paymentMethods, true), renderFormField('RP Stock Number', 'rpStockNumber', 'text', null, false, Hash)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return dealTypeFields.showFinancials ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Financial Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [renderFormField('Purchase Price', 'purchasePrice', 'number', null, true, DollarSign), formData.dealType2SubType !== 'sale' && renderFormField('Kill Price', 'killPrice', 'number'), formData.dealType2SubType !== 'sale' && renderFormField('Wholesale Price', 'wholesalePrice', 'number'), formData.dealType2SubType !== 'sale' && renderFormField('List Price', 'listPrice', 'number'), formData.dealType2SubType !== 'sale' && renderFormField('Commission Rate (%)', 'commissionRate', 'number')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [renderFormField('Brokerage Fee', 'brokerageFee', 'number'), renderFormField('Brokerage Fee Paid To', 'brokeerageFeePaidTo', 'text'), formData.dealType2SubType !== 'sale' && renderFormField('Payoff Balance', 'payoffBalance', 'number'), renderFormField('Amount Due to Customer', 'amountDueToCustomer', 'number'), renderFormField('Amount Due to RP', 'amountDueToRP', 'number')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Financial Information Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require financial information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return dealTypeFields.showSellerInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Seller Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: renderFormField('Purchased From', 'sellerName', 'text', null, true, User)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this), renderFormField('Company/Dealer', 'sellerCompany', 'text'), renderFormField('Phone', 'sellerPhone', 'tel', null, false, Phone), renderFormField('Email', 'sellerEmail', 'email', null, false, Mail), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: renderFormField('Address', 'sellerAddress', 'text', null, false, MapPin)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Seller Information Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require seller information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this);\n      case 5:\n        return dealTypeFields.showDocumentation ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 rounded-xl p-6 border border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-4\",\n            children: \"Documentation & Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-md font-medium text-white mb-4\",\n                  children: \"Documentation Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 19\n                }, this), renderFormField('Contract Required', 'contractRequired', 'checkbox'), renderFormField('Title Present', 'titlePresent', 'checkbox'), renderFormField('Driver License Present', 'driverLicensePresent', 'checkbox'), renderFormField('Odometer Present', 'odometerPresent', 'checkbox'), renderFormField('Dealer License Present', 'dealerLicensePresent', 'checkbox')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: renderFormField('Vehicle Description', 'vehicleDescription', 'textarea', null, false, FileText)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: renderFormField('General Notes', 'generalNotes', 'textarea', null, false, Info)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-white mb-2\",\n            children: \"Documentation Not Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"This deal type does not require documentation tracking.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n\n  // Calculate total steps based on deal type\n  const getTotalSteps = () => {\n    let steps = 2; // Always have vehicle info and deal config\n    if (dealTypeFields.showFinancials) steps++;\n    if (dealTypeFields.showSellerInfo) steps++;\n    if (dealTypeFields.showDocumentation) steps++;\n    return steps;\n  };\n  const totalSteps = getTotalSteps();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 overflow-hidden pointer-events-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"relative bg-black/20 backdrop-blur-md border-b border-white/10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.history.back(),\n              className: \"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"h-6 w-6 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl font-bold text-white\",\n                  children: \"New Deal Entry\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-300 text-sm\",\n                  children: \"Create a new vehicle deal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(true),\n              disabled: saving,\n              className: \"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 79\n              }, this), \"Save Draft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(false),\n              disabled: saving,\n              className: \"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 79\n              }, this), \"Create Deal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative max-w-6xl mx-auto px-6 py-8\",\n      children: [renderStepIndicator(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-white mb-2\",\n            children: [currentStep === 1 && 'Vehicle Information & Deal Type', currentStep === 2 && 'Deal Configuration', currentStep === 3 && dealTypeFields.showFinancials && 'Financial Information', currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information', currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes', currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information', currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes', currentStep === 5 && 'Documentation & Notes']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-300\",\n            children: [currentStep === 1 && 'Enter basic vehicle information and select the deal type', currentStep === 2 && 'Configure deal type, funding, and timeline', currentStep === 3 && dealTypeFields.showFinancials && 'Set pricing and financial terms', currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information', currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes', currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information', currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes', currentStep === 5 && 'Document status and additional notes']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this), renderStep(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mt-8 pt-6 border-t border-white/10\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStep(Math.max(1, currentStep - 1)),\n            disabled: currentStep === 1,\n            className: \"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 15\n            }, this), \"Previous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [currentStep === totalSteps && formData.vehicleDescription && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleEmailToListingTeam,\n              className: \"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 19\n              }, this), \"Email to Listing Team\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this), currentStep < totalSteps ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentStep(Math.min(totalSteps, currentStep + 1)),\n              className: \"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors\",\n              children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-4 w-4 ml-2 rotate-180\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSave(false),\n              disabled: saving,\n              className: \"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50\",\n              children: [saving ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 81\n              }, this), \"Complete Deal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this), vinDecoding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-4 w-4 mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 13\n        }, this), \"Decoding VIN...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 11\n      }, this), vinDecoded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 13\n        }, this), \"VIN decoded successfully!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 650,\n    columnNumber: 5\n  }, this);\n};\n_s(NewDealEntry, \"EZmgsk/XJqcWraqSsa0QB1gDacg=\");\n_c = NewDealEntry;\nexport default NewDealEntry;\nvar _c;\n$RefreshReg$(_c, \"NewDealEntry\");","map":{"version":3,"names":["React","useState","useEffect","Car","ArrowLeft","Save","Send","AlertCircle","CheckCircle","Loader2","Calendar","DollarSign","FileText","User","MapPin","Phone","Mail","Hash","Palette","Gauge","Info","Shield","Clock","Plus","jsxDEV","_jsxDEV","NewDealEntry","_s","currentUser","name","role","permissions","canCreateDeals","canViewFinancials","canManageDealers","formData","setFormData","vin","year","make","model","mileage","exteriorColor","interiorColor","dealType","dealType2SubType","fundingSource","purchaseDate","paymentMethod","currentStage","purchasePrice","listPrice","killPrice","wholesalePrice","commissionRate","brokerageFee","brokeerageFeePaidTo","payoffBalance","amountDueToCustomer","amountDueToRP","sellerName","sellerCompany","sellerAddress","sellerPhone","sellerEmail","rpStockNumber","vehicleDescription","generalNotes","contractRequired","titlePresent","driverLicensePresent","odometerPresent","dealerLicensePresent","vinDecoding","setVinDecoding","vinDecoded","setVinDecoded","dealerSuggestions","setDealerSuggestions","formErrors","setFormErrors","saving","setSaving","currentStep","setCurrentStep","dealTypes","value","label","fundingSources","paymentMethods","dealStages","dealType2SubOptions","getDealTypeFields","showFinancials","includes","showSellerInfo","showDocumentation","requiredFields","dealTypeFields","decodeVIN","response","fetch","method","headers","body","JSON","stringify","data","json","success","prev","setTimeout","console","error","alert","searchDealers","query","length","encodeURIComponent","dealers","Date","getFullYear","stockNumber","String","Math","floor","random","padStart","handleInputChange","field","validateForm","errors","forEach","toString","trim","charAt","toUpperCase","slice","Object","keys","handleSave","isDraft","Promise","resolve","log","handleEmailToListingTeam","emailBody","mailtoLink","window","open","steps","id","title","icon","renderStepIndicator","className","children","Array","from","totalSteps","_","index","stepNumber","isActive","isCompleted","stepTitle","stepDescription","fileName","_jsxFileName","lineNumber","columnNumber","renderFormField","type","options","required","createElement","onChange","e","target","map","option","rows","placeholder","toLowerCase","checked","onClick","dealer","_dealer$contact","company","phone","contact","email","location","renderStep","getTotalSteps","history","back","disabled","max","min","_c","$RefreshReg$"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-unified/frontend/src/components/NewDealEntry.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Car, ArrowLeft, Save, Send, AlertCircle, CheckCircle, Loader2, \n  Calendar, DollarSign, FileText, User, \n  MapPin, Phone, Mail, Hash, Palette, Gauge, \n  Info, Shield, Clock, Plus\n} from 'lucide-react';\n\nconst NewDealEntry = () => {\n  const [currentUser] = useState({\n    name: 'Chris Murphy',\n    role: 'admin',\n    permissions: {\n      canCreateDeals: true,\n      canViewFinancials: true,\n      canManageDealers: true\n    }\n  });\n\n  const [formData, setFormData] = useState({\n    // Vehicle Information\n    vin: '',\n    year: '',\n    make: '',\n    model: '',\n    mileage: '',\n    exteriorColor: '',\n    interiorColor: '',\n    \n    // Deal Information\n    dealType: '',\n    dealType2SubType: '', // <-- Add this for Deal Type 2 sub-options\n    fundingSource: '',\n    purchaseDate: '',\n    paymentMethod: 'check', // Default to 'check'\n    currentStage: 'initial-contact',\n    \n    // Financial Information\n    purchasePrice: '',\n    listPrice: '',\n    killPrice: '',\n    wholesalePrice: '',\n    commissionRate: '',\n    brokerageFee: '',\n    brokeerageFeePaidTo: '',\n    payoffBalance: '',\n    amountDueToCustomer: '',\n    amountDueToRP: '',\n    \n    // Seller Information\n    sellerName: '',\n    sellerCompany: '',\n    sellerAddress: '',\n    sellerPhone: '',\n    sellerEmail: '',\n    \n    // RP Information\n    rpStockNumber: '',\n    vehicleDescription: '',\n    generalNotes: '',\n    \n    // Documentation\n    contractRequired: false,\n    titlePresent: false,\n    driverLicensePresent: false,\n    odometerPresent: false,\n    dealerLicensePresent: false\n  });\n\n  const [vinDecoding, setVinDecoding] = useState(false);\n  const [vinDecoded, setVinDecoded] = useState(false);\n  const [dealerSuggestions, setDealerSuggestions] = useState([]);\n  const [formErrors, setFormErrors] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Remove dealMode state and toggle\n  // Always show both dealType and dealType2SubType\n\n  // Remove Deal Type 2 from main dealTypes\n  const dealTypes = [\n    { value: 'wholesale-d2d', label: 'Wholesale - D2D' },\n    { value: 'wholesale-private', label: 'Wholesale - Private Party' },\n    { value: 'wholesale-flip', label: 'Wholesale - Flip' },\n    { value: 'retail-pp', label: 'Retail - PP' },\n    { value: 'retail-auction', label: 'Retail - Auction' },\n    { value: 'retail-dtod', label: 'Retail - DtoD' },\n    { value: 'auction', label: 'Auction' }\n  ];\n\n  const fundingSources = [\n    { value: 'flpn-retail', label: 'FLPN - Retail' },\n    { value: 'flpn-wholesale', label: 'FLPN - Wholesale' },\n    { value: 'cash', label: 'Cash' },\n    { value: 'flooring-line', label: 'Flooring Line' },\n    { value: 'consignment', label: 'Consignment' }\n  ];\n\n  const paymentMethods = [\n    { value: 'check', label: 'Check' },\n    { value: 'wire', label: 'Wire Transfer' },\n    { value: 'ach', label: 'ACH' },\n    { value: 'cash', label: 'Cash' },\n    { value: 'financed', label: 'Financed' }\n  ];\n\n  const dealStages = [\n    { value: 'initial-contact', label: 'Initial Contact' },\n    { value: 'price-negotiated', label: 'Price Negotiated' },\n    { value: 'inspection-scheduled', label: 'Inspection Scheduled' },\n    { value: 'inspection-complete', label: 'Inspection Complete' },\n    { value: 'purchased', label: 'Purchased' },\n    { value: 'title-processing', label: 'Title Processing' },\n    { value: 'title-received', label: 'Title Received' },\n    { value: 'ready-to-list', label: 'Ready to List' },\n    { value: 'listed', label: 'Listed' },\n    { value: 'sold', label: 'Sold' },\n    { value: 'delivered', label: 'Delivered' }\n  ];\n\n  const dealType2SubOptions = [\n    { value: 'buy', label: 'Buy' },\n    { value: 'sale', label: 'Sale' },\n    { value: 'buy-sell', label: 'Buy/Sell' },\n    { value: 'consign-a', label: 'Consign-A' },\n    { value: 'consign-b', label: 'Consign-B' },\n    { value: 'consign-c', label: 'Consign-C' },\n    { value: 'consign-rdnc', label: 'Consign-RDNC' }\n  ];\n\n  // Get deal type specific fields\n  const getDealTypeFields = () => {\n    // Both dealType and dealType2SubType are always required\n    const dealType = formData.dealType;\n    return {\n      showFinancials: [\n        'wholesale-d2d', 'wholesale-private', 'wholesale-flip',\n        'retail-pp', 'retail-auction', 'retail-dtod', 'auction'\n      ].includes(dealType),\n      showSellerInfo: true,\n      showDocumentation: [\n        'wholesale-d2d', 'wholesale-private', 'wholesale-flip',\n        'retail-pp', 'retail-auction', 'retail-dtod', 'auction'\n      ].includes(dealType),\n      requiredFields: ['vin', 'dealType', 'dealType2SubType', 'year', 'make', 'model', 'sellerName']\n    };\n  };\n\n  const dealTypeFields = getDealTypeFields();\n\n  // Real VIN decode function using backend API\n  const decodeVIN = async (vin) => {\n    setVinDecoding(true);\n    try {\n      const response = await fetch('/api/deals/vin/decode', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ vin })\n      });\n      \n      const data = await response.json();\n      \n      if (data.success && data.data) {\n        setFormData(prev => ({\n          ...prev,\n          year: data.data.year || '',\n          make: data.data.make || '',\n          model: data.data.model || ''\n        }));\n        \n        setVinDecoded(true);\n        setTimeout(() => setVinDecoded(false), 3000);\n      } else {\n        console.error('VIN decode failed:', data.error);\n        alert(data.error || 'Unable to decode VIN. Please check the VIN and try again.');\n      }\n    } catch (error) {\n      console.error('VIN decode error:', error);\n      alert('VIN decode service temporarily unavailable. Please try again later.');\n    } finally {\n      setVinDecoding(false);\n    }\n  };\n\n  // Real dealer search using backend API\n  const searchDealers = async (query) => {\n    if (query.length < 2) {\n      setDealerSuggestions([]);\n      return;\n    }\n    // setSearchingDealers(true); // Removed unused state\n    try {\n      const response = await fetch(`/api/dealers/search?q=${encodeURIComponent(query)}`);\n      const data = await response.json();\n      setDealerSuggestions(data.dealers || []);\n    } catch (error) {\n      console.error('Dealer search error:', error);\n      setDealerSuggestions([]);\n    } finally {\n      // setSearchingDealers(false); // Removed unused state\n    }\n  };\n\n  // Auto-generate stock number\n  useEffect(() => {\n    if (!formData.rpStockNumber && formData.year && formData.make) {\n      const year = new Date().getFullYear();\n      const stockNumber = `RP${year}${String(Math.floor(Math.random() * 9999) + 1).padStart(4, '0')}`;\n      setFormData(prev => ({ ...prev, rpStockNumber: stockNumber }));\n    }\n  }, [formData.year, formData.make, formData.rpStockNumber]);\n\n  const handleInputChange = (field, value) => {\n    // If changing dealType, reset dealType2SubType unless still deal-type-2\n    if (field === 'dealType') {\n      setFormData(prev => ({\n        ...prev,\n        dealType: value,\n        dealType2SubType: value === 'deal-type-2' ? prev.dealType2SubType : ''\n      }));\n      if (currentStep > 1) setCurrentStep(1);\n      return;\n    }\n    setFormData(prev => ({ ...prev, [field]: value }));\n    \n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: null }));\n    }\n    \n    // Trigger VIN decode when VIN is 17 characters\n    if (field === 'vin' && value.length === 17 && !vinDecoded) {\n      decodeVIN(value);\n    }\n    \n    // Search dealers when typing in seller field\n    if (field === 'sellerName') {\n      searchDealers(value);\n    }\n\n    // Reset to step 1 when deal type changes\n    if (field === 'dealType' && currentStep > 1) {\n      setCurrentStep(1);\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    const requiredFields = dealTypeFields.requiredFields || ['vin', 'dealType', 'dealType2SubType', 'year', 'make', 'model', 'sellerName'];\n    \n    requiredFields.forEach(field => {\n      if (!formData[field] || formData[field].toString().trim() === '') {\n        errors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      }\n    });\n\n    // Additional validation for specific fields\n    if (formData.vin && formData.vin.length !== 17) {\n      errors.vin = 'VIN must be exactly 17 characters';\n    }\n\n    if (formData.year && (formData.year < 1900 || formData.year > new Date().getFullYear() + 1)) {\n      errors.year = 'Please enter a valid year';\n    }\n\n    if (formData.mileage && formData.mileage < 0) {\n      errors.mileage = 'Mileage cannot be negative';\n    }\n\n    if (dealTypeFields.showFinancials && formData.purchasePrice && formData.purchasePrice <= 0) {\n      errors.purchasePrice = 'Purchase price must be greater than 0';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSave = async (isDraft = false) => {\n    if (!isDraft && !validateForm()) {\n      return;\n    }\n    \n    setSaving(true);\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      console.log('Saving deal:', { ...formData, isDraft });\n      \n      // Show success message or redirect\n      alert(isDraft ? 'Draft saved successfully!' : 'Deal created successfully!');\n      \n    } catch (error) {\n      console.error('Save error:', error);\n      alert('Error saving deal. Please try again.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleEmailToListingTeam = () => {\n    const emailBody = `New Vehicle Ready for Listing\n\nVehicle: ${formData.year} ${formData.make} ${formData.model}\nVIN: ${formData.vin}\nStock #: ${formData.rpStockNumber}\nMileage: ${formData.mileage}\nExterior: ${formData.exteriorColor}\nInterior: ${formData.interiorColor}\n\nDescription:\n${formData.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${currentUser.name}`;\n\n    const mailtoLink = `mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${formData.year} ${formData.make} ${formData.model}&body=${encodeURIComponent(emailBody)}`;\n    window.open(mailtoLink);\n  };\n\n  const steps = [\n    { id: 1, title: 'Vehicle Info', icon: Car },\n    { id: 2, title: 'Deal Details', icon: FileText },\n    { id: 3, title: 'Financial', icon: DollarSign },\n    { id: 4, title: 'Seller Info', icon: User },\n    { id: 5, title: 'Documentation', icon: Shield }\n  ];\n\n  const renderStepIndicator = () => (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center justify-between\">\n        {Array.from({ length: totalSteps }, (_, index) => {\n          const stepNumber = index + 1;\n          const isActive = currentStep === stepNumber;\n          const isCompleted = currentStep > stepNumber;\n          \n          let stepTitle = '';\n          let stepDescription = '';\n          \n          if (stepNumber === 1) {\n            stepTitle = 'Vehicle & Deal Type';\n            stepDescription = 'Enter vehicle information and select deal type';\n          } else if (stepNumber === 2) {\n            stepTitle = 'Deal Configuration';\n            stepDescription = 'Configure funding, payment, and timeline';\n          } else if (stepNumber === 3 && dealTypeFields.showFinancials) {\n            stepTitle = 'Financial Information';\n            stepDescription = 'Set pricing and financial terms';\n          } else if ((stepNumber === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo) || \n                     (stepNumber === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo)) {\n            stepTitle = 'Seller Information';\n            stepDescription = 'Add seller contact information';\n          } else if ((stepNumber === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) ||\n                     (stepNumber === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation) ||\n                     (stepNumber === 5 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation)) {\n            stepTitle = 'Documentation & Notes';\n            stepDescription = 'Document status and additional notes';\n          }\n          \n          return (\n            <div key={stepNumber} className=\"flex items-center\">\n              <div className={`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${\n                isActive \n                  ? 'bg-blue-600 border-blue-600 text-white' \n                  : isCompleted \n                    ? 'bg-green-600 border-green-600 text-white' \n                    : 'bg-white/10 border-white/20 text-gray-400'\n              }`}>\n                {isCompleted ? (\n                  <CheckCircle className=\"h-5 w-5\" />\n                ) : (\n                  <span className=\"text-sm font-medium\">{stepNumber}</span>\n                )}\n              </div>\n              <div className=\"ml-3\">\n                <p className={`text-sm font-medium ${isActive ? 'text-white' : 'text-gray-400'}`}>\n                  {stepTitle}\n                </p>\n                <p className=\"text-xs text-gray-500\">{stepDescription}</p>\n              </div>\n              {stepNumber < totalSteps && (\n                <div className={`w-16 h-0.5 mx-4 ${isCompleted ? 'bg-green-600' : 'bg-white/20'}`} />\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n\n  const renderFormField = (label, field, type = 'text', options = null, required = false, icon = null) => (\n    <div className=\"space-y-2\">\n      <label className=\"flex items-center text-sm font-medium text-gray-300\">\n        {icon && React.createElement(icon, { className: \"h-4 w-4 mr-2\" })}\n        {label}\n        {required && <span className=\"text-red-400 ml-1\">*</span>}\n      </label>\n      \n      {type === 'select' ? (\n        <select\n          value={formData[field]}\n          onChange={(e) => handleInputChange(field, e.target.value)}\n          className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${\n            formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n          }`}\n        >\n          <option value=\"\">Select {label}</option>\n          {options?.map(option => (\n            <option key={option.value} value={option.value} className=\"bg-gray-800\">\n              {option.label}\n            </option>\n          ))}\n        </select>\n      ) : type === 'textarea' ? (\n        <textarea\n          value={formData[field]}\n          onChange={(e) => handleInputChange(field, e.target.value)}\n          rows={4}\n          placeholder={`Enter ${label.toLowerCase()}...`}\n          className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none ${\n            formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n          }`}\n        />\n      ) : type === 'checkbox' ? (\n        <label className=\"flex items-center space-x-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={formData[field]}\n            onChange={(e) => handleInputChange(field, e.target.checked)}\n            className=\"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500\"\n          />\n          <span className=\"text-gray-300\">{label}</span>\n        </label>\n      ) : (\n        <div className=\"relative\">\n          <input\n            type={type}\n            value={formData[field]}\n            onChange={(e) => handleInputChange(field, e.target.value)}\n            placeholder={`Enter ${label.toLowerCase()}...`}\n            className={`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${\n              formErrors[field] ? 'border-red-500' : 'border-white/20 hover:border-white/30'\n            } ${field === 'vin' ? 'pr-20' : ''}`}\n          />\n          \n          {field === 'vin' && formData.vin.length === 17 && (\n            <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2\">\n              {vinDecoding ? (\n                <Loader2 className=\"h-5 w-5 text-blue-400 animate-spin\" />\n              ) : vinDecoded ? (\n                <CheckCircle className=\"h-5 w-5 text-green-400\" />\n              ) : (\n                <button\n                  onClick={() => decodeVIN(formData.vin)}\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors\"\n                >\n                  Decode\n                </button>\n              )}\n            </div>\n          )}\n          \n          {field === 'sellerName' && dealerSuggestions.length > 0 && (\n            <div className=\"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto\">\n              {dealerSuggestions.map(dealer => (\n                <div\n                  key={dealer.id}\n                  className=\"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0\"\n                  onClick={() => {\n                    setFormData(prev => ({\n                      ...prev,\n                      sellerName: dealer.name,\n                      sellerCompany: dealer.company,\n                      sellerPhone: dealer.phone,\n                      sellerEmail: dealer.contact?.email || dealer.email || ''\n                    }));\n                    setDealerSuggestions([]);\n                  }}\n                >\n                  <div className=\"font-medium text-white\">{dealer.name}</div>\n                  <div className=\"text-sm text-gray-400\">{dealer.company} • {dealer.location}</div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {formErrors[field] && (\n        <div className=\"flex items-center text-red-400 text-sm\">\n          <AlertCircle className=\"h-4 w-4 mr-1\" />\n          {formErrors[field]}\n        </div>\n      )}\n    </div>\n  );\n\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return (\n          <div className=\"space-y-6\">\n            {/* Deal Type Selection */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Deal Type Selection</h3>\n              {renderFormField('Deal Type', 'dealType', 'select', dealTypes, true, Car)}\n              <div className=\"mt-4\">\n                {renderFormField('Deal Type 2', 'dealType2SubType', 'select', dealType2SubOptions, true)}\n              </div>\n            </div>\n            {/* Vehicle Information */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Vehicle Information</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"md:col-span-2\">\n                  {renderFormField('VIN', 'vin', 'text', null, true, Hash)}\n                </div>\n                {renderFormField('Year', 'year', 'number', null, true, Calendar)}\n                {renderFormField('Make', 'make', 'text', null, true)}\n                {renderFormField('Model', 'model', 'text', null, true)}\n                {renderFormField('Mileage', 'mileage', 'number', null, false, Gauge)}\n                {renderFormField('Exterior Color', 'exteriorColor', 'text', null, false, Palette)}\n                {renderFormField('Interior Color', 'interiorColor', 'text', null, false, Palette)}\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 2:\n        return (\n          <div className=\"space-y-6\">\n            {/* Deal Configuration */}\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n              <h3 className=\"text-lg font-medium text-white mb-4\">Deal Configuration</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {renderFormField('Funding Source', 'fundingSource', 'select', fundingSources, true, DollarSign)}\n                {renderFormField('Purchase/Sale Date', 'purchaseDate', 'date', null, true, Calendar)}\n                {renderFormField('Payment Method', 'paymentMethod', 'select', paymentMethods, true)}\n                {renderFormField('RP Stock Number', 'rpStockNumber', 'text', null, false, Hash)}\n              </div>\n            </div>\n          </div>\n        );\n      case 3:\n        return dealTypeFields.showFinancials ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Financial Information</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Left column */}\n              <div className=\"space-y-6\">\n                {renderFormField('Purchase Price', 'purchasePrice', 'number', null, true, DollarSign)}\n                {formData.dealType2SubType !== 'sale' && renderFormField('Kill Price', 'killPrice', 'number')}\n                {formData.dealType2SubType !== 'sale' && renderFormField('Wholesale Price', 'wholesalePrice', 'number')}\n                {formData.dealType2SubType !== 'sale' && renderFormField('List Price', 'listPrice', 'number')}\n                {formData.dealType2SubType !== 'sale' && renderFormField('Commission Rate (%)', 'commissionRate', 'number')}\n              </div>\n              {/* Right column */}\n              <div className=\"space-y-6\">\n                {renderFormField('Brokerage Fee', 'brokerageFee', 'number')}\n                {renderFormField('Brokerage Fee Paid To', 'brokeerageFeePaidTo', 'text')}\n                {formData.dealType2SubType !== 'sale' && renderFormField('Payoff Balance', 'payoffBalance', 'number')}\n                {renderFormField('Amount Due to Customer', 'amountDueToCustomer', 'number')}\n                {renderFormField('Amount Due to RP', 'amountDueToRP', 'number')}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <DollarSign className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Financial Information Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require financial information.</p>\n          </div>\n        );\n      \n      case 4:\n        return dealTypeFields.showSellerInfo ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Seller Information</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                {renderFormField('Purchased From', 'sellerName', 'text', null, true, User)}\n              </div>\n              {renderFormField('Company/Dealer', 'sellerCompany', 'text')}\n              {renderFormField('Phone', 'sellerPhone', 'tel', null, false, Phone)}\n              {renderFormField('Email', 'sellerEmail', 'email', null, false, Mail)}\n              <div className=\"md:col-span-2\">\n                {renderFormField('Address', 'sellerAddress', 'text', null, false, MapPin)}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <User className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Seller Information Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require seller information.</p>\n          </div>\n        );\n      \n      case 5:\n        return dealTypeFields.showDocumentation ? (\n          <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\n            <h3 className=\"text-lg font-medium text-white mb-4\">Documentation & Notes</h3>\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <h4 className=\"text-md font-medium text-white mb-4\">Documentation Status</h4>\n                  {renderFormField('Contract Required', 'contractRequired', 'checkbox')}\n                  {renderFormField('Title Present', 'titlePresent', 'checkbox')}\n                  {renderFormField('Driver License Present', 'driverLicensePresent', 'checkbox')}\n                  {renderFormField('Odometer Present', 'odometerPresent', 'checkbox')}\n                  {renderFormField('Dealer License Present', 'dealerLicensePresent', 'checkbox')}\n                </div>\n                <div>\n                  {renderFormField('Vehicle Description', 'vehicleDescription', 'textarea', null, false, FileText)}\n                </div>\n              </div>\n              <div>\n                {renderFormField('General Notes', 'generalNotes', 'textarea', null, false, Info)}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-white mb-2\">Documentation Not Required</h3>\n            <p className=\"text-gray-400\">This deal type does not require documentation tracking.</p>\n          </div>\n        );\n      \n      default:\n        return null;\n    }\n  };\n\n  // Calculate total steps based on deal type\n  const getTotalSteps = () => {\n    let steps = 2; // Always have vehicle info and deal config\n    if (dealTypeFields.showFinancials) steps++;\n    if (dealTypeFields.showSellerInfo) steps++;\n    if (dealTypeFields.showDocumentation) steps++;\n    return steps;\n  };\n\n  const totalSteps = getTotalSteps();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n      </div>\n\n      {/* Header */}\n      <header className=\"relative bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <button \n                onClick={() => window.history.back()}\n                className=\"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors\"\n              >\n                <ArrowLeft className=\"h-5 w-5 text-white\" />\n              </button>\n              <div className=\"flex items-center\">\n                <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25\">\n                  <Plus className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white\">New Deal Entry</h1>\n                  <p className=\"text-gray-300 text-sm\">Create a new vehicle deal</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => handleSave(true)}\n                disabled={saving}\n                className=\"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50\"\n              >\n                {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\n                Save Draft\n              </button>\n              \n              <button\n                onClick={() => handleSave(false)}\n                disabled={saving}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50\"\n              >\n                {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <CheckCircle className=\"h-4 w-4 mr-2\" />}\n                Create Deal\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"relative max-w-6xl mx-auto px-6 py-8\">\n        {/* Step Indicator */}\n        {renderStepIndicator()}\n\n        {/* Form Content */}\n        <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8\">\n          <div className=\"mb-6\">\n            <h2 className=\"text-2xl font-bold text-white mb-2\">\n              {currentStep === 1 && 'Vehicle Information & Deal Type'}\n              {currentStep === 2 && 'Deal Configuration'}\n              {currentStep === 3 && dealTypeFields.showFinancials && 'Financial Information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes'}\n              {currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Seller Information'}\n              {currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Documentation & Notes'}\n              {currentStep === 5 && 'Documentation & Notes'}\n            </h2>\n            <p className=\"text-gray-300\">\n              {currentStep === 1 && 'Enter basic vehicle information and select the deal type'}\n              {currentStep === 2 && 'Configure deal type, funding, and timeline'}\n              {currentStep === 3 && dealTypeFields.showFinancials && 'Set pricing and financial terms'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information'}\n              {currentStep === 3 && !dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes'}\n              {currentStep === 4 && dealTypeFields.showFinancials && dealTypeFields.showSellerInfo && 'Add seller contact information'}\n              {currentStep === 4 && dealTypeFields.showFinancials && !dealTypeFields.showSellerInfo && dealTypeFields.showDocumentation && 'Document status and additional notes'}\n              {currentStep === 5 && 'Document status and additional notes'}\n            </p>\n          </div>\n\n          {renderStep()}\n\n          {/* Navigation Buttons */}\n          <div className=\"flex items-center justify-between mt-8 pt-6 border-t border-white/10\">\n            <button\n              onClick={() => setCurrentStep(Math.max(1, currentStep - 1))}\n              disabled={currentStep === 1}\n              className=\"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Previous\n            </button>\n\n            <div className=\"flex items-center space-x-3\">\n              {currentStep === totalSteps && formData.vehicleDescription && (\n                <button\n                  onClick={handleEmailToListingTeam}\n                  className=\"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\"\n                >\n                  <Send className=\"h-4 w-4 mr-2\" />\n                  Email to Listing Team\n                </button>\n              )}\n              \n              {currentStep < totalSteps ? (\n                <button\n                  onClick={() => setCurrentStep(Math.min(totalSteps, currentStep + 1))}\n                  className=\"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors\"\n                >\n                  Next\n                  <ArrowLeft className=\"h-4 w-4 ml-2 rotate-180\" />\n                </button>\n              ) : (\n                <button\n                  onClick={() => handleSave(false)}\n                  disabled={saving}\n                  className=\"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50\"\n                >\n                  {saving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <CheckCircle className=\"h-4 w-4 mr-2\" />}\n                  Complete Deal\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* VIN Decode Status */}\n        {vinDecoding && (\n          <div className=\"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\">\n            <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n            Decoding VIN...\n          </div>\n        )}\n        \n        {vinDecoded && (\n          <div className=\"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center\">\n            <CheckCircle className=\"h-4 w-4 mr-2\" />\n            VIN decoded successfully!\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NewDealEntry; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,GAAG,EAAEC,SAAS,EAAEC,IAAI,EAAEC,IAAI,EAAEC,WAAW,EAAEC,WAAW,EAAEC,OAAO,EAC7DC,QAAQ,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,IAAI,EACpCC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAEC,KAAK,EACzCC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,QACpB,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtB,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,WAAW,CAAC,GAAG3B,QAAQ,CAAC;IAC7B4B,IAAI,EAAE,cAAc;IACpBC,IAAI,EAAE,OAAO;IACbC,WAAW,EAAE;MACXC,cAAc,EAAE,IAAI;MACpBC,iBAAiB,EAAE,IAAI;MACvBC,gBAAgB,EAAE;IACpB;EACF,CAAC,CAAC;EAEF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC;IACvC;IACAoC,GAAG,EAAE,EAAE;IACPC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,aAAa,EAAE,EAAE;IACjBC,aAAa,EAAE,EAAE;IAEjB;IACAC,QAAQ,EAAE,EAAE;IACZC,gBAAgB,EAAE,EAAE;IAAE;IACtBC,aAAa,EAAE,EAAE;IACjBC,YAAY,EAAE,EAAE;IAChBC,aAAa,EAAE,OAAO;IAAE;IACxBC,YAAY,EAAE,iBAAiB;IAE/B;IACAC,aAAa,EAAE,EAAE;IACjBC,SAAS,EAAE,EAAE;IACbC,SAAS,EAAE,EAAE;IACbC,cAAc,EAAE,EAAE;IAClBC,cAAc,EAAE,EAAE;IAClBC,YAAY,EAAE,EAAE;IAChBC,mBAAmB,EAAE,EAAE;IACvBC,aAAa,EAAE,EAAE;IACjBC,mBAAmB,EAAE,EAAE;IACvBC,aAAa,EAAE,EAAE;IAEjB;IACAC,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE,EAAE;IACjBC,aAAa,EAAE,EAAE;IACjBC,WAAW,EAAE,EAAE;IACfC,WAAW,EAAE,EAAE;IAEf;IACAC,aAAa,EAAE,EAAE;IACjBC,kBAAkB,EAAE,EAAE;IACtBC,YAAY,EAAE,EAAE;IAEhB;IACAC,gBAAgB,EAAE,KAAK;IACvBC,YAAY,EAAE,KAAK;IACnBC,oBAAoB,EAAE,KAAK;IAC3BC,eAAe,EAAE,KAAK;IACtBC,oBAAoB,EAAE;EACxB,CAAC,CAAC;EAEF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGzE,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC0E,UAAU,EAAEC,aAAa,CAAC,GAAG3E,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC4E,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7E,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAAC8E,UAAU,EAAEC,aAAa,CAAC,GAAG/E,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAACgF,MAAM,EAAEC,SAAS,CAAC,GAAGjF,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACkF,WAAW,EAAEC,cAAc,CAAC,GAAGnF,QAAQ,CAAC,CAAC,CAAC;;EAEjD;EACA;;EAEA;EACA,MAAMoF,SAAS,GAAG,CAChB;IAAEC,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAkB,CAAC,EACpD;IAAED,KAAK,EAAE,mBAAmB;IAAEC,KAAK,EAAE;EAA4B,CAAC,EAClE;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACtD;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAc,CAAC,EAC5C;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACtD;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAChD;IAAED,KAAK,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC,CACvC;EAED,MAAMC,cAAc,GAAG,CACrB;IAAEF,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAChD;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACtD;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAClD;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAc,CAAC,CAC/C;EAED,MAAME,cAAc,GAAG,CACrB;IAAEH,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAClC;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACzC;IAAED,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAM,CAAC,EAC9B;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAW,CAAC,CACzC;EAED,MAAMG,UAAU,GAAG,CACjB;IAAEJ,KAAK,EAAE,iBAAiB;IAAEC,KAAK,EAAE;EAAkB,CAAC,EACtD;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACxD;IAAED,KAAK,EAAE,sBAAsB;IAAEC,KAAK,EAAE;EAAuB,CAAC,EAChE;IAAED,KAAK,EAAE,qBAAqB;IAAEC,KAAK,EAAE;EAAsB,CAAC,EAC9D;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,EAC1C;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACxD;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACpD;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAClD;IAAED,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,EACpC;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,CAC3C;EAED,MAAMI,mBAAmB,GAAG,CAC1B;IAAEL,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAM,CAAC,EAC9B;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAW,CAAC,EACxC;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,EAC1C;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,EAC1C;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,EAC1C;IAAED,KAAK,EAAE,cAAc;IAAEC,KAAK,EAAE;EAAe,CAAC,CACjD;;EAED;EACA,MAAMK,iBAAiB,GAAGA,CAAA,KAAM;IAC9B;IACA,MAAMhD,QAAQ,GAAGT,QAAQ,CAACS,QAAQ;IAClC,OAAO;MACLiD,cAAc,EAAE,CACd,eAAe,EAAE,mBAAmB,EAAE,gBAAgB,EACtD,WAAW,EAAE,gBAAgB,EAAE,aAAa,EAAE,SAAS,CACxD,CAACC,QAAQ,CAAClD,QAAQ,CAAC;MACpBmD,cAAc,EAAE,IAAI;MACpBC,iBAAiB,EAAE,CACjB,eAAe,EAAE,mBAAmB,EAAE,gBAAgB,EACtD,WAAW,EAAE,gBAAgB,EAAE,aAAa,EAAE,SAAS,CACxD,CAACF,QAAQ,CAAClD,QAAQ,CAAC;MACpBqD,cAAc,EAAE,CAAC,KAAK,EAAE,UAAU,EAAE,kBAAkB,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY;IAC/F,CAAC;EACH,CAAC;EAED,MAAMC,cAAc,GAAGN,iBAAiB,CAAC,CAAC;;EAE1C;EACA,MAAMO,SAAS,GAAG,MAAO9D,GAAG,IAAK;IAC/BqC,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MACF,MAAM0B,QAAQ,GAAG,MAAMC,KAAK,CAAC,uBAAuB,EAAE;QACpDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAErE;QAAI,CAAC;MAC9B,CAAC,CAAC;MAEF,MAAMsE,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACA,IAAI,EAAE;QAC7BvE,WAAW,CAAC0E,IAAI,KAAK;UACnB,GAAGA,IAAI;UACPxE,IAAI,EAAEqE,IAAI,CAACA,IAAI,CAACrE,IAAI,IAAI,EAAE;UAC1BC,IAAI,EAAEoE,IAAI,CAACA,IAAI,CAACpE,IAAI,IAAI,EAAE;UAC1BC,KAAK,EAAEmE,IAAI,CAACA,IAAI,CAACnE,KAAK,IAAI;QAC5B,CAAC,CAAC,CAAC;QAEHoC,aAAa,CAAC,IAAI,CAAC;QACnBmC,UAAU,CAAC,MAAMnC,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;MAC9C,CAAC,MAAM;QACLoC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEN,IAAI,CAACM,KAAK,CAAC;QAC/CC,KAAK,CAACP,IAAI,CAACM,KAAK,IAAI,2DAA2D,CAAC;MAClF;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCC,KAAK,CAAC,qEAAqE,CAAC;IAC9E,CAAC,SAAS;MACRxC,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMyC,aAAa,GAAG,MAAOC,KAAK,IAAK;IACrC,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACpBvC,oBAAoB,CAAC,EAAE,CAAC;MACxB;IACF;IACA;IACA,IAAI;MACF,MAAMsB,QAAQ,GAAG,MAAMC,KAAK,CAAC,yBAAyBiB,kBAAkB,CAACF,KAAK,CAAC,EAAE,CAAC;MAClF,MAAMT,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClC9B,oBAAoB,CAAC6B,IAAI,CAACY,OAAO,IAAI,EAAE,CAAC;IAC1C,CAAC,CAAC,OAAON,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CnC,oBAAoB,CAAC,EAAE,CAAC;IAC1B,CAAC,SAAS;MACR;IAAA;EAEJ,CAAC;;EAED;EACA5E,SAAS,CAAC,MAAM;IACd,IAAI,CAACiC,QAAQ,CAAC8B,aAAa,IAAI9B,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACI,IAAI,EAAE;MAC7D,MAAMD,IAAI,GAAG,IAAIkF,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACrC,MAAMC,WAAW,GAAG,KAAKpF,IAAI,GAAGqF,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;MAC/F3F,WAAW,CAAC0E,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE7C,aAAa,EAAEyD;MAAY,CAAC,CAAC,CAAC;IAChE;EACF,CAAC,EAAE,CAACvF,QAAQ,CAACG,IAAI,EAAEH,QAAQ,CAACI,IAAI,EAAEJ,QAAQ,CAAC8B,aAAa,CAAC,CAAC;EAE1D,MAAM+D,iBAAiB,GAAGA,CAACC,KAAK,EAAE3C,KAAK,KAAK;IAC1C;IACA,IAAI2C,KAAK,KAAK,UAAU,EAAE;MACxB7F,WAAW,CAAC0E,IAAI,KAAK;QACnB,GAAGA,IAAI;QACPlE,QAAQ,EAAE0C,KAAK;QACfzC,gBAAgB,EAAEyC,KAAK,KAAK,aAAa,GAAGwB,IAAI,CAACjE,gBAAgB,GAAG;MACtE,CAAC,CAAC,CAAC;MACH,IAAIsC,WAAW,GAAG,CAAC,EAAEC,cAAc,CAAC,CAAC,CAAC;MACtC;IACF;IACAhD,WAAW,CAAC0E,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACmB,KAAK,GAAG3C;IAAM,CAAC,CAAC,CAAC;;IAElD;IACA,IAAIP,UAAU,CAACkD,KAAK,CAAC,EAAE;MACrBjD,aAAa,CAAC8B,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACmB,KAAK,GAAG;MAAK,CAAC,CAAC,CAAC;IACrD;;IAEA;IACA,IAAIA,KAAK,KAAK,KAAK,IAAI3C,KAAK,CAAC+B,MAAM,KAAK,EAAE,IAAI,CAAC1C,UAAU,EAAE;MACzDwB,SAAS,CAACb,KAAK,CAAC;IAClB;;IAEA;IACA,IAAI2C,KAAK,KAAK,YAAY,EAAE;MAC1Bd,aAAa,CAAC7B,KAAK,CAAC;IACtB;;IAEA;IACA,IAAI2C,KAAK,KAAK,UAAU,IAAI9C,WAAW,GAAG,CAAC,EAAE;MAC3CC,cAAc,CAAC,CAAC,CAAC;IACnB;EACF,CAAC;EAED,MAAM8C,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAG,CAAC,CAAC;IACjB,MAAMlC,cAAc,GAAGC,cAAc,CAACD,cAAc,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,kBAAkB,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,CAAC;IAEtIA,cAAc,CAACmC,OAAO,CAACH,KAAK,IAAI;MAC9B,IAAI,CAAC9F,QAAQ,CAAC8F,KAAK,CAAC,IAAI9F,QAAQ,CAAC8F,KAAK,CAAC,CAACI,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QAChEH,MAAM,CAACF,KAAK,CAAC,GAAG,GAAGA,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGP,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAC,cAAc;MACjF;IACF,CAAC,CAAC;;IAEF;IACA,IAAItG,QAAQ,CAACE,GAAG,IAAIF,QAAQ,CAACE,GAAG,CAACgF,MAAM,KAAK,EAAE,EAAE;MAC9Cc,MAAM,CAAC9F,GAAG,GAAG,mCAAmC;IAClD;IAEA,IAAIF,QAAQ,CAACG,IAAI,KAAKH,QAAQ,CAACG,IAAI,GAAG,IAAI,IAAIH,QAAQ,CAACG,IAAI,GAAG,IAAIkF,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;MAC3FU,MAAM,CAAC7F,IAAI,GAAG,2BAA2B;IAC3C;IAEA,IAAIH,QAAQ,CAACM,OAAO,IAAIN,QAAQ,CAACM,OAAO,GAAG,CAAC,EAAE;MAC5C0F,MAAM,CAAC1F,OAAO,GAAG,4BAA4B;IAC/C;IAEA,IAAIyD,cAAc,CAACL,cAAc,IAAI1D,QAAQ,CAACe,aAAa,IAAIf,QAAQ,CAACe,aAAa,IAAI,CAAC,EAAE;MAC1FiF,MAAM,CAACjF,aAAa,GAAG,uCAAuC;IAChE;IAEA8B,aAAa,CAACmD,MAAM,CAAC;IACrB,OAAOO,MAAM,CAACC,IAAI,CAACR,MAAM,CAAC,CAACd,MAAM,KAAK,CAAC;EACzC,CAAC;EAED,MAAMuB,UAAU,GAAG,MAAAA,CAAOC,OAAO,GAAG,KAAK,KAAK;IAC5C,IAAI,CAACA,OAAO,IAAI,CAACX,YAAY,CAAC,CAAC,EAAE;MAC/B;IACF;IAEAhD,SAAS,CAAC,IAAI,CAAC;IAEf,IAAI;MACF;MACA,MAAM,IAAI4D,OAAO,CAACC,OAAO,IAAIhC,UAAU,CAACgC,OAAO,EAAE,IAAI,CAAC,CAAC;MAEvD/B,OAAO,CAACgC,GAAG,CAAC,cAAc,EAAE;QAAE,GAAG7G,QAAQ;QAAE0G;MAAQ,CAAC,CAAC;;MAErD;MACA3B,KAAK,CAAC2B,OAAO,GAAG,2BAA2B,GAAG,4BAA4B,CAAC;IAE7E,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACnCC,KAAK,CAAC,sCAAsC,CAAC;IAC/C,CAAC,SAAS;MACRhC,SAAS,CAAC,KAAK,CAAC;IAClB;EACF,CAAC;EAED,MAAM+D,wBAAwB,GAAGA,CAAA,KAAM;IACrC,MAAMC,SAAS,GAAG;AACtB;AACA,WAAW/G,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACI,IAAI,IAAIJ,QAAQ,CAACK,KAAK;AAC3D,OAAOL,QAAQ,CAACE,GAAG;AACnB,WAAWF,QAAQ,CAAC8B,aAAa;AACjC,WAAW9B,QAAQ,CAACM,OAAO;AAC3B,YAAYN,QAAQ,CAACO,aAAa;AAClC,YAAYP,QAAQ,CAACQ,aAAa;AAClC;AACA;AACA,EAAER,QAAQ,CAAC+B,kBAAkB;AAC7B;AACA;AACA;AACA;AACA,EAAEtC,WAAW,CAACC,IAAI,EAAE;IAEhB,MAAMsH,UAAU,GAAG,kEAAkEhH,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACI,IAAI,IAAIJ,QAAQ,CAACK,KAAK,SAAS8E,kBAAkB,CAAC4B,SAAS,CAAC,EAAE;IAC7KE,MAAM,CAACC,IAAI,CAACF,UAAU,CAAC;EACzB,CAAC;EAED,MAAMG,KAAK,GAAG,CACZ;IAAEC,EAAE,EAAE,CAAC;IAAEC,KAAK,EAAE,cAAc;IAAEC,IAAI,EAAEtJ;EAAI,CAAC,EAC3C;IAAEoJ,EAAE,EAAE,CAAC;IAAEC,KAAK,EAAE,cAAc;IAAEC,IAAI,EAAE7I;EAAS,CAAC,EAChD;IAAE2I,EAAE,EAAE,CAAC;IAAEC,KAAK,EAAE,WAAW;IAAEC,IAAI,EAAE9I;EAAW,CAAC,EAC/C;IAAE4I,EAAE,EAAE,CAAC;IAAEC,KAAK,EAAE,aAAa;IAAEC,IAAI,EAAE5I;EAAK,CAAC,EAC3C;IAAE0I,EAAE,EAAE,CAAC;IAAEC,KAAK,EAAE,eAAe;IAAEC,IAAI,EAAEpI;EAAO,CAAC,CAChD;EAED,MAAMqI,mBAAmB,GAAGA,CAAA,kBAC1BjI,OAAA;IAAKkI,SAAS,EAAC,MAAM;IAAAC,QAAA,eACnBnI,OAAA;MAAKkI,SAAS,EAAC,mCAAmC;MAAAC,QAAA,EAC/CC,KAAK,CAACC,IAAI,CAAC;QAAEzC,MAAM,EAAE0C;MAAW,CAAC,EAAE,CAACC,CAAC,EAAEC,KAAK,KAAK;QAChD,MAAMC,UAAU,GAAGD,KAAK,GAAG,CAAC;QAC5B,MAAME,QAAQ,GAAGhF,WAAW,KAAK+E,UAAU;QAC3C,MAAME,WAAW,GAAGjF,WAAW,GAAG+E,UAAU;QAE5C,IAAIG,SAAS,GAAG,EAAE;QAClB,IAAIC,eAAe,GAAG,EAAE;QAExB,IAAIJ,UAAU,KAAK,CAAC,EAAE;UACpBG,SAAS,GAAG,qBAAqB;UACjCC,eAAe,GAAG,gDAAgD;QACpE,CAAC,MAAM,IAAIJ,UAAU,KAAK,CAAC,EAAE;UAC3BG,SAAS,GAAG,oBAAoB;UAChCC,eAAe,GAAG,0CAA0C;QAC9D,CAAC,MAAM,IAAIJ,UAAU,KAAK,CAAC,IAAIhE,cAAc,CAACL,cAAc,EAAE;UAC5DwE,SAAS,GAAG,uBAAuB;UACnCC,eAAe,GAAG,iCAAiC;QACrD,CAAC,MAAM,IAAKJ,UAAU,KAAK,CAAC,IAAI,CAAChE,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IACnFmE,UAAU,KAAK,CAAC,IAAIhE,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAe,EAAE;UAC/FsE,SAAS,GAAG,oBAAoB;UAChCC,eAAe,GAAG,gCAAgC;QACpD,CAAC,MAAM,IAAKJ,UAAU,KAAK,CAAC,IAAI,CAAChE,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAiB,IACxHkE,UAAU,KAAK,CAAC,IAAIhE,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAkB,IACxHkE,UAAU,KAAK,CAAC,IAAIhE,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAkB,EAAE;UACnIqE,SAAS,GAAG,uBAAuB;UACnCC,eAAe,GAAG,sCAAsC;QAC1D;QAEA,oBACE7I,OAAA;UAAsBkI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBACjDnI,OAAA;YAAKkI,SAAS,EAAE,sFACdQ,QAAQ,GACJ,wCAAwC,GACxCC,WAAW,GACT,0CAA0C,GAC1C,2CAA2C,EAChD;YAAAR,QAAA,EACAQ,WAAW,gBACV3I,OAAA,CAACjB,WAAW;cAACmJ,SAAS,EAAC;YAAS;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAEnCjJ,OAAA;cAAMkI,SAAS,EAAC,qBAAqB;cAAAC,QAAA,EAAEM;YAAU;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UACzD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNjJ,OAAA;YAAKkI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBnI,OAAA;cAAGkI,SAAS,EAAE,uBAAuBQ,QAAQ,GAAG,YAAY,GAAG,eAAe,EAAG;cAAAP,QAAA,EAC9ES;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACJjJ,OAAA;cAAGkI,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEU;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC,EACLR,UAAU,GAAGH,UAAU,iBACtBtI,OAAA;YAAKkI,SAAS,EAAE,mBAAmBS,WAAW,GAAG,cAAc,GAAG,aAAa;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CACrF;QAAA,GAtBOR,UAAU;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAuBf,CAAC;MAEV,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMC,eAAe,GAAGA,CAACpF,KAAK,EAAE0C,KAAK,EAAE2C,IAAI,GAAG,MAAM,EAAEC,OAAO,GAAG,IAAI,EAAEC,QAAQ,GAAG,KAAK,EAAErB,IAAI,GAAG,IAAI,kBACjGhI,OAAA;IAAKkI,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBnI,OAAA;MAAOkI,SAAS,EAAC,qDAAqD;MAAAC,QAAA,GACnEH,IAAI,iBAAIzJ,KAAK,CAAC+K,aAAa,CAACtB,IAAI,EAAE;QAAEE,SAAS,EAAE;MAAe,CAAC,CAAC,EAChEpE,KAAK,EACLuF,QAAQ,iBAAIrJ,OAAA;QAAMkI,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAC;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC,EAEPE,IAAI,KAAK,QAAQ,gBAChBnJ,OAAA;MACE6D,KAAK,EAAEnD,QAAQ,CAAC8F,KAAK,CAAE;MACvB+C,QAAQ,EAAGC,CAAC,IAAKjD,iBAAiB,CAACC,KAAK,EAAEgD,CAAC,CAACC,MAAM,CAAC5F,KAAK,CAAE;MAC1DqE,SAAS,EAAE,wJACT5E,UAAU,CAACkD,KAAK,CAAC,GAAG,gBAAgB,GAAG,uCAAuC,EAC7E;MAAA2B,QAAA,gBAEHnI,OAAA;QAAQ6D,KAAK,EAAC,EAAE;QAAAsE,QAAA,GAAC,SAAO,EAACrE,KAAK;MAAA;QAAAgF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,EACvCG,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEM,GAAG,CAACC,MAAM,iBAClB3J,OAAA;QAA2B6D,KAAK,EAAE8F,MAAM,CAAC9F,KAAM;QAACqE,SAAS,EAAC,aAAa;QAAAC,QAAA,EACpEwB,MAAM,CAAC7F;MAAK,GADF6F,MAAM,CAAC9F,KAAK;QAAAiF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEjB,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,GACPE,IAAI,KAAK,UAAU,gBACrBnJ,OAAA;MACE6D,KAAK,EAAEnD,QAAQ,CAAC8F,KAAK,CAAE;MACvB+C,QAAQ,EAAGC,CAAC,IAAKjD,iBAAiB,CAACC,KAAK,EAAEgD,CAAC,CAACC,MAAM,CAAC5F,KAAK,CAAE;MAC1D+F,IAAI,EAAE,CAAE;MACRC,WAAW,EAAE,SAAS/F,KAAK,CAACgG,WAAW,CAAC,CAAC,KAAM;MAC/C5B,SAAS,EAAE,oKACT5E,UAAU,CAACkD,KAAK,CAAC,GAAG,gBAAgB,GAAG,uCAAuC;IAC7E;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,GACAE,IAAI,KAAK,UAAU,gBACrBnJ,OAAA;MAAOkI,SAAS,EAAC,4CAA4C;MAAAC,QAAA,gBAC3DnI,OAAA;QACEmJ,IAAI,EAAC,UAAU;QACfY,OAAO,EAAErJ,QAAQ,CAAC8F,KAAK,CAAE;QACzB+C,QAAQ,EAAGC,CAAC,IAAKjD,iBAAiB,CAACC,KAAK,EAAEgD,CAAC,CAACC,MAAM,CAACM,OAAO,CAAE;QAC5D7B,SAAS,EAAC;MAAuE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CAAC,eACFjJ,OAAA;QAAMkI,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAErE;MAAK;QAAAgF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC,gBAERjJ,OAAA;MAAKkI,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACvBnI,OAAA;QACEmJ,IAAI,EAAEA,IAAK;QACXtF,KAAK,EAAEnD,QAAQ,CAAC8F,KAAK,CAAE;QACvB+C,QAAQ,EAAGC,CAAC,IAAKjD,iBAAiB,CAACC,KAAK,EAAEgD,CAAC,CAACC,MAAM,CAAC5F,KAAK,CAAE;QAC1DgG,WAAW,EAAE,SAAS/F,KAAK,CAACgG,WAAW,CAAC,CAAC,KAAM;QAC/C5B,SAAS,EAAE,wJACT5E,UAAU,CAACkD,KAAK,CAAC,GAAG,gBAAgB,GAAG,uCAAuC,IAC5EA,KAAK,KAAK,KAAK,GAAG,OAAO,GAAG,EAAE;MAAG;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,EAEDzC,KAAK,KAAK,KAAK,IAAI9F,QAAQ,CAACE,GAAG,CAACgF,MAAM,KAAK,EAAE,iBAC5C5F,OAAA;QAAKkI,SAAS,EAAC,qDAAqD;QAAAC,QAAA,EACjEnF,WAAW,gBACVhD,OAAA,CAAChB,OAAO;UAACkJ,SAAS,EAAC;QAAoC;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,GACxD/F,UAAU,gBACZlD,OAAA,CAACjB,WAAW;UAACmJ,SAAS,EAAC;QAAwB;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAElDjJ,OAAA;UACEgK,OAAO,EAAEA,CAAA,KAAMtF,SAAS,CAAChE,QAAQ,CAACE,GAAG,CAAE;UACvCsH,SAAS,EAAC,sFAAsF;UAAAC,QAAA,EACjG;QAED;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MACT;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAEAzC,KAAK,KAAK,YAAY,IAAIpD,iBAAiB,CAACwC,MAAM,GAAG,CAAC,iBACrD5F,OAAA;QAAKkI,SAAS,EAAC,6HAA6H;QAAAC,QAAA,EACzI/E,iBAAiB,CAACsG,GAAG,CAACO,MAAM,iBAC3BjK,OAAA;UAEEkI,SAAS,EAAC,+EAA+E;UACzF8B,OAAO,EAAEA,CAAA,KAAM;YACbrJ,WAAW,CAAC0E,IAAI;cAAA,IAAA6E,eAAA;cAAA,OAAK;gBACnB,GAAG7E,IAAI;gBACPlD,UAAU,EAAE8H,MAAM,CAAC7J,IAAI;gBACvBgC,aAAa,EAAE6H,MAAM,CAACE,OAAO;gBAC7B7H,WAAW,EAAE2H,MAAM,CAACG,KAAK;gBACzB7H,WAAW,EAAE,EAAA2H,eAAA,GAAAD,MAAM,CAACI,OAAO,cAAAH,eAAA,uBAAdA,eAAA,CAAgBI,KAAK,KAAIL,MAAM,CAACK,KAAK,IAAI;cACxD,CAAC;YAAA,CAAC,CAAC;YACHjH,oBAAoB,CAAC,EAAE,CAAC;UAC1B,CAAE;UAAA8E,QAAA,gBAEFnI,OAAA;YAAKkI,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAE8B,MAAM,CAAC7J;UAAI;YAAA0I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3DjJ,OAAA;YAAKkI,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GAAE8B,MAAM,CAACE,OAAO,EAAC,UAAG,EAACF,MAAM,CAACM,QAAQ;UAAA;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GAd5EgB,MAAM,CAACnC,EAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAeX,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAEA3F,UAAU,CAACkD,KAAK,CAAC,iBAChBxG,OAAA;MAAKkI,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACrDnI,OAAA,CAAClB,WAAW;QAACoJ,SAAS,EAAC;MAAc;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACvC3F,UAAU,CAACkD,KAAK,CAAC;IAAA;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CACN;EAED,MAAMuB,UAAU,GAAGA,CAAA,KAAM;IACvB,QAAQ9G,WAAW;MACjB,KAAK,CAAC;QACJ,oBACE1D,OAAA;UAAKkI,SAAS,EAAC,WAAW;UAAAC,QAAA,gBAExBnI,OAAA;YAAKkI,SAAS,EAAC,kDAAkD;YAAAC,QAAA,gBAC/DnI,OAAA;cAAIkI,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAmB;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAC3EC,eAAe,CAAC,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAEtF,SAAS,EAAE,IAAI,EAAElF,GAAG,CAAC,eACzEsB,OAAA;cAAKkI,SAAS,EAAC,MAAM;cAAAC,QAAA,EAClBe,eAAe,CAAC,aAAa,EAAE,kBAAkB,EAAE,QAAQ,EAAEhF,mBAAmB,EAAE,IAAI;YAAC;cAAA4E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENjJ,OAAA;YAAKkI,SAAS,EAAC,kDAAkD;YAAAC,QAAA,gBAC/DnI,OAAA;cAAIkI,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAmB;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5EjJ,OAAA;cAAKkI,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBACpDnI,OAAA;gBAAKkI,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAC3Be,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE1J,IAAI;cAAC;gBAAAsJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,EACLC,eAAe,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAEjK,QAAQ,CAAC,EAC/DiK,eAAe,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,EACnDA,eAAe,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,EACrDA,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAExJ,KAAK,CAAC,EACnEwJ,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAEzJ,OAAO,CAAC,EAChFyJ,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAEzJ,OAAO,CAAC;YAAA;cAAAqJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,CAAC;QACJ,oBACEjJ,OAAA;UAAKkI,SAAS,EAAC,WAAW;UAAAC,QAAA,eAExBnI,OAAA;YAAKkI,SAAS,EAAC,kDAAkD;YAAAC,QAAA,gBAC/DnI,OAAA;cAAIkI,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAkB;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3EjJ,OAAA;cAAKkI,SAAS,EAAC,uCAAuC;cAAAC,QAAA,GACnDe,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,EAAEnF,cAAc,EAAE,IAAI,EAAE7E,UAAU,CAAC,EAC9FgK,eAAe,CAAC,oBAAoB,EAAE,cAAc,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAEjK,QAAQ,CAAC,EACnFiK,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,EAAElF,cAAc,EAAE,IAAI,CAAC,EAClFkF,eAAe,CAAC,iBAAiB,EAAE,eAAe,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE1J,IAAI,CAAC;YAAA;cAAAsJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAEV,KAAK,CAAC;QACJ,OAAOxE,cAAc,CAACL,cAAc,gBAClCpE,OAAA;UAAKkI,SAAS,EAAC,kDAAkD;UAAAC,QAAA,gBAC/DnI,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAqB;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9EjJ,OAAA;YAAKkI,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBAEpDnI,OAAA;cAAKkI,SAAS,EAAC,WAAW;cAAAC,QAAA,GACvBe,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAEhK,UAAU,CAAC,EACpFwB,QAAQ,CAACU,gBAAgB,KAAK,MAAM,IAAI8H,eAAe,CAAC,YAAY,EAAE,WAAW,EAAE,QAAQ,CAAC,EAC5FxI,QAAQ,CAACU,gBAAgB,KAAK,MAAM,IAAI8H,eAAe,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,QAAQ,CAAC,EACtGxI,QAAQ,CAACU,gBAAgB,KAAK,MAAM,IAAI8H,eAAe,CAAC,YAAY,EAAE,WAAW,EAAE,QAAQ,CAAC,EAC5FxI,QAAQ,CAACU,gBAAgB,KAAK,MAAM,IAAI8H,eAAe,CAAC,qBAAqB,EAAE,gBAAgB,EAAE,QAAQ,CAAC;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxG,CAAC,eAENjJ,OAAA;cAAKkI,SAAS,EAAC,WAAW;cAAAC,QAAA,GACvBe,eAAe,CAAC,eAAe,EAAE,cAAc,EAAE,QAAQ,CAAC,EAC1DA,eAAe,CAAC,uBAAuB,EAAE,qBAAqB,EAAE,MAAM,CAAC,EACvExI,QAAQ,CAACU,gBAAgB,KAAK,MAAM,IAAI8H,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,CAAC,EACpGA,eAAe,CAAC,wBAAwB,EAAE,qBAAqB,EAAE,QAAQ,CAAC,EAC1EA,eAAe,CAAC,kBAAkB,EAAE,eAAe,EAAE,QAAQ,CAAC;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENjJ,OAAA;UAAKkI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCnI,OAAA,CAACd,UAAU;YAACgJ,SAAS,EAAC;UAAsC;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/DjJ,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAkC;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3FjJ,OAAA;YAAGkI,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAsD;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpF,CACN;MAEH,KAAK,CAAC;QACJ,OAAOxE,cAAc,CAACH,cAAc,gBAClCtE,OAAA;UAAKkI,SAAS,EAAC,kDAAkD;UAAAC,QAAA,gBAC/DnI,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAkB;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3EjJ,OAAA;YAAKkI,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBACpDnI,OAAA;cAAKkI,SAAS,EAAC,eAAe;cAAAC,QAAA,EAC3Be,eAAe,CAAC,gBAAgB,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE9J,IAAI;YAAC;cAAA0J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC,EACLC,eAAe,CAAC,gBAAgB,EAAE,eAAe,EAAE,MAAM,CAAC,EAC1DA,eAAe,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE5J,KAAK,CAAC,EAClE4J,eAAe,CAAC,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE3J,IAAI,CAAC,eACpES,OAAA;cAAKkI,SAAS,EAAC,eAAe;cAAAC,QAAA,EAC3Be,eAAe,CAAC,SAAS,EAAE,eAAe,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE7J,MAAM;YAAC;cAAAyJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENjJ,OAAA;UAAKkI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCnI,OAAA,CAACZ,IAAI;YAAC8I,SAAS,EAAC;UAAsC;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACzDjJ,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAA+B;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxFjJ,OAAA;YAAGkI,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAmD;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjF,CACN;MAEH,KAAK,CAAC;QACJ,OAAOxE,cAAc,CAACF,iBAAiB,gBACrCvE,OAAA;UAAKkI,SAAS,EAAC,kDAAkD;UAAAC,QAAA,gBAC/DnI,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAqB;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9EjJ,OAAA;YAAKkI,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBnI,OAAA;cAAKkI,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBACpDnI,OAAA;gBAAKkI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBnI,OAAA;kBAAIkI,SAAS,EAAC,qCAAqC;kBAAAC,QAAA,EAAC;gBAAoB;kBAAAW,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,EAC5EC,eAAe,CAAC,mBAAmB,EAAE,kBAAkB,EAAE,UAAU,CAAC,EACpEA,eAAe,CAAC,eAAe,EAAE,cAAc,EAAE,UAAU,CAAC,EAC5DA,eAAe,CAAC,wBAAwB,EAAE,sBAAsB,EAAE,UAAU,CAAC,EAC7EA,eAAe,CAAC,kBAAkB,EAAE,iBAAiB,EAAE,UAAU,CAAC,EAClEA,eAAe,CAAC,wBAAwB,EAAE,sBAAsB,EAAE,UAAU,CAAC;cAAA;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CAAC,eACNjJ,OAAA;gBAAAmI,QAAA,EACGe,eAAe,CAAC,qBAAqB,EAAE,oBAAoB,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE/J,QAAQ;cAAC;gBAAA2J,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNjJ,OAAA;cAAAmI,QAAA,EACGe,eAAe,CAAC,eAAe,EAAE,cAAc,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAEvJ,IAAI;YAAC;cAAAmJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENjJ,OAAA;UAAKkI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCnI,OAAA,CAACb,QAAQ;YAAC+I,SAAS,EAAC;UAAsC;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DjJ,OAAA;YAAIkI,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAA0B;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnFjJ,OAAA;YAAGkI,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAuD;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrF,CACN;MAEH;QACE,OAAO,IAAI;IACf;EACF,CAAC;;EAED;EACA,MAAMwB,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI5C,KAAK,GAAG,CAAC,CAAC,CAAC;IACf,IAAIpD,cAAc,CAACL,cAAc,EAAEyD,KAAK,EAAE;IAC1C,IAAIpD,cAAc,CAACH,cAAc,EAAEuD,KAAK,EAAE;IAC1C,IAAIpD,cAAc,CAACF,iBAAiB,EAAEsD,KAAK,EAAE;IAC7C,OAAOA,KAAK;EACd,CAAC;EAED,MAAMS,UAAU,GAAGmC,aAAa,CAAC,CAAC;EAElC,oBACEzK,OAAA;IAAKkI,SAAS,EAAC,oEAAoE;IAAAC,QAAA,gBAEjFnI,OAAA;MAAKkI,SAAS,EAAC,mDAAmD;MAAAC,QAAA,gBAChEnI,OAAA;QAAKkI,SAAS,EAAC;MAAwF;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9GjJ,OAAA;QAAKkI,SAAS,EAAC;MAAuG;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1H,CAAC,eAGNjJ,OAAA;MAAQkI,SAAS,EAAC,gEAAgE;MAAAC,QAAA,eAChFnI,OAAA;QAAKkI,SAAS,EAAC,6BAA6B;QAAAC,QAAA,eAC1CnI,OAAA;UAAKkI,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAChDnI,OAAA;YAAKkI,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCnI,OAAA;cACEgK,OAAO,EAAEA,CAAA,KAAMrC,MAAM,CAAC+C,OAAO,CAACC,IAAI,CAAC,CAAE;cACrCzC,SAAS,EAAC,4FAA4F;cAAAC,QAAA,eAEtGnI,OAAA,CAACrB,SAAS;gBAACuJ,SAAS,EAAC;cAAoB;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,eACTjJ,OAAA;cAAKkI,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChCnI,OAAA;gBAAKkI,SAAS,EAAC,6FAA6F;gBAAAC,QAAA,eAC1GnI,OAAA,CAACF,IAAI;kBAACoI,SAAS,EAAC;gBAAoB;kBAAAY,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC,eACNjJ,OAAA;gBAAAmI,QAAA,gBACEnI,OAAA;kBAAIkI,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,EAAC;gBAAc;kBAAAW,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChEjJ,OAAA;kBAAGkI,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAyB;kBAAAW,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENjJ,OAAA;YAAKkI,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1CnI,OAAA;cACEgK,OAAO,EAAEA,CAAA,KAAM7C,UAAU,CAAC,IAAI,CAAE;cAChCyD,QAAQ,EAAEpH,MAAO;cACjB0E,SAAS,EAAC,8IAA8I;cAAAC,QAAA,GAEvJ3E,MAAM,gBAAGxD,OAAA,CAAChB,OAAO;gBAACkJ,SAAS,EAAC;cAA2B;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAGjJ,OAAA,CAACpB,IAAI;gBAACsJ,SAAS,EAAC;cAAc;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAAC,YAElG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAETjJ,OAAA;cACEgK,OAAO,EAAEA,CAAA,KAAM7C,UAAU,CAAC,KAAK,CAAE;cACjCyD,QAAQ,EAAEpH,MAAO;cACjB0E,SAAS,EAAC,oLAAoL;cAAAC,QAAA,GAE7L3E,MAAM,gBAAGxD,OAAA,CAAChB,OAAO;gBAACkJ,SAAS,EAAC;cAA2B;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAGjJ,OAAA,CAACjB,WAAW;gBAACmJ,SAAS,EAAC;cAAc;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAAC,aAEzG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAETjJ,OAAA;MAAKkI,SAAS,EAAC,sCAAsC;MAAAC,QAAA,GAElDF,mBAAmB,CAAC,CAAC,eAGtBjI,OAAA;QAAKkI,SAAS,EAAC,oEAAoE;QAAAC,QAAA,gBACjFnI,OAAA;UAAKkI,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBnI,OAAA;YAAIkI,SAAS,EAAC,oCAAoC;YAAAC,QAAA,GAC/CzE,WAAW,KAAK,CAAC,IAAI,iCAAiC,EACtDA,WAAW,KAAK,CAAC,IAAI,oBAAoB,EACzCA,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAI,uBAAuB,EAC7EV,WAAW,KAAK,CAAC,IAAI,CAACe,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IAAI,oBAAoB,EAC5GZ,WAAW,KAAK,CAAC,IAAI,CAACe,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAiB,IAAI,uBAAuB,EACpJb,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IAAI,oBAAoB,EAC3GZ,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAiB,IAAI,uBAAuB,EACnJb,WAAW,KAAK,CAAC,IAAI,uBAAuB;UAAA;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC,eACLjJ,OAAA;YAAGkI,SAAS,EAAC,eAAe;YAAAC,QAAA,GACzBzE,WAAW,KAAK,CAAC,IAAI,0DAA0D,EAC/EA,WAAW,KAAK,CAAC,IAAI,4CAA4C,EACjEA,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAI,iCAAiC,EACvFV,WAAW,KAAK,CAAC,IAAI,CAACe,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IAAI,gCAAgC,EACxHZ,WAAW,KAAK,CAAC,IAAI,CAACe,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAiB,IAAI,sCAAsC,EACnKb,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAIK,cAAc,CAACH,cAAc,IAAI,gCAAgC,EACvHZ,WAAW,KAAK,CAAC,IAAIe,cAAc,CAACL,cAAc,IAAI,CAACK,cAAc,CAACH,cAAc,IAAIG,cAAc,CAACF,iBAAiB,IAAI,sCAAsC,EAClKb,WAAW,KAAK,CAAC,IAAI,sCAAsC;UAAA;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,EAELuB,UAAU,CAAC,CAAC,eAGbxK,OAAA;UAAKkI,SAAS,EAAC,sEAAsE;UAAAC,QAAA,gBACnFnI,OAAA;YACEgK,OAAO,EAAEA,CAAA,KAAMrG,cAAc,CAACwC,IAAI,CAAC0E,GAAG,CAAC,CAAC,EAAEnH,WAAW,GAAG,CAAC,CAAC,CAAE;YAC5DkH,QAAQ,EAAElH,WAAW,KAAK,CAAE;YAC5BwE,SAAS,EAAC,8HAA8H;YAAAC,QAAA,gBAExInI,OAAA,CAACrB,SAAS;cAACuJ,SAAS,EAAC;YAAc;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,YAExC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETjJ,OAAA;YAAKkI,SAAS,EAAC,6BAA6B;YAAAC,QAAA,GACzCzE,WAAW,KAAK4E,UAAU,IAAI5H,QAAQ,CAAC+B,kBAAkB,iBACxDzC,OAAA;cACEgK,OAAO,EAAExC,wBAAyB;cAClCU,SAAS,EAAC,uGAAuG;cAAAC,QAAA,gBAEjHnI,OAAA,CAACnB,IAAI;gBAACqJ,SAAS,EAAC;cAAc;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,yBAEnC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT,EAEAvF,WAAW,GAAG4E,UAAU,gBACvBtI,OAAA;cACEgK,OAAO,EAAEA,CAAA,KAAMrG,cAAc,CAACwC,IAAI,CAAC2E,GAAG,CAACxC,UAAU,EAAE5E,WAAW,GAAG,CAAC,CAAC,CAAE;cACrEwE,SAAS,EAAC,sJAAsJ;cAAAC,QAAA,GACjK,MAEC,eAAAnI,OAAA,CAACrB,SAAS;gBAACuJ,SAAS,EAAC;cAAyB;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3C,CAAC,gBAETjJ,OAAA;cACEgK,OAAO,EAAEA,CAAA,KAAM7C,UAAU,CAAC,KAAK,CAAE;cACjCyD,QAAQ,EAAEpH,MAAO;cACjB0E,SAAS,EAAC,kLAAkL;cAAAC,QAAA,GAE3L3E,MAAM,gBAAGxD,OAAA,CAAChB,OAAO;gBAACkJ,SAAS,EAAC;cAA2B;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAGjJ,OAAA,CAACjB,WAAW;gBAACmJ,SAAS,EAAC;cAAc;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAAC,eAEzG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLjG,WAAW,iBACVhD,OAAA;QAAKkI,SAAS,EAAC,gGAAgG;QAAAC,QAAA,gBAC7GnI,OAAA,CAAChB,OAAO;UAACkJ,SAAS,EAAC;QAA2B;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,mBAEnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN,EAEA/F,UAAU,iBACTlD,OAAA;QAAKkI,SAAS,EAAC,iGAAiG;QAAAC,QAAA,gBAC9GnI,OAAA,CAACjB,WAAW;UAACmJ,SAAS,EAAC;QAAc;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,6BAE1C;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/I,EAAA,CAjxBID,YAAY;AAAA8K,EAAA,GAAZ9K,YAAY;AAmxBlB,eAAeA,YAAY;AAAC,IAAA8K,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}