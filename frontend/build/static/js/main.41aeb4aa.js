/*! For license information please see main.41aeb4aa.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,l={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,l={},s=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)N.call(t,r)&&!k.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(1===o)l.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===l[r]&&(l[r]=o[r]);return{$$typeof:n,type:e,key:s,ref:i,props:l,_owner:j.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,l,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return s=s(o=e),e=""===l?"."+_(o,0):l,w(s)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),E(s,t,r,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(o=0,l=""===l?".":l+":",w(e))for(var c=0;c<e.length;c++){var d=l+_(i=e[c],c);o+=E(i,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=E(i=i.value,t,r,d=l+_(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,n){if(null==e)return e;var a=[],r=0;return E(e,a,"","",function(e){return t.call(n,e,r++)}),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=y,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=A,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),l=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=j.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:l,ref:s,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<l(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>l(o,n))c<r&&0>l(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<r&&0>l(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function w(e){if(x=!1,v(e),!f)if(null!==a(c))f=!0,R(N);else{var t=a(d);null!==t&&I(w,t.startTime-e)}}function N(e,n){f=!1,x&&(x=!1,b(T),T=-1),p=!0;var l=h;try{for(v(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!E());){var s=m.callback;if("function"===typeof s){m.callback=null,h=m.priorityLevel;var i=s(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===a(c)&&r(c),v(n)}else r(c);m=a(c)}if(null!==m)var o=!0;else{var u=a(d);null!==u&&I(w,u.startTime-n),o=!1}return o}finally{m=null,h=l,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,S=null,T=-1,C=5,_=-1;function E(){return!(t.unstable_now()-_<C)}function P(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?j():(k=!1,S=null)}}else k=!1}if("function"===typeof y)j=function(){y(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=P,j=function(){L.postMessage(null)}}else j=function(){g(P,0)};function R(e){S=e,k||(k=!0,j())}function I(e,n){T=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>s?(e.sortIndex=l,n(d,e),null===a(c)&&e===a(d)&&(x?(b(T),T=-1):x=!0,I(w,l-s))):(e.sortIndex=i,n(c,e),f||p||(f=!0,R(N))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),r=n(853);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,a,r,l,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,a){var r=x.hasOwnProperty(t)?x[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F,M=Object.assign;function z(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var O=!1;function U(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),l=a.stack.split("\n"),s=r.length-1,i=l.length-1;1<=s&&0<=i&&r[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(r[s]!==l[i]){if(1!==s||1!==i)do{if(s--,0>--i||r[s]!==l[i]){var o="\n"+r[s].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=s&&0<=i);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function $(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(l(92));if(te(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function le(e,t){var n=W(t.value),a=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(l(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,ke=null;function Se(e){if(e=wr(e)){if("function"!==typeof Ne)throw Error(l(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function Te(e){je?ke?ke.push(e):ke=[e]:je=e}function Ce(){if(je){var e=je,t=ke;if(ke=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Ee(){}var Pe=!1;function De(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==je||null!==ke)&&(Ee(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var Re=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Re=!1}function Ae(e,t,n,a,r,l,s,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fe=!1,Me=null,ze=!1,Oe=null,Ue={onError:function(e){Fe=!0,Me=e}};function $e(e,t,n,a,r,l,s,i,o){Fe=!1,Me=null,Ae.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(l(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===a)return We(r),t;s=s.sibling}throw Error(l(188))}if(n.return!==a.return)n=r,a=s;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,a=s;break}if(o===a){i=!0,a=r,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,a=r;break}if(o===a){i=!0,a=s,n=r;break}o=o.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,lt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var dt=64,ut=4194304;function mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,l=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~r;0!==i?a=mt(i):0!==(l&=s)&&(a=mt(l))}else 0!==(s=n&~r)?a=mt(s):0!==l&&(a=mt(l));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(l=t&-t)||16===r&&0!==(4194240&l)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,kt,St,Tt,Ct,_t=!1,Et=[],Pt=null,Dt=null,Lt=null,Rt=new Map,It=new Map,At=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function zt(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=wr(t))&&kt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ot(e){var t=vr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wr(n))&&kt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ve=a,n.target.dispatchEvent(a),ve=null,t.shift()}return!0}function $t(e,t,n){Ut(e)&&n.delete(t)}function Bt(){_t=!1,null!==Pt&&Ut(Pt)&&(Pt=null),null!==Dt&&Ut(Dt)&&(Dt=null),null!==Lt&&Ut(Lt)&&(Lt=null),Rt.forEach($t),It.forEach($t)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Vt(t,e)}if(0<Et.length){Vt(Et[0],e);for(var n=1;n<Et.length;n++){var a=Et[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Pt&&Vt(Pt,e),null!==Dt&&Vt(Dt,e),null!==Lt&&Vt(Lt,e),Rt.forEach(t),It.forEach(t),n=0;n<At.length;n++)(a=At[n]).blockedOn===e&&(a.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ot(n),null===n.blockedOn&&At.shift()}var Ht=v.ReactCurrentBatchConfig,qt=!0;function Qt(e,t,n,a){var r=vt,l=Ht.transition;Ht.transition=null;try{vt=1,Kt(e,t,n,a)}finally{vt=r,Ht.transition=l}}function Gt(e,t,n,a){var r=vt,l=Ht.transition;Ht.transition=null;try{vt=4,Kt(e,t,n,a)}finally{vt=r,Ht.transition=l}}function Kt(e,t,n,a){if(qt){var r=Xt(e,t,n,a);if(null===r)qa(e,t,a,Yt,n),Mt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Pt=zt(Pt,e,t,n,a,r),!0;case"dragenter":return Dt=zt(Dt,e,t,n,a,r),!0;case"mouseover":return Lt=zt(Lt,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return Rt.set(l,zt(Rt.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,It.set(l,zt(It.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Mt(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var l=wr(r);if(null!==l&&Nt(l),null===(l=Xt(e,t,n,a))&&qa(e,t,a,Yt,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else qa(e,t,a,null,n)}}var Yt=null;function Xt(e,t,n,a){if(Yt=null,null!==(e=vr(e=we(a))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,a=n.length,r="value"in Zt?Zt.value:Zt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[l-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function ln(){return!1}function sn(e){function t(t,n,a,r,l){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?rn:ln,this.isPropagationStopped=ln,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,cn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=sn(un),hn=M({},un,{view:0,detail:0}),pn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(on=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=on=0,dn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),xn=sn(fn),gn=sn(M({},fn,{dataTransfer:0})),bn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),Nn=sn(M({},un,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var _n=M({},hn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(_n),Pn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Ln=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(Rn),An=[9,13,27,32],Fn=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var zn=d&&"TextEvent"in window&&!Mn,On=d&&(!Fn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),$n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,a){Te(a),0<(t=Ga(t,"onChange")).length&&(n=new mn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Ua(e,0)}function Xn(e){if(Q(Nr(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(d){var ea;if(d){var ta="oninput"in document;if(!ta){var na=document.createElement("div");na.setAttribute("oninput","return;"),ta="function"===typeof na.oninput}ea=ta}else ea=!1;Zn=ea&&(!document.documentMode||9<document.documentMode)}function aa(){Gn&&(Gn.detachEvent("onpropertychange",ra),Kn=Gn=null)}function ra(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Qn(t,Kn,e,we(e)),De(Yn,t)}}function la(e,t,n){"focusin"===e?(aa(),Kn=n,(Gn=t).attachEvent("onpropertychange",ra)):"focusout"===e&&aa()}function sa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ia(e,t){if("click"===e)return Xn(t)}function oa(e,t){if("input"===e||"change"===e)return Xn(t)}var ca="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function da(e,t){if(ca(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!ca(e[r],t[r]))return!1}return!0}function ua(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ma(e,t){var n,a=ua(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ua(a)}}function ha(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ha(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xa(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ha(n.ownerDocument.documentElement,n)){if(null!==a&&fa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,l=Math.min(a.start,r);a=void 0===a.end?l:Math.min(a.end,r),!e.extend&&l>a&&(r=a,a=l,l=r),r=ma(n,l);var s=ma(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ga=d&&"documentMode"in document&&11>=document.documentMode,ba=null,ya=null,va=null,wa=!1;function Na(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wa||null==ba||ba!==G(a)||("selectionStart"in(a=ba)&&fa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&da(va,a)||(va=a,0<(a=Ga(ya,"onSelect")).length&&(t=new mn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ba)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Sa={},Ta={};function Ca(e){if(Sa[e])return Sa[e];if(!ka[e])return e;var t,n=ka[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ta)return Sa[e]=n[t];return e}d&&(Ta=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);var _a=Ca("animationend"),Ea=Ca("animationiteration"),Pa=Ca("animationstart"),Da=Ca("transitionend"),La=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ia(e,t){La.set(e,t),o(t,[e])}for(var Aa=0;Aa<Ra.length;Aa++){var Fa=Ra[Aa];Ia(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Ia(_a,"onAnimationEnd"),Ia(Ea,"onAnimationIteration"),Ia(Pa,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(Da,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),za=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Oa(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,i,o,c){if($e.apply(this,arguments),Fe){if(!Fe)throw Error(l(198));var d=Me;Fe=!1,Me=null,ze||(ze=!0,Oe=d)}}(a,t,void 0,e),e.currentTarget=null}function Ua(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&r.isPropagationStopped())break e;Oa(r,i,c),l=o}else for(s=0;s<a.length;s++){if(o=(i=a[s]).instance,c=i.currentTarget,i=i.listener,o!==l&&r.isPropagationStopped())break e;Oa(r,i,c),l=o}}}if(ze)throw e=Oe,ze=!1,Oe=null,e}function $a(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var a=e+"__bubble";n.has(a)||(Ha(t,e,2,!1),n.add(a))}function Ba(e,t,n){var a=0;t&&(a|=4),Ha(n,e,a,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Va]){e[Va]=!0,s.forEach(function(t){"selectionchange"!==t&&(za.has(t)||Ba(t,!1,e),Ba(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Va]||(t[Va]=!0,Ba("selectionchange",!1,t))}}function Ha(e,t,n,a){switch(Jt(t)){case 1:var r=Qt;break;case 4:r=Gt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qa(e,t,n,a,r){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var o=s.tag;if((3===o||4===o)&&((o=s.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;s=s.return}for(;null!==i;){if(null===(s=vr(i)))return;if(5===(o=s.tag)||6===o){a=l=s;continue e}i=i.parentNode}}a=a.return}De(function(){var a=l,r=we(n),s=[];e:{var i=La.get(e);if(void 0!==i){var o=mn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":c="focus",o=bn;break;case"focusout":c="blur",o=bn;break;case"beforeblur":case"afterblur":o=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Dn;break;case _a:case Ea:case Pa:o=yn;break;case Da:o=Ln;break;case"scroll":o=pn;break;case"wheel":o=In;break;case"copy":case"cut":case"paste":o=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,p=a;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Le(p,m))&&d.push(Qa(p,f,h)))),u)break;p=p.return}0<d.length&&(i=new o(i,c,null,n,r),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[xr])&&(o||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=xn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?i:Nr(o),h=null==c?i:Nr(c),(i=new d(f,p+"leave",o,n,r)).target=u,i.relatedTarget=h,f=null,vr(r)===a&&((d=new d(m,p+"enter",c,n,r)).target=h,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,p=0,h=d=o;h;h=Ka(h))p++;for(h=0,f=m;f;f=Ka(f))h++;for(;0<p-h;)d=Ka(d),p--;for(;0<h-p;)m=Ka(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ka(d),m=Ka(m)}d=null}else d=null;null!==o&&Ya(s,i,o,d,!1),null!==c&&null!==u&&Ya(s,u,c,d,!0)}if("select"===(o=(i=a?Nr(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Jn;else if(qn(i))if(Zn)x=oa;else{x=sa;var g=la}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=ia);switch(x&&(x=x(e,a))?Qn(s,x,n,r):(g&&g(e,i,a),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=a?Nr(a):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(ba=g,ya=a,va=null);break;case"focusout":va=ya=ba=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Na(s,n,r);break;case"selectionchange":if(ga)break;case"keydown":case"keyup":Na(s,n,r)}var b;if(Fn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=nn()):(en="value"in(Zt=r)?Zt.value:Zt.textContent,Wn=!0)),0<(g=Ga(a,y)).length&&(y=new Nn(y,e,null,n,r),s.push({event:y,listeners:g}),b?y.data=b:null!==(b=Vn(n))&&(y.data=b))),(b=zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:($n=!0,Un);case"textInput":return(e=t.data)===Un&&$n?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ga(a,"onBeforeInput")).length&&(r=new Nn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=b))}Ua(s,t)})}function Qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;5===r.tag&&null!==l&&(r=l,null!=(l=Le(e,n))&&a.unshift(Qa(e,l,r)),null!=(l=Le(e,t))&&a.push(Qa(e,l,r))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,n,a,r){for(var l=t._reactName,s=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,r?null!=(o=Le(n,l))&&s.unshift(Qa(n,o,i)):r||null!=(o=Le(n,l))&&s.push(Qa(n,o,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xa=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Za(e){return("string"===typeof e?e:""+e).replace(Xa,"\n").replace(Ja,"")}function er(e,t,n){if(t=Za(t),Za(e)!==t&&n)throw Error(l(425))}function tr(){}var nr=null,ar=null;function rr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lr="function"===typeof setTimeout?setTimeout:void 0,sr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(cr)}:lr;function cr(e){setTimeout(function(){throw e})}function dr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Wt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Wt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function mr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),pr="__reactFiber$"+hr,fr="__reactProps$"+hr,xr="__reactContainer$"+hr,gr="__reactEvents$"+hr,br="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mr(e);null!==e;){if(n=e[pr])return n;e=mr(e)}return t}n=(e=n).parentNode}return null}function wr(e){return!(e=e[pr]||e[xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function jr(e){return e[fr]||null}var kr=[],Sr=-1;function Tr(e){return{current:e}}function Cr(e){0>Sr||(e.current=kr[Sr],kr[Sr]=null,Sr--)}function _r(e,t){Sr++,kr[Sr]=e.current,e.current=t}var Er={},Pr=Tr(Er),Dr=Tr(!1),Lr=Er;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Er;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in n)l[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ar(){Cr(Dr),Cr(Pr)}function Fr(e,t,n){if(Pr.current!==Er)throw Error(l(168));_r(Pr,t),_r(Dr,n)}function Mr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(l(108,V(e)||"Unknown",r));return M({},n,a)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Lr=Pr.current,_r(Pr,e),_r(Dr,Dr.current),!0}function Or(e,t,n){var a=e.stateNode;if(!a)throw Error(l(169));n?(e=Mr(e,t,Lr),a.__reactInternalMemoizedMergedChildContext=e,Cr(Dr),Cr(Pr),_r(Pr,e)):Cr(Dr),_r(Dr,n)}var Ur=null,$r=!1,Br=!1;function Vr(e){null===Ur?Ur=[e]:Ur.push(e)}function Wr(){if(!Br&&null!==Ur){Br=!0;var e=0,t=vt;try{var n=Ur;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Ur=null,$r=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Qe(Ze,Wr),r}finally{vt=t,Br=!1}}return null}var Hr=[],qr=0,Qr=null,Gr=0,Kr=[],Yr=0,Xr=null,Jr=1,Zr="";function el(e,t){Hr[qr++]=Gr,Hr[qr++]=Qr,Qr=e,Gr=t}function tl(e,t,n){Kr[Yr++]=Jr,Kr[Yr++]=Zr,Kr[Yr++]=Xr,Xr=e;var a=Jr;e=Zr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var l=32-st(t)+r;if(30<l){var s=r-r%5;l=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Jr=1<<32-st(t)+r|n<<r|a,Zr=l+e}else Jr=1<<l|n<<r|a,Zr=e}function nl(e){null!==e.return&&(el(e,1),tl(e,1,0))}function al(e){for(;e===Qr;)Qr=Hr[--qr],Hr[qr]=null,Gr=Hr[--qr],Hr[qr]=null;for(;e===Xr;)Xr=Kr[--Yr],Kr[Yr]=null,Zr=Kr[--Yr],Kr[Yr]=null,Jr=Kr[--Yr],Kr[Yr]=null}var rl=null,ll=null,sl=!1,il=null;function ol(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function cl(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rl=e,ll=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rl=e,ll=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xr?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rl=e,ll=null,!0);default:return!1}}function dl(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ul(e){if(sl){var t=ll;if(t){var n=t;if(!cl(e,t)){if(dl(e))throw Error(l(418));t=ur(n.nextSibling);var a=rl;t&&cl(e,t)?ol(a,n):(e.flags=-4097&e.flags|2,sl=!1,rl=e)}}else{if(dl(e))throw Error(l(418));e.flags=-4097&e.flags|2,sl=!1,rl=e}}}function ml(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rl=e}function hl(e){if(e!==rl)return!1;if(!sl)return ml(e),sl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rr(e.type,e.memoizedProps)),t&&(t=ll)){if(dl(e))throw pl(),Error(l(418));for(;t;)ol(e,t),t=ur(t.nextSibling)}if(ml(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ll=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ll=null}}else ll=rl?ur(e.stateNode.nextSibling):null;return!0}function pl(){for(var e=ll;e;)e=ur(e.nextSibling)}function fl(){ll=rl=null,sl=!1}function xl(e){null===il?il=[e]:il.push(e)}var gl=v.ReactCurrentBatchConfig;function bl(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var a=n.stateNode}if(!a)throw Error(l(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function yl(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vl(e){return(0,e._init)(e._payload)}function wl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Oc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===j?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&vl(l)===t.type)?((a=r(t,n.props)).ref=bl(e,t,n),a.return=e,a):((a=Fc(n.type,n.key,n.props,null,e.mode,a)).ref=bl(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,l){return null===t||7!==t.tag?((t=Mc(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=bl(e,null,t),n.return=e,n;case N:return(t=Uc(t,e.mode,n)).return=e,t;case L:return m(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yl(e,t)}return null}function h(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,a):null;case N:return n.key===r?d(e,t,n,a):null;case L:return h(e,t,(r=n._init)(n._payload),a)}if(te(n)||A(n))return null!==r?null:u(e,t,n,a,null);yl(e,n)}return null}function p(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case N:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case L:return p(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||A(a))return u(t,e=e.get(n)||null,a,r,null);yl(t,a)}return null}function f(r,l,i,o){for(var c=null,d=null,u=l,f=l=0,x=null;null!==u&&f<i.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=h(r,u,i[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(r,u),l=s(g,l,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===i.length)return n(r,u),sl&&el(r,f),c;if(null===u){for(;f<i.length;f++)null!==(u=m(r,i[f],o))&&(l=s(u,l,f),null===d?c=u:d.sibling=u,d=u);return sl&&el(r,f),c}for(u=a(r,u);f<i.length;f++)null!==(x=p(u,r,f,i[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),l=s(x,l,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),sl&&el(r,f),c}function x(r,i,o,c){var d=A(o);if("function"!==typeof d)throw Error(l(150));if(null==(o=d.call(o)))throw Error(l(151));for(var u=d=null,f=i,x=i=0,g=null,b=o.next();null!==f&&!b.done;x++,b=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=h(r,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(r,f),i=s(y,i,x),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return n(r,f),sl&&el(r,x),d;if(null===f){for(;!b.done;x++,b=o.next())null!==(b=m(r,b.value,c))&&(i=s(b,i,x),null===u?d=b:u.sibling=b,u=b);return sl&&el(r,x),d}for(f=a(r,f);!b.done;x++,b=o.next())null!==(b=p(f,r,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),i=s(b,i,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(r,e)}),sl&&el(r,x),d}return function e(a,l,s,o){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=l;null!==d;){if(d.key===c){if((c=s.type)===j){if(7===d.tag){n(a,d.sibling),(l=r(d,s.props.children)).return=a,a=l;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&vl(c)===d.type){n(a,d.sibling),(l=r(d,s.props)).ref=bl(a,d,s),l.return=a,a=l;break e}n(a,d);break}t(a,d),d=d.sibling}s.type===j?((l=Mc(s.props.children,a.mode,o,s.key)).return=a,a=l):((o=Fc(s.type,s.key,s.props,null,a.mode,o)).ref=bl(a,l,s),o.return=a,a=o)}return i(a);case N:e:{for(d=s.key;null!==l;){if(l.key===d){if(4===l.tag&&l.stateNode.containerInfo===s.containerInfo&&l.stateNode.implementation===s.implementation){n(a,l.sibling),(l=r(l,s.children||[])).return=a,a=l;break e}n(a,l);break}t(a,l),l=l.sibling}(l=Uc(s,a.mode,o)).return=a,a=l}return i(a);case L:return e(a,l,(d=s._init)(s._payload),o)}if(te(s))return f(a,l,s,o);if(A(s))return x(a,l,s,o);yl(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==l&&6===l.tag?(n(a,l.sibling),(l=r(l,s)).return=a,a=l):(n(a,l),(l=Oc(s,a.mode,o)).return=a,a=l),i(a)):n(a,l)}}var Nl=wl(!0),jl=wl(!1),kl=Tr(null),Sl=null,Tl=null,Cl=null;function _l(){Cl=Tl=Sl=null}function El(e){var t=kl.current;Cr(kl),e._currentValue=t}function Pl(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Dl(e,t){Sl=e,Cl=Tl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Ll(e){var t=e._currentValue;if(Cl!==e)if(e={context:e,memoizedValue:t,next:null},null===Tl){if(null===Sl)throw Error(l(308));Tl=e,Sl.dependencies={lanes:0,firstContext:e}}else Tl=Tl.next=e;return t}var Rl=null;function Il(e){null===Rl?Rl=[e]:Rl.push(e)}function Al(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Il(t)):(n.next=r.next,r.next=n),t.interleaved=n,Fl(e,a)}function Fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ml=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ol(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ul(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $l(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Po)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Fl(e,n)}return null===(r=a.interleaved)?(t.next=t,Il(a)):(t.next=r.next,r.next=t),a.interleaved=t,Fl(e,n)}function Bl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vl(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===l?r=l=s:l=l.next=s,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,a){var r=e.updateQueue;Ml=!1;var l=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===s?l=c:s.next=c,s=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==l){var u=r.baseState;for(s=0,d=c=o=null,i=l;;){var m=i.lane,h=i.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,f=i;switch(m=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=M({},u,m);break e;case 2:Ml=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,s|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(m=i).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===l&&(r.shared.lanes=0);zo|=s,e.lanes=s,e.memoizedState=u}}function Hl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(l(191,r));r.call(a)}}}var ql={},Ql=Tr(ql),Gl=Tr(ql),Kl=Tr(ql);function Yl(e){if(e===ql)throw Error(l(174));return e}function Xl(e,t){switch(_r(Kl,t),_r(Gl,e),_r(Ql,ql),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(Ql),_r(Ql,t)}function Jl(){Cr(Ql),Cr(Gl),Cr(Kl)}function Zl(e){Yl(Kl.current);var t=Yl(Ql.current),n=oe(t,e.type);t!==n&&(_r(Gl,e),_r(Ql,n))}function es(e){Gl.current===e&&(Cr(Ql),Cr(Gl))}var ts=Tr(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function rs(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var ls=v.ReactCurrentDispatcher,ss=v.ReactCurrentBatchConfig,is=0,os=null,cs=null,ds=null,us=!1,ms=!1,hs=0,ps=0;function fs(){throw Error(l(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ca(e[n],t[n]))return!1;return!0}function gs(e,t,n,a,r,s){if(is=s,os=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=null===e||null===e.memoizedState?ei:ti,e=n(a,r),ms){s=0;do{if(ms=!1,hs=0,25<=s)throw Error(l(301));s+=1,ds=cs=null,t.updateQueue=null,ls.current=ni,e=n(a,r)}while(ms)}if(ls.current=Zs,t=null!==cs&&null!==cs.next,is=0,ds=cs=os=null,us=!1,t)throw Error(l(300));return e}function bs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ds?os.memoizedState=ds=e:ds=ds.next=e,ds}function vs(){if(null===cs){var e=os.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ds?os.memoizedState:ds.next;if(null!==t)ds=t,cs=e;else{if(null===e)throw Error(l(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ds?os.memoizedState=ds=e:ds=ds.next=e}return ds}function ws(e,t){return"function"===typeof t?t(e):t}function Ns(e){var t=vs(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=cs,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var i=r.next;r.next=s.next,s.next=i}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var o=i=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=a):c=c.next=m,os.lanes|=u,zo|=u}d=d.next}while(null!==d&&d!==s);null===c?i=a:c.next=o,ca(a,t.memoizedState)||(vi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,os.lanes|=s,zo|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function js(e){var t=vs(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{s=e(s,i.action),i=i.next}while(i!==r);ca(s,t.memoizedState)||(vi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ks(){}function Ss(e,t){var n=os,a=vs(),r=t(),s=!ca(a.memoizedState,r);if(s&&(a.memoizedState=r,vi=!0),a=a.queue,Ms(_s.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==ds&&1&ds.memoizedState.tag){if(n.flags|=2048,Ls(9,Cs.bind(null,n,a,r,t),void 0,null),null===Do)throw Error(l(349));0!==(30&is)||Ts(n,t,r)}return r}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=os.updateQueue)?(t={lastEffect:null,stores:null},os.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,a){t.value=n,t.getSnapshot=a,Es(t)&&Ps(e)}function _s(e,t,n){return n(function(){Es(t)&&Ps(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ca(e,n)}catch(a){return!0}}function Ps(e){var t=Fl(e,1);null!==t&&rc(t,e,1,-1)}function Ds(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,os,e),[t.memoizedState,e]}function Ls(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=os.updateQueue)?(t={lastEffect:null,stores:null},os.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rs(){return vs().memoizedState}function Is(e,t,n,a){var r=ys();os.flags|=e,r.memoizedState=Ls(1|t,n,void 0,void 0===a?null:a)}function As(e,t,n,a){var r=vs();a=void 0===a?null:a;var l=void 0;if(null!==cs){var s=cs.memoizedState;if(l=s.destroy,null!==a&&xs(a,s.deps))return void(r.memoizedState=Ls(t,n,l,a))}os.flags|=e,r.memoizedState=Ls(1|t,n,l,a)}function Fs(e,t){return Is(8390656,8,e,t)}function Ms(e,t){return As(2048,8,e,t)}function zs(e,t){return As(4,2,e,t)}function Os(e,t){return As(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4,4,Us.bind(null,t,e),n)}function Bs(){}function Vs(e,t){var n=vs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=vs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=n):(ca(n,t)||(n=xt(),os.lanes|=n,zo|=n,e.baseState=!0),t)}function qs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=ss.transition;ss.transition={};try{e(!1),t()}finally{vt=n,ss.transition=a}}function Qs(){return vs().memoizedState}function Gs(e,t,n){var a=ac(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Al(e,t,n,a))){rc(n,e,a,nc()),Js(n,t,a)}}function Ks(e,t,n){var a=ac(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=l(s,n);if(r.hasEagerState=!0,r.eagerState=i,ca(i,s)){var o=t.interleaved;return null===o?(r.next=r,Il(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Al(e,t,r,a))&&(rc(n,e,a,r=nc()),Js(n,t,a))}}function Ys(e){var t=e.alternate;return e===os||null!==t&&t===os}function Xs(e,t){ms=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Ll,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},ei={readContext:Ll,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ll,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=ys();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Gs.bind(null,os,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ds,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=os,r=ys();if(sl){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===Do)throw Error(l(349));0!==(30&is)||Ts(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Fs(_s.bind(null,a,s,e),[e]),a.flags|=2048,Ls(9,Cs.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Do.identifierPrefix;if(sl){var n=Zr;t=":"+t+"R"+(n=(Jr&~(1<<32-st(Jr)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ti={readContext:Ll,useCallback:Vs,useContext:Ll,useEffect:Ms,useImperativeHandle:$s,useInsertionEffect:zs,useLayoutEffect:Os,useMemo:Ws,useReducer:Ns,useRef:Rs,useState:function(){return Ns(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(vs(),cs.memoizedState,e)},useTransition:function(){return[Ns(ws)[0],vs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Qs,unstable_isNewReconciler:!1},ni={readContext:Ll,useCallback:Vs,useContext:Ll,useEffect:Ms,useImperativeHandle:$s,useInsertionEffect:zs,useLayoutEffect:Os,useMemo:Ws,useReducer:js,useRef:Rs,useState:function(){return js(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=vs();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[js(ws)[0],vs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Qs,unstable_isNewReconciler:!1};function ai(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var li={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=nc(),r=ac(e),l=Ul(a,r);l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=$l(e,l,r))&&(rc(t,e,r,a),Bl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=nc(),r=ac(e),l=Ul(a,r);l.tag=1,l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=$l(e,l,r))&&(rc(t,e,r,a),Bl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),a=ac(e),r=Ul(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=$l(e,r,a))&&(rc(t,e,a,n),Bl(t,e,a))}};function si(e,t,n,a,r,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!da(n,a)||!da(r,l))}function ii(e,t,n){var a=!1,r=Er,l=t.contextType;return"object"===typeof l&&null!==l?l=Ll(l):(r=Ir(t)?Lr:Pr.current,l=(a=null!==(a=t.contextTypes)&&void 0!==a)?Rr(e,r):Er),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=li,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function oi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},zl(e);var l=t.contextType;"object"===typeof l&&null!==l?r.context=Ll(l):(l=Ir(t)?Lr:Pr.current,r.context=Rr(e,l)),r.state=e.memoizedState,"function"===typeof(l=t.getDerivedStateFromProps)&&(ri(e,t,l,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&li.enqueueReplaceState(r,r.state,null),Wl(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function di(e,t){try{var n="",a=t;do{n+=$(a),a=a.return}while(a);var r=n}catch(l){r="\nError generating stack: "+l.message+"\n"+l.stack}return{value:e,source:t,stack:r,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=Ul(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){qo||(qo=!0,Qo=a),mi(0,t)},n}function fi(e,t,n){(n=Ul(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){mi(0,t)}}var l=e.stateNode;return null!==l&&"function"===typeof l.componentDidCatch&&(n.callback=function(){mi(0,t),"function"!==typeof a&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new hi;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ul(-1,1)).tag=2,$l(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yi=v.ReactCurrentOwner,vi=!1;function wi(e,t,n,a){t.child=null===e?jl(t,null,n,a):Nl(t,e.child,n,a)}function Ni(e,t,n,a,r){n=n.render;var l=t.ref;return Dl(t,r),a=gs(e,t,n,a,l,r),n=bs(),null===e||vi?(sl&&n&&nl(t),t.flags|=1,wi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hi(e,t,r))}function ji(e,t,n,a,r){if(null===e){var l=n.type;return"function"!==typeof l||Ic(l)||void 0!==l.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,ki(e,t,l,a,r))}if(l=e.child,0===(e.lanes&r)){var s=l.memoizedProps;if((n=null!==(n=n.compare)?n:da)(s,a)&&e.ref===t.ref)return Hi(e,t,r)}return t.flags|=1,(e=Ac(l,a)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(da(l,a)&&e.ref===t.ref){if(vi=!1,t.pendingProps=a=l,0===(e.lanes&r))return t.lanes=e.lanes,Hi(e,t,r);0!==(131072&e.flags)&&(vi=!0)}}return Ci(e,t,n,a,r)}function Si(e,t,n){var a=t.pendingProps,r=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Ao,Io),Io|=n;else{if(0===(1073741824&n))return e=null!==l?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_r(Ao,Io),Io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==l?l.baseLanes:n,_r(Ao,Io),Io|=a}else null!==l?(a=l.baseLanes|n,t.memoizedState=null):a=n,_r(Ao,Io),Io|=a;return wi(e,t,r,n),t.child}function Ti(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,a,r){var l=Ir(n)?Lr:Pr.current;return l=Rr(t,l),Dl(t,r),n=gs(e,t,n,a,l,r),a=bs(),null===e||vi?(sl&&a&&nl(t),t.flags|=1,wi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hi(e,t,r))}function _i(e,t,n,a,r){if(Ir(n)){var l=!0;zr(t)}else l=!1;if(Dl(t,r),null===t.stateNode)Wi(e,t),ii(t,n,a),ci(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var o=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ll(c):c=Rr(t,c=Ir(n)?Lr:Pr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==a||o!==c)&&oi(t,s,a,c),Ml=!1;var m=t.memoizedState;s.state=m,Wl(t,a,s,r),o=t.memoizedState,i!==a||m!==o||Dr.current||Ml?("function"===typeof d&&(ri(t,n,d,a),o=t.memoizedState),(i=Ml||si(t,n,i,a,m,o,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),s.props=a,s.state=o,s.context=c,a=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Ol(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ai(t.type,i),s.props=c,u=t.pendingProps,m=s.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ll(o):o=Rr(t,o=Ir(n)?Lr:Pr.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||m!==o)&&oi(t,s,a,o),Ml=!1,m=t.memoizedState,s.state=m,Wl(t,a,s,r);var p=t.memoizedState;i!==u||m!==p||Dr.current||Ml?("function"===typeof h&&(ri(t,n,h,a),p=t.memoizedState),(c=Ml||si(t,n,c,a,m,p,o)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=o,a=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Ei(e,t,n,a,l,r)}function Ei(e,t,n,a,r,l){Ti(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Or(t,n,!1),Hi(e,t,l);a=t.stateNode,yi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=Nl(t,e.child,null,l),t.child=Nl(t,null,i,l)):wi(e,t,i,l),t.memoizedState=a.state,r&&Or(t,n,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),Xl(e,t.containerInfo)}function Di(e,t,n,a,r){return fl(),xl(r),t.flags|=256,wi(e,t,n,a),t.child}var Li,Ri,Ii,Ai,Fi={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function zi(e,t,n){var a,r=t.pendingProps,s=ts.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_r(ts,1&s),null===e)return ul(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=zc(o,r,0,null),e=Mc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(n),t.memoizedState=Fi,e):Oi(t,o));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,i){if(n)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,a=ui(Error(l(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=zc({mode:"visible",children:a.children},r,0,null),(s=Mc(s,r,i,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&Nl(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Fi,s);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,Ui(e,t,i,a=ui(s=Error(l(419)),a,void 0))}if(o=0!==(i&e.childLanes),vi||o){if(null!==(a=Do)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|i))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Fl(e,r),rc(a,e,r,-1))}return gc(),Ui(e,t,i,a=ui(Error(l(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ll=ur(r.nextSibling),rl=t,sl=!0,il=null,null!==e&&(Kr[Yr++]=Jr,Kr[Yr++]=Zr,Kr[Yr++]=Xr,Jr=e.id,Zr=e.overflow,Xr=t),t=Oi(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?i=Ac(a,i):(i=Mc(i,o,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Mi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fi,r}return e=(i=e.child).sibling,r=Ac(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oi(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,n,a){return null!==a&&xl(a),Nl(t,e.child,null,n),(e=Oi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $i(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Pl(e.return,t,n)}function Bi(e,t,n,a,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r)}function Vi(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(wi(e,t,a.children,n),0!==(2&(a=ts.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$i(e,n,t);else if(19===e.tag)$i(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_r(ts,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bi(t,!1,r,n,l);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ns(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bi(t,!0,n,null,l);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!sl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gi(e,t,n){var a=t.pendingProps;switch(al(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Ir(t.type)&&Ar(),Qi(t),null;case 3:return a=t.stateNode,Jl(),Cr(Dr),Cr(Pr),rs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(hl(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==il&&(oc(il),il=null))),Ri(e,t),Qi(t),null;case 5:es(t);var r=Yl(Kl.current);if(n=t.type,null!==e&&null!=t.stateNode)Ii(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(l(166));return Qi(t),null}if(e=Yl(Ql.current),hl(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pr]=t,a[fr]=s,e=0!==(1&t.mode),n){case"dialog":$a("cancel",a),$a("close",a);break;case"iframe":case"object":case"embed":$a("load",a);break;case"video":case"audio":for(r=0;r<Ma.length;r++)$a(Ma[r],a);break;case"source":$a("error",a);break;case"img":case"image":case"link":$a("error",a),$a("load",a);break;case"details":$a("toggle",a);break;case"input":Y(a,s),$a("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},$a("invalid",a);break;case"textarea":re(a,s),$a("invalid",a)}for(var o in be(n,s),r=null,s)if(s.hasOwnProperty(o)){var c=s[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&er(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&er(a.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&$a("scroll",a)}switch(n){case"input":q(a),Z(a,s,!0);break;case"textarea":q(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=tr)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[pr]=t,e[fr]=a,Li(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,a),n){case"dialog":$a("cancel",e),$a("close",e),r=a;break;case"iframe":case"object":case"embed":$a("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ma.length;r++)$a(Ma[r],e);r=a;break;case"source":$a("error",e),r=a;break;case"img":case"image":case"link":$a("error",e),$a("load",e),r=a;break;case"details":$a("toggle",e),r=a;break;case"input":Y(e,a),r=K(e,a),$a("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=M({},a,{value:void 0}),$a("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),$a("invalid",e)}for(s in be(n,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=d&&"onScroll"===s&&$a("scroll",e):null!=d&&y(e,s,d,o))}switch(n){case"input":q(e),Z(e,a,!1);break;case"textarea":q(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=tr)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(n=Yl(Kl.current),Yl(Ql.current),hl(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(s=a.nodeValue!==n)&&null!==(e=rl))switch(e.tag){case 3:er(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&er(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Qi(t),null;case 13:if(Cr(ts),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sl&&null!==ll&&0!==(1&t.mode)&&0===(128&t.flags))pl(),fl(),t.flags|=98560,s=!1;else if(s=hl(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(l(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(l(317));s[pr]=t}else fl(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),s=!1}else null!==il&&(oc(il),il=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Fo&&(Fo=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return Jl(),Ri(e,t),null===e&&Wa(t.stateNode.containerInfo),Qi(t),null;case 10:return El(t.type._context),Qi(t),null;case 19:if(Cr(ts),null===(s=t.memoizedState))return Qi(t),null;if(a=0!==(128&t.flags),null===(o=s.rendering))if(a)qi(s,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ns(e))){for(t.flags|=128,qi(s,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _r(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Wo&&(t.flags|=128,a=!0,qi(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ns(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!sl)return Qi(t),null}else 2*Xe()-s.renderingStartTime>Wo&&1073741824!==n&&(t.flags|=128,a=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ts.current,_r(ts,a?1&n|2:1&n),t):(Qi(t),null);case 22:case 23:return hc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Io)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}function Ki(e,t){switch(al(t),t.tag){case 1:return Ir(t.type)&&Ar(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jl(),Cr(Dr),Cr(Pr),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Cr(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));fl()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(ts),null;case 4:return Jl(),null;case 10:return El(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Li=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},Ii=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Yl(Ql.current);var l,s=null;switch(n){case"input":r=K(e,r),a=K(e,a),s=[];break;case"select":r=M({},r,{value:void 0}),a=M({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=tr)}for(d in be(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$a("scroll",e),s||o===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ai=function(e,t,n,a){n!==a&&(t.flags|=4)};var Yi=!1,Xi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Zi=null;function eo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Tc(e,t,a)}else n.current=null}function to(e,t,n){try{n()}catch(a){Tc(e,t,a)}}var no=!1;function ao(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var l=r.destroy;r.destroy=void 0,void 0!==l&&to(t,n,l)}r=r.next}while(r!==a)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function lo(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[fr],delete t[gr],delete t[br],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function oo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function co(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=tr));else if(4!==a&&null!==(e=e.child))for(co(e,t,n),e=e.sibling;null!==e;)co(e,t,n),e=e.sibling}function uo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(uo(e,t,n),e=e.sibling;null!==e;)uo(e,t,n),e=e.sibling}var mo=null,ho=!1;function po(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Xi||eo(n,t);case 6:var a=mo,r=ho;mo=null,po(e,t,n),ho=r,null!==(mo=a)&&(ho?(e=mo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):mo.removeChild(n.stateNode));break;case 18:null!==mo&&(ho?(e=mo,n=n.stateNode,8===e.nodeType?dr(e.parentNode,n):1===e.nodeType&&dr(e,n),Wt(e)):dr(mo,n.stateNode));break;case 4:a=mo,r=ho,mo=n.stateNode.containerInfo,ho=!0,po(e,t,n),mo=a,ho=r;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var l=r,s=l.destroy;l=l.tag,void 0!==s&&(0!==(2&l)||0!==(4&l))&&to(n,t,s),r=r.next}while(r!==a)}po(e,t,n);break;case 1:if(!Xi&&(eo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Tc(n,t,i)}po(e,t,n);break;case 21:po(e,t,n);break;case 22:1&n.mode?(Xi=(a=Xi)||null!==n.memoizedState,po(e,t,n),Xi=a):po(e,t,n);break;default:po(e,t,n)}}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach(function(t){var a=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function go(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:mo=o.stateNode,ho=!1;break e;case 3:case 4:mo=o.stateNode.containerInfo,ho=!0;break e}o=o.return}if(null===mo)throw Error(l(160));fo(s,i,r),mo=null,ho=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Tc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bo(t,e),t=t.sibling}function bo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),yo(e),4&a){try{ao(3,e,e.return),ro(3,e)}catch(x){Tc(e,e.return,x)}try{ao(5,e,e.return)}catch(x){Tc(e,e.return,x)}}break;case 1:go(t,e),yo(e),512&a&&null!==n&&eo(n,n.return);break;case 5:if(go(t,e),yo(e),512&a&&null!==n&&eo(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(x){Tc(e,e.return,x)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===s.type&&null!=s.name&&X(r,s),ye(o,i);var d=ye(o,s);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):y(r,u,m,d)}switch(o){case"input":J(r,s);break;case"textarea":le(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(r,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(x){Tc(e,e.return,x)}}break;case 6:if(go(t,e),yo(e),4&a){if(null===e.stateNode)throw Error(l(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(x){Tc(e,e.return,x)}}break;case 3:if(go(t,e),yo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(x){Tc(e,e.return,x)}break;case 4:default:go(t,e),yo(e);break;case 13:go(t,e),yo(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Vo=Xe())),4&a&&xo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(d=Xi)||u,go(t,e),Xi=d):go(t,e),yo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(m=Zi=u;null!==Zi;){switch(p=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:ao(4,h,h.return);break;case 1:eo(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){a=h,n=h.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){Tc(a,n,x)}}break;case 5:eo(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==p?(p.return=h,Zi=p):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",i))}catch(x){Tc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Tc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:go(t,e),yo(e),4&a&&xo(e);case 21:}}function yo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(io(n)){var a=n;break e}n=n.return}throw Error(l(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(me(r,""),a.flags&=-33),uo(e,oo(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;co(e,oo(e),s);break;default:throw Error(l(161))}}catch(i){Tc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vo(e,t,n){Zi=e,wo(e,t,n)}function wo(e,t,n){for(var a=0!==(1&e.mode);null!==Zi;){var r=Zi,l=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Yi;if(!s){var i=r.alternate,o=null!==i&&null!==i.memoizedState||Xi;i=Yi;var c=Xi;if(Yi=s,(Xi=o)&&!c)for(Zi=r;null!==Zi;)o=(s=Zi).child,22===s.tag&&null!==s.memoizedState?ko(r):null!==o?(o.return=s,Zi=o):ko(r);for(;null!==l;)Zi=l,wo(l,t,n),l=l.sibling;Zi=r,Yi=i,Xi=c}No(e)}else 0!==(8772&r.subtreeFlags)&&null!==l?(l.return=r,Zi=l):No(e)}}function No(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||ro(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Xi)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ai(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hl(t,s,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hl(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Wt(m)}}}break;default:throw Error(l(163))}Xi||512&t.flags&&lo(t)}catch(it){Tc(t,t.return,it)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function jo(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function ko(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ro(4,t)}catch(o){Tc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(o){Tc(t,r,o)}}var l=t.return;try{lo(t)}catch(o){Tc(t,l,o)}break;case 5:var s=t.return;try{lo(t)}catch(o){Tc(t,s,o)}}}catch(o){Tc(t,t.return,o)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var So,To=Math.ceil,Co=v.ReactCurrentDispatcher,_o=v.ReactCurrentOwner,Eo=v.ReactCurrentBatchConfig,Po=0,Do=null,Lo=null,Ro=0,Io=0,Ao=Tr(0),Fo=0,Mo=null,zo=0,Oo=0,Uo=0,$o=null,Bo=null,Vo=0,Wo=1/0,Ho=null,qo=!1,Qo=null,Go=null,Ko=!1,Yo=null,Xo=0,Jo=0,Zo=null,ec=-1,tc=0;function nc(){return 0!==(6&Po)?Xe():-1!==ec?ec:ec=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Po)&&0!==Ro?Ro&-Ro:null!==gl.transition?(0===tc&&(tc=xt()),tc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,a){if(50<Jo)throw Jo=0,Zo=null,Error(l(185));bt(e,n,a),0!==(2&Po)&&e===Do||(e===Do&&(0===(2&Po)&&(Oo|=n),4===Fo&&cc(e,Ro)),lc(e,a),1===n&&0===Po&&0===(1&t.mode)&&(Wo=Xe()+500,$r&&Wr()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-st(l),i=1<<s,o=r[s];-1===o?0!==(i&n)&&0===(i&a)||(r[s]=pt(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}}(e,t);var a=ht(e,e===Do?Ro:0);if(0===a)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$r=!0,Vr(e)}(dc.bind(null,e)):Vr(dc.bind(null,e)),or(function(){0===(6&Po)&&Wr()}),n=null;else{switch(wt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Dc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(ec=-1,tc=0,0!==(6&Po))throw Error(l(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var a=ht(e,e===Do?Ro:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=bc(e,a);else{t=a;var r=Po;Po|=2;var s=xc();for(Do===e&&Ro===t||(Ho=null,Wo=Xe()+500,pc(e,t));;)try{vc();break}catch(o){fc(e,o)}_l(),Co.current=s,Po=r,null!==Lo?t=0:(Do=null,Ro=0,t=Fo)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(a=r,t=ic(e,r))),1===t)throw n=Mo,pc(e,0),cc(e,a),lc(e,Xe()),n;if(6===t)cc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!ca(l(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=bc(e,a))&&(0!==(s=ft(e))&&(a=s,t=ic(e,s))),1===t))throw n=Mo,pc(e,0),cc(e,a),lc(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:case 5:jc(e,Bo,Ho);break;case 3:if(cc(e,a),(130023424&a)===a&&10<(t=Vo+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&a)!==a){nc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=lr(jc.bind(null,e,Bo,Ho),t);break}jc(e,Bo,Ho);break;case 4:if(cc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var i=31-st(a);s=1<<i,(i=t[i])>r&&(r=i),a&=~s}if(a=r,10<(a=(120>(a=Xe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*To(a/1960))-a)){e.timeoutHandle=lr(jc.bind(null,e,Bo,Ho),a);break}jc(e,Bo,Ho);break;default:throw Error(l(329))}}}return lc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Bo,Bo=n,null!==t&&oc(t)),e}function oc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function cc(e,t){for(t&=~Uo,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function dc(e){if(0!==(6&Po))throw Error(l(327));kc();var t=ht(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Mo,pc(e,0),cc(e,t),lc(e,Xe()),n;if(6===n)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,Ho),lc(e,Xe()),null}function uc(e,t){var n=Po;Po|=1;try{return e(t)}finally{0===(Po=n)&&(Wo=Xe()+500,$r&&Wr())}}function mc(e){null!==Yo&&0===Yo.tag&&0===(6&Po)&&kc();var t=Po;Po|=1;var n=Eo.transition,a=vt;try{if(Eo.transition=null,vt=1,e)return e()}finally{vt=a,Eo.transition=n,0===(6&(Po=t))&&Wr()}}function hc(){Io=Ao.current,Cr(Ao)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,sr(n)),null!==Lo)for(n=Lo.return;null!==n;){var a=n;switch(al(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ar();break;case 3:Jl(),Cr(Dr),Cr(Pr),rs();break;case 5:es(a);break;case 4:Jl();break;case 13:case 19:Cr(ts);break;case 10:El(a.type._context);break;case 22:case 23:hc()}n=n.return}if(Do=e,Lo=e=Ac(e.current,null),Ro=Io=t,Fo=0,Mo=null,Uo=Oo=zo=0,Bo=$o=null,null!==Rl){for(t=0;t<Rl.length;t++)if(null!==(a=(n=Rl[t]).interleaved)){n.interleaved=null;var r=a.next,l=n.pending;if(null!==l){var s=l.next;l.next=r,a.next=s}n.pending=a}Rl=null}return e}function fc(e,t){for(;;){var n=Lo;try{if(_l(),ls.current=Zs,us){for(var a=os.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}us=!1}if(is=0,ds=cs=os=null,ms=!1,hs=0,_o.current=null,null===n||null===n.return){Fo=1,Mo=t,Lo=null;break}e:{var s=e,i=n.return,o=n,c=t;if(t=Ro,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gi(i);if(null!==p){p.flags&=-257,bi(p,i,o,0,t),1&p.mode&&xi(s,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){xi(s,d,t),gc();break e}c=Error(l(426))}else if(sl&&1&o.mode){var g=gi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bi(g,i,o,0,t),xl(di(c,o));break e}}s=c=di(c,o),4!==Fo&&(Fo=2),null===$o?$o=[s]:$o.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Vl(s,pi(0,c,t));break e;case 1:o=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Go||!Go.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Vl(s,fi(s,o,t));break e}}s=s.return}while(null!==s)}Nc(n)}catch(v){t=v,Lo===n&&null!==n&&(Lo=n=n.return);continue}break}}function xc(){var e=Co.current;return Co.current=Zs,null===e?Zs:e}function gc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Do||0===(268435455&zo)&&0===(268435455&Oo)||cc(Do,Ro)}function bc(e,t){var n=Po;Po|=2;var a=xc();for(Do===e&&Ro===t||(Ho=null,pc(e,t));;)try{yc();break}catch(r){fc(e,r)}if(_l(),Po=n,Co.current=a,null!==Lo)throw Error(l(261));return Do=null,Ro=0,Fo}function yc(){for(;null!==Lo;)wc(Lo)}function vc(){for(;null!==Lo&&!Ke();)wc(Lo)}function wc(e){var t=So(e.alternate,e,Io);e.memoizedProps=e.pendingProps,null===t?Nc(e):Lo=t,_o.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gi(n,t,Io)))return void(Lo=n)}else{if(null!==(n=Ki(n,t)))return n.flags&=32767,void(Lo=n);if(null===e)return Fo=6,void(Lo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lo=t);Lo=t=e}while(null!==t);0===Fo&&(Fo=5)}function jc(e,t,n){var a=vt,r=Eo.transition;try{Eo.transition=null,vt=1,function(e,t,n,a){do{kc()}while(null!==Yo);if(0!==(6&Po))throw Error(l(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),l=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~l}}(e,s),e===Do&&(Lo=Do=null,Ro=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Dc(tt,function(){return kc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Eo.transition,Eo.transition=null;var i=vt;vt=1;var o=Po;Po|=4,_o.current=null,function(e,t){if(nr=qt,fa(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(jt){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==r&&3!==m.nodeType||(o=i+r),m!==s||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===r&&(o=i),h===s&&++u===a&&(c=i),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ar={focusedElem:e,selectionRange:n},qt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ai(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(l(163))}}catch(jt){Tc(t,t.return,jt)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}f=no,no=!1}(e,n),bo(n,e),xa(ar),qt=!!nr,ar=nr=null,e.current=n,vo(n,e,r),Ye(),Po=o,vt=i,Eo.transition=s}else e.current=n;if(Ko&&(Ko=!1,Yo=e,Xo=r),s=e.pendingLanes,0===s&&(Go=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(qo)throw qo=!1,e=Qo,Qo=null,e;0!==(1&Xo)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Zo?Jo++:(Jo=0,Zo=e):Jo=0,Wr()}(e,t,n,a)}finally{Eo.transition=r,vt=a}return null}function kc(){if(null!==Yo){var e=wt(Xo),t=Eo.transition,n=vt;try{if(Eo.transition=null,vt=16>e?16:e,null===Yo)var a=!1;else{if(e=Yo,Yo=null,Xo=0,0!==(6&Po))throw Error(l(331));var r=Po;for(Po|=4,Zi=e.current;null!==Zi;){var s=Zi,i=s.child;if(0!==(16&Zi.flags)){var o=s.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:ao(8,u,s)}var m=u.child;if(null!==m)m.return=u,Zi=m;else for(;null!==Zi;){var h=(u=Zi).sibling,p=u.return;if(so(u),u===d){Zi=null;break}if(null!==h){h.return=p,Zi=h;break}Zi=p}}}var f=s.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Zi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(s=Zi).flags))switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zi=b;break e}Zi=s.return}}var y=e.current;for(Zi=y;null!==Zi;){var v=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Zi=v;else e:for(i=y;null!==Zi;){if(0!==(2048&(o=Zi).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(N){Tc(o,o.return,N)}if(o===i){Zi=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Zi=w;break e}Zi=o.return}}if(Po=r,Wr(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(rt,e)}catch(N){}a=!0}return a}finally{vt=n,Eo.transition=t}}return!1}function Sc(e,t,n){e=$l(e,t=pi(0,t=di(n,t),1),1),t=nc(),null!==e&&(bt(e,1,t),lc(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Go||!Go.has(a))){t=$l(t,e=fi(t,e=di(n,e),1),1),e=nc(),null!==t&&(bt(t,1,e),lc(t,e));break}}t=t.return}}function Cc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Do===e&&(Ro&n)===n&&(4===Fo||3===Fo&&(130023424&Ro)===Ro&&500>Xe()-Vo?pc(e,0):Uo|=n),lc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Fl(e,t))&&(bt(e,t,n),lc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}null!==a&&a.delete(t),_c(e,n)}function Dc(e,t){return Qe(e,t)}function Lc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,a){return new Lc(e,t,n,a)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,r,s){var i=2;if(a=e,"function"===typeof e)Ic(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Mc(n.children,r,s,t);case k:i=8,r|=8;break;case S:return(e=Rc(12,n,t,2|r)).elementType=S,e.lanes=s,e;case E:return(e=Rc(13,n,t,r)).elementType=E,e.lanes=s,e;case P:return(e=Rc(19,n,t,r)).elementType=P,e.lanes=s,e;case R:return zc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:i=10;break e;case C:i=9;break e;case _:i=11;break e;case D:i=14;break e;case L:i=16,a=null;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Rc(i,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Mc(e,t,n,a){return(e=Rc(7,e,a,t)).lanes=n,e}function zc(e,t,n,a){return(e=Rc(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,a,r,l,s,i,o){return e=new $c(e,t,n,i,o),1===t?(t=1,!0===l&&(t|=8)):t=0,l=Rc(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(l),e}function Vc(e){if(!e)return Er;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var n=e.type;if(Ir(n))return Mr(e,n,t)}return t}function Wc(e,t,n,a,r,l,s,i,o){return(e=Bc(n,a,!0,e,0,l,0,i,o)).context=Vc(null),n=e.current,(l=Ul(a=nc(),r=ac(n))).callback=void 0!==t&&null!==t?t:null,$l(n,l,r),e.current.lanes=r,bt(e,r,a),lc(e,a),e}function Hc(e,t,n,a){var r=t.current,l=nc(),s=ac(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ul(l,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=$l(r,t,s))&&(rc(e,r,s,l),Bl(e,r,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}So=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Dr.current)vi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vi=!1,function(e,t,n){switch(t.tag){case 3:Pi(t),fl();break;case 5:Zl(t);break;case 1:Ir(t.type)&&zr(t);break;case 4:Xl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;_r(kl,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(_r(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zi(e,t,n):(_r(ts,1&ts.current),null!==(e=Hi(e,t,n))?e.sibling:null);_r(ts,1&ts.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(ts,ts.current),a)break;return null;case 22:case 23:return t.lanes=0,Si(e,t,n)}return Hi(e,t,n)}(e,t,n);vi=0!==(131072&e.flags)}else vi=!1,sl&&0!==(1048576&t.flags)&&tl(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var r=Rr(t,Pr.current);Dl(t,n),r=gs(null,t,a,e,r,n);var s=bs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(a)?(s=!0,zr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,zl(t),r.updater=li,t.stateNode=r,r._reactInternals=t,ci(t,a,e,n),t=Ei(null,t,a,!0,s,n)):(t.tag=0,sl&&s&&nl(t),wi(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(a),e=ai(a,e),r){case 0:t=Ci(null,t,a,e,n);break e;case 1:t=_i(null,t,a,e,n);break e;case 11:t=Ni(null,t,a,e,n);break e;case 14:t=ji(null,t,a,ai(a.type,e),n);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Ci(e,t,a,r=t.elementType===a?r:ai(a,r),n);case 1:return a=t.type,r=t.pendingProps,_i(e,t,a,r=t.elementType===a?r:ai(a,r),n);case 3:e:{if(Pi(t),null===e)throw Error(l(387));a=t.pendingProps,r=(s=t.memoizedState).element,Ol(e,t),Wl(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Di(e,t,a,n,r=di(Error(l(423)),t));break e}if(a!==r){t=Di(e,t,a,n,r=di(Error(l(424)),t));break e}for(ll=ur(t.stateNode.containerInfo.firstChild),rl=t,sl=!0,il=null,n=jl(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fl(),a===r){t=Hi(e,t,n);break e}wi(e,t,a,n)}t=t.child}return t;case 5:return Zl(t),null===e&&ul(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,rr(a,r)?i=null:null!==s&&rr(a,s)&&(t.flags|=32),Ti(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&ul(t),null;case 13:return zi(e,t,n);case 4:return Xl(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Nl(t,null,a,n):wi(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Ni(e,t,a,r=t.elementType===a?r:ai(a,r),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,_r(kl,a._currentValue),a._currentValue=i,null!==s)if(ca(s.value,i)){if(s.children===r.children&&!Dr.current){t=Hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){i=s.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Ul(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pl(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(l(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Pl(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}wi(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Dl(t,n),a=a(r=Ll(r)),t.flags|=1,wi(e,t,a,n),t.child;case 14:return r=ai(a=t.type,t.pendingProps),ji(e,t,a,r=ai(a.type,r),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:ai(a,r),Wi(e,t),t.tag=1,Ir(a)?(e=!0,zr(t)):e=!1,Dl(t,n),ii(t,a,r),ci(t,a,r,n),Ei(null,t,a,!0,e,n);case 19:return Vi(e,t,n);case 22:return Si(e,t,n)}throw Error(l(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ed(){}function td(e,t,n,a,r){var l=n._reactRootContainer;if(l){var s=l;if("function"===typeof r){var i=r;r=function(){var e=qc(s);i.call(e)}}Hc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var l=a;a=function(){var e=qc(s);l.call(e)}}var s=Wc(t,a,e,0,null,!1,0,"",ed);return e._reactRootContainer=s,e[xr]=s.current,Wa(8===e.nodeType?e.parentNode:e),mc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var i=a;a=function(){var e=qc(o);i.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",ed);return e._reactRootContainer=o,e[xr]=o.current,Wa(8===e.nodeType?e.parentNode:e),mc(function(){Hc(t,o,n,a)}),o}(n,t,e,r,a);return qc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc(function(){Hc(null,e,null,null)}),t[xr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ot(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mt(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Po)&&(Wo=Xe()+500,Wr()))}break;case 13:mc(function(){var t=Fl(e,1);if(null!==t){var n=nc();rc(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Fl(e,134217728);if(null!==t)rc(t,e,134217728,nc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=ac(e),n=Fl(e,t);if(null!==n)rc(n,e,t,nc());Gc(e,t)}},Tt=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(l(90));Q(a),J(a,r)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=uc,Ee=mc;var nd={usingClientEntryPoint:!1,Events:[wr,Nr,jr,Te,Ce,uc]},ad={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{rt=ld.inject(rd),lt=ld}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(l(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(l(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,a,r),e[xr]=t.current,Wa(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(l(200));return td(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(l(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,r,0,s,i),e[xr]=t.current,Wa(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(l(200));return td(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(l(40));return!!e._reactRootContainer&&(mc(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Zc(n))throw Error(l(200));if(null==e||void 0===e._reactInternals)throw Error(l(38));return td(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var l=Object.create(null);n.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>a[e]);return s.default=()=>a,n.d(l,s),l}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a,r=n(43),l=n.t(r,2),s=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,a){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,n,r){void 0===r&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,d=l.history,p=a.Pop,f=null,x=g();function g(){return(d.state||{idx:null}).idx}function b(){p=a.Pop;let e=g(),t=null==e?null:e-x;x=e,f&&f({action:p,location:v.location,delta:t})}function y(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,d.replaceState(i({},d.state,{idx:x}),""));let v={get action(){return p},get location(){return e(l,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(o,b),f=e,()=>{l.removeEventListener(o,b),f=null}},createHref:e=>t(l,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=a.Push;let r=m(v.location,e,t);n&&n(r,e),x=g()+1;let i=u(r,x),o=v.createHref(r);try{d.pushState(i,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;l.location.assign(o)}s&&f&&f({action:p,location:v.location,delta:1})},replace:function(e,t){p=a.Replace;let r=m(v.location,e,t);n&&n(r,e),x=g();let l=u(r,x),i=v.createHref(r);d.replaceState(l,"",i),s&&f&&f({action:p,location:v.location,delta:0})},go:e=>d.go(e)};return v}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,a){let r=L(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let l=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let i=0;null==s&&i<l.length;++i){let e=D(r);s=E(l[i],e,a)}return s}function y(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,l)=>{let s={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let i=M([a,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:_(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of v(e.path))r(e,t,a);else r(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(0===a.length)return r?[l,""]:[l];let s=v(a.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),r&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,j=2,k=1,S=10,T=-2,C=e=>"*"===e;function _(e,t){let n=e.split("/"),a=n.length;return n.some(C)&&(a+=T),t&&(a+=j),n.filter(e=>!C(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?k:S),a)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},l="/",s=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===l?t:t.slice(l.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:M([l,d.pathname]),pathnameBase:z(M([l,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(l=M([l,d.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let l=new RegExp(r,t?void 0:"i");return[l,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let l=r[0],s=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=i[n]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[a]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function R(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function A(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=p(e):(r=i({},e),c(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let l,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)l=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}l=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?p(e):e,l=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:l,search:O(a),hash:U(r)}}(r,l),u=o&&"/"!==o&&o.endsWith("/"),m=(s||"."===o)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}const H=r.createContext(null);const q=r.createContext(null);const Q=r.createContext(null);const G=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function X(){return null!=r.useContext(G)}function J(){return X()||c(!1),r.useContext(G).location}function Z(e){r.useContext(Q).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=de(oe.UseNavigateStable),t=me(ce.UseNavigateStable),n=r.useRef(!1);return Z(()=>{n.current=!0}),r.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},r)))},[e,t])}():function(){X()||c(!1);let e=r.useContext(H),{basename:t,future:n,navigator:a}=r.useContext(Q),{matches:l}=r.useContext(K),{pathname:s}=J(),i=JSON.stringify(A(l,n.v7_relativeSplatPath)),o=r.useRef(!1);return Z(()=>{o.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof n)return void a.go(n);let l=F(n,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:M([t,l.pathname])),(r.replace?a.replace:a.push)(l,r.state,r)},[t,a,i,s,e])}()}function te(){let{matches:e}=r.useContext(K),t=e[e.length-1];return t?t.params:{}}function ne(e,t,n,l){X()||c(!1);let{navigator:s}=r.useContext(Q),{matches:i}=r.useContext(K),o=i[i.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=J();if(t){var f;let e="string"===typeof t?p(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=h;let x=m.pathname||"/",b=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=g(e,{pathname:b});let v=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,l);return t&&v?r.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},v):v}function ae(){let e=function(){var e;let t=r.useContext(Y),n=ue(ce.UseRouteError),a=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:l},n):null,null)}const re=r.createElement(ae,null);class le extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:a}=e,l=r.useContext(H);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},a)}function ie(e,t,n,a){var l;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(l=n)?void 0:l.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,a,l)=>{let s,c=!1,m=null,h=null;var p;n&&(s=o&&a.route.id?o[a.route.id]:void 0,m=a.route.errorElement||re,d&&(u<0&&0===l?(p="route-fallback",!1||he[p]||(he[p]=!0),c=!0,h=null):u===l&&(c=!0,h=a.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,l+1)),x=()=>{let t;return t=s?m:c?h:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(se,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===l)?r.createElement(le,{location:n.location,revalidation:n.revalidation,component:m,error:s,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=r.useContext(H);return t||c(!1),t}function ue(e){let t=r.useContext(q);return t||c(!1),t}function me(e){let t=function(){let e=r.useContext(K);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const he={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function fe(e){let{to:t,replace:n,state:a,relative:l}=e;X()||c(!1);let{future:s,static:i}=r.useContext(Q),{matches:o}=r.useContext(K),{pathname:d}=J(),u=ee(),m=F(t,A(o,s.v7_relativeSplatPath),d,"path"===l),h=JSON.stringify(m);return r.useEffect(()=>u(JSON.parse(h),{replace:n,state:a,relative:l}),[u,h,l,n,a]),null}function xe(e){c(!1)}function ge(e){let{basename:t="/",children:n=null,location:l,navigationType:s=a.Pop,navigator:i,static:o=!1,future:d}=e;X()&&c(!1);let u=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:i,static:o,future:W({v7_relativeSplatPath:!1},d)}),[u,d,i,o]);"string"===typeof l&&(l=p(l));let{pathname:h="/",search:f="",hash:x="",state:g=null,key:b="default"}=l,y=r.useMemo(()=>{let e=L(h,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:b},navigationType:s}},[u,h,f,x,g,b,s]);return null==y?null:r.createElement(Q.Provider,{value:m},r.createElement(G.Provider,{children:n,value:y}))}function be(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let l=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,l));e.type!==xe&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,l)),n.push(s)}),n}var ve=n(950),we=n.t(ve,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Dn){}new Map;const Ne=l.startTransition;we.flushSync,l.useId;function je(e){let{basename:t,children:n,future:a,window:l}=e,s=r.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:l,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return m("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,i)));let o=s.current,[c,d]=r.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},p=r.useCallback(e=>{u&&Ne?Ne(()=>d(e)):d(e)},[d,u]);return r.useLayoutEffect(()=>o.listen(p),[o,p]),r.useEffect(()=>pe(a),[a]),r.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ke,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));var Te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ce=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{color:l="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,...u}=n;return(0,r.createElement)("svg",{ref:a,...Te,width:s,height:s,stroke:l,strokeWidth:o?24*Number(i)/Number(s):i,className:["lucide",`lucide-${m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var m});return n.displayName=`${e}`,n},_e=Ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ee=Ce("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Pe=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),De=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Le=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Re=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ie=Ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ae=Ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Fe=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Me=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ze=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oe=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ue=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$e=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Be=n(579);const Ve=(0,r.createContext)();function We(e){let{children:t}=e;const[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=window.localStorage.getItem("user"),t=window.localStorage.getItem("token");e&&t&&(a(JSON.parse(e)),s(t)),o(!1)},[]);return(0,Be.jsx)(Ve.Provider,{value:{user:n,token:l,loading:i,login:(e,t)=>{a(e),s(t),window.localStorage.setItem("user",JSON.stringify(e)),window.localStorage.setItem("token",t),console.log("[AUTH] User logged in:",e),console.log("[AUTH] Token set:",t)},logout:async()=>{try{l&&await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${l}`}})}catch(e){console.error("[AUTH] Logout error:",e)}a(null),s(null),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),console.log("[AUTH] User logged out")},getAuthHeaders:()=>l?{Authorization:`Bearer ${l}`}:{}},children:t})}function He(){return(0,r.useContext)(Ve)}const qe=()=>{var e,t,n,a,l;const[s,i]=(0,r.useState)(new Date),o=ee(),{user:c,logout:d}=He(),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)({database:{percentage:0,status:"loading"},apiResponse:{time:0,status:"loading"},uptime:{percentage:0,status:"loading"}}),[f,x]=(0,r.useState)({newDeals:0,documents:0,dealerContacts:0,systemLogins:0});(0,r.useEffect)(()=>{const e=setInterval(()=>i(new Date),1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{fetch("/api/dealers",{credentials:"include"}).then(e=>{if(!e.ok)throw new Error("Failed to fetch dealers");return e.json()}).then(e=>{const t=(e.data||e.dealers||[]).length;m(t)}).catch(e=>{console.error("Error fetching dealer count:",e),m(0)})},[]),(0,r.useEffect)(()=>{const e=async()=>{try{const e=performance.now(),t=await fetch("/api/deals",{credentials:"include"}),n=performance.now(),a=Math.round(n-e);if(t.ok){const e=await t.json(),n=e.deals||e.data||[],r=new Date,l=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=n.filter(e=>new Date(e.createdAt||e.dateCreated)>=l),i=2.5*s.length,o=1.5*s.length,c=Math.floor(20*Math.random())+15;x({newDeals:s.length,documents:Math.round(i),dealerContacts:Math.round(o),systemLogins:c}),p(e=>({...e,apiResponse:{time:a,status:a<200?"good":a<500?"warning":"poor"}}))}}catch(e){console.error("Error fetching system stats:",e),p(e=>({...e,apiResponse:{time:0,status:"error"}}))}},t=async()=>{try{const e=5*Math.random()+95;p(t=>({...t,database:{percentage:Math.round(e),status:e>98?"good":e>95?"warning":"poor"}}))}catch(e){console.error("Error fetching database health:",e),p(e=>({...e,database:{percentage:0,status:"error"}}))}},n=async()=>{try{const e=.5*Math.random()+99.5;p(t=>({...t,uptime:{percentage:Math.round(10*e)/10,status:e>99.8?"good":e>99.5?"warning":"poor"}}))}catch(e){console.error("Error fetching uptime:",e),p(e=>({...e,uptime:{percentage:0,status:"error"}}))}};e(),t(),n();const a=setInterval(()=>{e(),t(),n()},3e4);return()=>clearInterval(a)},[]),(0,r.useEffect)(()=>{"finance"===(null===c||void 0===c?void 0:c.role)&&fetch("/api/deals",{credentials:"include"}).then(e=>e.json()).then(e=>{}).catch(()=>{})},[c]);const g=(()=>{var e,t;return c?null!==(e=c.profile)&&void 0!==e&&e.displayName?c.profile.displayName:c.firstName&&c.lastName?`${c.firstName} ${c.lastName}`:c.firstName?c.firstName:(null===(t=c.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),b=g.split(" ")[0],y=(null===c||void 0===c?void 0:c.permissions)||{},v={...y,canViewMonthlyRevenue:y.canViewFinancials||"admin"===(null===c||void 0===c?void 0:c.role),canSearchDealers:(null===(e=y.dealers)||void 0===e?void 0:e.read)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canAccessBackOffice:(null===(t=y.backoffice)||void 0===t?void 0:t.access)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canManageUsers:(null===(n=y.users)||void 0===n?void 0:n.manage)||"admin"===(null===c||void 0===c?void 0:c.role)||!1},w="admin"===(null===c||void 0===c?void 0:c.role);console.log("\ud83d\udd0d Debug - Current User:",c),console.log("\ud83d\udd0d Debug - User Permissions:",y),console.log("\ud83d\udd0d Debug - Enhanced Permissions:",v),console.log("\ud83d\udd0d Debug - Can Search Dealers:",!!v.canSearchDealers),console.log("\ud83d\udd0d Debug - Is Admin:",w),console.log("\ud83d\udd0d Debug - Dealer Search Show Condition:",w||!!v.canSearchDealers);const N=e=>{switch(e){case"admin":default:return _e;case"sales":return Ee;case"finance":return Pe;case"viewer":return De}},j=e=>{switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},k=[{label:"Monthly Revenue",value:w||v.canViewMonthlyRevenue?"$2.1M":"Restricted",change:w||v.canViewMonthlyRevenue?"+12%":null,icon:Pe,gradient:"from-purple-500 to-pink-500",show:w||v.canViewMonthlyRevenue},{label:"Pending Tasks",value:"6",change:"-2",icon:Le,gradient:"from-orange-500 to-amber-500",show:w||v.canAccessBackOffice}].filter(e=>e.show&&"sales"!==(null===c||void 0===c?void 0:c.role)),S=[...[{title:"New Deal Entry",description:"Create a new vehicle deal with intelligent VIN decoding, dealer matching, and comprehensive financial tracking",icon:Re,gradient:"from-blue-600 via-blue-700 to-cyan-600",route:"/deals/new",show:w||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Smart VIN decoding \u2022 Dealer autocomplete \u2022 Financial calculators \u2022 Document upload"},{title:"Deal Status",description:"Track the progress of your deals with real-time status updates and document management",icon:Ie,gradient:"from-green-600 to-emerald-600",route:"/deals/status",show:w||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"},{title:"View All Deals",subtitle:"Complete Deal Management",description:"View and manage all deals in the system with comprehensive filtering and search",icon:Ae,gradient:"from-purple-600 to-pink-600",route:"/deals/all",show:w||v.canAccessBackOffice,feature:"Complete deal listing \u2022 Advanced filtering \u2022 Search capabilities \u2022 Bulk operations"}],{title:"Dealer Network",description:"View and manage your dealer network and contacts",icon:Fe,gradient:"from-blue-500 to-cyan-500",route:"/dealers",show:w||"sales"===(null===c||void 0===c?void 0:c.role)||"finance"===(null===c||void 0===c?void 0:c.role),feature:null!==u?`${u} dealers in network`:"Loading..."}],T=[{title:"User Management",subtitle:"System Administration",description:"Manage user accounts, roles, and system permissions",icon:Fe,gradient:"from-indigo-600 to-purple-600",route:"/users",show:w||v.canManageUsers,tasks:null}],C=[{id:1,type:"deal",title:"2020 McLaren 720S Deal Created",subtitle:"Stock #RP2025001 \u2022 $220,000 \u2022 Ian Hutchinson",time:"2 hours ago",icon:Ee,color:"blue"},{id:2,type:"document",title:"Title Documentation Received",subtitle:"2019 Ferrari F8 Tributo \u2022 Stock #RP2025003",time:"4 hours ago",icon:Ae,color:"green"},{id:3,type:"dealer",title:"New Dealer Contact Added",subtitle:"Midwest Auto Group \u2022 Kansas City, MO",time:"1 day ago",icon:Fe,color:"purple"},{id:4,type:"finance",title:"Monthly P&L Report Generated",subtitle:"$2.1M revenue \u2022 15% margin improvement",time:"2 days ago",icon:Me,color:"orange"}],_=N(null===c||void 0===c?void 0:c.role),E=j(null===c||void 0===c?void 0:c.role),P=[{id:1,title:"Title Processing",status:"In Progress",priority:"High",assignedTo:"Lynn",dueDate:"2025-01-15",description:"2019 Ferrari F8 Tributo - Stock #RP2025002"},{id:2,title:"Registration Documents",status:"Pending",priority:"Medium",assignedTo:"Lynn",dueDate:"2025-01-18",description:"2020 McLaren 720S - Stock #RP2025001"},{id:3,title:"Insurance Verification",status:"Complete",priority:"Low",assignedTo:"Lynn",dueDate:"2025-01-12",description:"2021 Lamborghini Hurac\xe1n - Stock #RP2025003"},{id:4,title:"Compliance Review",status:"In Progress",priority:"High",assignedTo:"Lynn",dueDate:"2025-01-16",description:"2022 Porsche 911 GT3 - Stock #RP2025004"}],D=e=>{switch(e){case"Complete":return"text-green-400 bg-green-500/20";case"In Progress":return"text-blue-400 bg-blue-500/20";case"Pending":return"text-orange-400 bg-orange-500/20";case"Overdue":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},L=e=>{switch(e){case"High":return"text-red-400";case"Medium":return"text-orange-400";case"Low":return"text-green-400";default:return"text-gray-400"}},R=(()=>{const e=[{id:1,vehicle:"2020 McLaren 720S",stockNumber:"RP2025001",status:"Active",assignedTo:"Parker Gelber",price:"$220,000",progress:33,progressText:"Purchased",createdBy:"parker@rpexotics.com",createdAt:"2h ago"},{id:2,vehicle:"2019 Ferrari F8 Tributo",stockNumber:"RP2025002",status:"Pending",assignedTo:"Parker Gelber",price:"$285,000",progress:66,progressText:"Title Review",createdBy:"parker@rpexotics.com",createdAt:"1d ago"},{id:3,vehicle:"2021 Lamborghini Hurac\xe1n",stockNumber:"RP2025003",status:"Ready",assignedTo:"Chris Murphy",price:"$195,000",progress:83,progressText:"Ready to List",createdBy:"chris@rpexotics.com",createdAt:"3d ago"},{id:4,vehicle:"2022 Porsche 911 GT3",stockNumber:"RP2025004",status:"Sold",assignedTo:"Brennan Sauer",price:"$185,000 \u2192 $205,000",progress:100,progressText:"Complete",createdBy:"brennan@rpexotics.com",createdAt:"1w ago"}];return w?e:e.filter(e=>e.createdBy===(null===c||void 0===c?void 0:c.email))})(),I="sales"===(null===c||void 0===c?void 0:c.role);return(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Be.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-500/3 rounded-full blur-3xl animate-pulse delay-2000"})]}),(0,Be.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,Be.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center group",children:[(0,Be.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-blue-500/25",children:[(0,Be.jsx)("img",{src:"https://cdn-ds.com/media/sz_27586/3693/rpexotics-favicon.png",alt:"RP Exotics Logo",className:"h-6 w-6 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Be.jsx)(Ee,{className:"h-6 w-6 text-white hidden"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-xl font-bold text-white",children:"RP Exotics"}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm",children:"Professional Vehicle Management"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Be.jsxs)("div",{className:"text-right",children:[(0,Be.jsx)("p",{className:"text-sm font-medium text-white",children:g}),(0,Be.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${E} text-white shadow-lg`,children:[(0,Be.jsx)(_,{className:"h-3 w-3 mr-1"}),(null===c||void 0===c||null===(a=c.role)||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===c||void 0===c||null===(l=c.role)||void 0===l?void 0:l.slice(1))||"Guest"]})]}),(0,Be.jsxs)("div",{className:"text-right text-sm text-gray-300",children:[(0,Be.jsx)("p",{className:"font-medium",children:s.toLocaleDateString()}),(0,Be.jsx)("p",{className:"text-xs",children:s.toLocaleTimeString()})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[v.canManageUsers&&(0,Be.jsx)(ze,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200"}),(0,Be.jsx)(Oe,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200",onClick:async()=>{try{await d(),o("/login")}catch(e){console.error("Logout error:",e),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),o("/login")}}})]})]})]})})}),(0,Be.jsxs)("div",{className:"relative max-w-8xl mx-auto px-2 sm:px-4 py-10",children:[(0,Be.jsx)("div",{className:"mb-12",children:(0,Be.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("h2",{className:"text-5xl font-extrabold text-white mb-2",children:["Welcome back, ",(0,Be.jsx)("span",{className:`bg-gradient-to-r ${E} bg-clip-text text-transparent`,children:b})]}),(0,Be.jsx)("p",{className:"text-gray-300 text-lg max-w-2xl leading-relaxed",children:(()=>{switch(null===c||void 0===c?void 0:c.role){case"admin":return"You have complete administrative control over the RP Exotics management system with full access to all modules, financial data, and user management capabilities.";case"sales":return"Access your deal management tools and dealer network. Focus on what you do best - creating deals and building relationships.";case"finance":return"Monitor financial performance with comprehensive access to pricing data, margins, and back office operations.";case"viewer":return"Stay informed with read-only access to reports, analytics, and system information.";default:return"Welcome to the RP Exotics management system."}})()})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2 bg-green-500/10 border border-green-500/30 rounded-xl px-4 py-2",children:[(0,Be.jsx)(Ue,{className:"h-5 w-5 text-green-400"}),(0,Be.jsx)("span",{className:"text-green-300 text-base font-semibold",children:"All Systems Operational"})]})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&0===k.length&&(0,Be.jsx)("div",{className:"mb-12 text-center text-gray-400",children:"No quick stats available for finance role."}),"finance"!==(null===c||void 0===c?void 0:c.role)&&S.filter(e=>e.show&&"Deal Status"!==e.title).length>0&&(0,Be.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("sales"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 lg:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:S.filter(e=>e.show&&"Deal Status"!==e.title).map(e=>(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 rounded-2xl shadow-xl flex flex-col items-center justify-between transition-transform duration-200 hover:scale-[1.02] hover:shadow-2xl cursor-pointer "+("sales"===(null===c||void 0===c?void 0:c.role)?"p-12 min-h-[280px]":"p-8 min-h-[180px]"),onClick:()=>o(e.route),children:[(0,Be.jsx)("div",{className:`bg-gradient-to-r ${e.gradient} rounded-full p-4 mb-4 shadow-lg`,children:(0,Be.jsx)(e.icon,{className:"h-10 w-10 text-white"})}),(0,Be.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.title}),(0,Be.jsx)("p",{className:"text-gray-300 text-lg font-medium mb-2 text-center",children:e.description}),e.feature&&(0,Be.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:e.feature})]},e.title))}),I&&(0,Be.jsx)("div",{className:"flex flex-col gap-8 mb-12 w-full",children:(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl border border-green-500/20 p-10 flex flex-col justify-between cursor-pointer hover:bg-green-500/20 transition min-h-[180px] w-full",onClick:()=>o("/deals/status"),children:[(0,Be.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Be.jsx)(Ie,{className:"h-8 w-8 text-green-400 mr-4"}),(0,Be.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Deal Status"})]}),(0,Be.jsx)("p",{className:"text-gray-300 text-lg mb-2",children:"Track the progress of your deals with real-time status updates and document management"}),(0,Be.jsx)("p",{className:"text-xs text-gray-400",children:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&(0,Be.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-blue-500/20 transition",onClick:()=>o("/dealers"),children:[(0,Be.jsx)(Fe,{className:"h-12 w-12 text-blue-400 mb-4"}),(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"Dealer Network"}),(0,Be.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and manage your dealer network and contacts"}),(0,Be.jsxs)("div",{className:"flex items-center text-blue-400 text-sm font-medium",children:[(0,Be.jsx)($e,{className:"h-4 w-4 mr-1"}),null!==u?`${u} dealers in network`:"Loading..."]})]}),(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-600/10 rounded-2xl border border-purple-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-purple-500/20 transition",onClick:()=>o("/finance/deals"),children:[(0,Be.jsx)(Ae,{className:"h-12 w-12 text-purple-400 mb-4"}),(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"All Deal Status"}),(0,Be.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and update the status of all deals in one place"}),(0,Be.jsxs)("div",{className:"flex items-center text-purple-400 text-sm font-medium",children:[(0,Be.jsx)($e,{className:"h-4 w-4 mr-1"}),"Status workflow & sub-status"]})]})]}),T.filter(e=>e.show).length>0&&(0,Be.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("finance"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 md:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:T.filter(e=>e.show).map(e=>(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 p-8 rounded-2xl shadow-xl flex flex-col items-center justify-between min-h-[180px] transition-transform duration-200 hover:scale-[1.03] hover:shadow-2xl cursor-pointer "+("finance"===(null===c||void 0===c?void 0:c.role)?"min-h-[140px] p-6":""),onClick:()=>e.route&&o(e.route),children:[(0,Be.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full shadow-lg "+("finance"===(null===c||void 0===c?void 0:c.role)?"p-3 mb-3":"p-4 mb-4"),children:(0,Be.jsx)(e.icon,{className:"text-white "+("finance"===(null===c||void 0===c?void 0:c.role)?"h-8 w-8":"h-10 w-10")})}),(0,Be.jsx)("h3",{className:"font-bold text-white mb-2 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-lg":"text-2xl"),children:e.title}),(0,Be.jsx)("p",{className:"text-white/90 text-base leading-relaxed mb-3 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-sm":"text-base"),children:e.description}),e.feature&&(0,Be.jsxs)("div",{className:"flex items-center text-white/80 text-xs",children:[(0,Be.jsx)($e,{className:"h-4 w-4 mr-1"}),(0,Be.jsx)("span",{children:e.feature})]})]},e.title))}),0===R.length&&(0,Be.jsxs)("div",{className:"lg:col-span-2 bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,Be.jsx)(Ie,{className:"h-5 w-5 text-blue-400 mr-2"}),"Recent Activity"]}),(0,Be.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All"})]}),(0,Be.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,Be.jsxs)("div",{className:"group flex items-center p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,Be.jsx)("div",{className:`bg-${e.color}-500/20 rounded-lg p-2 mr-4 group-hover:scale-110 transition-transform duration-300`,children:(0,Be.jsx)(e.icon,{className:`h-4 w-4 text-${e.color}-400`})}),(0,Be.jsxs)("div",{className:"flex-1",children:[(0,Be.jsx)("p",{className:"text-white text-sm font-medium mb-1",children:e.title}),(0,Be.jsx)("p",{className:"text-gray-400 text-xs",children:e.subtitle})]}),(0,Be.jsx)("span",{className:"text-gray-500 text-xs",children:e.time})]},e.id))})]}),"sales"!==(null===c||void 0===c?void 0:c.role)&&(0,Be.jsxs)("div",{className:"space-y-6",children:[(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,Be.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,Be.jsx)(_e,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]})]}),(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,Be.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Today's Summary"}),(0,Be.jsxs)("div",{className:"space-y-3",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"New Deals"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.newDeals})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Dealer Contacts"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.dealerContacts})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Documents Processed"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.documents})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"System Logins"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.systemLogins})]})]})]})]}),"sales"===(null===c||void 0===c?void 0:c.role)&&(0,Be.jsx)("div",{className:"mt-8 space-y-8",children:(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,Be.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,Be.jsx)(_e,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,Be.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,Be.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsx)("h4",{className:"text-sm font-medium text-white mb-3",children:"Today's Activity"}),(0,Be.jsxs)("div",{className:"space-y-3",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"New Deals"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.newDeals})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Documents"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.documents})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Dealer Contacts"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.dealerContacts})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"System Logins"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:f.systemLogins})]})]})]})]})]})}),w&&(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center",children:[(0,Be.jsx)(Ae,{className:"h-5 w-5 text-purple-400 mr-2"}),"Back Office Status"]}),(0,Be.jsxs)("span",{className:"bg-purple-500/20 text-purple-400 text-xs font-medium px-2 py-1 rounded-full",children:[P.length," Tasks"]})]}),(0,Be.jsxs)("div",{className:"space-y-3",children:[P.map(e=>(0,Be.jsxs)("div",{className:"group p-3 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-all duration-300",children:[(0,Be.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Be.jsx)("h4",{className:"text-white text-sm font-medium",children:e.title}),(0,Be.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${D(e.status)}`,children:e.status})]}),(0,Be.jsx)("p",{className:"text-gray-400 text-xs mb-2",children:e.description}),(0,Be.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Assigned:"}),(0,Be.jsx)("span",{className:"text-white",children:e.assignedTo})]}),(0,Be.jsx)("span",{className:`font-medium ${L(e.priority)}`,children:e.priority})]}),(0,Be.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]},e.id)),(0,Be.jsx)("button",{className:"w-full text-purple-400 hover:text-purple-300 text-xs font-medium py-2 border border-purple-500/30 rounded-lg hover:bg-purple-500/10 transition-all duration-300",children:"View All Back Office Tasks"})]})]}),"admin"===(null===c||void 0===c?void 0:c.role)&&(0,Be.jsxs)("div",{className:"mt-10 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Demo: Switch User Roles"}),(0,Be.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["admin","sales","finance","viewer"].map(e=>{const t=N(e),n=j(e);return(0,Be.jsxs)("button",{onClick:()=>{console.log(`Switching to ${e} role`)},className:"p-4 rounded-xl transition-all duration-300 border "+((null===c||void 0===c?void 0:c.role)===e?`bg-gradient-to-r ${n} border-transparent shadow-lg shadow-white/10 scale-105`:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"),children:[(0,Be.jsx)(t,{className:"h-6 w-6 mx-auto mb-2 "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-400")}),(0,Be.jsx)("p",{className:"text-sm font-medium "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)})})]})]})]})},Qe=Ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ge=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ke=Ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Ye=Ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Xe=Ce("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Je=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ze=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),et=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tt=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),nt=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),at=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),rt=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),lt=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),st=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function it(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=it(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}const ot=function(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=it(e))&&(a&&(a+=" "),a+=t);return a};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ct=e=>"number"==typeof e&&!isNaN(e),dt=e=>"string"==typeof e,ut=e=>"function"==typeof e,mt=e=>dt(e)||ut(e)?e:null,ht=(e,t)=>!1===e||ct(e)&&e>0?e:t,pt=e=>(0,r.isValidElement)(e)||dt(e)||ut(e)||ct(e);function ft(e){let{enter:t,exit:n,appendPosition:a=!1,collapse:l=!0,collapseDuration:s=300}=e;return function(e){let{children:i,position:o,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:h}=e,p=a?`${t}--${o}`:t,f=a?`${n}--${o}`:n,x=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=u.current,t=p.split(" "),n=a=>{a.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===x.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),l?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:a,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=a+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}(e,d,s):d()};m||(c?t():(x.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[m]),r.createElement(r.Fragment,null,i)}}function xt(e,t){return{content:gt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!dt(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ut(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function bt(e){let{delay:t,isRunning:n,closeToast:a,type:l="default",hide:s,className:i,controlledProgress:o,progress:c,rtl:d,isIn:u,theme:m}=e,h=s||o&&0===c,p={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};o&&(p.transform=`scaleX(${c})`);let f=ot("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${l}`,{"Toastify__progress-bar--rtl":d}),x=ut(i)?i({rtl:d,type:l,defaultClassName:f}):ot(f,i),g={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{u&&a()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},r.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${l}`}),r.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:x,style:p,...g}))}var yt=1,vt=()=>""+yt++;function wt(e,t,n){let a=1,r=0,l=[],s=[],i=t,o=new Map,c=new Set,d=()=>{s=Array.from(o.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)o.forEach(u);else{let t=o.get(e);t&&u(t)}d()},h=e=>{var t,a;let{toastId:r,updateId:l}=e.props,s=null==l;e.staleId&&o.delete(e.staleId),e.isActive=!0,o.set(r,e),d(),n(xt(e,s?"added":"updated")),s&&(null==(a=(t=e.props).onOpen)||a.call(t))};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{o.forEach(n=>{var a;(null==t||t===n.props.toastId)&&(null==(a=n.toggle)||a.call(n,e))})},removeToast:m,toasts:o,clearQueue:()=>{r-=l.length,l=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:a,updateId:r}=t,l=n?n!==e:1!==e,s=o.has(a)&&null==r;return l||s})(s))return;let{toastId:c,updateId:u,data:p,staleId:f,delay:x}=s,g=null==u;g&&r++;let b={...i,style:i.toastStyle,key:a++,...Object.fromEntries(Object.entries(s).filter(e=>{let[t,n]=e;return null!=n})),toastId:c,updateId:u,data:p,isIn:!1,className:mt(s.className||i.toastClassName),progressClassName:mt(s.progressClassName||i.progressClassName),autoClose:!s.isLoading&&ht(s.autoClose,i.autoClose),closeToast(e){o.get(c).removalReason=e,m(c)},deleteToast(){let e=o.get(c);if(null!=e){if(n(xt(e,"removed")),o.delete(c),r--,r<0&&(r=0),l.length>0)return void h(l.shift());d()}}};b.closeButton=i.closeButton,!1===s.closeButton||pt(s.closeButton)?b.closeButton=s.closeButton:!0===s.closeButton&&(b.closeButton=!pt(i.closeButton)||i.closeButton);let y={content:t,props:b,staleId:f};i.limit&&i.limit>0&&r>i.limit&&g?l.push(y):ct(x)?setTimeout(()=>{h(y)},x):h(y)},setProps(e){i=e},setToggle:(e,t)=>{let n=o.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=o.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var Nt=new Map,jt=[],kt=new Set,St=e=>kt.forEach(t=>t(e)),Tt=()=>Nt.size>0;function Ct(e,t){var n;if(t)return!(null==(n=Nt.get(t))||!n.isToastActive(e));let a=!1;return Nt.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function _t(e){if(Tt()){if(null==e||(e=>dt(e)||ct(e))(e))Nt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Nt.get(e.containerId);t?t.removeToast(e.id):Nt.forEach(t=>{t.removeToast(e.id)})}}else jt=jt.filter(t=>null!=e&&t.options.toastId!==e)}function Et(e,t){pt(e)&&(Tt()||jt.push({content:e,options:t}),Nt.forEach(n=>{n.buildToast(e,t)}))}function Pt(e,t){Nt.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Dt(e){let t=e.containerId||1;return{subscribe(n){let a=wt(t,e,St);Nt.set(t,a);let r=a.observe(n);return jt.forEach(e=>Et(e.content,e.options)),jt=[],()=>{r(),Nt.delete(t)}},setProps(e){var n;null==(n=Nt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Nt.get(t))?void 0:e.getSnapshot()}}}function Lt(e){return e&&(dt(e.toastId)||ct(e.toastId))?e.toastId:vt()}function Rt(e,t){return Et(e,t),t.toastId}function It(e,t){return{...t,type:t&&t.type||e,toastId:Lt(t)}}function At(e){return(t,n)=>Rt(t,It(e,n))}function Ft(e,t){return Rt(e,It("default",t))}function Mt(e){let[t,n]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),s=(0,r.useRef)(null),i=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function h(){n(!0)}function p(){n(!1)}function f(n){let a=s.current;if(i.canDrag&&a){i.didMove=!0,t&&p(),"x"===e.draggableDirection?i.delta=n.clientX-i.start:i.delta=n.clientY-i.start,i.start!==n.clientX&&(i.canCloseOnClick=!1);let r="x"===e.draggableDirection?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;a.style.transform=`translate3d(${r},0)`,a.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance))}}function x(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",x);let t=s.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return l(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Nt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",x);let n=s.current;i.canCloseOnClick=!0,i.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:a,left:r,right:l}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=l&&t.clientY>=n&&t.clientY<=a?p():h()}};return o&&c&&(g.onMouseEnter=p,e.stacked||(g.onMouseLeave=h)),m&&(g.onClick=e=>{u&&u(e),i.canCloseOnClick&&d(!0)}),{playToast:h,pauseToast:p,isRunning:t,preventExitTransition:a,toastRef:s,eventHandlers:g}}Ft.loading=(e,t)=>Rt(e,It("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ft.promise=function(e,t,n){let a,{pending:r,error:l,success:s}=t;r&&(a=dt(r)?Ft.loading(r,n):Ft.loading(r.render,{...n,...r}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,r)=>{if(null==t)return void Ft.dismiss(a);let l={type:e,...i,...n,data:r},s=dt(t)?{render:t}:t;return a?Ft.update(a,{...l,...s}):Ft(s.render,{...l,...s}),r},c=ut(e)?e():e;return c.then(e=>o("success",s,e)).catch(e=>o("error",l,e)),c},Ft.success=At("success"),Ft.info=At("info"),Ft.error=At("error"),Ft.warning=At("warning"),Ft.warn=Ft.warning,Ft.dark=(e,t)=>Rt(e,It("default",{theme:"dark",...t})),Ft.dismiss=function(e){_t(e)},Ft.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Nt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Ft.isActive=Ct,Ft.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var a;return null==(a=Nt.get(n||1))?void 0:a.toasts.get(e)})(e,t);if(n){let{props:a,content:r}=n,l={delay:100,...a,...t,toastId:t.toastId||e,updateId:vt()};l.toastId!==e&&(l.staleId=e);let s=l.render||r;delete l.render,Rt(s,l)}},Ft.done=e=>{Ft.update(e,{progress:1})},Ft.onChange=function(e){return kt.add(e),()=>{kt.delete(e)}},Ft.play=e=>Pt(!0,e),Ft.pause=e=>Pt(!1,e);var zt="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,Ot=e=>{let{theme:t,type:n,isLoading:a,...l}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...l})};var Ut={info:function(e){return r.createElement(Ot,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(Ot,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(Ot,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(Ot,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function $t(e){let{theme:t,type:n,isLoading:a,icon:l}=e,s=null,i={theme:t,type:n};return!1===l||(ut(l)?s=l({...i,isLoading:a}):(0,r.isValidElement)(l)?s=(0,r.cloneElement)(l,i):a?s=Ut.spinner():(e=>e in Ut)(n)&&(s=Ut[n](i))),s}var Bt=e=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:l,playToast:s}=Mt(e),{closeButton:i,children:o,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:h,transition:p,position:f,className:x,style:g,progressClassName:b,updateId:y,role:v,progress:w,rtl:N,toastId:j,deleteToast:k,isIn:S,isLoading:T,closeOnClick:C,theme:_,ariaLabel:E}=e,P=ot("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":C}),D=ut(x)?x({rtl:N,position:f,type:u,defaultClassName:P}):ot(P,x),L=$t(e),R=!!w||!c,I={closeToast:h,type:u,theme:_},A=null;return!1===i||(A=ut(i)?i(I):(0,r.isValidElement)(i)?(0,r.cloneElement)(i,I):function(e){let{closeToast:t,theme:n,ariaLabel:a="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),r.createElement(p,{isIn:S,done:k,position:f,preventExitTransition:n,nodeRef:a,playToast:s},r.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":S,className:D,...l,style:g,ref:a,...S&&{role:v,"aria-label":E}},null!=L&&r.createElement("div",{className:ot("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},L),gt(o,e,!t),A,!e.customProgressBar&&r.createElement(bt,{...y&&!R?{key:`p-${y}`}:{},rtl:N,theme:_,delay:c,isRunning:t,isIn:S,closeToast:h,hide:m,type:u,className:b,controlledProgress:R,progress:w||0})))},Vt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Wt=ft(Vt("bounce",!0)),Ht=(ft(Vt("slide",!0)),ft(Vt("zoom")),ft(Vt("flip")),{position:"top-right",transition:Wt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function qt(e){let t={...Ht,...e},n=e.stacked,[a,l]=(0,r.useState)(!0),s=(0,r.useRef)(null),{getToastToRender:i,isToastActive:o,count:c}=function(e){var t;let{subscribe:n,getSnapshot:a,setProps:l}=(0,r.useRef)(Dt(e)).current;l(e);let s=null==(t=(0,r.useSyncExternalStore)(n,a,a))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Ct,count:null==s?void 0:s.length}}(t),{className:d,style:u,rtl:m,containerId:h,hotKeys:p}=t;function f(e){let t=ot("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":m});return ut(d)?d({position:e,rtl:m,defaultClassName:t}):ot(t,mt(d))}function x(){n&&(l(!0),Ft.play())}return zt(()=>{var e;if(n){let n=s.current.querySelectorAll('[data-in="true"]'),r=12,l=null==(e=t.position)?void 0:e.includes("top"),i=0,o=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${a}`),n.dataset.pos||(n.dataset.pos=l?"top":"bot");let s=i*(a?.2:1)+(a?0:r*t);n.style.setProperty("--y",`${l?s:-1*s}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(a?o:0))),i+=n.offsetHeight,o+=.025})}},[a,c,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=s.current;p(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),l(!1),Ft.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(l(!0),Ft.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),r.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(l(!1),Ft.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i((e,t)=>{let a=t.length?{...u}:{...u,pointerEvents:"none"};return r.createElement("div",{tabIndex:-1,className:f(e),"data-stacked":n,style:a,key:`c-${e}`},t.map(e=>{let{content:t,props:a}=e;return r.createElement(Bt,{...a,stacked:n,collapseAll:x,isIn:o(a.toastId,a.containerId),key:`t-${a.key}`},t)}))}))}const Qt=()=>{const{user:e,getAuthHeaders:t}=He(),n=ee();(0,r.useEffect)(()=>{e||n("/login")},[e,n]);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...t(),"Content-Type":"application/json",...e};return n.Authorization?console.log("[DEAL SUBMIT] Using Authorization header:",n.Authorization):console.warn("[DEAL SUBMIT] No Authorization token in headers!"),n},l=(new Date).toISOString().slice(0,10),[s,i]=(0,r.useState)({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:l,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",killPrice:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",contractRequired:!1,titlePresent:!1,driverLicensePresent:!1,odometerPresent:!1,dealerLicensePresent:!1,documents:[],salesperson:""}),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[x,g]=(0,r.useState)(""),[b,y]=(0,r.useState)({}),[v,w]=(0,r.useState)(!1),[N,j]=(0,r.useState)(1),[k,S]=(0,r.useState)([]);(0,r.useEffect)(()=>{fetch("/api/backoffice/document-types",{credentials:"include"}).then(e=>e.json()).then(e=>{e.success&&Array.isArray(e.data)}).catch(()=>{})},[]);function T(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}const C=(()=>{const e=s.dealType2SubType,t="retail-pp"===s.dealType;return{purchasePriceLabel:"sale"===e?"Sale Price":"Purchase Price",sellerLabel:"sale"===e?"Sold To":"Purchased From",sellerSectionTitle:"sale"===e?"Buyer Information":"Seller Information",companyLabel:t?"Company (if applicable)":"Company/Dealer",licenseLabel:t?"License Number (if applicable)":"Dealer License Number",addressLabel:t?"Address":"Seller Address"}})(),_=[{value:"wholesale-d2d",label:"Wholesale - D2D"},{value:"wholesale-private",label:"Wholesale - Private Party"},{value:"wholesale-flip",label:"Wholesale - Flip"},{value:"retail-pp",label:"Retail - PP"},{value:"retail-auction",label:"Retail - Auction"},{value:"retail-dtod",label:"Retail - DtoD"},{value:"auction",label:"Auction"}],E=[{value:"flpn-retail",label:"FLPN - Retail"},{value:"flpn-wholesale",label:"FLPN - Wholesale"},{value:"cash",label:"Cash"},{value:"flooring-line",label:"Flooring Line"},{value:"consignment",label:"Consignment"}],P=[{value:"check",label:"Check"},{value:"wire",label:"Wire Transfer"},{value:"ach",label:"ACH"},{value:"cash",label:"Cash"},{value:"financed",label:"Financed"}],D=[{value:"buy",label:"Buy"},{value:"sale",label:"Sale"},{value:"buy-sell",label:"Buy/Sell"},{value:"consign-a",label:"Consign-A"},{value:"consign-b",label:"Consign-B"},{value:"consign-c",label:"Consign-C"},{value:"consign-rdnc",label:"Consign-RDNC"}],L=[{value:"Brennan S",label:"Brennan S"},{value:"Parker G",label:"Parker G"},{value:"Dan M",label:"Dan M"},{value:"Adiana P",label:"Adiana P"},{value:"Brett M",label:"Brett M"},{value:"Other",label:"Other"}],R=(()=>{const e=s.dealType;return{showFinancials:["wholesale-d2d","wholesale-private","wholesale-flip","retail-pp","retail-auction","retail-dtod","auction"].includes(e),showSellerInfo:!0,showDocumentation:["wholesale-d2d","wholesale-private","wholesale-flip","retail-pp","retail-auction","retail-dtod","auction"].includes(e),requiredFields:["vin","dealType","dealType2SubType","year","make","model","sellerName"]}})(),I=async e=>{c(!0);try{const n={...t(),"Content-Type":"application/json"};console.log("[VIN DECODE] Sending request with headers:",n);const a=await fetch("/api/deals/vin/decode",{method:"POST",headers:n,body:JSON.stringify({vin:e}),credentials:"include"});console.log("[VIN DECODE] Response status:",a.status);const r=await a.json();console.log("[VIN DECODE] Response data:",r),r.success&&r.data?(i(e=>({...e,year:r.data.year||"",make:r.data.make||"",model:r.data.model||""})),u(!0),setTimeout(()=>u(!1),3e3)):(console.error("VIN decode failed:",r.error),alert(r.error||"Unable to decode VIN. Please check the VIN and try again."))}catch(n){console.error("[VIN DECODE] Error:",n),alert("Unable to decode VIN. Please check your connection and try again.")}finally{c(!1)}},A=async e=>{if(e.length<2)h([]);else try{const t=await fetch(`/api/dealers/search?q=${encodeURIComponent(e)}`,{credentials:"include"}),n=await t.json();h(n.dealers||[]),console.log("[DEALER SEARCH] Suggestions:",n.dealers||[])}catch(t){console.error("Dealer search error:",t),h([])}},F=(e,t)=>{let n=t;if(["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(e)&&(n=(e=>{if(!e)return"";const t=e.toString().replace(/[^\d.]/g,""),n=t.split(".");return n.length>2?n[0]+"."+n.slice(1).join(""):t})(t)),"dealType"===e)return i(e=>({...e,dealType:n,dealType2SubType:"deal-type-2"===n?e.dealType2SubType:"wholesale-flip"===n?"buy-sell":""})),void(N>1&&j(1));i(t=>({...t,[e]:n})),b[e]&&y(t=>({...t,[e]:null})),"vin"!==e||17!==n.length||d||I(n),"sellerName"===e&&("wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType?"dealer"===s.sellerType?A(n):h([]):A(n)),"buyerName"===e&&("dealer"===s.buyerType?(async e=>{if(e.length<2)f([]);else try{const t=await fetch(`/api/dealers/search?q=${encodeURIComponent(e)}`,{credentials:"include"}),n=await t.json();f(n.dealers||[])}catch(t){console.error("Dealer search error:",t),f([])}})(n):f([])),"sellerType"!==e&&"buyerType"!==e||("sellerType"===e&&"private"===n&&h([]),"buyerType"===e&&"private"===n&&f([])),"dealType"===e&&N>1&&j(1)},M=e=>{const t=Array.from(e.target.files);i(e=>({...e,documents:[...e.documents||[],...t]})),S(e=>[...e,...t.map((t,n)=>({fileIndex:e.length+n,note:""}))])},z=async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return alert("You must be logged in to submit a deal."),void n("/login");if(r||(()=>{const e={};let t=R.requiredFields||["vin","dealType","dealType2SubType","year","make","model","sellerName"];return"wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType&&(t=[...t,"buyerName"]),t.forEach(t=>{s[t]&&""!==s[t].toString().trim()||(e[t]=`${t.charAt(0).toUpperCase()+t.slice(1)} is required`)}),s.year&&(s.year<1900||s.year>(new Date).getFullYear()+1)&&(e.year="Please enter a valid year"),s.mileage&&s.mileage<0&&(e.mileage="Mileage cannot be negative"),R.showFinancials&&s.purchasePrice&&s.purchasePrice<=0&&(e.purchasePrice="Purchase price must be greater than 0"),y(e),0===Object.keys(e).length})()){w(!0);try{console.log("[DEAL SUBMIT] formData:",s),console.log("[DEBUG] handleSave - sellerType in formData:",s.sellerType),console.log("[DEAL SUBMIT] Financial fields:",{brokerageFee:s.brokerageFee,brokerageFeePaidTo:s.brokerageFeePaidTo,payoffBalance:s.payoffBalance,amountDueToCustomer:s.amountDueToCustomer,amountDueToRP:s.amountDueToRP,commissionRate:s.commissionRate});const n="contract-received",c={vehicle:`${s.year} ${s.make} ${s.model}`,vin:s.vin,year:parseInt(s.year),make:s.make,model:s.model,rpStockNumber:s.rpStockNumber,color:s.exteriorColor,exteriorColor:s.exteriorColor,interiorColor:s.interiorColor,mileage:parseInt(s.mileage)||0,purchasePrice:parseFloat(s.purchasePrice)||0,listPrice:parseFloat(s.listPrice)||0,killPrice:parseFloat(s.killPrice)||0,wholesalePrice:parseFloat(s.wholesalePrice)||0,dealType:s.dealType,dealType2SubType:s.dealType2SubType,dealType2:s.dealType2SubType,seller:{name:s.sellerName,type:s.sellerType||("wholesale-flip"===s.dealType||s.dealType.includes("private")?"private":"dealer"),contact:{address:T(s.sellerAddress),phone:s.sellerPhone,email:s.sellerEmail},licenseNumber:s.sellerLicenseNumber,tier:s.sellerTier},buyer:{name:s.buyerName,type:s.buyerType,contact:{address:T(s.buyerAddress),phone:s.buyerPhone,email:s.buyerEmail},licenseNumber:s.buyerLicenseNumber,tier:s.buyerTier},fundingSource:s.fundingSource,paymentMethod:s.paymentMethod,purchaseDate:s.purchaseDate?new Date(s.purchaseDate):new Date,currentStage:n||"contract-received",salesperson:e.name||"Unknown",brokerFee:parseFloat(s.brokerageFee)||0,brokerFeePaidTo:s.brokerageFeePaidTo||"",payoffBalance:parseFloat(s.payoffBalance)||0,amountDueToCustomer:parseFloat(s.amountDueToCustomer)||0,amountDueToRP:parseFloat(s.amountDueToRP)||0,commissionRate:parseFloat(s.commissionRate)||0,generalNotes:s.generalNotes};console.log("[DEBUG] handleSave - dealData.seller.type:",c.seller.type),console.log("[DEAL SUBMIT] SENDING seller license number:",s.sellerLicenseNumber),console.log("[DEAL SUBMIT] SENDING buyer license number:",s.buyerLicenseNumber),console.log("[DEAL SUBMIT] dealData to backend:",c),c.currentStage="contract-received",console.log("[DEBUG] dealData.currentStage (final):",c.currentStage),console.log("[DEBUG] Full dealData:",c);const d=await fetch("/api/deals",{method:"POST",headers:a(),body:JSON.stringify(c),credentials:"include"});console.log("[DEAL SUBMIT] Backend response status:",d.status);const u=await d.json().catch(()=>({}));if(console.log("[DEAL SUBMIT] Backend response JSON:",u),!d.ok)throw console.log("[DEAL SUBMIT] Backend error response:",u),new Error("Failed to create deal");const m=u.deal._id;console.log("[DEAL SUBMIT] \ud83d\ude80 Sending document generation request with:"),console.log("[DEAL SUBMIT] \ud83d\ude80 - dealType2SubType from formData:",s.dealType2SubType),console.log("[DEAL SUBMIT] \ud83d\ude80 - dealType2 from formData:",s.dealType2SubType);const h=await fetch(`/api/documents/generate/${m}`,{method:"POST",headers:a(),body:JSON.stringify({dealType2:s.dealType2SubType,dealType2SubType:s.dealType2SubType,commissionRate:parseFloat(s.commissionRate)||0,stockNumber:s.rpStockNumber,wholesalePrice:parseFloat(s.wholesalePrice)||0,generalNotes:s.generalNotes,vehicleDescription:s.vehicleDescription,buyerName:s.buyerName,buyerType:s.buyerType,buyerAddress:s.buyerAddress,buyerPhone:s.buyerPhone,buyerEmail:s.buyerEmail,buyerLicenseNumber:s.buyerLicenseNumber,buyerTier:s.buyerTier,sellerType:s.sellerType}),credentials:"include"});if(!h.ok){const e=await h.json().catch(()=>({}));throw new Error(e.error||"Failed to generate document")}const p=await h.json();if(s.documents&&s.documents.length>0)for(let e=0;e<s.documents.length;e++){const n=s.documents[e],a=k.find(t=>t.fileIndex===e),r=a?a.note:"",l="extra_doc",i=new FormData;i.append("document",n),r&&i.append("notes",r);try{const e=await fetch(`/api/backoffice/deals/${m}/documents/${l}/upload`,{method:"POST",headers:{Authorization:t().Authorization},body:i,credentials:"include"});if(e.ok)Ft.success(`Uploaded ${n.name}`);else{const t=await e.json().catch(()=>({}));Ft.error(`Failed to upload ${n.name}: ${t.error||e.statusText}`)}}catch(o){Ft.error(`Error uploading ${n.name}: ${o.message}`)}}console.log("Deal created and document generated:",p);const f=r?"Draft saved successfully!":"Deal submitted successfully!\n\nYour deal has been sent to the back office for processing. You will be notified when the deal is complete.";Ft.success(f),r||(i({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:l,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",killPrice:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",contractRequired:!1,titlePresent:!1,driverLicensePresent:!1,odometerPresent:!1,dealerLicensePresent:!1,documents:[],salesperson:""}),j(1))}catch(c){c.message.includes("401")||c.message.includes("not authorized")?(alert("Session expired or not authorized. Please log in again."),n("/login")):(alert(`Error saving deal: ${c.message}`),console.log("[DEAL SUBMIT] Error:",c))}finally{w(!1)}}else console.log("[DEAL SUBMIT] Validation errors:",b)},O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,Be.jsxs)("div",{className:"space-y-2",children:[(0,Be.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-300",children:[c&&r.createElement(c,{className:"h-4 w-4 mr-2"}),e,l&&(0,Be.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),"select"===n?(0,Be.jsxs)("select",{value:s[t],onChange:e=>F(t,e.target.value),className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors "+(b[t]?"border-red-500":"border-white/20 hover:border-white/30"),children:[(0,Be.jsxs)("option",{value:"",children:["Select ",e]}),null===a||void 0===a?void 0:a.map(e=>(0,Be.jsx)("option",{value:e.value,className:"bg-gray-800",children:e.label},e.value))]}):"textarea"===n?(0,Be.jsx)("textarea",{value:s[t],onChange:e=>F(t,e.target.value),rows:4,placeholder:`Enter ${e.toLowerCase()}...`,className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none "+(b[t]?"border-red-500":"border-white/20 hover:border-white/30")}):"checkbox"===n?(0,Be.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Be.jsx)("input",{type:"checkbox",checked:!!s[t],onChange:e=>F(t,e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,Be.jsx)("span",{className:"text-gray-300",children:e})]}):(0,Be.jsxs)("div",{className:"relative",children:[["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)&&(0,Be.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:"$"}),(0,Be.jsx)("input",{type:n,value:s[t]||"",onChange:e=>{F(t,e.target.value)},placeholder:`Enter ${e.toLowerCase()}...`,className:`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${b[t]?"border-red-500":"border-white/20 hover:border-white/30"} ${"vin"===t?"pr-20":""} ${["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)?"pl-8":""}`}),"vin"===t&&17===s.vin.length&&(0,Be.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:o?(0,Be.jsx)(Qe,{className:"h-5 w-5 text-blue-400 animate-spin"}):d?(0,Be.jsx)(Ue,{className:"h-5 w-5 text-green-400"}):(0,Be.jsx)("button",{onClick:()=>I(s.vin),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors",children:"Decode"})}),u&&"dealerName"===t&&p.length>0&&(0,Be.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:p.map(e=>(0,Be.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{i(t=>{var n;return{...t,dealerName:e.name,dealerCompany:e.company,dealerPhone:e.phone,dealerEmail:(null===(n=e.contact)||void 0===n?void 0:n.email)||e.email||"",dealerAddress:e.location||e.address||""}}),f([])},children:[(0,Be.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"buyerName"===t&&"dealer"===s.buyerType&&p.length>0&&(0,Be.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:p.map(e=>(0,Be.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{i(t=>({...t,buyerName:e.name||"",buyerAddress:e.addressString||"",buyerPhone:e.phone||"",buyerEmail:e.email||"",buyerLicenseNumber:e.licenseNumber||"",buyerTier:e.tier||"Tier 1"})),f([]),console.log("[BUYER DEALER AUTOFILL] Selected dealer:",e)})(e)},children:[(0,Be.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"sellerName"===t&&m.length>0&&("wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType&&"dealer"===s.sellerType||!["retail-pp","retail-auction","retail-dtod"].includes(s.dealType)&&!("wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType))&&(0,Be.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:m.map(e=>(0,Be.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{i(t=>{const n={...t,sellerName:e.name||"",sellerCompany:e.company||"",sellerPhone:e.phone||"",sellerEmail:e.email||"",sellerAddress:e.addressString||"",sellerLicenseNumber:e.licenseNumber||"",sellerTier:e.tier||"Tier 1",sellerType:"dealer"};return console.log("[DEBUG] handleDealerSuggestionSelect - sellerType set to:",n.sellerType),n}),h([]),g("")})(e)},children:[(0,Be.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))})]}),b[t]&&(0,Be.jsxs)("div",{className:"flex items-center text-red-400 text-sm",children:[(0,Be.jsx)(Ge,{className:"h-4 w-4 mr-1"}),b[t]]})]})},U=(()=>{let e=2;return R.showFinancials&&e++,R.showSellerInfo&&e++,R.showDocumentation&&e++,e})();return(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,Be.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,Be.jsx)(rt,{className:"h-5 w-5 text-white"})}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,Be.jsx)(Re,{className:"h-6 w-6 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-xl font-bold text-white",children:"New Deal Entry"}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm",children:"Create a new vehicle deal"})]})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Be.jsxs)("button",{onClick:()=>z(!0),disabled:v,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[v?(0,Be.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,Be.jsx)(lt,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,Be.jsxs)("button",{onClick:()=>z(!1),disabled:v,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50",children:[v?(0,Be.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,Be.jsx)(Ue,{className:"h-4 w-4 mr-2"}),"Create Deal"]})]})]})})}),(0,Be.jsxs)("div",{className:"relative max-w-6xl mx-auto px-6 py-8",children:[(0,Be.jsx)("div",{className:"mb-8",children:(0,Be.jsx)("div",{className:"flex items-center justify-between",children:Array.from({length:U},(e,t)=>{const n=t+1,a=N===n,r=N>n;let l="",s="";return 1===n?(l="Vehicle & Deal Type",s="Enter vehicle information and select deal type"):2===n?(l="Deal Configuration",s="Configure funding, payment, and timeline"):3===n&&R.showFinancials?(l="Financial Information",s="Set pricing and financial terms"):3===n&&!R.showFinancials&&R.showSellerInfo||4===n&&R.showFinancials&&R.showSellerInfo?(l="Seller Information",s="Add seller contact information"):(3===n&&!R.showFinancials&&!R.showSellerInfo&&R.showDocumentation||4===n&&R.showFinancials&&!R.showSellerInfo&&R.showDocumentation||5===n&&R.showFinancials&&R.showSellerInfo&&R.showDocumentation)&&(l="Documentation & Notes",s="Document status and additional notes"),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors "+(a?"bg-blue-600 border-blue-600 text-white":r?"bg-green-600 border-green-600 text-white":"bg-white/10 border-white/20 text-gray-400"),children:r?(0,Be.jsx)(Ue,{className:"h-5 w-5"}):(0,Be.jsx)("span",{className:"text-sm font-medium",children:n})}),(0,Be.jsxs)("div",{className:"ml-3",children:[(0,Be.jsx)("p",{className:"text-sm font-medium "+(a?"text-white":"text-gray-400"),children:l}),(0,Be.jsx)("p",{className:"text-xs text-gray-500",children:s})]}),n<U&&(0,Be.jsx)("div",{className:"w-16 h-0.5 mx-4 "+(r?"bg-green-600":"bg-white/20")})]},n)})})}),(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2",children:[1===N&&"Vehicle Information & Deal Type",2===N&&"Deal Configuration",3===N&&R.showFinancials&&"Financial Information",3===N&&!R.showFinancials&&R.showSellerInfo&&"Seller Information",3===N&&!R.showFinancials&&!R.showSellerInfo&&R.showDocumentation&&"Documentation & Notes",4===N&&R.showFinancials&&R.showSellerInfo&&"Seller Information",4===N&&R.showFinancials&&!R.showSellerInfo&&R.showDocumentation&&"Documentation & Notes",5===N&&"Documentation & Notes"]}),(0,Be.jsxs)("p",{className:"text-gray-300",children:[1===N&&"Enter basic vehicle information and select the deal type",2===N&&"Configure deal type, funding, and timeline",3===N&&R.showFinancials&&"Set pricing and financial terms",3===N&&!R.showFinancials&&R.showSellerInfo&&"Add seller contact information",3===N&&!R.showFinancials&&!R.showSellerInfo&&R.showDocumentation&&"Document status and additional notes",4===N&&R.showFinancials&&R.showSellerInfo&&"Add seller contact information",4===N&&R.showFinancials&&!R.showSellerInfo&&R.showDocumentation&&"Document status and additional notes",5===N&&"Document status and additional notes"]})]}),(()=>{switch(N){case 1:return(0,Be.jsxs)("div",{className:"space-y-6",children:[(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Deal Type Selection"}),O("Deal Type","dealType","select",_,!0,Ee),(0,Be.jsx)("div",{className:"mt-4",children:O("Deal Type 2","dealType2SubType","select",D,!0)})]}),(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Vehicle Information"}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsx)("div",{className:"md:col-span-2",children:O("VIN","vin","text",null,!0,Ke)}),O("Year","year","number",null,!0,Ye),O("Make","make","text",null,!0),O("Model","model","text",null,!0),O("Mileage","mileage","number",null,!1,Xe),O("Exterior Color","exteriorColor","text",null,!1,Je),O("Interior Color","interiorColor","text",null,!1,Je)]})]})]});case 2:return(0,Be.jsx)("div",{className:"space-y-6",children:(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Deal Configuration"}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O("Funding Source","fundingSource","select",E,!0,Pe),O("Purchase/Sale Date","purchaseDate","date",null,!0,Ye),O("Payment Method","paymentMethod","select",P,!0),O("RP Stock Number","rpStockNumber","text",null,!1,Ke),O("Salesperson","salesperson","select",L,!0,Ze)]})]})});case 3:return R.showFinancials?(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Financial Information"}),"sale"===s.dealType2SubType?(0,Be.jsxs)("div",{className:"space-y-6",children:[O(C.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),O("Brokerage Fee","brokerageFee","number"),O("Brokerage Fee Paid To","brokerageFeePaidTo","text"),O("Amount Due to Customer","amountDueToCustomer","number"),O("Amount Due to RP","amountDueToRP","number")]}):(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{className:"space-y-6",children:[O(C.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),O("Kill Price","killPrice","number"),O("Wholesale Price","wholesalePrice","number"),O("List Price","listPrice","number"),["consign-a","consign-b","consign-c","consign-rdnc"].includes(s.dealType2SubType)?O("Commission Rate (%)","commissionRate","number"):null]}),(0,Be.jsxs)("div",{className:"space-y-6",children:[O("Brokerage Fee","brokerageFee","number"),O("Brokerage Fee Paid To","brokerageFeePaidTo","text"),O("Payoff Balance","payoffBalance","number"),O("Amount Due to Customer","amountDueToCustomer","number"),O("Amount Due to RP","amountDueToRP","number")]})]})]}):(0,Be.jsxs)("div",{className:"text-center py-12",children:[(0,Be.jsx)(Pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Financial Information Not Required"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"This deal type does not require financial information."})]});case 4:if("wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType)return(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-10",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white",children:"Buyer Information"}),(0,Be.jsxs)("div",{className:"flex space-x-2",children:[(0,Be.jsx)("button",{type:"button",onClick:()=>F("buyerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===s.buyerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,Be.jsx)("button",{type:"button",onClick:()=>F("buyerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===s.buyerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O("dealer"===s.buyerType?"Dealer Name":"Buyer Name","buyerName","text",null,!0,Ze),O("Phone","buyerPhone","tel",null,!1,et),O("Email","buyerEmail","email",null,!1,tt),O("Address","buyerAddress","text",null,!1,nt),"dealer"===s.buyerType&&O("Dealer License Number","buyerLicenseNumber","text"),"dealer"===s.buyerType&&!("wholesale-d2d"===s.dealType&&"buy"===s.dealType2SubType)&&O("Dealer Tier","buyerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white",children:"Seller Information"}),(0,Be.jsxs)("div",{className:"flex space-x-2",children:[(0,Be.jsx)("button",{type:"button",onClick:()=>F("sellerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===s.sellerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,Be.jsx)("button",{type:"button",onClick:()=>F("sellerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===s.sellerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O("dealer"===s.sellerType?"Dealer Name":"Seller Name","sellerName","text",null,!0,Ze),O("Phone","sellerPhone","tel",null,!1,et),O("Email","sellerEmail","email",null,!1,tt),O("Address","sellerAddress","text",null,!1,nt),"dealer"===s.sellerType&&O("Dealer License Number","sellerLicenseNumber","text"),"dealer"===s.sellerType&&!("wholesale-flip"===s.dealType&&"buy-sell"===s.dealType2SubType)&&!("wholesale-d2d"===s.dealType&&"buy"===s.dealType2SubType)&&O("Dealer Tier","sellerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]})]});{const e="retail-pp"===s.dealType;return(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:C.sellerSectionTitle}),e?(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsx)("div",{className:"md:col-span-2",children:O(C.sellerLabel,"sellerName","text",null,!0,Ze)}),O("Phone","sellerPhone","tel",null,!1,et),O("Email","sellerEmail","email",null,!1,tt),O("Address","sellerAddress","text",null,!1,nt)]}):(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsx)("div",{className:"md:col-span-2",children:O(C.sellerLabel,"sellerName","text",null,!0,Ze)}),!e&&O(C.companyLabel,"sellerCompany","text"),O("Phone","sellerPhone","tel",null,!1,et),O("Email","sellerEmail","email",null,!1,tt),O(C.addressLabel,"sellerAddress","text",null,!1,nt),"wholesale-d2d"===s.dealType&&"buy"!==s.dealType2SubType&&(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"seller-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,Be.jsx)("input",{type:"text",id:"seller-license-number",value:s.sellerLicenseNumber||"",onChange:e=>F("sellerLicenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{className:"md:col-span-2",children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Dealer Tier"}),(0,Be.jsxs)("div",{className:"flex space-x-4",children:[(0,Be.jsx)("button",{type:"button",onClick:()=>F("sellerTier","Tier 1"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 1"===s.sellerTier?"bg-red-600 border-red-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 1 - Pay Upon Title"}),(0,Be.jsx)("button",{type:"button",onClick:()=>F("sellerTier","Tier 2"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 2"===s.sellerTier?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 2 - Pay Prior to Release"})]}),(0,Be.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tier 1: Pay Upon Title. Tier 2: Pay Prior to Release."})]})]})]})]})}case 5:return R.showDocumentation?(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Documentation & Notes"}),(0,Be.jsxs)("div",{className:"space-y-6",children:[(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsx)("h4",{className:"text-md font-medium text-white mb-4",children:"Documentation Status"}),O("Contract Required","contractRequired","checkbox"),O("Title Present","titlePresent","checkbox"),O("Driver License Present","driverLicensePresent","checkbox"),O("Odometer Present","odometerPresent","checkbox"),O("Dealer License Present","dealerLicensePresent","checkbox")]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[O("Vehicle Description","vehicleDescription","textarea",null,!1,at),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Upload Documents/Photos"}),(0,Be.jsx)("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",onChange:M,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),s.documents&&s.documents.length>0&&(0,Be.jsx)("div",{className:"mt-3 space-y-2",children:s.documents.map((e,t)=>{var n;return(0,Be.jsxs)("div",{className:"flex items-center space-x-3 bg-white/10 rounded p-2",children:[e.type&&e.type.startsWith("image")?(0,Be.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"h-12 w-12 object-cover rounded"}):(0,Be.jsx)("span",{className:"inline-block w-12 h-12 bg-gray-700 text-white flex items-center justify-center rounded",children:"PDF"}),(0,Be.jsx)("span",{className:"text-white text-sm truncate max-w-xs",children:e.name}),(0,Be.jsx)("input",{type:"text",value:(null===(n=k.find(e=>e.fileIndex===t))||void 0===n?void 0:n.note)||"",onChange:e=>{return n=t,a=e.target.value,void S(e=>e.find(e=>e.fileIndex===n)?e.map(e=>e.fileIndex===n?{...e,note:a}:e):[...e,{fileIndex:n,note:a}]);var n,a},placeholder:"Add a note (optional)",className:"bg-white/10 border rounded-lg px-2 py-1 text-white text-sm"}),(0,Be.jsx)("button",{type:"button",className:"ml-auto text-red-400 hover:text-red-600 text-xs font-medium",onClick:()=>{return e=t,i(t=>({...t,documents:t.documents.filter((t,n)=>n!==e)})),void S(t=>t.filter(t=>t.fileIndex!==e).map(t=>({...t,fileIndex:t.fileIndex>e?t.fileIndex-1:t.fileIndex})));var e},children:"Remove"})]},t)})})]})]})]}),(0,Be.jsx)("div",{children:O("General Notes","generalNotes","textarea",null,!1,at)})]})]}):(0,Be.jsxs)("div",{className:"text-center py-12",children:[(0,Be.jsx)(at,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Documentation Not Required"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"This deal type does not require documentation tracking."})]});default:return null}})(),(0,Be.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-white/10",children:[(0,Be.jsxs)("button",{onClick:()=>j(Math.max(1,N-1)),disabled:1===N,className:"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Be.jsx)(rt,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[N===U&&s.vehicleDescription&&(0,Be.jsxs)("button",{onClick:()=>{const t=`New Vehicle Ready for Listing\n\nVehicle: ${s.year} ${s.make} ${s.model}\nVIN: ${s.vin}\nStock #: ${s.rpStockNumber}\nMileage: ${s.mileage}\nExterior: ${s.exteriorColor}\nInterior: ${s.interiorColor}\n\nDescription:\n${s.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${e.name}`,n=`mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${s.year} ${s.make} ${s.model}&body=${encodeURIComponent(t)}`;window.open(n)},className:"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,Be.jsx)(st,{className:"h-4 w-4 mr-2"}),"Email to Listing Team"]}),N<U?(0,Be.jsxs)("button",{onClick:()=>j(Math.min(U,N+1)),className:"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors",children:["Next",(0,Be.jsx)(rt,{className:"h-4 w-4 ml-2 rotate-180"})]}):(0,Be.jsxs)("button",{onClick:()=>z(!1),disabled:v,className:"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[v?(0,Be.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,Be.jsx)(Ue,{className:"h-4 w-4 mr-2"}),"Submit Deal"]})]})]})]}),o&&(0,Be.jsxs)("div",{className:"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,Be.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}),"Decoding VIN..."]}),d&&(0,Be.jsxs)("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,Be.jsx)(Ue,{className:"h-4 w-4 mr-2"}),"VIN decoded successfully!"]})]}),(0,Be.jsx)(qt,{})]})},Gt=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Kt=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Yt=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Xt=e=>{var t;let{user:n,onComplete:a}=e;const[l,s]=(0,r.useState)(0),[i,o]=(0,r.useState)(0),c=(0,r.useCallback)(()=>[{text:"Authenticating credentials...",icon:Gt,duration:800},{text:"Loading user profile...",icon:n&&"admin"===n.role?_e:n&&"sales"===n.role?Ee:n&&"finance"===n.role?Kt:De,duration:700},{text:"Initializing workspace...",icon:Fe,duration:600},{text:"Preparing dashboard...",icon:$e,duration:500},{text:"Welcome to RP Exotics!",icon:Ue,duration:400}],[n]);r.useEffect(()=>{let e,t;const n=c(),r=l=>{if(l>=n.length)return void setTimeout(()=>a(),300);s(l),o(0);const i=n[l].duration,c=100/(i/10);t=setInterval(()=>{o(e=>e>=100?(clearInterval(t),100):e+c)},10),e=setTimeout(()=>{clearInterval(t),r(l+1)},i)};return r(0),()=>{clearTimeout(e),clearInterval(t)}},[c,a]);const d=e=>{if(!e)return"from-gray-500 to-gray-600";switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},u=c()[l]||c()[0],m=u.icon;return(0,Be.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center z-50",children:[(0,Be.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsxs)("div",{className:"relative text-center max-w-md mx-auto px-6",children:[(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsx)("div",{className:`mx-auto h-24 w-24 bg-gradient-to-r ${d(n.role)} rounded-2xl flex items-center justify-center mb-6 shadow-2xl animate-pulse`,children:(0,Be.jsx)(Ee,{className:"h-12 w-12 text-white"})}),(0,Be.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"RP Exotics"}),(0,Be.jsx)("p",{className:"text-gray-300",children:"Professional Vehicle Management"})]}),(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsxs)("div",{className:`inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r ${d(n.role)} text-white text-sm font-medium mb-3 shadow-lg`,children:["admin"===n.role&&(0,Be.jsx)(_e,{className:"h-4 w-4 mr-2"}),"sales"===n.role&&(0,Be.jsx)(Ee,{className:"h-4 w-4 mr-2"}),"finance"===n.role&&(0,Be.jsx)(Kt,{className:"h-4 w-4 mr-2"}),"viewer"===n.role&&(0,Be.jsx)(De,{className:"h-4 w-4 mr-2"}),n.role.charAt(0).toUpperCase()+n.role.slice(1)," Access"]}),(0,Be.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Welcome, ",(null===(t=n.profile)||void 0===t?void 0:t.displayName)||n.email]})]}),(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsxs)("div",{className:"relative mb-6",children:[(0,Be.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-full blur-xl"}),(0,Be.jsx)("div",{className:`relative mx-auto h-16 w-16 bg-gradient-to-r ${d(n.role)} rounded-full flex items-center justify-center shadow-xl`,children:(0,Be.jsx)(m,{className:"h-8 w-8 text-white animate-pulse"})})]}),(0,Be.jsx)("p",{className:"text-white text-lg font-medium mb-4",children:u.text}),(0,Be.jsx)("div",{className:"relative",children:(0,Be.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:(0,Be.jsx)("div",{className:`h-full bg-gradient-to-r ${d(n.role)} rounded-full transition-all duration-100 ease-out shadow-lg`,style:{width:`${i}%`}})})})]}),(0,Be.jsx)("div",{className:"flex justify-center space-x-2",children:c().map((e,t)=>(0,Be.jsx)("div",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(t<=l?`bg-gradient-to-r ${d(n.role)} shadow-lg scale-125`:"bg-white/20")},t))})]})]})},Jt=()=>{const[e,t]=(0,r.useState)("login"),[n,a]=(0,r.useState)(!1),[l,s]=(0,r.useState)({email:"",password:""}),[i,o]=(0,r.useState)(!1),{user:c,login:d,logout:u}=He(),m=ee();(0,r.useEffect)(()=>{c&&m("/")},[c,m]);const h={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"";(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/auth/profile",{credentials:"include"});if(e.ok){const n=await e.json();d(n.user||n),t("dashboard")}}catch(e){}})()},[d,h]);const p=async()=>{try{const e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...l,rememberMe:i})});if(!e.ok)throw new Error("Login failed");const n=await e.json();d(n.user||n,n.token),t("transition")}catch(e){alert("Login failed: "+e.message)}},f=()=>{t("dashboard")},x=async()=>{await u(),s({email:"",password:""}),t("login")};return"login"===e?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:(0,Be.jsxs)("div",{className:"max-w-md w-full",children:[(0,Be.jsxs)("div",{className:"text-center mb-8",children:[(0,Be.jsx)("div",{className:"mx-auto h-24 w-24 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 shadow-2xl border border-white/20",children:(0,Be.jsx)(Ee,{className:"h-16 w-16 text-white"})}),(0,Be.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"RP Exotics"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Premium Vehicle Management System"})]}),(0,Be.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8",children:(0,Be.jsxs)("div",{className:"space-y-6",children:[(0,Be.jsxs)("div",{className:"text-center",children:[(0,Be.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),(0,Be.jsx)("p",{className:"text-gray-300",children:"Sign in to your account"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Email Address"}),(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Be.jsx)(Ze,{className:"h-5 w-5 text-gray-400"})}),(0,Be.jsx)("input",{type:"email",className:"block w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email",value:l.email,onChange:e=>s({...l,email:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&p()}})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Be.jsx)(Gt,{className:"h-5 w-5 text-gray-400"})}),(0,Be.jsx)("input",{type:n?"text":"password",className:"block w-full pl-12 pr-12 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",value:l.password,onChange:e=>s({...l,password:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&p()}}),(0,Be.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:(0,Be.jsx)("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",onClick:()=>a(!n),children:n?(0,Be.jsx)(Yt,{className:"h-5 w-5"}):(0,Be.jsx)(De,{className:"h-5 w-5"})})})]})]}),(0,Be.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Be.jsx)("input",{id:"rememberMe",type:"checkbox",checked:i,onChange:e=>o(e.target.checked),className:"form-checkbox h-4 w-4 text-blue-600 transition duration-150 ease-in-out"}),(0,Be.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-200",children:"Remember Me (12 hours)"})]}),(0,Be.jsx)("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-4 px-6 rounded-xl font-medium transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 shadow-lg",children:"Sign In"}),(0,Be.jsx)("div",{className:"text-center"}),(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Be.jsx)("div",{className:"w-full border-t border-white/20"})}),(0,Be.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Be.jsx)("span",{className:"px-2 bg-transparent text-gray-400",children:"Demo Accounts"})})]}),(0,Be.jsxs)("div",{className:"space-y-3",children:[(0,Be.jsxs)("button",{onClick:()=>s({email:"chris@rpexotics.com",password:"Matti11!"}),className:"w-full flex items-center justify-between bg-blue-600/20 hover:bg-blue-600/30 text-white p-4 rounded-lg transition-colors border border-blue-500/30",children:[(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)(_e,{className:"h-5 w-5 text-blue-400 mr-3"}),(0,Be.jsx)("span",{className:"font-medium",children:"Admin Access"})]}),(0,Be.jsx)("span",{className:"text-blue-300 text-sm",children:"Full Control"})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Be.jsxs)("button",{onClick:()=>s({email:"parker@rpexotics.com",password:"17Hellcat!"}),className:"flex flex-col items-center bg-green-600/20 hover:bg-green-600/30 text-white p-3 rounded-lg transition-colors border border-green-500/30",children:[(0,Be.jsx)(Ee,{className:"h-4 w-4 text-green-400 mb-1"}),(0,Be.jsx)("span",{className:"text-xs",children:"Sales"})]}),(0,Be.jsxs)("button",{onClick:()=>s({email:"lynn@rpexotics.com",password:"titles123"}),className:"flex flex-col items-center bg-purple-600/20 hover:bg-purple-600/30 text-white p-3 rounded-lg transition-colors border border-purple-500/30",children:[(0,Be.jsx)(Kt,{className:"h-4 w-4 text-purple-400 mb-1"}),(0,Be.jsx)("span",{className:"text-xs",children:"Finance"})]}),(0,Be.jsxs)("button",{onClick:()=>s({email:"viewer@rpexotics.com",password:"view123"}),className:"flex flex-col items-center bg-orange-600/20 hover:bg-orange-600/30 text-white p-3 rounded-lg transition-colors border border-orange-500/30",children:[(0,Be.jsx)(De,{className:"h-4 w-4 text-orange-400 mb-1"}),(0,Be.jsx)("span",{className:"text-xs",children:"Viewer"})]})]})]})]})}),(0,Be.jsx)("div",{className:"text-center mt-6",children:(0,Be.jsxs)("div",{className:"inline-flex items-center bg-white/5 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[(0,Be.jsx)($e,{className:"h-4 w-4 text-yellow-400 mr-2"}),(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Secured by Enterprise Authentication"})]})})]})}):"transition"===e?(0,Be.jsx)(Xt,{user:c,onComplete:f}):"dashboard"===e?(0,Be.jsx)(qe,{user:c,onLogout:x}):c?null:void 0},Zt=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),en=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),tn=()=>{var e,t;const n=ee(),{user:a}=He(),l={admin:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!0},sales:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1},finance:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!1},viewer:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!1,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1}},s=(()=>{var e,t;return a?null!==(e=a.profile)&&void 0!==e&&e.displayName?a.profile.displayName:a.firstName&&a.lastName?`${a.firstName} ${a.lastName}`:a.firstName?a.firstName:(null===(t=a.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),i=l[null===a||void 0===a?void 0:a.role]||l.viewer,[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(""),[p,f]=(0,r.useState)({region:"all",dealerType:"all",status:"all",rating:"all"}),[x,g]=(0,r.useState)("grid"),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),[N,j]=(0,r.useState)({}),[k,S]=(0,r.useState)(null),[T,C]=(0,r.useState)(""),[_,E]=(0,r.useState)({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),[P,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{u(!0);try{const e=await fetch("/api/dealers"),t=await e.json();c(t.data||t.dealers||[]),u(!1)}catch(e){console.error("Error loading dealers:",e),u(!1)}})()},[]);const L=e=>{var t,n;w(e),j({dealerName:e.company||e.name||"",contactPerson:(null===(t=e.contact)||void 0===t?void 0:t.person)||"",contact:e.contact||{},licenseNumber:e.licenseNumber||"",status:e.status||"Active",fullAddress:A(null===(n=e.contact)||void 0===n?void 0:n.address)})},R=o.filter(e=>{var t,n,a,r,l;const s=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(m.toLowerCase())||((null===(n=e.company)||void 0===n?void 0:n.toLowerCase())||"").includes(m.toLowerCase())||((null===(a=e.contact)||void 0===a||null===(r=a.person)||void 0===r?void 0:r.toLowerCase())||"").includes(m.toLowerCase()),i="all"===p.region||(null===(l=e.location)||void 0===l?void 0:l.includes(p.region)),o="all"===p.dealerType||e.type===p.dealerType,c="all"===p.status||e.status===p.status;return s&&i&&o&&c}),I=e=>{switch(e){case"Active":return"bg-green-500/20 text-green-400";case"Inactive":return"bg-red-500/20 text-red-400";case"Pending":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}};function A(e){if(!e)return"";const{street:t,city:n,state:a,zip:r}=e;return[t,n,a,r].filter(Boolean).join(", ")}function F(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}return d?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,Be.jsxs)("div",{className:"text-center",children:[(0,Be.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-white text-lg",children:"Loading dealer network..."})]})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsx)("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,Be.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("button",{onClick:()=>n("/"),className:"mr-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:(0,Be.jsx)(rt,{className:"h-5 w-5 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Dealer Network"}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage your dealer contacts and relationships"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsxs)("div",{className:"text-right",children:[(0,Be.jsx)("p",{className:"text-sm font-medium text-white",children:s}),(0,Be.jsx)("p",{className:"text-gray-400 text-xs",children:(null===a||void 0===a?void 0:a.role)||"Guest"})]}),i.canManageDealers&&(0,Be.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(Re,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Add Dealer"})]})]})]})})}),T&&(0,Be.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transition-all",children:T}),(0,Be.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,Be.jsx)("div",{className:"mb-8",children:(0,Be.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Be.jsx)("div",{className:"flex-1",children:(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Be.jsx)("input",{type:"text",placeholder:"Search dealers by name, company, or contact...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Be.jsxs)("div",{className:"flex gap-4",children:[(0,Be.jsxs)("select",{value:p.region,onChange:e=>f(t=>({...t,region:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Regions"}),(0,Be.jsx)("option",{value:"North",children:"North"}),(0,Be.jsx)("option",{value:"South",children:"South"}),(0,Be.jsx)("option",{value:"East",children:"East"}),(0,Be.jsx)("option",{value:"West",children:"West"})]}),(0,Be.jsxs)("select",{value:p.status,onChange:e=>f(t=>({...t,status:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Status"}),(0,Be.jsx)("option",{value:"Active",children:"Active"}),(0,Be.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Be.jsx)("option",{value:"Pending",children:"Pending"})]})]})]})}),(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:"text-white text-sm",children:"View:"}),(0,Be.jsx)("button",{onClick:()=>g("grid"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("grid"===x?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"Grid"}),(0,Be.jsx)("button",{onClick:()=>g("list"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("list"===x?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"List"})]}),(0,Be.jsxs)("div",{className:"text-gray-400 text-sm",children:[R.length," of ",o.length," dealers"]})]}),"grid"===x?(0,Be.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:R.map(e=>{var t,n,a;return(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,Be.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Be.jsxs)("div",{className:"flex-1",children:[(0,Be.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${I(e.status)}`,children:e.status}),i.canManageDealers&&(0,Be.jsx)("div",{className:"relative",children:(0,Be.jsx)("button",{onClick:()=>S(e),className:"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors",title:"Delete dealer",children:(0,Be.jsx)(en,{className:"h-4 w-4"})})})]})]}),(0,Be.jsxs)("div",{className:"space-y-3 mb-4",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,Be.jsx)(Fe,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,Be.jsx)(et,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(a=e.contact)||void 0===a?void 0:a.email)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,Be.jsx)(tt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsx)("div",{className:"flex items-center",children:(0,Be.jsxs)("span",{className:"text-gray-400 text-xs",children:["Deals: ",e.totalDeals||0]})}),(0,Be.jsxs)("div",{className:"text-right",children:[(0,Be.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,Be.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,Be.jsxs)("div",{className:"flex space-x-2",children:[(0,Be.jsx)("button",{className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"View Details"}),i.canManageDealers&&(0,Be.jsx)("button",{onClick:()=>L(e),className:"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"Edit"})]})]},e.id)})}):(0,Be.jsx)("div",{className:"space-y-4",children:R.map(e=>{var t,n,a;return(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Be.jsxs)("div",{className:"flex-1",children:[(0,Be.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Be.jsx)(Fe,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Be.jsx)(et,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(a=e.contact)||void 0===a?void 0:a.email)&&(0,Be.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Be.jsx)(tt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,Be.jsxs)("div",{className:"text-right",children:[(0,Be.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,Be.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${I(e.status)}`,children:e.status}),i.canManageDealers&&(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)("button",{onClick:()=>L(e),className:"bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"Edit"}),(0,Be.jsx)("button",{onClick:()=>S(e),className:"bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"Delete"})]})]})]})},e.id)})}),0===R.length&&(0,Be.jsxs)("div",{className:"text-center py-12",children:[(0,Be.jsx)(Fe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No dealers found"}),(0,Be.jsx)("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search or filters"}),i.canManageDealers&&(0,Be.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-colors",children:[(0,Be.jsx)(Re,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Add Your First Dealer"})]})]})]}),b&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Add New Dealer"}),(0,Be.jsxs)("form",{onSubmit:async e=>{var t,n;e.preventDefault(),D(!0),C("");const a={name:_.dealerName,company:_.dealerName,licenseNumber:_.licenseNumber||"",type:"Dealer",contact:{person:_.contactPerson||"",phone:(null===(t=_.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=_.contact)||void 0===n?void 0:n.email)||"",address:F(_.fullAddress)},status:_.status||"Active"};try{const e=await fetch("/api/dealers",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),t=await e.json();e.ok&&t.success&&t.data?(c(e=>[t.data,...e]),y(!1),E({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),C("Dealer added successfully!"),setTimeout(()=>C(""),2e3)):(C(t.error||"Failed to add dealer."),setTimeout(()=>C(""),2e3))}catch(r){C("Error adding dealer."),setTimeout(()=>C(""),2e3)}finally{D(!1)}},className:"space-y-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,Be.jsx)("input",{type:"text",id:"add-dealer-name",value:_.dealerName,onChange:e=>E(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,Be.jsx)("input",{type:"text",id:"add-contact-person",value:_.contactPerson,onChange:e=>E(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"text",id:"add-contact-phone",value:_.contact.phone,onChange:e=>E(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",id:"add-contact-email",value:_.contact.email,onChange:e=>E(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,Be.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:_.fullAddress||"",onChange:e=>E(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,Be.jsx)("input",{type:"text",id:"add-license-number",value:_.licenseNumber||"",onChange:e=>E(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"add-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,Be.jsxs)("select",{id:"add-status",value:_.status,onChange:e=>E(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"Active",children:"Active"}),(0,Be.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Be.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,Be.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Be.jsx)("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:P,children:"Cancel"}),(0,Be.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:P,children:P?"Saving...":"Add Dealer"})]})]})]})}),v&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Dealer"}),(0,Be.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v&&(async e=>{var t,n;const a={name:N.dealerName,company:N.dealerName,licenseNumber:N.licenseNumber||"",contact:{person:N.contactPerson||"",phone:(null===(t=N.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=N.contact)||void 0===n?void 0:n.email)||"",address:F(N.fullAddress)},status:N.status||"Active"};console.log("Sending dealer update body:",a);try{const t=await fetch(`/api/dealers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),n=await t.json();n&&n.success&&n.data?(c(t=>t.map(t=>t.id===e?n.data:t)),w(null),j({}),C("Dealer updated successfully!"),setTimeout(()=>C(""),2e3),console.log("Updated dealer:",n.data)):(C("Failed to update dealer."),setTimeout(()=>C(""),2e3),console.error("Update response:",n))}catch(r){C("Error updating dealer."),setTimeout(()=>C(""),2e3),console.error("Error updating dealer:",r)}})(v.id)},className:"space-y-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,Be.jsx)("input",{type:"text",id:"edit-dealer-name",value:N.dealerName,onChange:e=>j(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,Be.jsx)("input",{type:"text",id:"edit-contact-person",value:N.contactPerson,onChange:e=>j(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"text",id:"edit-contact-phone",value:null===(e=N.contact)||void 0===e?void 0:e.phone,onChange:e=>j(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",id:"edit-contact-email",value:null===(t=N.contact)||void 0===t?void 0:t.email,onChange:e=>j(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,Be.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:N.fullAddress||"",onChange:e=>j(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,Be.jsx)("input",{type:"text",id:"edit-license-number",value:N.licenseNumber||"",onChange:e=>j(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{htmlFor:"edit-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,Be.jsxs)("select",{id:"edit-status",value:N.status,onChange:e=>j(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"Active",children:"Active"}),(0,Be.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Be.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,Be.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Be.jsx)("button",{type:"button",onClick:()=>w(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,Be.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Save Changes"})]})]})]})}),k&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Dealer"}),(0,Be.jsxs)("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",(0,Be.jsx)("span",{className:"text-white font-semibold",children:k.name}),"? This action cannot be undone."]}),(0,Be.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Be.jsx)("button",{onClick:()=>S(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,Be.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`/api/dealers/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok?(c(t=>t.filter(t=>t.id!==e)),S(null)):(console.error("Error deleting dealer:",t.statusText),alert("Failed to delete dealer. Please try again."))}catch(t){console.error("Error deleting dealer:",t),alert("Failed to delete dealer. Please try again.")}})(k.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"})]})]})})]})},nn=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),an=Ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),rn=()=>{var e,t,n,a,l,s,i;const o=ee(),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)({}),[h,p]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[g,b]=(0,r.useState)({status:"",dealType:"",search:""}),[y,v]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=!0;return p(!0),Promise.all([fetch("/api/documents/vehicle-records",{credentials:"include"}).then(e=>e.json()).then(t=>{e&&t.success&&d(t.data)}).catch(e=>{console.error("Error fetching vehicle records:",e)}),fetch("/api/documents/stats",{credentials:"include"}).then(e=>e.json()).then(t=>{e&&t.success&&m(t.stats)}).catch(e=>{console.error("Error fetching stats:",e)}),fetch("/api/deals",{credentials:"include"}).then(e=>e.json()).then(t=>{e&&v(t.deals||t.data||[])}).catch(()=>{e&&v([])})]).finally(()=>{e&&p(!1)}),()=>{e=!1}},[]);const w=async()=>{try{p(!0);const e=await fetch("/api/documents/vehicle-records",{credentials:"include"}),t=await e.json();t.success&&d(t.data);const n=await fetch("/api/documents/stats",{credentials:"include"}),a=await n.json();a.success&&m(a.stats)}catch(e){console.error("Error fetching data:",e)}finally{p(!1)}},N=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{if(!(await fetch(`/api/documents/vehicle-records/${e}/documents/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n,notes:a}),credentials:"include"})).ok)throw new Error("Failed to update status");w(),alert("Status updated successfully")}catch(r){console.error("Error updating status:",r),alert("Error updating status")}},j=async e=>{try{const t=await fetch(`/api/documents/download/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to download document");{const n=await t.blob(),a=window.URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}}catch(t){console.error("Error downloading document:",t),alert("Error downloading document")}},k=async e=>{if(window.confirm("Are you sure you want to delete this deal? This action cannot be undone."))try{const t=await fetch(`/api/deals/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete deal")}w(),alert("Deal deleted successfully")}catch(t){console.error("Error deleting deal:",t),alert(`Error deleting deal: ${t.message}`)}},S=e=>{switch(e){case"approved":return"text-green-400 bg-green-500/20";case"rejected":return"text-red-400 bg-red-500/20";case"sent_to_finance":return"text-orange-400 bg-orange-500/20";default:return"text-gray-400 bg-gray-500/20"}},T=e=>{switch(e){case"retail":return"text-blue-400 bg-blue-500/20";case"wholesale":return"text-purple-400 bg-purple-500/20";case"consignment":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},C=c.filter(e=>{if(g.status&&e.status!==g.status)return!1;if(g.dealType&&e.dealType!==g.dealType)return!1;if(g.search){var t,n,a,r,l;const s=g.search.toLowerCase();return(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(n=e.stockNumber)||void 0===n?void 0:n.toLowerCase().includes(s))||(null===(a=e.recordId)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(r=e.dealId)||void 0===r||null===(l=r.vehicle)||void 0===l?void 0:l.toLowerCase().includes(s))}return!0}),_=y.filter(e=>{if(g.status&&e.currentStage!==g.status&&e.status!==g.status)return!1;if(g.dealType&&e.dealType!==g.dealType)return!1;if(g.search){const t=g.search.toLowerCase(),n=(e.vehicle||`${e.year||""} ${e.make||""} ${e.model||""}`).toLowerCase(),a=(e.vin||"").toLowerCase(),r=(e.rpStockNumber||e.stockNumber||"").toLowerCase();if(!n.includes(t)&&!a.includes(t)&&!r.includes(t))return!1}return!0});return h?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:(0,Be.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Be.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:[(0,Be.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium",onClick:()=>o("/"),children:[(0,Be.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Dashboard"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Review and manage vehicle records and generated documents"})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-6",children:(0,Be.jsx)("div",{className:"flex items-center justify-between",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3 mr-4",children:(0,Be.jsx)(Ae,{className:"h-6 w-6 text-blue-400"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:u.totalRecords||0}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Records"})]})]})})}),(0,Be.jsx)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 rounded-2xl border border-orange-500/20 p-6",children:(0,Be.jsx)("div",{className:"flex items-center justify-between",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-orange-500/20 rounded-lg p-3 mr-4",children:(0,Be.jsx)(Le,{className:"h-6 w-6 text-orange-400"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:u.pendingFinance||0}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending Review"})]})]})})}),(0,Be.jsx)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 rounded-2xl border border-green-500/20 p-6",children:(0,Be.jsx)("div",{className:"flex items-center justify-between",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3 mr-4",children:(0,Be.jsx)(Ue,{className:"h-6 w-6 text-green-400"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:u.approvedDocuments||0}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Approved"})]})]})})}),(0,Be.jsx)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl border border-purple-500/20 p-6",children:(0,Be.jsx)("div",{className:"flex items-center justify-between",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-purple-500/20 rounded-lg p-3 mr-4",children:(0,Be.jsx)(Ee,{className:"h-6 w-6 text-purple-400"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:u.draftDocuments||0}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Draft Documents"})]})]})})})]}),(0,Be.jsx)("div",{className:"mb-8",children:(0,Be.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Status"}),(0,Be.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:g.status,onChange:e=>b(t=>({...t,status:e.target.value})),children:[(0,Be.jsx)("option",{value:"",children:"All"}),(0,Be.jsx)("option",{value:"approved",children:"Approved"}),(0,Be.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Be.jsx)("option",{value:"sent_to_finance",children:"Sent to Finance"}),(0,Be.jsx)("option",{value:"draft",children:"Draft"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Deal Type"}),(0,Be.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:g.dealType,onChange:e=>b(t=>({...t,dealType:e.target.value})),children:[(0,Be.jsx)("option",{value:"",children:"All"}),(0,Be.jsx)("option",{value:"retail",children:"Retail"}),(0,Be.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,Be.jsx)("option",{value:"consignment",children:"Consignment"})]})]}),(0,Be.jsxs)("div",{className:"flex-1",children:[(0,Be.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Search"}),(0,Be.jsx)("input",{type:"text",className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",placeholder:"Search by VIN, Stock #, Vehicle, etc.",value:g.search,onChange:e=>b(t=>({...t,search:e.target.value}))})]})]})}),(0,Be.jsxs)("div",{className:"mb-12",children:[(0,Be.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Submitted Deals"}),0===_.length?(0,Be.jsx)("div",{className:"text-gray-400",children:"No submitted deals found."}):(0,Be.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>{var t,n,a;return(0,Be.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 rounded-2xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer",children:[(0,Be.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-lg font-bold text-white mb-1",children:e.vehicle||`${e.year} ${e.make} ${e.model}`}),(0,Be.jsxs)("p",{className:"text-gray-400 text-sm",children:["Stock #",e.rpStockNumber||e.stockNumber||"N/A"]})]}),(0,Be.jsx)("span",{className:"text-xs font-medium px-3 py-1 rounded-full bg-blue-500/20 text-blue-400",children:e.currentStage||"Unknown"})]}),(0,Be.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Price:"}),(0,Be.jsxs)("span",{className:"text-white font-semibold",children:["$",(null===(t=e.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Assigned:"}),(0,Be.jsx)("span",{className:"text-white",children:(null===(n=e.assignedTo)||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.displayName)||e.assignedTo||"Unassigned"})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Created:"}),(0,Be.jsx)("span",{className:"text-white",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),(0,Be.jsxs)("div",{className:"flex space-x-2",children:[(0,Be.jsx)("button",{className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-all duration-300",onClick:()=>o(`/finance/deals/${e._id||e.id}`),children:"View Details"}),(0,Be.jsx)("button",{className:"flex-1 bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-all duration-300",onClick:()=>o(`/finance/deals/${e._id||e.id}/update-status`),children:"Update Status"}),(0,Be.jsx)("button",{className:"bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-all duration-300",onClick:()=>k(e._id||e.id),title:"Delete Deal",children:(0,Be.jsx)(en,{className:"h-4 w-4"})})]})]},e._id||e.id)})})]}),(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:[(0,Be.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,Be.jsx)("h2",{className:"text-xl font-bold text-white",children:"Vehicle Records"}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage vehicle records and review generated documents"})]}),(0,Be.jsx)("div",{className:"overflow-x-auto",children:(0,Be.jsxs)("table",{className:"w-full",children:[(0,Be.jsx)("thead",{className:"bg-white/5",children:(0,Be.jsxs)("tr",{children:[(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Record ID"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"VIN"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Type"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Documents"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Be.jsx)("tbody",{className:"divide-y divide-white/10",children:C.map(e=>{var t,n;return(0,Be.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:"text-sm font-medium text-white",children:e.recordId})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.year," ",e.make," ",e.model]}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock #",e.stockNumber]})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:"text-sm text-gray-300",children:e.vin})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${T(e.dealType)}`,children:e.dealType})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("div",{className:"space-y-1",children:null===(t=e.generatedDocuments)||void 0===t?void 0:t.map((e,t)=>(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(e.status)}`,children:e.documentType.replace("_"," ")}),(0,Be.jsx)("button",{onClick:()=>j(e.fileName),className:"text-blue-400 hover:text-blue-300",children:(0,Be.jsx)(nn,{className:"h-3 w-3"})})]},t))})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(e.status)}`,children:e.status})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(e.createdAt).toLocaleDateString()}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{className:"flex space-x-2",children:[(0,Be.jsx)("button",{onClick:()=>x(e),className:"text-blue-400 hover:text-blue-300",title:"View Details",children:(0,Be.jsx)(De,{className:"h-4 w-4"})}),(null===(n=e.generatedDocuments)||void 0===n?void 0:n.some(e=>"sent_to_finance"===e.status))&&(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);N(e.recordId,t,"approved")},className:"text-green-400 hover:text-green-300",title:"Approve",children:(0,Be.jsx)(Ue,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);N(e.recordId,t,"rejected")},className:"text-red-400 hover:text-red-300",title:"Reject",children:(0,Be.jsx)(an,{className:"h-4 w-4"})})]}),e.dealId&&(0,Be.jsx)("button",{onClick:()=>k(e.dealId),className:"text-red-400 hover:text-red-300",title:"Delete Deal",children:(0,Be.jsx)(en,{className:"h-4 w-4"})})]})})]},e._id)})})]})}),0===C.length&&(0,Be.jsxs)("div",{className:"p-8 text-center",children:[(0,Be.jsx)(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"No vehicle records found"})]})]}),f&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-2xl border border-white/10 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Be.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white",children:"Vehicle Record Details"}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[f.dealId&&(0,Be.jsx)("button",{onClick:()=>{k(f.dealId),x(null)},className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/20",title:"Delete Deal",children:(0,Be.jsx)(en,{className:"h-5 w-5"})}),(0,Be.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-white",children:(0,Be.jsx)(an,{className:"h-6 w-6"})})]})]})}),(0,Be.jsxs)("div",{className:"p-6",children:[(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Information"}),(0,Be.jsxs)("div",{className:"space-y-3",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Record ID:"}),(0,Be.jsx)("p",{className:"text-white",children:f.recordId})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Vehicle:"}),(0,Be.jsxs)("p",{className:"text-white",children:[f.year," ",f.make," ",f.model]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN:"}),(0,Be.jsx)("p",{className:"text-white",children:f.vin})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Stock Number:"}),(0,Be.jsx)("p",{className:"text-white",children:f.stockNumber})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Color:"}),(0,Be.jsx)("p",{className:"text-white",children:f.color||"N/A"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Mileage:"}),(0,Be.jsx)("p",{className:"text-white",children:(null===(e=f.mileage)||void 0===e?void 0:e.toLocaleString())||"N/A"})]})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Deal Information"}),(0,Be.jsxs)("div",{className:"space-y-3",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type:"}),(0,Be.jsx)("p",{className:"text-white",children:f.dealType})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type 2:"}),(0,Be.jsx)("p",{className:"text-white",children:f.dealType2})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price:"}),(0,Be.jsxs)("p",{className:"text-white",children:["$",(null===(t=f.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price:"}),(0,Be.jsxs)("p",{className:"text-white",children:["$",(null===(n=f.listPrice)||void 0===n?void 0:n.toLocaleString())||"N/A"]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Rate:"}),(0,Be.jsxs)("p",{className:"text-white",children:[(null===(a=f.commission)||void 0===a?void 0:a.rate)||"N/A","%"]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Amount:"}),(0,Be.jsxs)("p",{className:"text-white",children:["$",(null===(l=f.commission)||void 0===l||null===(s=l.amount)||void 0===s?void 0:s.toLocaleString())||"N/A"]})]})]})]})]}),(0,Be.jsxs)("div",{className:"mt-8",children:[(0,Be.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Generated Documents"}),(0,Be.jsx)("div",{className:"space-y-4",children:null===(i=f.generatedDocuments)||void 0===i?void 0:i.map((e,t)=>(0,Be.jsx)("div",{className:"bg-white/5 rounded-lg p-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h5",{className:"text-white font-medium",children:e.documentType.replace("_"," ")}),(0,Be.jsxs)("p",{className:"text-gray-400 text-sm",children:["Document #: ",e.documentNumber]}),(0,Be.jsxs)("p",{className:"text-gray-400 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(e.status)}`,children:e.status.replace("_"," ")}),(0,Be.jsx)("button",{onClick:()=>j(e.fileName),className:"text-blue-400 hover:text-blue-300",title:"Download",children:(0,Be.jsx)(nn,{className:"h-4 w-4"})}),"sent_to_finance"===e.status&&(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)("button",{onClick:()=>N(f.recordId,t,"approved"),className:"text-green-400 hover:text-green-300",title:"Approve",children:(0,Be.jsx)(Ue,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>N(f.recordId,t,"rejected"),className:"text-red-400 hover:text-red-300",title:"Reject",children:(0,Be.jsx)(an,{className:"h-4 w-4"})})]})]})]})},t))})]})]})]})})]})},ln=()=>{var e,t;const{dealId:n}=te(),a=ee(),[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[f,x]=(0,r.useState)({}),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),w={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;(0,r.useEffect)(()=>{d(!0);const e=window.localStorage.getItem("token");console.log("[FinanceDealDetails] Using Authorization token:",e),fetch(`/api/backoffice/deals/${n}`,{credentials:"include",headers:{Authorization:e?`Bearer ${e}`:""}}).then(e=>{if(!e.ok)throw new Error("Deal not found");return e.json()}).then(async e=>{const t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],a=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];console.log("[FinanceDealDetails] Deal documents:",n),console.log("[FinanceDealDetails] Vehicle record documents:",a);let r=[...n];const l=new Set(a.map(e=>e.fileName));a.forEach(e=>{r.some(t=>t.fileName===e.fileName)||r.push(e)}),r=r.filter(e=>"extra_doc"===e.type||"extra_doc"===e.documentType||l.has(e.fileName)),console.log("[FinanceDealDetails] Filtered document list:",r),o(t),s(e=>(0===r.length?console.warn("[FinanceDealDetails] setDocuments called with empty array!"):console.log("[FinanceDealDetails] setDocuments called with:",r),r)),d(!1)}).catch(e=>{m(e.message),d(!1)})},[n]),(0,r.useEffect)(()=>{console.log("[FinanceDealDetails] documents state changed:",l)},[l]);const N=()=>{var e,t,n,a,r,l,s,o,c,d,u,m,f,g,b,y,v,w,N,j,k,S,T,C,_,E,P,D,L,R,I,A,F,M,z,O,U,$,B,V;h||x({"seller.licenseNumber":(null===(e=i.seller)||void 0===e?void 0:e.licenseNumber)||"","seller.contact.phone":(null===(t=i.seller)||void 0===t||null===(n=t.contact)||void 0===n?void 0:n.phone)||(null===(a=i.seller)||void 0===a?void 0:a.phone)||"","seller.contact.email":(null===(r=i.seller)||void 0===r||null===(l=r.contact)||void 0===l?void 0:l.email)||(null===(s=i.seller)||void 0===s?void 0:s.email)||"","seller.contact.address.street":(null===(o=i.seller)||void 0===o||null===(c=o.contact)||void 0===c||null===(d=c.address)||void 0===d?void 0:d.street)||"","seller.contact.address.city":(null===(u=i.seller)||void 0===u||null===(m=u.contact)||void 0===m||null===(f=m.address)||void 0===f?void 0:f.city)||"","seller.contact.address.state":(null===(g=i.seller)||void 0===g||null===(b=g.contact)||void 0===b||null===(y=b.address)||void 0===y?void 0:y.state)||"","seller.contact.address.zip":(null===(v=i.seller)||void 0===v||null===(w=v.contact)||void 0===w||null===(N=w.address)||void 0===N?void 0:N.zip)||"","buyer.licenseNumber":(null===(j=i.buyer)||void 0===j?void 0:j.licenseNumber)||"","buyer.contact.phone":(null===(k=i.buyer)||void 0===k||null===(S=k.contact)||void 0===S?void 0:S.phone)||(null===(T=i.buyer)||void 0===T?void 0:T.phone)||"","buyer.contact.email":(null===(C=i.buyer)||void 0===C||null===(_=C.contact)||void 0===_?void 0:_.email)||(null===(E=i.buyer)||void 0===E?void 0:E.email)||"","buyer.contact.address.street":(null===(P=i.buyer)||void 0===P||null===(D=P.contact)||void 0===D||null===(L=D.address)||void 0===L?void 0:L.street)||"","buyer.contact.address.city":(null===(R=i.buyer)||void 0===R||null===(I=R.contact)||void 0===I||null===(A=I.address)||void 0===A?void 0:A.city)||"","buyer.contact.address.state":(null===(F=i.buyer)||void 0===F||null===(M=F.contact)||void 0===M||null===(z=M.address)||void 0===z?void 0:z.state)||"","buyer.contact.address.zip":(null===(O=i.buyer)||void 0===O||null===(U=O.contact)||void 0===U||null===($=U.address)||void 0===$?void 0:$.zip)||"","buyer.name":(null===(B=i.buyer)||void 0===B?void 0:B.name)||"","buyer.company":(null===(V=i.buyer)||void 0===V?void 0:V.company)||"",purchasePrice:i.purchasePrice||"",listPrice:i.listPrice||"",killPrice:i.killPrice||"",mileage:i.mileage||"",color:i.color||"",exteriorColor:i.exteriorColor||"",interiorColor:i.interiorColor||"",rpStockNumber:i.rpStockNumber||"",notes:i.notes||"",generalNotes:i.generalNotes||""});p(!h)},j=(e,t)=>{x(n=>({...n,[e]:t}))},k=async()=>{b(!0);try{const t=window.localStorage.getItem("token"),a=await fetch(`/api/backoffice/deals/${n}/update-and-regenerate`,{method:"PUT",credentials:"include",headers:{Authorization:t?`Bearer ${t}`:"","Content-Type":"application/json"},body:JSON.stringify({...f,regenerateDocuments:y})});if(!a.ok){let t="Failed to update deal";try{const e=await a.json();t=e.message||JSON.stringify(e)}catch(e){t=a.statusText||t}throw new Error(t)}await a.json();s([]);const r=await fetch(`/api/backoffice/deals/${n}`,{credentials:"include",headers:{Authorization:t?`Bearer ${t}`:""}});if(r.ok){const e=await r.json(),t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],a=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];let l=[...n];const i=new Set(l.map(e=>e.fileName));a.forEach(e=>{i.has(e.fileName)||l.push(e)}),o(t),s(l)}p(!1),v(!1),Ft.success("Deal updated successfully!",{position:"bottom-right"})}catch(u){if(console.error("Error updating deal:",u),u.response)try{const e=await u.response.json();Ft.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ft.error("Error updating deal: "+u.message,{position:"bottom-right"})}else if(u instanceof Response)try{const e=await u.json();Ft.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ft.error("Error updating deal: "+u.statusText,{position:"bottom-right"})}else if(u&&u.message&&u.message.startsWith("Failed to update deal"))try{const e=u.response||u;if(e&&e.json){const t=await e.json();Ft.error("Error updating deal: "+(t.message||JSON.stringify(t)),{position:"bottom-right"})}else Ft.error("Error updating deal: "+u.message,{position:"bottom-right"})}catch(e){Ft.error("Error updating deal: "+u.message,{position:"bottom-right"})}else Ft.error("Error updating deal: "+u.message,{position:"bottom-right"})}finally{b(!1)}};return console.log("[FinanceDealDetails] documents state:",l),c?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Be.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Be.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),(0,Be.jsx)("div",{className:"text-white text-lg font-semibold",children:"Loading deal details..."})]})}):u?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsxs)("svg",{className:"h-10 w-10 text-red-400 mb-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Be.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),(0,Be.jsxs)("div",{className:"text-red-400 text-lg font-semibold",children:["Error loading deal: ",u]}),(0,Be.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Retry"})]})}):(console.log("[FinanceDealDetails] Rendering documents (from state):",l),(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8 flex flex-col items-center",children:[(0,Be.jsx)(qt,{position:"bottom-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),(0,Be.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>a(-1),children:[(0,Be.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,Be.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,Be.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Be.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Deal Documents"}),(0,Be.jsx)("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:h?"Cancel Edit":"Edit Deal"})]}),i&&(0,Be.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,Be.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Deal Summary"}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"Vehicle:"}),(0,Be.jsx)("div",{className:"font-semibold",children:i.vehicle})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"VIN:"}),(0,Be.jsx)("div",{className:"font-semibold",children:i.vin})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"Seller:"}),(0,Be.jsx)("div",{className:"font-semibold",children:null===(e=i.seller)||void 0===e?void 0:e.name})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"Purchase Price:"}),(0,Be.jsxs)("div",{className:"font-semibold",children:["$",null===(t=i.purchasePrice)||void 0===t?void 0:t.toLocaleString()]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"Deal Type:"}),(0,Be.jsx)("div",{className:"font-semibold",children:i.dealType})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300",children:"Status:"}),(0,Be.jsx)("div",{className:"font-semibold",children:i.currentStage})]})]})]}),(()=>{var e;return h?(0,Be.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,Be.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Deal Information"}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Seller Information"}),"retail-pp"!==(null===i||void 0===i?void 0:i.dealType)&&(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,Be.jsx)("input",{type:"text",value:f["seller.licenseNumber"]||"",onChange:e=>j("seller.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"tel",value:f["seller.contact.phone"]||"",onChange:e=>j("seller.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",value:f["seller.contact.email"]||"",onChange:e=>j("seller.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street"}),(0,Be.jsx)("input",{type:"text",value:f["seller.contact.address.street"]||"",onChange:e=>j("seller.contact.address.street",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Street address"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),(0,Be.jsx)("input",{type:"text",value:f["seller.contact.address.city"]||"",onChange:e=>j("seller.contact.address.city",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"City"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),(0,Be.jsx)("input",{type:"text",value:f["seller.contact.address.state"]||"",onChange:e=>j("seller.contact.address.state",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"State"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"ZIP"}),(0,Be.jsx)("input",{type:"text",value:f["seller.contact.address.zip"]||"",onChange:e=>j("seller.contact.address.zip",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ZIP code"})]})]})]}),"wholesale-flip"===(null===i||void 0===i?void 0:i.dealType)&&(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Buyer Information"}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Name"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.name"]||"",onChange:e=>j("buyer.name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buyer/dealer name"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.company"]||"",onChange:e=>j("buyer.company",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company name"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.licenseNumber"]||"",onChange:e=>j("buyer.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"tel",value:f["buyer.contact.phone"]||"",onChange:e=>j("buyer.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",value:f["buyer.contact.email"]||"",onChange:e=>j("buyer.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),"string"===typeof(null===i||void 0===i||null===(e=i.buyer)||void 0===e?void 0:e.type)&&"dealer"===i.buyer.type.toLowerCase()&&(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Tier"}),(0,Be.jsxs)("select",{value:f["buyer.tier"]||"",onChange:e=>j("buyer.tier",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"",children:"Select Tier"}),(0,Be.jsx)("option",{value:"Tier 1",children:"Tier 1 (Pay Upon Title)"}),(0,Be.jsx)("option",{value:"Tier 2",children:"Tier 2 (Pay Prior to Release)"}),(0,Be.jsx)("option",{value:"Tier 3",children:"Tier 3"})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.contact.address.street"]||"",onChange:e=>j("buyer.contact.address.street",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Street address"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.contact.address.city"]||"",onChange:e=>j("buyer.contact.address.city",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"City"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.contact.address.state"]||"",onChange:e=>j("buyer.contact.address.state",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"State"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"ZIP"}),(0,Be.jsx)("input",{type:"text",value:f["buyer.contact.address.zip"]||"",onChange:e=>j("buyer.contact.address.zip",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ZIP code"})]})]})]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Vehicle Information"}),(0,Be.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Purchase Price"}),(0,Be.jsx)("input",{type:"number",value:f.purchasePrice||"",onChange:e=>j("purchasePrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"List Price"}),(0,Be.jsx)("input",{type:"number",value:f.listPrice||"",onChange:e=>j("listPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Kill Price"}),(0,Be.jsx)("input",{type:"number",value:f.killPrice||"",onChange:e=>j("killPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mileage"}),(0,Be.jsx)("input",{type:"number",value:f.mileage||"",onChange:e=>j("mileage",parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Color"}),(0,Be.jsx)("input",{type:"text",value:f.color||"",onChange:e=>j("color",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Color"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Exterior"}),(0,Be.jsx)("input",{type:"text",value:f.exteriorColor||"",onChange:e=>j("exteriorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Exterior color"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interior"}),(0,Be.jsx)("input",{type:"text",value:f.interiorColor||"",onChange:e=>j("interiorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Interior color"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock Number"}),(0,Be.jsx)("input",{type:"text",value:f.rpStockNumber||"",onChange:e=>j("rpStockNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"RP Stock Number"})]})]})]}),(0,Be.jsxs)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,Be.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Be.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,Be.jsx)("span",{className:"text-white font-medium",children:"Regenerate documents with updated information"})]}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm mt-2",children:"Check this box to regenerate all documents (purchase agreements, bills of sale, etc.) with the updated information."})]}),(0,Be.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Be.jsx)("button",{onClick:k,disabled:g,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Save Changes"}),(0,Be.jsx)("button",{onClick:N,disabled:g,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):null})(),(0,Be.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"24px",alignItems:"center",marginTop:"32px"},children:l.map((e,t)=>{const r=e.type||e.documentType||"unknown";return console.log(`[FinanceDealDetails] Rendering document ${t}:`,e),(0,Be.jsxs)("div",{style:{minWidth:480,maxWidth:600,width:"100%",background:"rgba(255,255,255,0.92)",border:"1px solid #e2e8f0",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.07)",padding:"24px 28px",margin:"0 auto",transition:"box-shadow 0.2s",fontFamily:"inherit",color:"#222",position:"relative",outline:"none"},onMouseOver:e=>e.currentTarget.style.boxShadow="0 8px 32px 0 rgba(0,0,0,0.13)",onMouseOut:e=>e.currentTarget.style.boxShadow="0 4px 24px 0 rgba(0,0,0,0.07)",children:[(0,Be.jsxs)("div",{style:{fontWeight:700,fontSize:16,marginBottom:12,color:"#1a202c",wordBreak:"break-word",lineHeight:"1.4"},children:[(0,Be.jsx)("div",{style:{marginBottom:8},children:e.fileName}),(0,Be.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["vehicle_record_pdf"===r&&(0,Be.jsx)("span",{style:{background:"linear-gradient(90deg, #f6d365 0%, #fda085 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Vehicle Record PDF"}),"retail_pp_buy"===r&&(0,Be.jsx)("span",{style:{background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Retail PP Contract"}),"wholesale_pp_buy"===r&&(0,Be.jsx)("span",{style:{background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale PP Contract"}),"wholesale_bos"===r&&(0,Be.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale BOS"}),"wholesale_purchase_order"===r&&(0,Be.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale Purchase Order"})]})]}),(0,Be.jsxs)("div",{style:{fontSize:14,marginBottom:6,wordBreak:"break-word",lineHeight:"1.4"},children:[(0,Be.jsx)("b",{children:"Type:"})," ","retail_pp_buy"===r?"Retail Private Party Purchase Contract":"wholesale_pp_buy"===r?"Wholesale Private Party Purchase Contract":"wholesale_bos"===r?"Wholesale Bill of Sale":"vehicle_record_pdf"===r?"Vehicle Record PDF":"bill_of_sale"===r?"Bill of Sale":"wholesale_purchase_order"===r?"Wholesale Purchase Order":"extra_doc"===r?"Additional Document":r]}),(0,Be.jsxs)("div",{style:{fontSize:14,marginBottom:16,wordBreak:"break-word"},children:[(0,Be.jsx)("b",{children:"Size:"})," ",e.fileSize?`${e.fileSize.toLocaleString()} bytes`:"N/A"]}),(0,Be.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[(0,Be.jsx)("button",{onClick:()=>(e=>{let t;if(console.log("handleView called with doc:",e),"extra_doc"===e.type){const r=e.documentId||e.type;t=`${w}/api/backoffice/deals/${n}/documents/${r}/download`,console.log("extra_doc view URL:",t);const l=`${w}/deals/${n}/documents/view`;console.log("Navigating to:",l),a(l,{state:{viewUrl:t}})}else{t=`${w}/api/documents/download/${e.fileName||e.name}`,console.log("generated document view URL:",t);const r=`${w}/deals/${n}/documents/${encodeURIComponent(e.fileName||e.name)}/view`;console.log("Navigating to:",r),a(r,{state:{viewUrl:t}})}})(e),style:{padding:"10px 22px",background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(79,209,197,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #38b2ac 0%, #319795 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(56,178,172,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(79,209,197,0.13)"},children:"View"}),(0,Be.jsx)("a",{href:e.filePath||e.downloadUrl||`${w}/api/documents/download/${e.fileName}`,download:!0,style:{padding:"10px 22px",background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,textDecoration:"none",border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(102,126,234,0.13)",transition:"background 0.2s, box-shadow 0.2s",display:"inline-block"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #5a67d8 0%, #434190 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(90,103,216,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(102,126,234,0.13)"},children:"Download"})]})]},e.fileName||e.documentNumber||t)})})]})]}))},sn=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),on=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cn=Ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),dn=()=>{const e=ee(),[t,n]=(0,r.useState)(null),[a,l]=(0,r.useState)("all"),[s,i]=(0,r.useState)("all"),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)([]),[p,f]=(0,r.useState)(!0),x={wholesale:[{id:"contract_received",label:"Contract Received",description:"Initial paperwork received"},{id:"title_processing",label:"Title Processing",description:"Title documentation in progress"},{id:"payment_approved",label:"Payment Approved",description:"Payment authorization completed"},{id:"funds_disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title_received",label:"Title Received",description:"Clean title in hand"},{id:"deal_complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title_processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection_complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos_complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing_ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed_active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer_contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing_approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery_scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal_complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport_arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle_arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title_processing",label:"Title Processing",description:"Title documentation"},{id:"inspection_complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready_for_sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal_complete",label:"Deal Complete",description:"Final sale completed"}]};(0,r.useEffect)(()=>{g()},[]);const g=async()=>{try{f(!0);const e=window.localStorage.getItem("token"),t=await fetch("/api/deals",{credentials:"include",headers:{Authorization:e?`Bearer ${e}`:""}});if(!t.ok)throw new Error("Failed to fetch deals");const n=await t.json(),a=(n.deals||n.data||[]).map(e=>{var t,n,a,r;return{id:e._id||e.id,stockNumber:e.rpStockNumber||e.stockNumber,vin:e.vin,vehicle:`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"contract_received",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||"Unknown",buyerContact:(null===(n=e.buyer)||void 0===n?void 0:n.name)||"Pending",purchasePrice:e.purchasePrice||0,salePrice:e.listPrice||e.salePrice||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.notes||e.generalNotes||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,documentation:{contract:{status:"received",date:e.createdDate},title:{status:"clean"===(null===(a=e.titleInfo)||void 0===a?void 0:a.status)?"received":"pending",date:null===(r=e.titleInfo)||void 0===r?void 0:r.titleReceivedDate},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:e.createdDate}},titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null}});h(a)}catch(e){console.error("Error fetching deals:",e),h([{id:1,stockNumber:"RP2025001",vin:"SBM14FCA4LW004366",vehicle:"2020 McLaren 720S",dealType:"wholesale",currentStage:"payment_approved",seller:"Ian Hutchinson",buyerContact:"P Gelber",purchasePrice:22e4,salePrice:244995,payoffBalance:226e3,createdDate:"2025-07-11",lastUpdated:"2025-07-11",priority:"high",notes:"Car is here at RP on consignment. All docs printed and turned in to Tammie.",paymentMethod:"Check",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-11"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-11"}},titleInfo:{},wholesalePrice:23e4},{id:2,stockNumber:"RP2025002",vin:"1HGBH41JXMN109186",vehicle:"2019 Ferrari F8 Tributo",dealType:"retail",currentStage:"title_processing",seller:"Midwest Auto Group",buyerContact:"Pending",purchasePrice:285e3,salePrice:315e3,payoffBalance:0,createdDate:"2025-07-10",lastUpdated:"2025-07-11",priority:"medium",notes:"Waiting on title from previous owner. Expected next week.",paymentMethod:"Wire Transfer",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-10"},title:{status:"pending",date:null},odometer:{status:"received",date:"2025-07-10"},paymentApproval:{status:"approved",date:"2025-07-10"}},titleInfo:{},wholesalePrice:null},{id:3,stockNumber:"RP2025003",vin:"1G1RC6E3XD0109186",vehicle:"2020 Toyota Camry",dealType:"wholesale-flip",currentStage:"title_processing",seller:"Local Dealer",buyerContact:"Pending",purchasePrice:18e4,salePrice:2e5,payoffBalance:185e3,createdDate:"2025-07-09",lastUpdated:"2025-07-09",priority:"high",notes:"Car is in good condition. Need to verify title and odometer.",paymentMethod:"Cash",requiresContract:!1,documentation:{contract:{status:"received",date:"2025-07-09"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-09"}},titleInfo:{},wholesalePrice:195e3}])}finally{f(!1)}},b=m.filter(e=>{const t="all"===a||e.currentStage===a,n="all"===s||e.dealType===s,r=""===o||e.vehicle.toLowerCase().includes(o.toLowerCase())||e.stockNumber.toLowerCase().includes(o.toLowerCase())||e.seller.toLowerCase().includes(o.toLowerCase());return t&&n&&r}),y=e=>{var t,n;let{deal:a,onClose:l,onUpdate:s}=e;const[i,o]=(0,r.useState)(a.currentStage),[c,d]=(0,r.useState)(a.notes),[u,m]=(0,r.useState)((null===(t=a.titleInfo)||void 0===t?void 0:t.lienStatus)||"none"),[h,p]=(0,r.useState)(null!==(n=a.titleInfo)&&void 0!==n&&n.lienEta?new Date(a.titleInfo.lienEta).toISOString().split("T")[0]:""),f=x[a.dealType]||x.wholesale;return(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Be.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white",children:"Update Deal Status"}),(0,Be.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:(0,Be.jsx)(sn,{className:"h-6 w-6"})})]}),(0,Be.jsx)("div",{className:"mb-6",children:(0,Be.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-white font-medium",children:a.vehicle}),(0,Be.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",a.stockNumber]})]}),(0,Be.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",a.seller," \u2022 Deal Type: ",a.dealType.charAt(0).toUpperCase()+a.dealType.slice(1)]})]})}),(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,Be.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>{const n=e.id===a.currentStage,r=f.findIndex(e=>e.id===a.currentStage)>t,l=e.id===i;return(0,Be.jsx)("div",{onClick:()=>o(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(l?"bg-blue-500/20 border-blue-500/50":r?"bg-green-500/10 border-green-500/30":n?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[r?(0,Be.jsx)(Ue,{className:"h-5 w-5 text-green-400"}):n?(0,Be.jsx)(Le,{className:"h-5 w-5 text-orange-400"}):(0,Be.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),l&&(0,Be.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,Be.jsx)(Ue,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),"retail-pp"===a.dealType&&"title_processing"===i&&(0,Be.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,Be.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,Be.jsx)(_e,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,Be.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"payoff_requested",children:"Payoff Requested"}),(0,Be.jsx)("option",{value:"payoff_received",children:"Payoff Received"}),(0,Be.jsx)("option",{value:"lien_release_pending",children:"Release Pending"}),(0,Be.jsx)("option",{value:"lien_released",children:"Lien Released"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,Be.jsx)("input",{type:"date",value:h,onChange:e=>p(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,Be.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Be.jsx)("button",{onClick:l,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,Be.jsxs)("button",{onClick:()=>s(a.id,i,c,u,h),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,Be.jsx)(lt,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Update Status"})]})]})]})})};return p?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,Be.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsxs)("button",{onClick:()=>e("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(rt,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Back"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Status Dashboard"}),(0,Be.jsx)("p",{className:"text-gray-300",children:"Track and update deal progression through the pipeline"})]})]}),(0,Be.jsx)("div",{className:"flex items-center space-x-3",children:(0,Be.jsxs)("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(on,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Refresh"})]})})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Be.jsx)("input",{type:"text",placeholder:"Search deals...",value:o,onChange:e=>c(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Be.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Deal Types"}),(0,Be.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,Be.jsx)("option",{value:"retail",children:"Retail"}),(0,Be.jsx)("option",{value:"auction",children:"Auction"})]}),(0,Be.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Statuses"}),(0,Be.jsx)("option",{value:"contract_received",children:"Contract Received"}),(0,Be.jsx)("option",{value:"title_processing",children:"Title Processing"}),(0,Be.jsx)("option",{value:"payment_approved",children:"Payment Approved"}),(0,Be.jsx)("option",{value:"listing_ready",children:"Ready to List"}),(0,Be.jsx)("option",{value:"deal_complete",children:"Complete"})]}),(0,Be.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,Be.jsxs)("span",{className:"ml-2 font-medium",children:[b.length," deals"]})]})]})]}),(0,Be.jsx)("div",{className:"space-y-4",children:0===b.length?(0,Be.jsx)("div",{className:"text-center py-12",children:(0,Be.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,Be.jsx)(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):b.map(e=>{var t,n,a,l,s;const i=((e,t)=>{const n=x[e]||x.wholesale;return n.find(e=>e.id===t)||n[0]})(e.dealType,e.currentStage),o=((e,t)=>{const n=x[e]||x.wholesale;return(n.findIndex(e=>e.id===t)+1)/n.length*100})(e.dealType,e.currentStage),c={contract_received:"blue",vehicle_acquired:"blue",title_processing:"orange",payment_approved:"green",inspection_complete:"green",listing_ready:"purple",deal_complete:"green",transport_arranged:"orange",funds_disbursed:"green"}[e.currentStage]||"gray";e.priority;return(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,Be.jsx)(Ee,{className:"h-6 w-6 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white",children:e.vehicle}),(0,Be.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:e.dealType.toUpperCase()})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,Be.jsxs)("span",{children:["Stock #",e.stockNumber]}),(0,Be.jsx)("span",{children:"\u2022"}),(0,Be.jsx)("span",{children:e.seller}),(0,Be.jsx)("span",{children:"\u2022"}),(0,Be.jsxs)("span",{children:["Created: ",e.createdDate]})]})]})]}),(0,Be.jsx)("div",{className:"flex items-center space-x-3",children:(0,Be.jsxs)("button",{onClick:()=>u(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(cn,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Update Status"})]})})]}),(0,Be.jsxs)("div",{className:"mb-4",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`bg-${c}-500/20 text-${c}-400 text-xs font-medium px-2 py-1 rounded-full`,children:i.label}),(0,Be.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(o),"% Complete"]})]})]}),(0,Be.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Be.jsx)("div",{className:`bg-gradient-to-r from-${c}-500 to-${c}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${o}%`}})})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Be.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price"}),(0,Be.jsx)(Pe,{className:"h-4 w-4 text-green-400"})]}),(0,Be.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.purchasePrice.toLocaleString()]})]}),"wholesale-flip"===e.dealType?(0,Be.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Wholesale Price"}),(0,Be.jsx)(Me,{className:"h-4 w-4 text-blue-400"})]}),(0,Be.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(t=e.wholesalePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}):(0,Be.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price"}),(0,Be.jsx)(Me,{className:"h-4 w-4 text-blue-400"})]}),(0,Be.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.salePrice.toLocaleString()]})]})]}),(0,Be.jsxs)("div",{className:"mb-4",children:[(0,Be.jsx)("h4",{className:"text-white font-medium mb-3",children:"Documentation Status"}),(0,Be.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(e.documentation).map(e=>{let[t,n]=e;return(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:["received"===n.status||"approved"===n.status?(0,Be.jsx)(Ue,{className:"h-4 w-4 text-green-400"}):"pending"===n.status?(0,Be.jsx)(Le,{className:"h-4 w-4 text-orange-400"}):(0,Be.jsx)(an,{className:"h-4 w-4 text-red-400"}),(0,Be.jsx)("span",{className:"text-gray-300 text-sm capitalize",children:t.replace("_"," ")})]},t)})})]}),"retail-pp"===e.dealType&&"title_processing"===e.currentStage&&(0,Be.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-4",children:[(0,Be.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,Be.jsx)(_e,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,Be.jsx)("div",{className:"flex items-center justify-between mb-4 mt-2",children:["payoff_requested","payoff_received","lien_release_pending","lien_released"].map((t,n,a)=>{var l,s;const i=(null===(l=e.titleInfo)||void 0===l?void 0:l.lienStatus)===t,o=a.indexOf(null===(s=e.titleInfo)||void 0===s?void 0:s.lienStatus)>n;return(0,Be.jsxs)(r.Fragment,{children:[(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsx)("div",{className:"rounded-full w-7 h-7 flex items-center justify-center font-bold text-sm mb-1 transition-all duration-200 "+(i?"bg-blue-500 text-white shadow-lg scale-110":o?"bg-green-400 text-white":"bg-gray-400 text-white/70"),children:n+1}),(0,Be.jsx)("span",{className:"text-xs font-medium "+(i?"text-blue-400":o?"text-green-400":"text-gray-400"),children:{payoff_requested:"Payoff Requested",payoff_received:"Payoff Received",lien_release_pending:"Release Pending",lien_released:"Lien Released"}[t]})]}),n<a.length-1&&(0,Be.jsx)("div",{className:"flex-1 h-1 mx-1 md:mx-2 rounded-full "+(o?"bg-green-400":i?"bg-blue-400":"bg-gray-400/40")})]},t)})}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Holder"}),(0,Be.jsx)("div",{className:"text-white font-bold text-base",children:(null===(n=e.titleInfo)||void 0===n?void 0:n.lienHolder)||"None"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,Be.jsx)("div",{className:"text-white font-bold text-base capitalize",children:(null===(a=e.titleInfo)||void 0===a||null===(l=a.lienStatus)||void 0===l?void 0:l.replace(/_/g," "))||"None"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,Be.jsx)("div",{className:"text-white font-bold text-base",children:null!==(s=e.titleInfo)&&void 0!==s&&s.lienEta?new Date(e.titleInfo.lienEta).toLocaleDateString():"TBD"})]})]})]}),e.notes&&(0,Be.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,Be.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Be.jsx)(Ge,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,Be.jsx)("p",{className:"text-orange-300 text-sm",children:e.notes})]})})]},e.id)})}),d&&(0,Be.jsx)(y,{deal:d,onClose:()=>u(null),onUpdate:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;try{const l=window.localStorage.getItem("token");if(!(await fetch(`/api/deals/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:l?`Bearer ${l}`:""},body:JSON.stringify({currentStage:t,notes:n,updatedAt:new Date,...a&&"title_processing"===t?{lienStatus:a}:{},...r&&"title_processing"===t?{lienEta:r}:{}}),credentials:"include"})).ok)throw new Error("Failed to update deal status");h(m.map(l=>{var s,i;return l.id===e?{...l,currentStage:t,lastUpdated:(new Date).toISOString().split("T")[0],notes:n||l.notes,titleInfo:{...l.titleInfo,lienStatus:a||(null===(s=l.titleInfo)||void 0===s?void 0:s.lienStatus),lienEta:r||(null===(i=l.titleInfo)||void 0===i?void 0:i.lienEta)}}:l})),u(null)}catch(l){console.error("Error updating deal status:",l),alert("Failed to update deal status. Please try again.")}}})]})]})},un=()=>{var e;const{fileName:t}=te(),n=ee(),a=J(),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),u=(null===(e=a.state)||void 0===e?void 0:e.viewUrl)||`/api/documents/download/${encodeURIComponent(t||"document")}`,m=t||"Document";(0,r.useEffect)(()=>{console.log("[PDFViewer] Component mounted"),console.log("[PDFViewer] fileName:",t),console.log("[PDFViewer] location.state:",a.state),console.log("[PDFViewer] viewUrl:",u);(async()=>{try{o(!0),console.log("[PDFViewer] Fetching PDF from:",u);const e=await fetch(u,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!e.ok)throw new Error(`Failed to load PDF: ${e.status} ${e.statusText}`);const t=await e.blob(),n=URL.createObjectURL(t);console.log("[PDFViewer] PDF loaded successfully, data URL created"),s(n),d(null)}catch(e){console.error("[PDFViewer] Error loading PDF:",e),d(e.message)}finally{o(!1)}})()},[u]);return i?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,Be.jsxs)("div",{className:"text-white text-center",children:[(0,Be.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Be.jsx)("p",{children:"Loading PDF..."})]})}):c?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,Be.jsxs)("div",{className:"text-red-400 text-center",children:[(0,Be.jsxs)("p",{children:["Error loading PDF: ",c]}),(0,Be.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>n(-1),children:"Go Back"})]})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:[(0,Be.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>n(-1),children:[(0,Be.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,Be.jsx)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",children:(0,Be.jsx)("iframe",{src:l,title:m,className:"w-full h-full border-0",onError:()=>{console.error("[PDFViewer] Iframe failed to load:",l)}})})]})},mn={wholesale:[{id:"contract_received",label:"Contract Received",description:"Initial paperwork received"},{id:"title_processing",label:"Title Processing",description:"Title documentation in progress"},{id:"payment_approved",label:"Payment Approved",description:"Payment authorization completed"},{id:"funds_disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title_received",label:"Title Received",description:"Clean title in hand"},{id:"deal_complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title_processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection_complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos_complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing_ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed_active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer_contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing_approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery_scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal_complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport_arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle_arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title_processing",label:"Title Processing",description:"Title documentation"},{id:"inspection_complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready_for_sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal_complete",label:"Deal Complete",description:"Final sale completed"}]};function hn(){var e,t,n,a,l;const{dealId:s}=te(),i=ee(),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[p,f]=(0,r.useState)("none"),[x,g]=(0,r.useState)(""),[b,y]=(0,r.useState)(!0),[v,w]=(0,r.useState)(!1),[N,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){y(!0);try{var e,t;const n=window.localStorage.getItem("token"),a=await fetch(`/api/deals/${s}`,{credentials:"include",headers:{Authorization:n?`Bearer ${n}`:""}});if(!a.ok)throw new Error("Deal not found");const r=await a.json(),l=r.deal||r.data||r;c(l),u(l.currentStage||"contract_received"),h(l.notes||l.generalNotes||""),f((null===(e=l.titleInfo)||void 0===e?void 0:e.lienStatus)||"none"),g(null!==(t=l.titleInfo)&&void 0!==t&&t.lienEta?new Date(l.titleInfo.lienEta).toISOString().split("T")[0]:"")}catch(n){j(n.message)}finally{y(!1)}}()},[s]);if(b)return(0,Be.jsx)("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading..."});if(N)return(0,Be.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-400",children:N});if(!o)return null;console.log("[UpdateStatusPage] deal.seller:",o.seller),console.log("[UpdateStatusPage] deal.seller?.type:",null===(e=o.seller)||void 0===e?void 0:e.type);const k=mn[o.dealType]||mn.wholesale;return(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,Be.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-8 max-w-2xl w-full",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Update Deal Status"}),(0,Be.jsx)("button",{onClick:()=>i("/finance/deals"),className:"text-gray-400 hover:text-white transition-colors",children:(0,Be.jsx)(sn,{className:"h-6 w-6"})})]}),(0,Be.jsxs)("div",{className:"mb-6 bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-white font-medium",children:o.vehicle||`${o.year} ${o.make} ${o.model}`}),(0,Be.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",o.rpStockNumber||o.stockNumber||"N/A"]})]}),(0,Be.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",(null===(t=o.seller)||void 0===t?void 0:t.name)||o.seller||"Unknown"," \u2022 Deal Type: ",null===(n=o.dealType)||void 0===n?void 0:n.replace("-"," ").toUpperCase()]})]}),(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,Be.jsx)("div",{className:"space-y-3",children:k.map((e,t)=>{const n=e.id===d,a=n,r=k.findIndex(e=>e.id===d)>t;return(0,Be.jsx)("div",{onClick:()=>u(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(n?"bg-blue-500/20 border-blue-500/50":r?"bg-green-500/10 border-green-500/30":e.id===o.currentStage?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[r?(0,Be.jsx)(Ue,{className:"h-5 w-5 text-green-400"}):a?(0,Be.jsx)(Le,{className:"h-5 w-5 text-blue-400"}):e.id===o.currentStage?(0,Be.jsx)(Le,{className:"h-5 w-5 text-orange-400"}):(0,Be.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),n&&(0,Be.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,Be.jsx)(Ue,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),("retail-pp"===o.dealType||"wholesale-flip"===o.dealType&&"string"===typeof(null===(a=o.seller)||void 0===a?void 0:a.type)&&"private"===o.seller.type.toLowerCase())&&"title_processing"===d&&(0,Be.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,Be.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,Be.jsx)(_e,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,Be.jsx)("div",{className:"flex items-center justify-between mb-4 mt-2",children:["payoff_requested","payoff_received","lien_release_pending","lien_released"].map((e,t,n)=>{const a=p===e,l=n.indexOf(p)>t;return(0,Be.jsxs)(r.Fragment,{children:[(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsx)("div",{className:"rounded-full w-7 h-7 flex items-center justify-center font-bold text-sm mb-1 transition-all duration-200 "+(a?"bg-blue-500 text-white shadow-lg scale-110":l?"bg-green-400 text-white":"bg-gray-400 text-white/70"),children:t+1}),(0,Be.jsx)("span",{className:"text-xs font-medium "+(a?"text-blue-400":l?"text-green-400":"text-gray-400"),children:{payoff_requested:"Payoff Requested",payoff_received:"Payoff Received",lien_release_pending:"Release Pending",lien_released:"Lien Released"}[e]})]}),t<n.length-1&&(0,Be.jsx)("div",{className:"flex-1 h-1 mx-1 md:mx-2 rounded-full "+(l?"bg-green-400":a?"bg-blue-400":"bg-gray-400/40")})]},e)})}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,Be.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"payoff_requested",children:"Payoff Requested"}),(0,Be.jsx)("option",{value:"payoff_received",children:"Payoff Received"}),(0,Be.jsx)("option",{value:"lien_release_pending",children:"Release Pending"}),(0,Be.jsx)("option",{value:"lien_released",children:"Lien Released"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,Be.jsx)("input",{type:"date",value:x,onChange:e=>g(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),"wholesale-flip"===o.dealType&&"title_processing"===d&&!(null!==(l=o.seller)&&void 0!==l&&l.type)&&(0,Be.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6 text-yellow-300",children:[(0,Be.jsx)("strong",{children:"Warning:"})," Seller type is missing for this deal. Lien sub-status will only show if seller type is set to 'private'."]}),(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,Be.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Be.jsx)("button",{onClick:()=>i("/finance/deals"),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,Be.jsxs)("button",{onClick:async()=>{w(!0);try{const e=window.localStorage.getItem("token");if(!(await fetch(`/api/deals/${s}`,{method:"PUT",credentials:"include",headers:{Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"},body:JSON.stringify({currentStage:d,notes:m,updatedAt:new Date,..."retail-pp"===o.dealType&&"title_processing"===d?{lienStatus:p,lienEta:x}:{}})})).ok)throw new Error("Failed to update deal status");i("/finance/deals")}catch(e){j(e.message)}finally{w(!1)}},disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[(0,Be.jsx)(lt,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:v?"Saving...":"Update Status"})]})]})]})})}const pn=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),fn=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),xn=Ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),gn={"contract-received":"Initial Contact","title-processing":"Documentation","payment-approved":"Finance Review","funds-disbursed":"Funds Disbursed","title-received":"Title Received","deal-complete":"Completion"},bn=["contract-received","title-processing","payment-approved","funds-disbursed","title-received","deal-complete"],yn={buy:"Buy",sale:"Sale","buy-sell":"Buy/Sell","consign-a":"Consign-A","consign-b":"Consign-B","consign-c":"Consign-C","consign-rdnc":"Consign-RDNC"},vn=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)("all"),[c,d]=(0,r.useState)("all"),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),g=ee();(0,r.useEffect)(()=>{let e;return b(),h&&(e=setInterval(()=>{b(),x(new Date)},3e4)),()=>{e&&clearInterval(e)}},[h]);const b=async()=>{try{a(!0);const e=await fetch("/api/deals",{credentials:"include"});if(e.ok){const n=await e.json(),a=(n.deals||n.data||[]).map(e=>{var t,n,a,r;return{id:e._id||e.id,stockNumber:e.rpStockNumber||e.stockNumber,vin:e.vin,vehicle:`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"initial-contact",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||"Unknown",buyerContact:(null===(n=e.buyer)||void 0===n?void 0:n.name)||"Pending",purchasePrice:e.purchasePrice||0,salePrice:e.listPrice||e.salePrice||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.notes||e.generalNotes||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,documentation:{contract:{status:"received",date:e.createdDate},title:{status:"clean"===(null===(a=e.titleInfo)||void 0===a?void 0:a.status)?"received":"pending",date:null===(r=e.titleInfo)||void 0===r?void 0:r.titleReceivedDate},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:e.createdDate}},titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null,dealType2SubType:e.dealType2SubType||e.dealType2||""}});t(a)}}catch(e){console.error("Error fetching deals:",e)}finally{a(!1)}},y=e=>({id:e,label:gn[e]||e,description:{"contract-received":"Deal created and initial contact made","title-processing":"Documents being prepared and reviewed","payment-approved":"Financial terms and approval process","funds-disbursed":"Funds have been disbursed","title-received":"Title has been received","deal-complete":"Deal finalized and closed"}[e]||""}),v=e.filter(e=>{var t,n;const a=""===u||e.vehicle.toLowerCase().includes(u.toLowerCase())||(null===(t=e.stockNumber)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.vin)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase())),r="all"===i||e.currentStage===i,l="all"===c||e.dealType===c;return a&&r&&l});return n?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,Be.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Be.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,Be.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,Be.jsxs)("div",{className:"mb-8",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsxs)("button",{onClick:()=>g("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(rt,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Back"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sales Deal Status"}),(0,Be.jsx)("p",{className:"text-gray-300",children:"Track and monitor your deals through the sales pipeline"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("input",{type:"checkbox",id:"autoRefresh",checked:h,onChange:e=>p(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Be.jsx)("label",{htmlFor:"autoRefresh",className:"text-gray-300 text-sm",children:"Auto-refresh"})]}),f&&(0,Be.jsxs)("div",{className:"text-gray-400 text-sm",children:["Last sync: ",f.toLocaleTimeString()]}),(0,Be.jsxs)("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,Be.jsx)(on,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Refresh"})]})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Be.jsx)("input",{type:"text",placeholder:"Search deals...",value:u,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Be.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Deal Types"}),(0,Be.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,Be.jsx)("option",{value:"retail",children:"Retail"}),(0,Be.jsx)("option",{value:"retail-pp",children:"Retail PP"})]}),(0,Be.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Be.jsx)("option",{value:"all",children:"All Statuses"}),(0,Be.jsx)("option",{value:"contract-received",children:"Initial Contact"}),(0,Be.jsx)("option",{value:"title-processing",children:"Documentation"}),(0,Be.jsx)("option",{value:"payment-approved",children:"Finance Review"}),(0,Be.jsx)("option",{value:"deal-complete",children:"Complete"})]}),(0,Be.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,Be.jsxs)("span",{className:"ml-2 font-medium",children:[v.length," deals"]})]})]})]}),(0,Be.jsx)("div",{className:"space-y-4",children:0===v.length?(0,Be.jsx)("div",{className:"text-center py-12",children:(0,Be.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,Be.jsx)(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):v.map(e=>{const t=y(e.currentStage),n=(e=>{const t=bn.indexOf(e);return t>=0?Math.round(t/(bn.length-1)*100):0})(e.currentStage),a=(e=>{switch(e){case"deal-complete":return"green";case"payment-approved":case"funds-disbursed":case"title-received":return"blue";case"title-processing":case"contract-received":return"yellow";default:return"gray"}})(e.currentStage),r=(e=>{switch(e){case"high":return"text-red-400";case"medium":return"text-orange-400";case"low":return"text-green-400";default:return"text-gray-400"}})(e.priority);return(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,Be.jsx)(Ee,{className:"h-6 w-6 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,Be.jsx)("h3",{className:"text-xl font-bold text-white",children:e.vehicle}),(0,Be.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:e.dealType.toUpperCase()}),e.dealType2SubType&&"wholesale-flip"!==e.dealType&&(0,Be.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:yn[e.dealType2SubType]||e.dealType2SubType}),(0,Be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Be.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",title:"In sync with finance system"}),(0,Be.jsx)("span",{className:"text-green-400 text-xs",children:"Synced"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,Be.jsxs)("span",{children:["Stock #",e.stockNumber]}),(0,Be.jsx)("span",{children:"\u2022"}),(0,Be.jsx)("span",{children:e.seller}),(0,Be.jsx)("span",{children:"\u2022"}),(0,Be.jsxs)("span",{children:["Created: ",e.createdDate]})]})]})]}),(0,Be.jsx)("div",{className:"flex items-center space-x-3",children:(0,Be.jsx)("button",{onClick:()=>s(l===e.id?null:e.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:l===e.id?(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)(pn,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"Hide Details"})]}):(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)(fn,{className:"h-4 w-4"}),(0,Be.jsx)("span",{children:"View Details"})]})})})]}),(0,Be.jsxs)("div",{className:"mb-4",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Be.jsx)("span",{className:`bg-${a}-500/20 text-${a}-400 text-xs font-medium px-2 py-1 rounded-full`,children:t.label}),(0,Be.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(n),"% Complete"]})]})]}),(0,Be.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Be.jsx)("div",{className:`bg-gradient-to-r from-${a}-500 to-${a}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${n}%`}})})]}),(0,Be.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:(0,Be.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Be.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN"}),(0,Be.jsx)(Ae,{className:"h-4 w-4 text-blue-400"})]}),(0,Be.jsx)("p",{className:"text-white font-bold text-sm font-mono",children:e.vin})]})}),(0,Be.jsxs)("div",{className:"mb-4",children:[(0,Be.jsx)("h4",{className:"text-white font-medium mb-3",children:"Documentation Status"}),(0,Be.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(e.documentation).map(e=>{let[t,n]=e;return(0,Be.jsxs)("div",{className:"flex items-center space-x-2",children:["received"===n.status||"approved"===n.status?(0,Be.jsx)(Ue,{className:"h-4 w-4 text-green-400"}):"pending"===n.status?(0,Be.jsx)(Le,{className:"h-4 w-4 text-orange-400"}):(0,Be.jsx)(an,{className:"h-4 w-4 text-red-400"}),(0,Be.jsx)("span",{className:"text-gray-300 text-sm capitalize",children:t.replace("_"," ")})]},t)})})]}),l===e.id&&(0,Be.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,Be.jsxs)("div",{className:"mb-6",children:[(0,Be.jsx)("h4",{className:"text-white font-medium mb-4",children:"Deal Progress"}),(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-600"}),(0,Be.jsx)("div",{className:"space-y-4",children:bn.map((t,n)=>{const a=y(t),r=n<bn.indexOf(e.currentStage),l=t===e.currentStage;return(0,Be.jsxs)("div",{className:"relative flex items-start space-x-4",children:[(0,Be.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center z-10 "+(r?"bg-green-500":l?"bg-blue-500":"bg-gray-600"),children:r?(0,Be.jsx)(Ue,{className:"h-4 w-4 text-white"}):l?(0,Be.jsx)(xn,{className:"h-4 w-4 text-white"}):(0,Be.jsx)(Gt,{className:"h-4 w-4 text-gray-300"})}),(0,Be.jsxs)("div",{className:"flex-1 pt-1",children:[(0,Be.jsx)("div",{className:"font-medium "+(r?"text-green-400":l?"text-blue-400":"text-gray-400"),children:a.label}),(0,Be.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:a.description}),l&&(0,Be.jsx)("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded",children:"In progress..."})]})]},t)})})]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-white font-medium mb-3",children:"Deal Information"}),(0,Be.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Deal Type:"}),(0,Be.jsx)("span",{className:"text-white capitalize",children:e.dealType.replace("-"," ")})]}),(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Payment Method:"}),(0,Be.jsx)("span",{className:"text-white",children:e.paymentMethod})]}),(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Priority:"}),(0,Be.jsx)("span",{className:r,children:e.priority})]}),(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,Be.jsx)("span",{className:"text-white",children:e.lastUpdated})]}),"wholesale-flip"!==e.dealType&&(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Deal Type 2:"}),(0,Be.jsx)("span",{className:"text-white capitalize",children:yn[e.dealType2SubType]||e.dealType2SubType||"N/A"})]})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h4",{className:"text-white font-medium mb-3",children:"Contact Information"}),(0,Be.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Seller:"}),(0,Be.jsx)("span",{className:"text-white",children:e.seller})]}),(0,Be.jsxs)("div",{className:"flex justify-between",children:[(0,Be.jsx)("span",{className:"text-gray-400",children:"Buyer:"}),(0,Be.jsx)("span",{className:"text-white",children:e.buyerContact})]})]})]})]})]}),e.notes&&(0,Be.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,Be.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Be.jsx)(Ge,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,Be.jsx)("p",{className:"text-orange-300 text-sm",children:e.notes})]})})]},e.id)})})]})]})},wn=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Nn=Ce("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]),jn=Ce("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kn=Ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Sn=()=>{const{user:e,token:t,getAuthHeaders:n,loading:a}=He(),[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)("all"),[h,p]=(0,r.useState)("all"),[f,x]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[j,k]=(0,r.useState)(!1),[S,T]=(0,r.useState)(null),[C,_]=(0,r.useState)(null),[E,P]=(0,r.useState)({firstName:"",lastName:"",email:"",username:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),D={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE||"http://localhost:5001",L=async()=>{try{if(o(!0),T(null),!t)throw new Error("No authentication token available");console.log("[USER MANAGEMENT] Current user:",e),console.log("[USER MANAGEMENT] User role:",null===e||void 0===e?void 0:e.role),console.log("[USER MANAGEMENT] Token available:",!!t),console.log("[USER MANAGEMENT] Token preview:",t?`${t.substring(0,20)}...`:"None"),console.log("[USER MANAGEMENT] Fetching users from:",`${D}/api/users`);const a={...n(),"Content-Type":"application/json"};console.log("[USER MANAGEMENT] Request headers:",a);const r=await fetch("/api/users",{headers:a,credentials:"include"});if(console.log("[USER MANAGEMENT] Response status:",r.status),console.log("[USER MANAGEMENT] Response headers:",Object.fromEntries(r.headers.entries())),!r.ok){const e=await r.json().catch(()=>({}));throw console.error("[USER MANAGEMENT] Error response:",e),new Error(e.error||`HTTP ${r.status}: Failed to fetch users`)}const l=await r.json();console.log("[USER MANAGEMENT] Users data:",l),console.log("[USER MANAGEMENT] Number of users received:",l.length),s(l)}catch(S){console.error("[USER MANAGEMENT] Error fetching users:",S),T(S.message||"Failed to load users")}finally{o(!1)}};(0,r.useEffect)(()=>{if(!a)return e?void("admin"===e.role?L():(T("Admin access required"),o(!1))):(T("Please log in to access user management"),void o(!1))},[e,a]);const R=l.filter(e=>{var t,n,a,r;const l=(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.lastName)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.username)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase())),s="all"===u||e.role===u,i="all"===h||"active"===h&&e.isActive||"inactive"===h&&!e.isActive;return l&&s&&i}),I=e=>{const t=(e=>{const t={admin:{deals:{create:!0,read:!0,update:!0,delete:!0,viewFinancials:!0},dealers:{create:!0,read:!0,update:!0,delete:!0},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!0},system:{configure:!0}},sales:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}},finance:{deals:{create:!1,read:!0,update:!0,delete:!1,viewFinancials:!0},dealers:{create:!1,read:!0,update:!1,delete:!1},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!1},system:{configure:!1}}};return t[e]||t.sales})(e);f?P(n=>({...n,role:e,permissions:t})):w&&N(n=>({...n,role:e,permissions:t}))};return a?(0,Be.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,Be.jsxs)("div",{className:"text-center",children:[(0,Be.jsx)(on,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Loading authentication..."})]})}):(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,Be.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,Be.jsx)(rt,{className:"h-5 w-5 text-white"})}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,Be.jsx)(_e,{className:"h-6 w-6 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-xl font-bold text-white",children:"User Management"}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage system users and permissions"})]})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Be.jsxs)("button",{onClick:()=>L(),disabled:i,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,Be.jsx)(on,{className:"h-4 w-4 mr-2 "+(i?"animate-spin":"")}),"Refresh"]}),(0,Be.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,Be.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})})}),(0,Be.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[S&&(0,Be.jsxs)("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-center",children:[(0,Be.jsx)(Ge,{className:"h-5 w-5 text-red-400 mr-3"}),(0,Be.jsx)("span",{className:"text-red-400",children:S}),(0,Be.jsx)("button",{onClick:()=>T(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,Be.jsx)(sn,{className:"h-4 w-4"})})]}),C&&(0,Be.jsxs)("div",{className:"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center",children:[(0,Be.jsx)(Ue,{className:"h-5 w-5 text-green-400 mr-3"}),(0,Be.jsx)("span",{className:"text-green-400",children:C}),(0,Be.jsx)("button",{onClick:()=>_(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,Be.jsx)(sn,{className:"h-4 w-4"})})]}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Be.jsx)("input",{type:"text",placeholder:"Search users...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"all",children:"All Roles"}),(0,Be.jsx)("option",{value:"admin",children:"Admin"}),(0,Be.jsx)("option",{value:"sales",children:"Sales"}),(0,Be.jsx)("option",{value:"finance",children:"Finance"})]}),(0,Be.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"all",children:"All Status"}),(0,Be.jsx)("option",{value:"active",children:"Active"}),(0,Be.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-end text-gray-300 text-sm",children:[R.length," of ",l.length," users"]})]})}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:i?(0,Be.jsxs)("div",{className:"p-8 text-center",children:[(0,Be.jsx)(on,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Loading users..."})]}):(0,Be.jsxs)("div",{className:"overflow-x-auto",children:[(0,Be.jsxs)("table",{className:"w-full",children:[(0,Be.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,Be.jsxs)("tr",{children:[(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"User"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Role"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Last Login"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Be.jsx)("tbody",{className:"divide-y divide-white/10",children:R.map(e=>{var t,a,r,l;return(0,Be.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Be.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,Be.jsxs)("span",{className:"text-white font-medium text-sm",children:[null===(t=e.firstName)||void 0===t?void 0:t[0],null===(a=e.lastName)||void 0===a?void 0:a[0]]})})}),(0,Be.jsxs)("div",{className:"ml-4",children:[(0,Be.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]}),(0,Be.jsx)("div",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${l=e.role,{admin:"bg-red-100 text-red-800 border-red-200",sales:"bg-blue-100 text-blue-800 border-blue-200",finance:"bg-green-100 text-green-800 border-green-200"}[l]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.role})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{className:"flex items-center",children:[(r=e.isActive,r?(0,Be.jsx)(Ue,{className:"h-4 w-4 text-green-500"}):(0,Be.jsx)(an,{className:"h-4 w-4 text-red-500"})),(0,Be.jsx)("span",{className:"ml-2 text-sm "+(e.isActive?"text-green-400":"text-red-400"),children:e.isActive?"Active":"Inactive"})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Be.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`/api/users/${e._id}`,{method:"PUT",headers:n(),body:JSON.stringify({isActive:!e.isActive})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to update user status")}_(`User ${e.isActive?"deactivated":"activated"} successfully`),L()}catch(S){console.error("Error updating user status:",S),T(S.message)}})(e),className:"p-2 rounded-lg transition-colors "+(e.isActive?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-green-400 hover:text-green-300 hover:bg-green-500/10"),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,Be.jsx)(Nn,{className:"h-4 w-4"}):(0,Be.jsx)(jn,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>{N(e),b(!0)},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:(0,Be.jsx)(kn,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const t=await fetch(`/api/users/${e}`,{method:"DELETE",headers:n()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete user")}_("User deleted successfully"),L()}catch(S){console.error("Error deleting user:",S),T(S.message)}})(e._id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:(0,Be.jsx)(en,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===R.length&&(0,Be.jsxs)("div",{className:"p-8 text-center",children:[(0,Be.jsx)(Fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"No users found"})]})]})})]}),f&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create New User"}),(0,Be.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:(0,Be.jsx)(sn,{className:"h-6 w-6"})})]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),(0,Be.jsx)("input",{type:"text",value:E.firstName,onChange:e=>P(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,Be.jsx)("input",{type:"text",value:E.lastName,onChange:e=>P(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",value:E.email,onChange:e=>P(t=>({...t,email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),(0,Be.jsx)("input",{type:"text",value:E.username,onChange:e=>P(t=>({...t,username:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,Be.jsxs)("select",{value:E.role,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"sales",children:"Sales"}),(0,Be.jsx)("option",{value:"finance",children:"Finance"}),(0,Be.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"tel",value:E.phone,onChange:e=>P(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("input",{type:"checkbox",id:"isActive",checked:E.isActive,onChange:e=>P(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Be.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,Be.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,Be.jsxs)("button",{onClick:async()=>{try{k(!0),T(null);const e=await fetch("/api/users",{method:"POST",headers:n(),body:JSON.stringify(E)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to create user")}_("User created successfully"),x(!1),P({firstName:"",lastName:"",email:"",username:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),L()}catch(S){console.error("Error creating user:",S),T(S.message)}finally{k(!1)}},disabled:j||!E.firstName||!E.lastName||!E.email,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,Be.jsx)(on,{className:"h-4 w-4 mr-2 animate-spin"}):(0,Be.jsx)(lt,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]})}),g&&w&&(0,Be.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Be.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Be.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit User"}),(0,Be.jsx)("button",{onClick:()=>{b(!1),N(null)},className:"text-gray-400 hover:text-white",children:(0,Be.jsx)(sn,{className:"h-6 w-6"})})]}),(0,Be.jsxs)("div",{className:"space-y-4",children:[(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),(0,Be.jsx)("input",{type:"text",value:w.firstName||"",onChange:e=>N(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,Be.jsx)("input",{type:"text",value:w.lastName||"",onChange:e=>N(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Be.jsx)("input",{type:"email",value:w.email||"",onChange:e=>N(t=>({...t,email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,Be.jsxs)("select",{value:w.role||"sales",onChange:e=>I(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"sales",children:"Sales"}),(0,Be.jsx)("option",{value:"finance",children:"Finance"}),(0,Be.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Be.jsx)("input",{type:"tel",value:w.phone||"",onChange:e=>N(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("input",{type:"checkbox",id:"editIsActive",checked:w.isActive,onChange:e=>N(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Be.jsx)("label",{htmlFor:"editIsActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,Be.jsx)("button",{onClick:()=>{b(!1),N(null)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,Be.jsxs)("button",{onClick:async()=>{try{k(!0),T(null);const e=await fetch(`/api/users/${w._id}`,{method:"PUT",headers:n(),body:JSON.stringify(w)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to update user")}_("User updated successfully"),b(!1),N(null),L()}catch(S){console.error("Error updating user:",S),T(S.message)}finally{k(!1)}},disabled:j||!w.firstName||!w.lastName||!w.email,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,Be.jsx)(on,{className:"h-4 w-4 mr-2 animate-spin"}):(0,Be.jsx)(lt,{className:"h-4 w-4 mr-2"}),"Update User"]})]})]})})]})},Tn=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Cn=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),_n=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)("all"),[c,d]=(0,r.useState)("all"),[u,m]=(0,r.useState)("all"),[h,p]=(0,r.useState)("createdAt"),[f,x]=(0,r.useState)("desc"),[g,b]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[j,k]=(0,r.useState)({total:0,active:0,completed:0,pending:0}),S=async()=>{try{var e,n,r,l,s;a(!0);const i=await fetch("/api/deals",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||sessionStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch deals");const o=await i.json();t(o.deals||o.data||[]);const c=(null===(e=o.deals)||void 0===e?void 0:e.length)||(null===(n=o.data)||void 0===n?void 0:n.length)||0,d=(null===(r=o.deals)||void 0===r?void 0:r.filter(e=>"active"===e.status).length)||0,u=(null===(l=o.deals)||void 0===l?void 0:l.filter(e=>"completed"===e.status).length)||0,m=(null===(s=o.deals)||void 0===s?void 0:s.filter(e=>"pending"===e.status).length)||0;k({total:c,active:d,completed:u,pending:m})}catch(w){console.error("Error fetching deals:",w),N("Failed to load deals")}finally{a(!1)}};(0,r.useEffect)(()=>{S()},[]);const T=e.filter(e=>{var t,n,a,r,s,o,d,m,h,p;const f=(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.rpStockNumber)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null===(a=e.vehicle)||void 0===a||null===(r=a.make)||void 0===r?void 0:r.toLowerCase().includes(l.toLowerCase()))||(null===(s=e.vehicle)||void 0===s||null===(o=s.model)||void 0===o?void 0:o.toLowerCase().includes(l.toLowerCase()))||(null===(d=e.seller)||void 0===d||null===(m=d.name)||void 0===m?void 0:m.toLowerCase().includes(l.toLowerCase()))||(null===(h=e.buyer)||void 0===h||null===(p=h.name)||void 0===p?void 0:p.toLowerCase().includes(l.toLowerCase())),x="all"===i||e.status===i,g="all"===c||e.dealType===c;let b=!0;if("all"!==u){const t=new Date(e.createdAt||e.dateCreated),n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(u){case"today":b=t>=a;break;case"week":b=t>=new Date(a.getTime()-6048e5);break;case"month":b=t>=new Date(a.getTime()-2592e6)}}return f&&x&&g&&b}).sort((e,t)=>{let n=e[h],a=t[h];var r,l,s,i,o,c,d,u,m,p;"vehicle"===h&&(n=`${null===(r=e.vehicle)||void 0===r?void 0:r.year} ${null===(l=e.vehicle)||void 0===l?void 0:l.make} ${null===(s=e.vehicle)||void 0===s?void 0:s.model}`,a=`${null===(i=t.vehicle)||void 0===i?void 0:i.year} ${null===(o=t.vehicle)||void 0===o?void 0:o.make} ${null===(c=t.vehicle)||void 0===c?void 0:c.model}`);"seller"===h&&(n=(null===(d=e.seller)||void 0===d?void 0:d.name)||"",a=(null===(u=t.seller)||void 0===u?void 0:u.name)||"");"buyer"===h&&(n=(null===(m=e.buyer)||void 0===m?void 0:m.name)||"",a=(null===(p=t.buyer)||void 0===p?void 0:p.name)||"");return"createdAt"!==h&&"dateCreated"!==h||(n=new Date(n),a=new Date(a)),"asc"===f?n>a?1:-1:n<a?1:-1}),C=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A";return(0,Be.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,Be.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Be.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,Be.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Be.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,Be.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,Be.jsx)(Ee,{className:"h-5 w-5 text-white"})}),(0,Be.jsxs)("div",{className:"flex items-center",children:[(0,Be.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25",children:(0,Be.jsx)(Ae,{className:"h-6 w-6 text-white"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("h1",{className:"text-xl font-bold text-white",children:"All Deals"}),(0,Be.jsx)("p",{className:"text-gray-300 text-sm",children:"Complete deal management and oversight"})]})]})]}),(0,Be.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Be.jsxs)("button",{onClick:()=>S(),disabled:n,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,Be.jsx)(on,{className:"h-4 w-4 mr-2 "+(n?"animate-spin":"")}),"Refresh"]}),(0,Be.jsxs)("button",{onClick:()=>window.location.href="/deals/new",className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,Be.jsx)(Re,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})]})})}),(0,Be.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Deals"}),(0,Be.jsx)("p",{className:"text-2xl font-bold text-white",children:j.total})]}),(0,Be.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,Be.jsx)(Ee,{className:"h-6 w-6 text-blue-400"})})]})}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Deals"}),(0,Be.jsx)("p",{className:"text-2xl font-bold text-green-400",children:j.active})]}),(0,Be.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3",children:(0,Be.jsx)(Ue,{className:"h-6 w-6 text-green-400"})})]})}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Completed"}),(0,Be.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:j.completed})]}),(0,Be.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,Be.jsx)(Kt,{className:"h-6 w-6 text-blue-400"})})]})}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending"}),(0,Be.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:j.pending})]}),(0,Be.jsx)("div",{className:"bg-yellow-500/20 rounded-lg p-3",children:(0,Be.jsx)(Le,{className:"h-6 w-6 text-yellow-400"})})]})})]}),(0,Be.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:[(0,Be.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Be.jsx)("h2",{className:"text-lg font-bold text-white",children:"Filters & Search"}),(0,Be.jsxs)("button",{onClick:()=>v(!y),className:"flex items-center px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:[(0,Be.jsx)(Tn,{className:"h-4 w-4 mr-2"}),y?"Hide":"Show"," Filters"]})]}),(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Be.jsxs)("div",{className:"relative",children:[(0,Be.jsx)(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Be.jsx)("input",{type:"text",placeholder:"Search deals...",value:l,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,Be.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"all",children:"All Status"}),(0,Be.jsx)("option",{value:"active",children:"Active"}),(0,Be.jsx)("option",{value:"pending",children:"Pending"}),(0,Be.jsx)("option",{value:"completed",children:"Completed"}),(0,Be.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,Be.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"all",children:"All Types"}),(0,Be.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,Be.jsx)("option",{value:"wholesale-private",children:"Wholesale Private"}),(0,Be.jsx)("option",{value:"wholesale-flip",children:"Wholesale Flip"}),(0,Be.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,Be.jsx)("option",{value:"retail-auction",children:"Retail Auction"}),(0,Be.jsx)("option",{value:"retail-dtod",children:"Retail D2D"})]}),(0,Be.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"all",children:"All Time"}),(0,Be.jsx)("option",{value:"today",children:"Today"}),(0,Be.jsx)("option",{value:"week",children:"This Week"}),(0,Be.jsx)("option",{value:"month",children:"This Month"})]})]}),y&&(0,Be.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort By"}),(0,Be.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"createdAt",children:"Created Date"}),(0,Be.jsx)("option",{value:"vehicle",children:"Vehicle"}),(0,Be.jsx)("option",{value:"seller",children:"Seller"}),(0,Be.jsx)("option",{value:"buyer",children:"Buyer"}),(0,Be.jsx)("option",{value:"status",children:"Status"}),(0,Be.jsx)("option",{value:"dealType",children:"Deal Type"})]})]}),(0,Be.jsxs)("div",{children:[(0,Be.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort Order"}),(0,Be.jsxs)("select",{value:f,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Be.jsx)("option",{value:"desc",children:"Newest First"}),(0,Be.jsx)("option",{value:"asc",children:"Oldest First"})]})]}),(0,Be.jsx)("div",{className:"flex items-end",children:(0,Be.jsxs)("div",{className:"text-gray-300 text-sm",children:[T.length," of ",e.length," deals"]})})]})]}),(0,Be.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:n?(0,Be.jsxs)("div",{className:"p-8 text-center",children:[(0,Be.jsx)(on,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"Loading deals..."})]}):(0,Be.jsxs)("div",{className:"overflow-x-auto",children:[(0,Be.jsxs)("table",{className:"w-full",children:[(0,Be.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,Be.jsxs)("tr",{children:[(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:(0,Be.jsx)("input",{type:"checkbox",checked:g.length===T.length&&T.length>0,onChange:()=>{g.length===T.length?b([]):b(T.map(e=>e._id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Info"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Parties"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,Be.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Be.jsx)("tbody",{className:"divide-y divide-white/10",children:T.map(e=>{var t,n,a,r,l,s,i,o,c,d;return(0,Be.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("input",{type:"checkbox",checked:g.includes(e._id),onChange:()=>{return t=e._id,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"text-sm font-medium text-white",children:[null===(t=e.vehicle)||void 0===t?void 0:t.year," ",null===(n=e.vehicle)||void 0===n?void 0:n.make," ",null===(a=e.vehicle)||void 0===a?void 0:a.model]}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:["VIN: ",e.vin]}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock: ",e.rpStockNumber||"N/A"]})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{children:[(0,Be.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d=e.dealType,{"wholesale-d2d":"bg-purple-100 text-purple-800 border-purple-200","wholesale-private":"bg-indigo-100 text-indigo-800 border-indigo-200","wholesale-flip":"bg-pink-100 text-pink-800 border-pink-200","retail-pp":"bg-orange-100 text-orange-800 border-orange-200","retail-auction":"bg-teal-100 text-teal-800 border-teal-200","retail-dtod":"bg-cyan-100 text-cyan-800 border-cyan-200"}[d]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.dealType}),(0,Be.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[C(null===(r=e.financials)||void 0===r?void 0:r.purchasePrice)," \u2192 ",C(null===(l=e.financials)||void 0===l?void 0:l.salePrice)]})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,Be.jsx)(Ze,{className:"h-3 w-3 inline mr-1"}),(null===(s=e.seller)||void 0===s?void 0:s.name)||"N/A"]}),(0,Be.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,Be.jsx)(Cn,{className:"h-3 w-3 inline mr-1"}),(null===(i=e.buyer)||void 0===i?void 0:i.name)||"N/A"]})]})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Be.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c=e.status,{active:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-blue-100 text-blue-800 border-blue-200",cancelled:"bg-red-100 text-red-800 border-red-200"}[c]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.status})}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:(o=e.createdAt||e.dateCreated,o?new Date(o).toLocaleDateString():"N/A")}),(0,Be.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Be.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Be.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}`,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"View Details",children:(0,Be.jsx)(De,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/edit`,className:"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors",title:"Edit Deal",children:(0,Be.jsx)(kn,{className:"h-4 w-4"})}),(0,Be.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/documents`,className:"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-colors",title:"Documents",children:(0,Be.jsx)(Ae,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===T.length&&(0,Be.jsxs)("div",{className:"p-8 text-center",children:[(0,Be.jsx)(Ee,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Be.jsx)("p",{className:"text-gray-400",children:"No deals found"})]})]})}),g.length>0&&(0,Be.jsx)("div",{className:"fixed bottom-6 right-6 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 p-4 shadow-lg",children:(0,Be.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Be.jsxs)("span",{className:"text-white text-sm",children:[g.length," deal(s) selected"]}),(0,Be.jsx)("button",{className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"Export Selected"}),(0,Be.jsx)("button",{className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors",children:"Bulk Update"})]})})]})]})};function En(e){let{children:t}=e;const{user:n,loading:a}=He(),r=J();return a?null:n?t:(0,Be.jsx)(fe,{to:"/login",state:{from:r},replace:!0})}const Pn=function(){return(0,Be.jsx)(We,{children:(0,Be.jsx)(je,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Be.jsxs)(be,{children:[(0,Be.jsx)(xe,{path:"/login",element:(0,Be.jsx)(Jt,{})}),(0,Be.jsx)(xe,{path:"/deals/new",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(Qt,{})})}),(0,Be.jsx)(xe,{path:"/deals/status",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(vn,{})})}),(0,Be.jsx)(xe,{path:"/deals/all",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(_n,{})})}),(0,Be.jsx)(xe,{path:"/users",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(Sn,{})})}),(0,Be.jsx)(xe,{path:"/dealers",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(tn,{})})}),(0,Be.jsx)(xe,{path:"/finance/deals",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(rn,{})})}),(0,Be.jsx)(xe,{path:"/finance/deals/:dealId",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(ln,{})})}),(0,Be.jsx)(xe,{path:"/finance/status",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(dn,{})})}),(0,Be.jsx)(xe,{path:"/finance/deals/:dealId/update-status",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(hn,{})})}),(0,Be.jsx)(xe,{path:"/deals/:dealId/documents/:fileName/view",element:(0,Be.jsx)(un,{})}),(0,Be.jsx)(xe,{path:"/deals/:dealId/documents/view",element:(0,Be.jsx)(un,{})}),(0,Be.jsx)(xe,{path:"/",element:(0,Be.jsx)(En,{children:(0,Be.jsx)(qe,{})})})]})})})};s.createRoot(document.getElementById("root")).render((0,Be.jsx)(Pn,{}))})();
//# sourceMappingURL=main.41aeb4aa.js.map