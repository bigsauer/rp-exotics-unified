/*! For license information please see main.e31d70d3.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},l=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:n,type:e,key:l,ref:o,props:s,_owner:j.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return l=l(i=e),e=""===s?"."+E(i,0):s,w(l)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),C(l,t,a,"",function(e){return e})):null!=l&&(D(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(T,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);i+=C(o,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)i+=C(o=o.value,t,a,d=s+E(o,c++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function P(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},L={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:L,ReactCurrentOwner:j};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var o=2*(r+1)-1,i=e[o],c=o+1,d=e[c];if(0>s(i,n))c<a&&0>s(d,i)?(e[r]=d,e[c]=n,r=c):(e[r]=i,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(x=!1,v(e),!f)if(null!==r(c))f=!0,L(N);else{var t=r(d);null!==t&&M(w,t.startTime-e)}}function N(e,n){f=!1,x&&(x=!1,b(D),D=-1),h=!0;var s=m;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!C());){var l=p.callback;if("function"===typeof l){p.callback=null,m=p.priorityLevel;var o=l(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&a(c),v(n)}else a(c);p=r(c)}if(null!==p)var i=!0;else{var u=r(d);null!==u&&M(w,u.startTime-n),i=!1}return i}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,S=null,D=-1,T=5,E=-1;function C(){return!(t.unstable_now()-E<T)}function P(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?j():(k=!1,S=null)}}else k=!1}if("function"===typeof y)j=function(){y(P)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,A=_.port2;_.port1.onmessage=P,j=function(){A.postMessage(null)}}else j=function(){g(P,0)};function L(e){S=e,k||(k=!0,j())}function M(e,n){D=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,L(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(b(D),D=-1):x=!0,M(w,s-l))):(e.sortIndex=o,n(c,e),f||h||(f=!0,L(N))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var I,O=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,o=s.length-1;1<=l&&0<=o&&a[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||a[l]!==s[o]){var i="\n"+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,ke=null;function Se(e){if(e=wa(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),Ne(e.stateNode,e.type,t))}}function De(e){je?ke?ke.push(e):ke=[e]:je=e}function Te(){if(je){var e=je,t=ke;if(ke=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Pe=!1;function _e(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==je||null!==ke)&&(Ce(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(de){Le=!1}function Re(e,t,n,r,a,s,l,o,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,Oe=null,Fe=!1,Ue=null,Be={onError:function(e){Ie=!0,Oe=e}};function $e(e,t,n,r,a,s,l,o,i){Ie=!1,Oe=null,Re.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return He(a),e;if(l===r)return He(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,r=l;break}if(i===r){o=!0,r=a,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,r=a;break}if(i===r){o=!0,r=l,n=a;break}i=i.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var o=l&~a;0!==o?r=ut(o):0!==(s&=l)&&(r=ut(s))}else 0!==(l=n&~a)?r=ut(l):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,jt,kt,St,Dt,Tt=!1,Et=[],Ct=null,Pt=null,At=null,Lt=new Map,Mt=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Ft(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=wa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Dt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function $t(e,t,n){Bt(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&Bt(Ct)&&(Ct=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==At&&Bt(At)&&(At=null),Lt.forEach($t),Mt.forEach($t)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<Et.length){Vt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Pt&&Vt(Pt,e),null!==At&&Vt(At,e),Lt.forEach(t),Mt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Rt.shift()}var Wt=v.ReactCurrentBatchConfig,Yt=!0;function qt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Gt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Kt(e,t,n,r){if(Yt){var a=Jt(e,t,n,r);if(null===a)Yr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,a),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,a),!0;case"mouseover":return At=Ft(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Lt.set(s,Ft(Lt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Mt.set(s,Ft(Mt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=wa(a);if(null!==s&&Nt(s),null===(s=Jt(e,t,n,r))&&Yr(e,t,r,Qt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=va(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:sn,this.isPropagationStopped=sn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var on,cn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(un),mn=O({},un,{view:0,detail:0}),hn=ln(mn),fn=O({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(on=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=on=0,dn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),xn=ln(fn),gn=ln(O({},fn,{dataTransfer:0})),bn=ln(O({},mn,{relatedTarget:0})),yn=ln(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=ln(vn),Nn=ln(O({},un,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Dn}var En=O({},mn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=ln(En),Pn=ln(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=ln(O({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=ln(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=O({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=ln(Ln),Rn=[9,13,27,32],In=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Fn=d&&"TextEvent"in window&&!On,Un=d&&(!In||On&&8<On&&11>=On),Bn=String.fromCharCode(32),$n=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){De(r),0<(t=Gr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Br(e,0)}function Jn(e){if(q(Na(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ar),Kn=Gn=null)}function ar(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];qn(t,Kn,e,we(e)),_e(Qn,t)}}function sr(e,t,n){"focusin"===e?(rr(),Kn=n,(Gn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&rr()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!cr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=pr(n,s);var l=pr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,br=null,yr=null,vr=null,wr=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==G(r)||("selectionStart"in(r=br)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&dr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Sr={},Dr={};function Tr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dr)return Sr[e]=n[t];return e}d&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Tr("animationend"),Cr=Tr("animationiteration"),Pr=Tr("animationstart"),_r=Tr("transitionend"),Ar=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ar.set(e,t),i(t,[e])}for(var Rr=0;Rr<Lr.length;Rr++){var Ir=Lr[Rr];Mr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Pr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,o,i,c){if($e.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var d=Oe;Ie=!1,Oe=null,Fe||(Fe=!0,Ue=d)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=i}else for(l=0;l<r.length;l++){if(i=(o=r[l]).instance,c=o.currentTarget,o=o.listener,i!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=i}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function $r(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,l.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==o;){if(null===(l=va(o)))return;if(5===(i=l.tag)||6===i){r=s=l;continue e}o=o.parentNode}}r=r.return}_e(function(){var r=s,a=we(n),l=[];e:{var o=Ar.get(e);if(void 0!==o){var i=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":i=Cn;break;case"focusin":c="focus",i=bn;break;case"focusout":c="blur",i=bn;break;case"beforeblur":case"afterblur":i=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=_n;break;case Er:case Cr:case Pr:i=yn;break;case _r:i=An;break;case"scroll":i=hn;break;case"wheel":i=Mn;break;case"copy":case"cut":case"paste":i=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,h=r;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Ae(h,p))&&d.push(qr(h,f,m)))),u)break;h=h.return}0<d.length&&(o=new i(o,c,null,n,a),l.push({event:o,listeners:d}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[xa])&&(i||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=r),i!==c)){if(d=xn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==i?o:Na(i),m=null==c?o:Na(c),(o=new d(f,h+"leave",i,n,a)).target=u,o.relatedTarget=m,f=null,va(a)===r&&((d=new d(p,h+"enter",c,n,a)).target=m,d.relatedTarget=u,f=d),u=f,i&&c)e:{for(p=c,h=0,m=d=i;m;m=Kr(m))h++;for(m=0,f=p;f;f=Kr(f))m++;for(;0<h-m;)d=Kr(d),h--;for(;0<m-h;)p=Kr(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Kr(d),p=Kr(p)}d=null}else d=null;null!==i&&Qr(l,o,i,d,!1),null!==c&&null!==u&&Qr(l,u,c,d,!0)}if("select"===(i=(o=r?Na(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var x=Xn;else if(Yn(o))if(Zn)x=ir;else{x=lr;var g=sr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=or);switch(x&&(x=x(e,r))?qn(l,x,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?Na(r):window,e){case"focusin":(Yn(g)||"true"===g.contentEditable)&&(br=g,yr=r,vr=null);break;case"focusout":vr=yr=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Nr(l,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Nr(l,n,a)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,Hn=!0)),0<(g=Gr(r,y)).length&&(y=new Nn(y,e,null,n,a),l.push({event:y,listeners:g}),b?y.data=b:null!==(b=Vn(n))&&(y.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:($n=!0,Bn);case"textInput":return(e=t.data)===Bn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&zn(e,t)?(e=nn(),tn=en=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new Nn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=b))}Br(l,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ae(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Ae(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var o=n,i=o.alternate,c=o.stateNode;if(null!==i&&i===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(i=Ae(n,s))&&l.unshift(qr(n,i,o)):a||null!=(i=Ae(n,s))&&l.push(qr(n,i,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function ea(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function ta(){}var na=null,ra=null;function aa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sa="function"===typeof setTimeout?setTimeout:void 0,la="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ca)}:sa;function ca(e){setTimeout(function(){throw e})}function da(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),ha="__reactFiber$"+ma,fa="__reactProps$"+ma,xa="__reactContainer$"+ma,ga="__reactEvents$"+ma,ba="__reactListeners$"+ma,ya="__reactHandles$"+ma;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pa(e);null!==e;){if(n=e[ha])return n;e=pa(e)}return t}n=(e=n).parentNode}return null}function wa(e){return!(e=e[ha]||e[xa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Na(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[fa]||null}var ka=[],Sa=-1;function Da(e){return{current:e}}function Ta(e){0>Sa||(e.current=ka[Sa],ka[Sa]=null,Sa--)}function Ea(e,t){Sa++,ka[Sa]=e.current,e.current=t}var Ca={},Pa=Da(Ca),_a=Da(!1),Aa=Ca;function La(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ta(_a),Ta(Pa)}function Ia(e,t,n){if(Pa.current!==Ca)throw Error(s(168));Ea(Pa,t),Ea(_a,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return O({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=Pa.current,Ea(Pa,e),Ea(_a,_a.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oa(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ta(_a),Ta(Pa),Ea(Pa,e)):Ta(_a),Ea(_a,n)}var Ba=null,$a=!1,za=!1;function Va(e){null===Ba?Ba=[e]:Ba.push(e)}function Ha(){if(!za&&null!==Ba){za=!0;var e=0,t=vt;try{var n=Ba;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,$a=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),qe(Ze,Ha),a}finally{vt=t,za=!1}}return null}var Wa=[],Ya=0,qa=null,Ga=0,Ka=[],Qa=0,Ja=null,Xa=1,Za="";function es(e,t){Wa[Ya++]=Ga,Wa[Ya++]=qa,qa=e,Ga=t}function ts(e,t,n){Ka[Qa++]=Xa,Ka[Qa++]=Za,Ka[Qa++]=Ja,Ja=e;var r=Xa;e=Za;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Xa=1<<32-lt(t)+a|n<<a|r,Za=s+e}else Xa=1<<s|n<<a|r,Za=e}function ns(e){null!==e.return&&(es(e,1),ts(e,1,0))}function rs(e){for(;e===qa;)qa=Wa[--Ya],Wa[Ya]=null,Ga=Wa[--Ya],Wa[Ya]=null;for(;e===Ja;)Ja=Ka[--Qa],Ka[Qa]=null,Za=Ka[--Qa],Ka[Qa]=null,Xa=Ka[--Qa],Ka[Qa]=null}var as=null,ss=null,ls=!1,os=null;function is(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function cs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ss=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ss=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Xa,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,as=e,ss=null,!0);default:return!1}}function ds(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(ls){var t=ss;if(t){var n=t;if(!cs(e,t)){if(ds(e))throw Error(s(418));t=ua(n.nextSibling);var r=as;t&&cs(e,t)?is(r,n):(e.flags=-4097&e.flags|2,ls=!1,as=e)}}else{if(ds(e))throw Error(s(418));e.flags=-4097&e.flags|2,ls=!1,as=e}}}function ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function ms(e){if(e!==as)return!1;if(!ls)return ps(e),ls=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!aa(e.type,e.memoizedProps)),t&&(t=ss)){if(ds(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ua(t.nextSibling)}if(ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ss=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ss=null}}else ss=as?ua(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ss;e;)e=ua(e.nextSibling)}function fs(){ss=as=null,ls=!1}function xs(e){null===os?os=[e]:os.push(e)}var gs=v.ReactCurrentBatchConfig;function bs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&vs(s)===t.type)?((r=a(t,n.props)).ref=bs(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=bs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=bs(e,null,t),n.return=e,n;case N:return(t=Bc(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?d(e,t,n,r):null;case A:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:u(e,t,n,r,null);ys(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function f(a,s,o,i){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=m(a,u,o[f],i);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return n(a,u),ls&&es(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(a,o[f],i))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return ls&&es(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(x=h(u,a,f,o[f],i))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=l(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ls&&es(a,f),c}function x(a,o,i,c){var d=R(i);if("function"!==typeof d)throw Error(s(150));if(null==(i=d.call(i)))throw Error(s(151));for(var u=d=null,f=o,x=o=0,g=null,b=i.next();null!==f&&!b.done;x++,b=i.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=m(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),o=l(y,o,x),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return n(a,f),ls&&es(a,x),d;if(null===f){for(;!b.done;x++,b=i.next())null!==(b=p(a,b.value,c))&&(o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return ls&&es(a,x),d}for(f=r(a,f);!b.done;x++,b=i.next())null!==(b=h(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),ls&&es(a,x),d}return function e(r,s,l,i){if("object"===typeof l&&null!==l&&l.type===j&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case w:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===j){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=bs(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===j?((s=Oc(l.props.children,r.mode,i,l.key)).return=r,r=s):((i=Ic(l.type,l.key,l.props,null,r.mode,i)).ref=bs(r,s,l),i.return=r,r=i)}return o(r);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(l,r.mode,i)).return=r,r=s}return o(r);case A:return e(r,s,(d=l._init)(l._payload),i)}if(te(l))return f(r,s,l,i);if(R(l))return x(r,s,l,i);ys(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=Uc(l,r.mode,i)).return=r,r=s),o(r)):n(r,s)}}var Ns=ws(!0),js=ws(!1),ks=Da(null),Ss=null,Ds=null,Ts=null;function Es(){Ts=Ds=Ss=null}function Cs(e){var t=ks.current;Ta(ks),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _s(e,t){Ss=e,Ts=Ds=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Ds){if(null===Ss)throw Error(s(308));Ds=e,Ss.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Ls=null;function Ms(e){null===Ls?Ls=[e]:Ls.push(e)}function Rs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ms(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pi)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Is(e,n)}return null===(a=r.interleaved)?(t.next=t,Ms(r)):(t.next=a.next,a.next=t),r.interleaved=t,Is(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var a=e.updateQueue;Os=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?s=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=a.baseState;for(l=0,d=c=i=null,o=s;;){var p=o.lane,m=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=O({},u,p);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,i=u):d=d.next=m,l|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Fi|=l,e.lanes=l,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ys={},qs=Da(Ys),Gs=Da(Ys),Ks=Da(Ys);function Qs(e){if(e===Ys)throw Error(s(174));return e}function Js(e,t){switch(Ea(Ks,t),Ea(Gs,e),Ea(qs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(qs),Ea(qs,t)}function Xs(){Ta(qs),Ta(Gs),Ta(Ks)}function Zs(e){Qs(Ks.current);var t=Qs(qs.current),n=ie(t,e.type);t!==n&&(Ea(Gs,e),Ea(qs,n))}function el(e){Gs.current===e&&(Ta(qs),Ta(Gs))}var tl=Da(0);function nl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=[];function al(){for(var e=0;e<rl.length;e++)rl[e]._workInProgressVersionPrimary=null;rl.length=0}var sl=v.ReactCurrentDispatcher,ll=v.ReactCurrentBatchConfig,ol=0,il=null,cl=null,dl=null,ul=!1,pl=!1,ml=0,hl=0;function fl(){throw Error(s(321))}function xl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function gl(e,t,n,r,a,l){if(ol=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=null===e||null===e.memoizedState?eo:to,e=n(r,a),pl){l=0;do{if(pl=!1,ml=0,25<=l)throw Error(s(301));l+=1,dl=cl=null,t.updateQueue=null,sl.current=no,e=n(r,a)}while(pl)}if(sl.current=Zl,t=null!==cl&&null!==cl.next,ol=0,dl=cl=il=null,ul=!1,t)throw Error(s(300));return e}function bl(){var e=0!==ml;return ml=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===dl?il.memoizedState=dl=e:dl=dl.next=e,dl}function vl(){if(null===cl){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=cl.next;var t=null===dl?il.memoizedState:dl.next;if(null!==t)dl=t,cl=e;else{if(null===e)throw Error(s(310));e={memoizedState:(cl=e).memoizedState,baseState:cl.baseState,baseQueue:cl.baseQueue,queue:cl.queue,next:null},null===dl?il.memoizedState=dl=e:dl=dl.next=e}return dl}function wl(e,t){return"function"===typeof t?t(e):t}function Nl(e){var t=vl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=cl,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if((ol&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(i=c=p,o=r):c=c.next=p,il.lanes|=u,Fi|=u}d=d.next}while(null!==d&&d!==l);null===c?o=r:c.next=i,cr(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,il.lanes|=l,Fi|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=vl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);cr(l,t.memoizedState)||(wo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function kl(){}function Sl(e,t){var n=il,r=vl(),a=t(),l=!cr(r.memoizedState,a);if(l&&(r.memoizedState=a,wo=!0),r=r.queue,Ol(El.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==dl&&1&dl.memoizedState.tag){if(n.flags|=2048,Al(9,Tl.bind(null,n,r,a,t),void 0,null),null===_i)throw Error(s(349));0!==(30&ol)||Dl(n,t,a)}return a}function Dl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Tl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&Pl(e)}function El(e,t,n){return n(function(){Cl(t)&&Pl(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function Pl(e){var t=Is(e,1);null!==t&&ac(t,e,1,-1)}function _l(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},t.queue=e,e=e.dispatch=Kl.bind(null,il,e),[t.memoizedState,e]}function Al(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ll(){return vl().memoizedState}function Ml(e,t,n,r){var a=yl();il.flags|=e,a.memoizedState=Al(1|t,n,void 0,void 0===r?null:r)}function Rl(e,t,n,r){var a=vl();r=void 0===r?null:r;var s=void 0;if(null!==cl){var l=cl.memoizedState;if(s=l.destroy,null!==r&&xl(r,l.deps))return void(a.memoizedState=Al(t,n,s,r))}il.flags|=e,a.memoizedState=Al(1|t,n,s,r)}function Il(e,t){return Ml(8390656,8,e,t)}function Ol(e,t){return Rl(2048,8,e,t)}function Fl(e,t){return Rl(4,2,e,t)}function Ul(e,t){return Rl(4,4,e,t)}function Bl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $l(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4,4,Bl.bind(null,t,e),n)}function zl(){}function Vl(e,t){var n=vl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hl(e,t){var n=vl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wl(e,t,n){return 0===(21&ol)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(cr(n,t)||(n=xt(),il.lanes|=n,Fi|=n,e.baseState=!0),t)}function Yl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ll.transition;ll.transition={};try{e(!1),t()}finally{vt=n,ll.transition=r}}function ql(){return vl().memoizedState}function Gl(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ql(e))Jl(t,n);else if(null!==(n=Rs(e,t,n,r))){ac(n,e,r,nc()),Xl(n,t,r)}}function Kl(e,t,n){var r=rc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Jl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,n);if(a.hasEagerState=!0,a.eagerState=o,cr(o,l)){var i=t.interleaved;return null===i?(a.next=a,Ms(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Rs(e,t,a,r))&&(ac(n,e,r,a=nc()),Xl(n,t,r))}}function Ql(e){var t=e.alternate;return e===il||null!==t&&t===il}function Jl(e,t){pl=ul=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zl={readContext:As,useCallback:fl,useContext:fl,useEffect:fl,useImperativeHandle:fl,useInsertionEffect:fl,useLayoutEffect:fl,useMemo:fl,useReducer:fl,useRef:fl,useState:fl,useDebugValue:fl,useDeferredValue:fl,useTransition:fl,useMutableSource:fl,useSyncExternalStore:fl,useId:fl,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Il,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ml(4194308,4,Bl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gl.bind(null,il,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:_l,useDebugValue:zl,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=_l(!1),t=e[0];return e=Yl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=il,a=yl();if(ls){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_i)throw Error(s(349));0!==(30&ol)||Dl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Il(El.bind(null,r,l,e),[e]),r.flags|=2048,Al(9,Tl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=yl(),t=_i.identifierPrefix;if(ls){var n=Za;t=":"+t+"R"+(n=(Xa&~(1<<32-lt(Xa)-1)).toString(32)+n),0<(n=ml++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:As,useCallback:Vl,useContext:As,useEffect:Ol,useImperativeHandle:$l,useInsertionEffect:Fl,useLayoutEffect:Ul,useMemo:Hl,useReducer:Nl,useRef:Ll,useState:function(){return Nl(wl)},useDebugValue:zl,useDeferredValue:function(e){return Wl(vl(),cl.memoizedState,e)},useTransition:function(){return[Nl(wl)[0],vl().memoizedState]},useMutableSource:kl,useSyncExternalStore:Sl,useId:ql,unstable_isNewReconciler:!1},no={readContext:As,useCallback:Vl,useContext:As,useEffect:Ol,useImperativeHandle:$l,useInsertionEffect:Fl,useLayoutEffect:Ul,useMemo:Hl,useReducer:jl,useRef:Ll,useState:function(){return jl(wl)},useDebugValue:zl,useDeferredValue:function(e){var t=vl();return null===cl?t.memoizedState=e:Wl(t,cl.memoizedState,e)},useTransition:function(){return[jl(wl)[0],vl().memoizedState]},useMutableSource:kl,useSyncExternalStore:Sl,useId:ql,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),s=Bs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,a))&&(ac(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),s=Bs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,a))&&(ac(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),a=Bs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=$s(e,a,r))&&(ac(t,e,r,n),zs(t,e,r))}};function lo(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,s))}function oo(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=Ma(t)?Aa:Pa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?La(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=Ma(t)?Aa:Pa.current,a.context=La(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&so.enqueueReplaceState(a,a.state,null),Hs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yi||(Yi=!0,qi=r),mo(0,t)},n}function xo(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Gi?Gi=new Set([this]):Gi.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function bo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,$s(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=v.ReactCurrentOwner,wo=!1;function No(e,t,n,r){t.child=null===e?js(t,null,n,r):Ns(t,e.child,n,r)}function jo(e,t,n,r,a){n=n.render;var s=t.ref;return _s(t,a),r=gl(e,t,n,r,s,a),n=bl(),null===e||wo?(ls&&n&&ns(t),t.flags|=1,No(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yo(e,t,a))}function ko(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:dr)(l,r)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(dr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(wo=!0)}}return Eo(e,t,n,r,a)}function Do(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ri,Mi),Mi|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ri,Mi),Mi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ea(Ri,Mi),Mi|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ea(Ri,Mi),Mi|=r;return No(e,t,a,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,a){var s=Ma(n)?Aa:Pa.current;return s=La(t,s),_s(t,a),n=gl(e,t,n,r,s,a),r=bl(),null===e||wo?(ls&&r&&ns(t),t.flags|=1,No(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yo(e,t,a))}function Co(e,t,n,r,a){if(Ma(n)){var s=!0;Fa(t)}else s=!1;if(_s(t,a),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=La(t,c=Ma(n)?Aa:Pa.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==r||i!==c)&&io(t,l,r,c),Os=!1;var p=t.memoizedState;l.state=p,Hs(t,r,l,a),i=t.memoizedState,o!==r||p!==i||_a.current||Os?("function"===typeof d&&(ao(t,n,d,r),i=t.memoizedState),(o=Os||lo(t,n,o,r,p,i,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),l.props=r,l.state=i,l.context=c,r=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Us(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),l.props=c,u=t.pendingProps,p=l.context,"object"===typeof(i=n.contextType)&&null!==i?i=As(i):i=La(t,i=Ma(n)?Aa:Pa.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||p!==i)&&io(t,l,r,i),Os=!1,p=t.memoizedState,l.state=p,Hs(t,r,l,a);var h=t.memoizedState;o!==u||p!==h||_a.current||Os?("function"===typeof m&&(ao(t,n,m,r),h=t.memoizedState),(c=Os||lo(t,n,c,r,p,h,i)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,h,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,h,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=i,r=c):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,a)}function Po(e,t,n,r,a,s){To(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&Ua(t,n,!1),Yo(e,t,s);r=t.stateNode,vo.current=t;var o=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Ns(t,e.child,null,s),t.child=Ns(t,null,o,s)):No(e,t,o,s),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Js(e,t.containerInfo)}function Ao(e,t,n,r,a){return fs(),xs(a),t.flags|=256,No(e,t,n,r),t.child}var Lo,Mo,Ro,Io,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,a=t.pendingProps,l=tl.current,o=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ea(tl,1&l),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Fc(i,a,0,null),e=Oc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Oo,e):Bo(t,i));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(l=Oc(l,a,o,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&Ns(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,l);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var i=r.dgst;return r=i,$o(e,t,o,r=po(l=Error(s(419)),r,void 0))}if(i=0!==(o&e.childLanes),wo||i){if(null!==(r=_i)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Is(e,a),ac(r,e,a,-1))}return gc(),$o(e,t,o,r=po(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ss=ua(a.nextSibling),as=t,ls=!0,os=null,null!==e&&(Ka[Qa++]=Xa,Ka[Qa++]=Za,Ka[Qa++]=Ja,Xa=e.id,Za=e.overflow,Ja=t),t=Bo(t,r.children),t.flags|=4096,t)}(e,t,i,a,r,l,n);if(o){o=a.fallback,i=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,i,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=null===(i=e.child.memoizedState)?Fo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&xs(r),Ns(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function Vo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Ho(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=tl.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(tl,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===nl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===nl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fi|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ls)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ma(t.type)&&Ra(),Go(t),null;case 3:return r=t.stateNode,Xs(),Ta(_a),Ta(Pa),al(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==os&&(ic(os),os=null))),Mo(e,t),Go(t),null;case 5:el(t);var a=Qs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Qs(qs.current),ms(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ha]=t,r[fa]=l,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)$r(Or[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Q(r,l),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},$r("invalid",r);break;case"textarea":ae(r,l),$r("invalid",r)}for(var i in be(n,l),a=null,l)if(l.hasOwnProperty(i)){var c=l[i];"children"===i?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&$r("scroll",r)}switch(n){case"input":Y(r),Z(r,l,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=ta)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ha]=t,e[fa]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(i=ye(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)$r(Or[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":Q(e,r),a=K(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=O({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(l in be(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=d&&"onScroll"===l&&$r("scroll",e):null!=d&&y(e,l,d,i))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ks.current),Qs(qs.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(l=r.nodeValue!==n)&&null!==(e=as))switch(e.tag){case 3:ea(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ea(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Go(t),null;case 13:if(Ta(tl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ls&&null!==ss&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,l=!1;else if(l=ms(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),l=!1}else null!==os&&(ic(os),os=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&tl.current)?0===Ii&&(Ii=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Xs(),Mo(e,t),null===e&&Hr(t.stateNode.containerInfo),Go(t),null;case 10:return Cs(t.type._context),Go(t),null;case 19:if(Ta(tl),null===(l=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(i=l.rendering))if(r)qo(l,!1);else{if(0!==Ii||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=nl(e))){for(t.flags|=128,qo(l,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(tl,1&tl.current|2),t.child}e=e.sibling}null!==l.tail&&Je()>Hi&&(t.flags|=128,r=!0,qo(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=nl(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!ls)return Go(t),null}else 2*Je()-l.renderingStartTime>Hi&&1073741824!==n&&(t.flags|=128,r=!0,qo(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=l.last)?n.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,n=tl.current,Ea(tl,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mi)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(rs(t),t.tag){case 1:return Ma(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ta(_a),Ta(Pa),al(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return el(t),null;case 13:if(Ta(tl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(tl),null;case 4:return Xs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Ro=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qs(qs.current);var s,l=null;switch(n){case"input":a=K(e,a),r=K(e,r),l=[];break;case"select":a=O({},a,{value:void 0}),r=O({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ta)}for(d in be(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var i=a[d];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(i=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(null!=c||null!=i))if("style"===d)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$r("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,ei=null;function ti(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Dc(e,t,r)}else n.current=null}function ni(e,t,n){try{n()}catch(r){Dc(e,t,r)}}var ri=!1;function ai(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ni(t,n,s)}a=a.next}while(a!==r)}}function si(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function li(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oi(e){var t=e.alternate;null!==t&&(e.alternate=null,oi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ga],delete t[ba],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ii(e){return 5===e.tag||3===e.tag||4===e.tag}function ci(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ii(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function di(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ta));else if(4!==r&&null!==(e=e.child))for(di(e,t,n),e=e.sibling;null!==e;)di(e,t,n),e=e.sibling}function ui(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ui(e,t,n),e=e.sibling;null!==e;)ui(e,t,n),e=e.sibling}var pi=null,mi=!1;function hi(e,t,n){for(n=n.child;null!==n;)fi(e,t,n),n=n.sibling}function fi(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Xo||ti(n,t);case 6:var r=pi,a=mi;pi=null,hi(e,t,n),mi=a,null!==(pi=r)&&(mi?(e=pi,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pi.removeChild(n.stateNode));break;case 18:null!==pi&&(mi?(e=pi,n=n.stateNode,8===e.nodeType?da(e.parentNode,n):1===e.nodeType&&da(e,n),Ht(e)):da(pi,n.stateNode));break;case 4:r=pi,a=mi,pi=n.stateNode.containerInfo,mi=!0,hi(e,t,n),pi=r,mi=a;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&ni(n,t,l),a=a.next}while(a!==r)}hi(e,t,n);break;case 1:if(!Xo&&(ti(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Dc(n,t,o)}hi(e,t,n);break;case 21:hi(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hi(e,t,n),Xo=r):hi(e,t,n);break;default:hi(e,t,n)}}function xi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:pi=i.stateNode,mi=!1;break e;case 3:case 4:pi=i.stateNode.containerInfo,mi=!0;break e}i=i.return}if(null===pi)throw Error(s(160));fi(l,o,a),pi=null,mi=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Dc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bi(t,e),t=t.sibling}function bi(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),yi(e),4&r){try{ai(3,e,e.return),si(3,e)}catch(x){Dc(e,e.return,x)}try{ai(5,e,e.return)}catch(x){Dc(e,e.return,x)}}break;case 1:gi(t,e),yi(e),512&r&&null!==n&&ti(n,n.return);break;case 5:if(gi(t,e),yi(e),512&r&&null!==n&&ti(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(x){Dc(e,e.return,x)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,o=null!==n?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===l.type&&null!=l.name&&J(a,l),ye(i,o);var d=ye(i,l);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?xe(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):y(a,u,p,d)}switch(i){case"input":X(a,l);break;case"textarea":se(a,l);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(a,!!l.multiple,h,!1):m!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[fa]=l}catch(x){Dc(e,e.return,x)}}break;case 6:if(gi(t,e),yi(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(x){Dc(e,e.return,x)}}break;case 3:if(gi(t,e),yi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(x){Dc(e,e.return,x)}break;case 4:default:gi(t,e),yi(e);break;case 13:gi(t,e),yi(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Vi=Je())),4&r&&xi(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(d=Xo)||u,gi(t,e),Xo=d):gi(t,e),yi(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ei=e,u=e.child;null!==u;){for(p=ei=u;null!==ei;){switch(h=(m=ei).child,m.tag){case 0:case 11:case 14:case 15:ai(4,m,m.return);break;case 1:ti(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){Dc(r,n,x)}}break;case 5:ti(m,m.return);break;case 22:if(null!==m.memoizedState){ji(p);continue}}null!==h?(h.return=m,ei=h):ji(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=fe("display",o))}catch(x){Dc(e,e.return,x)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){Dc(e,e.return,x)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gi(t,e),yi(e),4&r&&xi(e);case 21:}}function yi(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ii(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ui(e,ci(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;di(e,ci(e),l);break;default:throw Error(s(161))}}catch(o){Dc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vi(e,t,n){ei=e,wi(e,t,n)}function wi(e,t,n){for(var r=0!==(1&e.mode);null!==ei;){var a=ei,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Jo;if(!l){var o=a.alternate,i=null!==o&&null!==o.memoizedState||Xo;o=Jo;var c=Xo;if(Jo=l,(Xo=i)&&!c)for(ei=a;null!==ei;)i=(l=ei).child,22===l.tag&&null!==l.memoizedState?ki(a):null!==i?(i.return=l,ei=i):ki(a);for(;null!==s;)ei=s,wi(s,t,n),s=s.sibling;ei=a,Jo=o,Xo=c}Ni(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,ei=s):Ni(e)}}function Ni(e){for(;null!==ei;){var t=ei;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||si(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ws(t,l,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&li(t)}catch(ht){Dc(t,t.return,ht)}}if(t===e){ei=null;break}if(null!==(n=t.sibling)){n.return=t.return,ei=n;break}ei=t.return}}function ji(e){for(;null!==ei;){var t=ei;if(t===e){ei=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ei=n;break}ei=t.return}}function ki(e){for(;null!==ei;){var t=ei;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{si(4,t)}catch(i){Dc(t,n,i)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(i){Dc(t,a,i)}}var s=t.return;try{li(t)}catch(i){Dc(t,s,i)}break;case 5:var l=t.return;try{li(t)}catch(i){Dc(t,l,i)}}}catch(i){Dc(t,t.return,i)}if(t===e){ei=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ei=o;break}ei=t.return}}var Si,Di=Math.ceil,Ti=v.ReactCurrentDispatcher,Ei=v.ReactCurrentOwner,Ci=v.ReactCurrentBatchConfig,Pi=0,_i=null,Ai=null,Li=0,Mi=0,Ri=Da(0),Ii=0,Oi=null,Fi=0,Ui=0,Bi=0,$i=null,zi=null,Vi=0,Hi=1/0,Wi=null,Yi=!1,qi=null,Gi=null,Ki=!1,Qi=null,Ji=0,Xi=0,Zi=null,ec=-1,tc=0;function nc(){return 0!==(6&Pi)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Pi)&&0!==Li?Li&-Li:null!==gs.transition?(0===tc&&(tc=xt()),tc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ac(e,t,n,r){if(50<Xi)throw Xi=0,Zi=null,Error(s(185));bt(e,n,r),0!==(2&Pi)&&e===_i||(e===_i&&(0===(2&Pi)&&(Ui|=n),4===Ii&&cc(e,Li)),sc(e,r),1===n&&0===Pi&&0===(1&t.mode)&&(Hi=Je()+500,$a&&Ha()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),o=1<<l,i=a[l];-1===i?0!==(o&n)&&0===(o&r)||(a[l]=mt(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=pt(e,e===_i?Li:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$a=!0,Va(e)}(dc.bind(null,e)):Va(dc.bind(null,e)),ia(function(){0===(6&Pi)&&Ha()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,lc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lc(e,t){if(ec=-1,tc=0,0!==(6&Pi))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=pt(e,e===_i?Li:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=bc(e,r);else{t=r;var a=Pi;Pi|=2;var l=xc();for(_i===e&&Li===t||(Wi=null,Hi=Je()+500,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}Es(),Ti.current=l,Pi=a,null!==Ai?t=0:(_i=null,Li=0,t=Ii)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t)throw n=Oi,hc(e,0),cc(e,r),sc(e,Je()),n;if(6===t)cc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!cr(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=bc(e,r))&&(0!==(l=ft(e))&&(r=l,t=oc(e,l))),1===t))throw n=Oi,hc(e,0),cc(e,r),sc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,zi,Wi);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Vi+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sa(jc.bind(null,e,zi,Wi),t);break}jc(e,zi,Wi);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-lt(r);l=1<<o,(o=t[o])>a&&(a=o),r&=~l}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Di(r/1960))-r)){e.timeoutHandle=sa(jc.bind(null,e,zi,Wi),r);break}jc(e,zi,Wi);break;default:throw Error(s(329))}}}return sc(e,Je()),e.callbackNode===n?lc.bind(null,e):null}function oc(e,t){var n=$i;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=zi,zi=n,null!==t&&ic(t)),e}function ic(e){null===zi?zi=e:zi.push.apply(zi,e)}function cc(e,t){for(t&=~Bi,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!==(6&Pi))throw Error(s(327));kc();var t=pt(e,0);if(0===(1&t))return sc(e,Je()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Oi,hc(e,0),cc(e,t),sc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,zi,Wi),sc(e,Je()),null}function uc(e,t){var n=Pi;Pi|=1;try{return e(t)}finally{0===(Pi=n)&&(Hi=Je()+500,$a&&Ha())}}function pc(e){null!==Qi&&0===Qi.tag&&0===(6&Pi)&&kc();var t=Pi;Pi|=1;var n=Ci.transition,r=vt;try{if(Ci.transition=null,vt=1,e)return e()}finally{vt=r,Ci.transition=n,0===(6&(Pi=t))&&Ha()}}function mc(){Mi=Ri.current,Ta(Ri)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,la(n)),null!==Ai)for(n=Ai.return;null!==n;){var r=n;switch(rs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Xs(),Ta(_a),Ta(Pa),al();break;case 5:el(r);break;case 4:Xs();break;case 13:case 19:Ta(tl);break;case 10:Cs(r.type._context);break;case 22:case 23:mc()}n=n.return}if(_i=e,Ai=e=Rc(e.current,null),Li=Mi=t,Ii=0,Oi=null,Bi=Ui=Fi=0,zi=$i=null,null!==Ls){for(t=0;t<Ls.length;t++)if(null!==(r=(n=Ls[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Ls=null}return e}function fc(e,t){for(;;){var n=Ai;try{if(Es(),sl.current=Zl,ul){for(var r=il.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ul=!1}if(ol=0,dl=cl=il=null,pl=!1,ml=0,Ei.current=null,null===n||null===n.return){Ii=1,Oi=t,Ai=null;break}e:{var l=e,o=n.return,i=n,c=t;if(t=Li,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=i,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=bo(o);if(null!==h){h.flags&=-257,yo(h,o,i,0,t),1&h.mode&&go(l,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){go(l,d,t),gc();break e}c=Error(s(426))}else if(ls&&1&i.mode){var g=bo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,i,0,t),xs(uo(c,i));break e}}l=c=uo(c,i),4!==Ii&&(Ii=2),null===$i?$i=[l]:$i.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Vs(l,fo(0,c,t));break e;case 1:i=c;var b=l.type,y=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gi||!Gi.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,Vs(l,xo(l,i,t));break e}}l=l.return}while(null!==l)}Nc(n)}catch(v){t=v,Ai===n&&null!==n&&(Ai=n=n.return);continue}break}}function xc(){var e=Ti.current;return Ti.current=Zl,null===e?Zl:e}function gc(){0!==Ii&&3!==Ii&&2!==Ii||(Ii=4),null===_i||0===(268435455&Fi)&&0===(268435455&Ui)||cc(_i,Li)}function bc(e,t){var n=Pi;Pi|=2;var r=xc();for(_i===e&&Li===t||(Wi=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Es(),Pi=n,Ti.current=r,null!==Ai)throw Error(s(261));return _i=null,Li=0,Ii}function yc(){for(;null!==Ai;)wc(Ai)}function vc(){for(;null!==Ai&&!Ke();)wc(Ai)}function wc(e){var t=Si(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,null===t?Nc(e):Ai=t,Ei.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Mi)))return void(Ai=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ai=n);if(null===e)return Ii=6,void(Ai=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ai=t);Ai=t=e}while(null!==t);0===Ii&&(Ii=5)}function jc(e,t,n){var r=vt,a=Ci.transition;try{Ci.transition=null,vt=1,function(e,t,n,r){do{kc()}while(null!==Qi);if(0!==(6&Pi))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===_i&&(Ai=_i=null,Li=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ki||(Ki=!0,_c(tt,function(){return kc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Ci.transition,Ci.transition=null;var o=vt;vt=1;var i=Pi;Pi|=4,Ei.current=null,function(e,t){if(na=Yt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(_t){n=null;break e}var o=0,i=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(i=o+a),p!==l||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===a&&(i=o),m===l&&++u===r&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:e,selectionRange:n},Yt=!1,ei=t;null!==ei;)if(e=(t=ei).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ei=e;else for(;null!==ei;){t=ei;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ro(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(_t){Dc(t,t.return,_t)}if(null!==(e=t.sibling)){e.return=t.return,ei=e;break}ei=t.return}f=ri,ri=!1}(e,n),bi(n,e),xr(ra),Yt=!!na,ra=na=null,e.current=n,vi(n,e,a),Qe(),Pi=i,vt=o,Ci.transition=l}else e.current=n;if(Ki&&(Ki=!1,Qi=e,Ji=a),l=e.pendingLanes,0===l&&(Gi=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Yi)throw Yi=!1,e=qi,qi=null,e;0!==(1&Ji)&&0!==e.tag&&kc(),l=e.pendingLanes,0!==(1&l)?e===Zi?Xi++:(Xi=0,Zi=e):Xi=0,Ha()}(e,t,n,r)}finally{Ci.transition=a,vt=r}return null}function kc(){if(null!==Qi){var e=wt(Ji),t=Ci.transition,n=vt;try{if(Ci.transition=null,vt=16>e?16:e,null===Qi)var r=!1;else{if(e=Qi,Qi=null,Ji=0,0!==(6&Pi))throw Error(s(331));var a=Pi;for(Pi|=4,ei=e.current;null!==ei;){var l=ei,o=l.child;if(0!==(16&ei.flags)){var i=l.deletions;if(null!==i){for(var c=0;c<i.length;c++){var d=i[c];for(ei=d;null!==ei;){var u=ei;switch(u.tag){case 0:case 11:case 15:ai(8,u,l)}var p=u.child;if(null!==p)p.return=u,ei=p;else for(;null!==ei;){var m=(u=ei).sibling,h=u.return;if(oi(u),u===d){ei=null;break}if(null!==m){m.return=h,ei=m;break}ei=h}}}var f=l.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}ei=l}}if(0!==(2064&l.subtreeFlags)&&null!==o)o.return=l,ei=o;else e:for(;null!==ei;){if(0!==(2048&(l=ei).flags))switch(l.tag){case 0:case 11:case 15:ai(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,ei=b;break e}ei=l.return}}var y=e.current;for(ei=y;null!==ei;){var v=(o=ei).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,ei=v;else e:for(o=y;null!==ei;){if(0!==(2048&(i=ei).flags))try{switch(i.tag){case 0:case 11:case 15:si(9,i)}}catch(N){Dc(i,i.return,N)}if(i===o){ei=null;break e}var w=i.sibling;if(null!==w){w.return=i.return,ei=w;break e}ei=i.return}}if(Pi=a,Ha(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}r=!0}return r}finally{vt=n,Ci.transition=t}}return!1}function Sc(e,t,n){e=$s(e,t=fo(0,t=uo(n,t),1),1),t=nc(),null!==e&&(bt(e,1,t),sc(e,t))}function Dc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gi||!Gi.has(r))){t=$s(t,e=xo(t,e=uo(n,e),1),1),e=nc(),null!==t&&(bt(t,1,e),sc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,_i===e&&(Li&n)===n&&(4===Ii||3===Ii&&(130023424&Li)===Li&&500>Je()-Vi?hc(e,0):Bi|=n),sc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=nc();null!==(e=Is(e,t))&&(bt(e,t,n),sc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function _c(e,t){return qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Ac(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,a,l){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Oc(n.children,a,l,t);case k:o=8,a|=8;break;case S:return(e=Lc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case C:return(e=Lc(13,n,t,a)).elementType=C,e.lanes=l,e;case P:return(e=Lc(19,n,t,a)).elementType=P,e.lanes=l,e;case L:return Fc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case D:o=10;break e;case T:o=9;break e;case E:o=11;break e;case _:o=14;break e;case A:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Oc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,l,o,i){return e=new $c(e,t,n,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Vc(e){if(!e)return Ca;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Oa(e,n,t)}return t}function Hc(e,t,n,r,a,s,l,o,i){return(e=zc(n,r,!0,e,0,s,0,o,i)).context=Vc(null),n=e.current,(s=Bs(r=nc(),a=rc(n))).callback=void 0!==t&&null!==t?t:null,$s(n,s,a),e.current.lanes=a,bt(e,a,r),sc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=nc(),l=rc(a);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$s(a,t,l))&&(ac(e,a,l,s),zs(e,a,l)),l}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Si=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_a.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),fs();break;case 5:Zs(t);break;case 1:Ma(t.type)&&Fa(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(tl,1&tl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Ea(tl,1&tl.current),null!==(e=Yo(e,t,n))?e.sibling:null);Ea(tl,1&tl.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(tl,tl.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n)}return Yo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ls&&0!==(1048576&t.flags)&&ts(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=La(t,Pa.current);_s(t,n),a=gl(null,t,r,e,a,n);var l=bl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(l=!0,Fa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fs(t),a.updater=so,t.stateNode=a,a._reactInternals=t,co(t,r,e,n),t=Po(null,t,r,!0,l,n)):(t.tag=0,ls&&l&&ns(t),No(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===_)return 14}return 2}(r),e=ro(r,e),a){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,ro(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 3:e:{if(_o(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,Us(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ao(e,t,r,n,a=uo(Error(s(423)),t));break e}if(r!==a){t=Ao(e,t,r,n,a=uo(Error(s(424)),t));break e}for(ss=ua(t.stateNode.containerInfo.firstChild),as=t,ls=!0,os=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Yo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&us(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,o=a.children,aa(r,a)?o=null:null!==l&&aa(r,l)&&(t.flags|=32),To(e,t),No(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Uo(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ns(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,Ea(ks,r._currentValue),r._currentValue=o,null!==l)if(cr(l.value,o)){if(l.children===a.children&&!_a.current){t=Yo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){o=l.child;for(var c=i.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Bs(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ps(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Ps(o,n,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}No(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,_s(t,n),r=r(a=As(a)),t.flags|=1,No(e,t,r,n),t.child;case 14:return a=ro(r=t.type,t.pendingProps),ko(e,t,r,a=ro(r.type,a),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ro(r,a),Wo(e,t),t.tag=1,Ma(r)?(e=!0,Fa(t)):e=!1,_s(t,n),oo(t,r,a),co(t,r,a,n),Po(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Do(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ed(){}function td(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var o=a;a=function(){var e=Yc(l);o.call(e)}}Wc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Yc(l);s.call(e)}}var l=Hc(t,r,e,0,null,!1,0,"",ed);return e._reactRootContainer=l,e[xa]=l.current,Hr(8===e.nodeType?e.parentNode:e),pc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Yc(i);o.call(e)}}var i=zc(e,0,!1,null,0,!1,0,"",ed);return e._reactRootContainer=i,e[xa]=i.current,Hr(8===e.nodeType?e.parentNode:e),pc(function(){Wc(t,i,n,r)}),i}(n,t,e,a,r);return Yc(l)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pc(function(){Wc(null,e,null,null)}),t[xa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ut(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Je()),0===(6&Pi)&&(Hi=Je()+500,Ha()))}break;case 13:pc(function(){var t=Is(e,1);if(null!==t){var n=nc();ac(t,e,1,n)}}),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)ac(t,e,134217728,nc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Is(e,t);if(null!==n)ac(n,e,t,nc());Gc(e,t)}},St=function(){return vt},Dt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(s(90));q(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uc,Ce=pc;var nd={usingClientEntryPoint:!1,Events:[wa,Na,ja,De,Te,uc]},rd={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{at=sd.inject(ad),st=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[xa]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return pc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return td(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,a,0,l,o),e[xa]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return td(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(pc(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return td(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(s,l),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>au,hasStandardBrowserEnv:()=>lu,hasStandardBrowserWebWorkerEnv:()=>ou,navigator:()=>su,origin:()=>iu});var a,s=n(43),l=n.t(s,2),o=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,u=a.Pop,f=null,x=g();function g(){return(o.state||{idx:null}).idx}function b(){u=a.Pop;let e=g(),t=null==e?null:e-x;x=e,f&&f({action:u,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,o.replaceState(i({},o.state,{idx:x}),""));let v={get action(){return u},get location(){return e(s,o)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(c,b),f=e,()=>{s.removeEventListener(c,b),f=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let r=m(v.location,e,t);n&&n(r,e),x=g()+1;let i=p(r,x),c=v.createHref(r);try{o.pushState(i,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}l&&f&&f({action:u,location:v.location,delta:1})},replace:function(e,t){u=a.Replace;let r=m(v.location,e,t);n&&n(r,e),x=g();let s=p(r,x),i=v.createHref(r);o.replaceState(s,"",i),l&&f&&f({action:u,location:v.location,delta:0})},go:e=>o.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let a=L(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let o=0;null==l&&o<s.length;++o){let e=A(a);l=P(s[o],e,r)}return l}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let o=F([r,l.relativePath]),i=n.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:i})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let l=w(r.join("/")),o=[];return o.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...l),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,j=3,k=2,S=1,D=10,T=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=T),t&&(r+=k),n.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?j:""===t?S:D),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",l=[];for(let o=0;o<r.length;++o){let e=r[o],i=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&n&&!r[r.length-1].route.index&&(d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:F([s,d.pathname]),pathnameBase:U(F([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=F([s,d.pathnameBase]))}return l}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),i=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[n];return e[r]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:i,pathname:s,pathnameBase:l,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function O(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=i({},e),d(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let s,l=""===e||""===a.pathname,o=l?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:$(a)}}(a,s),u=o&&"/"!==o&&o.endsWith("/"),p=(l||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const Y=s.createContext(null);const q=s.createContext(null);const G=s.createContext(null);const K=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function X(){return null!=s.useContext(K)}function Z(){return X()||d(!1),s.useContext(K).location}function ee(e){s.useContext(G).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=me(de.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=s.useContext(Y),{basename:t,future:n,navigator:r}=s.useContext(G),{matches:a}=s.useContext(Q),{pathname:l}=Z(),o=JSON.stringify(I(a,n.v7_relativeSplatPath)),i=s.useRef(!1);return ee(()=>{i.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!i.current)return;if("number"===typeof n)return void r.go(n);let s=O(n,JSON.parse(o),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,l,e])}()}function ne(){let{matches:e}=s.useContext(Q),t=e[e.length-1];return t?t.params:{}}function re(e,t,n,r){X()||d(!1);let{navigator:l}=s.useContext(G),{matches:o}=s.useContext(Q),i=o[o.length-1],c=i?i.params:{},u=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let p,m=Z();if(t){var h;let e="string"===typeof t?f(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),p=e}else p=m;let x=p.pathname||"/",g=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let v=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&v?s.createElement(K.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:a.Pop}},v):v}function ae(){let e=function(){var e;let t=s.useContext(J),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const se=s.createElement(ae,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(Y);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Q.Provider,{value:t},r)}function ie(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,i=null==(a=n)?void 0:a.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let l,d=!1,p=null,m=null;var h;n&&(l=i&&r.route.id?i[r.route.id]:void 0,p=r.route.errorElement||se,c&&(u<0&&0===a?(h="route-fallback",!1||he[h]||(he[h]=!0),d=!0,m=null):u===a&&(d=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,a+1)),x=()=>{let t;return t=l?p:d?m:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(oe,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:p,error:l,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=s.useContext(Y);return t||d(!1),t}function pe(e){let t=s.useContext(q);return t||d(!1),t}function me(e){let t=function(){let e=s.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function xe(e){let{to:t,replace:n,state:r,relative:a}=e;X()||d(!1);let{future:l,static:o}=s.useContext(G),{matches:i}=s.useContext(Q),{pathname:c}=Z(),u=te(),p=O(t,I(i,l.v7_relativeSplatPath),c,"path"===a),m=JSON.stringify(p);return s.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:a}),[u,m,a,n,r]),null}function ge(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:r,navigationType:l=a.Pop,navigator:o,static:i=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),p=s.useMemo(()=>({basename:u,navigator:o,static:i,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,i]);"string"===typeof r&&(r=f(r));let{pathname:m="/",search:h="",hash:x="",state:g=null,key:b="default"}=r,y=s.useMemo(()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:h,hash:x,state:g,key:b},navigationType:l}},[u,m,h,x,g,b,l]);return null==y?null:s.createElement(G.Provider,{value:p},s.createElement(K.Provider,{children:n,value:y}))}function ye(e){let{children:t,location:n}=e;return re(ve(t),n)}new Promise(()=>{});s.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ve(e.props.children,a)),n.push(l)}),n}var we=n(950),Ne=n.t(we,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Ap){}new Map;const je=l.startTransition;Ne.flushSync,l.useId;function ke(e){let{basename:t,children:n,future:r,window:a}=e,l=s.useRef();var o;null==l.current&&(l.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),x(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let i=l.current,[c,d]=s.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},p=s.useCallback(e=>{u&&je?je(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>i.listen(p),[i,p]),s.useEffect(()=>fe(r),[r]),s.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Se,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Se||(Se={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ee=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:a="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,...u}=n;return(0,s.createElement)("svg",{ref:r,...Te,width:l,height:l,stroke:a,strokeWidth:i?24*Number(o)/Number(l):o,className:["lucide",`lucide-${p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var p});return n.displayName=`${e}`,n},Ce=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Pe=Ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),_e=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ae=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Le=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Me=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Re=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ie=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Oe=Ee("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Fe=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ue=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Be=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),$e=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ze=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ve=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),He=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),We=(()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://astonishing-chicken-production.up.railway.app"}.REACT_APP_ENVIRONMENT||"production",t="preview"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://astonishing-chicken-production.up.railway.app"}.VERCEL_ENV,n=!1;let r={environment:"production",apiUrl:"https://astonishing-chicken-production.up.railway.app",isProduction:!0,isTesting:!1,isDevelopment:!1};return r=t||"testing"===e?{environment:"testing",apiUrl:"https://rp-exotics-testing.up.railway.app",isProduction:!1,isTesting:!0,isDevelopment:!1}:"development"===e?{environment:"development",apiUrl:"http://localhost:5000",isProduction:!1,isTesting:!1,isDevelopment:!0}:{environment:"production",apiUrl:"https://astonishing-chicken-production.up.railway.app",isProduction:!0,isTesting:!1,isDevelopment:!1},r.apiUrl="https://astonishing-chicken-production.up.railway.app",console.log("[ENV] Environment Configuration:",{environment:r.environment,apiUrl:r.apiUrl,isPreview:t,isDevelopment:n,NODE_ENV:"production",VERCEL_ENV:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://astonishing-chicken-production.up.railway.app"}.VERCEL_ENV,REACT_APP_ENVIRONMENT:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://astonishing-chicken-production.up.railway.app"}.REACT_APP_ENVIRONMENT}),r})(),Ye=We.apiUrl;var qe=n(579);const Ge=(0,s.createContext)();function Ke(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0);console.log("[AUTH] Environment:",We.environment),console.log("[AUTH] API Base URL:",Ye);const c=async e=>{try{const t=await fetch(`${Ye}/api/auth/profile`,{credentials:"include",headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();return{valid:!0,user:e.user||e}}return console.log("[AUTH] Session check failed, token may be expired"),{valid:!1}}catch(t){return console.error("[AUTH] Session check error:",t),{valid:!1}}};(0,s.useEffect)(()=>{const e=window.localStorage.getItem("user"),t=window.localStorage.getItem("token");e&&t?c(t).then(n=>{let{valid:a,user:s}=n;a?(r(JSON.parse(e)),l(t),console.log("[AUTH] Valid session restored from localStorage")):(console.log("[AUTH] Invalid token found, clearing storage"),window.localStorage.removeItem("user"),window.localStorage.removeItem("token")),i(!1)}):i(!1)},[]);return(0,qe.jsx)(Ge.Provider,{value:{user:n,token:a,loading:o,login:(e,t)=>{console.log("[AUTH] Login called with:",{userObj:e,authToken:t}),r(e),l(t),window.localStorage.setItem("user",JSON.stringify(e)),window.localStorage.setItem("token",t),console.log("[AUTH] User logged in:",e),console.log("[AUTH] Token set:",t)},logout:async()=>{try{a&&await fetch(`${Ye}/api/auth/logout`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${a}`}})}catch(e){console.error("[AUTH] Logout error:",e)}r(null),l(null),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),console.log("[AUTH] User logged out")},getAuthHeaders:()=>{if(console.log("[AUTH DEBUG] getAuthHeaders called"),console.log("[AUTH DEBUG] Token exists:",!!a),console.log("[AUTH DEBUG] Token length:",a?a.length:0),console.log("[AUTH DEBUG] Token starts with:",a?a.substring(0,20)+"...":"N/A"),a){const e={Authorization:`Bearer ${a}`};return console.log("[AUTH DEBUG] Returning headers:",e),e}return console.log("[AUTH DEBUG] No token, returning empty headers"),{}},checkSession:c},children:t})}function Qe(){return(0,s.useContext)(Ge)}const Je=()=>{var e,t,n,r,a;const[l,o]=(0,s.useState)(new Date),i=te(),{user:c,logout:d,getAuthHeaders:u}=Qe(),[p,m]=(0,s.useState)(null),[h,f]=(0,s.useState)({database:{percentage:0,status:"loading"},apiResponse:{time:0,status:"loading"},uptime:{percentage:0,status:"loading"}}),[x,g]=(0,s.useState)({newDeals:0,documents:0,dealerContacts:0,systemLogins:0}),[b,y]=(0,s.useState)([{title:"Active Deals",value:0,change:0,changeType:"neutral"},{title:"Total Deals",value:0,change:0,changeType:"neutral"},{title:"Dealer Network",value:0,change:0,changeType:"neutral"},{title:"System Users",value:0,change:0,changeType:"neutral"}]);(0,s.useEffect)(()=>{const e=setInterval(()=>o(new Date),1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{const e="https://astonishing-chicken-production.up.railway.app/api/dealers";console.log("[DEBUG][Landing] Fetching dealer count from:",e),fetch(e,{credentials:"include"}).then(e=>{if(console.log("[DEBUG][Landing] Dealer count fetch response status:",e.status),!e.ok)throw new Error("Failed to fetch dealers");return e.json()}).then(e=>{console.log("[DEBUG][Landing] Dealer count fetch JSON:",e);const t=(e.data||e.dealers||[]).length;m(t)}).catch(e=>{console.error("[DEBUG][Landing] Error fetching dealer count:",e),m(0)})},[]),(0,s.useEffect)(()=>{const e=async()=>{try{const e=`${"https://astonishing-chicken-production.up.railway.app"}/api/stats/overview`;console.log("[DEBUG][Landing] Fetching system stats from:",e);const t=await fetch(e,{credentials:"include",headers:u()});if(console.log("[DEBUG][Landing] System stats fetch response status:",t.status),t.ok){const e=(await t.json()).data;g({newDeals:e.activity.today.newDeals,documents:e.activity.today.documents,dealerContacts:e.activity.today.dealerContacts,systemLogins:Math.floor(20*Math.random())+15}),f({database:e.systemHealth.database,apiResponse:e.systemHealth.apiResponse,uptime:e.systemHealth.uptime}),y([{title:"Active Deals",value:e.overview.activeDeals,change:e.activity.monthlyGrowth,changeType:e.activity.monthlyGrowth>=0?"positive":"negative"},{title:"Total Deals",value:e.overview.totalDeals,change:e.activity.thisMonth,changeType:"positive"},{title:"Dealer Network",value:e.overview.activeDealers,change:e.overview.totalDealers-e.overview.activeDealers,changeType:"neutral"},{title:"System Users",value:e.overview.activeUsers,change:e.overview.totalUsers-e.overview.activeUsers,changeType:"neutral"}]),console.log("[DEBUG][Landing] Successfully updated stats with real data:",e)}else{console.warn("[DEBUG][Landing] Failed to fetch real stats, using fallback");const e={newDeals:Math.floor(5*Math.random())+1,documents:Math.floor(10*Math.random())+5,dealerContacts:Math.floor(8*Math.random())+3,systemLogins:Math.floor(20*Math.random())+15};g(e)}}catch(e){console.error("[DEBUG][Landing] Error fetching system stats:",e);const t={newDeals:Math.floor(5*Math.random())+1,documents:Math.floor(10*Math.random())+5,dealerContacts:Math.floor(8*Math.random())+3,systemLogins:Math.floor(20*Math.random())+15};g(t)}};e();const t=setInterval(()=>{e()},3e4);return()=>clearInterval(t)},[u]),(0,s.useEffect)(()=>{if("finance"===(null===c||void 0===c?void 0:c.role)){const e=`${"https://astonishing-chicken-production.up.railway.app"}/api/deals`;console.log("[DEBUG][Landing] Fetching deals for finance user from:",e),fetch(e,{credentials:"include",headers:u()}).then(e=>(console.log("[DEBUG][Landing] Finance deals fetch response status:",e.status),e.json())).then(e=>{}).catch(()=>{})}},[c]);const v=(()=>{var e,t;return c?null!==(e=c.profile)&&void 0!==e&&e.displayName?c.profile.displayName:c.firstName&&c.lastName?`${c.firstName} ${c.lastName}`:c.firstName?c.firstName:(null===(t=c.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),w=v.split(" ")[0],N=(null===c||void 0===c?void 0:c.permissions)||{},j={...N,canViewMonthlyRevenue:N.canViewFinancials||"admin"===(null===c||void 0===c?void 0:c.role),canSearchDealers:(null===(e=N.dealers)||void 0===e?void 0:e.read)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canAccessBackOffice:(null===(t=N.backoffice)||void 0===t?void 0:t.access)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canManageUsers:(null===(n=N.users)||void 0===n?void 0:n.manage)||"admin"===(null===c||void 0===c?void 0:c.role)||!1},k="admin"===(null===c||void 0===c?void 0:c.role);console.log("\ud83d\udd0d Debug - Current User:",c),console.log("\ud83d\udd0d Debug - User Permissions:",N),console.log("\ud83d\udd0d Debug - Enhanced Permissions:",j),console.log("\ud83d\udd0d Debug - Can Search Dealers:",!!j.canSearchDealers),console.log("\ud83d\udd0d Debug - Is Admin:",k),console.log("\ud83d\udd0d Debug - Dealer Search Show Condition:",k||!!j.canSearchDealers);const S=e=>{switch(e){case"admin":default:return Ce;case"sales":return Pe;case"finance":return _e;case"viewer":return Ae}},D=e=>{switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},T=([{label:"Monthly Revenue",value:k||j.canViewMonthlyRevenue?"$2.1M":"Restricted",change:k||j.canViewMonthlyRevenue?"+12%":null,icon:_e,gradient:"from-purple-500 to-pink-500",show:k||j.canViewMonthlyRevenue},{label:"Pending Tasks",value:"6",change:"-2",icon:Le,gradient:"from-orange-500 to-amber-500",show:k||j.canAccessBackOffice}].filter(e=>e.show&&"sales"!==(null===c||void 0===c?void 0:c.role)),[...[{title:"New Deal Entry",description:"Create a new vehicle deal with intelligent VIN decoding, dealer matching, and comprehensive financial tracking",icon:Me,gradient:"from-blue-600 via-blue-700 to-cyan-600",route:"/deals/new",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Smart VIN decoding \u2022 Dealer autocomplete \u2022 Financial calculators \u2022 Document upload"},{title:"Deal Status",description:"Track the progress of your deals with real-time status updates and document management",icon:Re,gradient:"from-green-600 to-emerald-600",route:"/deals/status",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"},{title:"Dealer Network",description:"View and manage your dealer network and contacts",icon:Ie,gradient:"from-blue-500 to-cyan-500",route:"/dealers",show:k||"sales"===(null===c||void 0===c?void 0:c.role)||"finance"===(null===c||void 0===c?void 0:c.role),feature:null!==p?`${p} dealers in network`:"Loading..."},{title:"Broker Network",description:"Manage broker relationships and track performance",icon:Ie,gradient:"from-purple-500 to-pink-500",route:"/brokers",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Broker management \u2022 Performance tracking \u2022 Commission tracking"},{title:"Transport Management",description:"Manage vehicle transport logistics, tracking, and delivery coordination",icon:Oe,gradient:"from-orange-500 to-red-500",route:"/transport",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Transport tracking \u2022 Delivery coordination \u2022 Logistics management \u2022 Route optimization"},{title:"Performance Tracking",description:"Monitor sales performance, deal metrics, and team productivity",icon:Fe,gradient:"from-emerald-500 to-teal-500",route:"/admin/performance",show:k,feature:"Sales metrics \u2022 Team performance \u2022 Revenue tracking \u2022 Deal analytics"}]]),E=[{title:"User Management",subtitle:"System Administration",description:"Manage user accounts, roles, and system permissions",icon:Ie,gradient:"from-indigo-600 to-purple-600",route:"/users",show:k||j.canManageUsers,tasks:null},{title:"API Key Management",subtitle:"Digital Signatures",description:"Manage API keys for digital signatures and document signing",icon:Ue,gradient:"from-purple-600 to-pink-600",route:"/apikeys",show:k,tasks:null}],C=[{id:1,type:"deal",title:"2020 McLaren 720S Deal Created",subtitle:"Stock #RP2025001 \u2022 $220,000 \u2022 Ian Hutchinson",time:"2 hours ago",icon:Pe,color:"blue"},{id:2,type:"document",title:"Title Documentation Received",subtitle:"2019 Ferrari F8 Tributo \u2022 Stock #RP2025003",time:"4 hours ago",icon:Be,color:"green"},{id:3,type:"dealer",title:"New Dealer Contact Added",subtitle:"Midwest Auto Group \u2022 Kansas City, MO",time:"1 day ago",icon:Ie,color:"purple"},{id:4,type:"finance",title:"Monthly P&L Report Generated",subtitle:"$2.1M revenue \u2022 15% margin improvement",time:"2 days ago",icon:Fe,color:"orange"}],P=S(null===c||void 0===c?void 0:c.role),_=D(null===c||void 0===c?void 0:c.role),A=(()=>{console.log("[DEBUG][Landing] Fetching deals for role from:","https://astonishing-chicken-production.up.railway.app/api/deals");const e=[{id:1,vehicle:"2020 McLaren 720S",stockNumber:"RP2025001",status:"Active",assignedTo:"Parker Gelber",price:"$220,000",progress:33,progressText:"Purchased",createdBy:"parker@rpexotics.com",createdAt:"2h ago"},{id:2,vehicle:"2019 Ferrari F8 Tributo",stockNumber:"RP2025002",status:"Pending",assignedTo:"Parker Gelber",price:"$285,000",progress:66,progressText:"Title Review",createdBy:"parker@rpexotics.com",createdAt:"1d ago"},{id:3,vehicle:"2021 Lamborghini Hurac\xe1n",stockNumber:"RP2025003",status:"Ready",assignedTo:"Chris Murphy",price:"$195,000",progress:83,progressText:"Ready to List",createdBy:"chris@rpexotics.com",createdAt:"3d ago"},{id:4,vehicle:"2022 Porsche 911 GT3",stockNumber:"RP2025004",status:"Sold",assignedTo:"Brennan Sauer",price:"$185,000 \u2192 $205,000",progress:100,progressText:"Complete",createdBy:"brennan@rpexotics.com",createdAt:"1w ago"}];return k?e:e.filter(e=>e.createdBy===(null===c||void 0===c?void 0:c.email))})(),L="sales"===(null===c||void 0===c?void 0:c.role);return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),(0,qe.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-500/3 rounded-full blur-3xl animate-pulse delay-2000"})]}),(0,qe.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center group",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-blue-500/25",children:[(0,qe.jsx)("img",{src:"/favicon.svg?v=20240804",alt:"RP Exotics Logo",className:"h-6 w-6 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,qe.jsx)(Pe,{className:"h-6 w-6 text-white hidden"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-xl font-bold text-white",children:"RP Exotics"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Professional Vehicle Management"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("p",{className:"text-sm font-medium text-white",children:v}),(0,qe.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${_} text-white shadow-lg`,children:[(0,qe.jsx)(P,{className:"h-3 w-3 mr-1"}),(null===c||void 0===c||null===(r=c.role)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===c||void 0===c||null===(a=c.role)||void 0===a?void 0:a.slice(1))||"Guest"]})]}),(0,qe.jsxs)("div",{className:"text-right text-sm text-gray-300",children:[(0,qe.jsx)("p",{className:"font-medium",children:l.toLocaleDateString()}),(0,qe.jsx)("p",{className:"text-xs",children:l.toLocaleTimeString()})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[j.canManageUsers&&(0,qe.jsx)($e,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200"}),(0,qe.jsx)(ze,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200",onClick:async()=>{try{await d(),i("/login")}catch(e){console.error("Logout error:",e),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),i("/login")}}})]})]})]})})}),(0,qe.jsxs)("div",{className:"relative max-w-8xl mx-auto px-2 sm:px-4 py-10",children:[(0,qe.jsx)("div",{className:"mb-12",children:(0,qe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("h2",{className:"text-5xl font-extrabold text-white mb-2",children:["Welcome back, ",(0,qe.jsx)("span",{className:`bg-gradient-to-r ${_} bg-clip-text text-transparent`,children:w})]}),(0,qe.jsx)("p",{className:"text-gray-300 text-lg max-w-2xl leading-relaxed",children:(()=>{switch(null===c||void 0===c?void 0:c.role){case"admin":return"You have complete administrative control over the RP Exotics management system with full access to all modules, financial data, and user management capabilities.";case"sales":return"Access your deal management tools and dealer network. Focus on what you do best - creating deals and building relationships.";case"finance":return"Monitor financial performance with comprehensive access to pricing data, margins, and back office operations.";case"viewer":return"Stay informed with read-only access to reports, analytics, and system information.";default:return"Welcome to the RP Exotics management system."}})()})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 bg-green-500/10 border border-green-500/30 rounded-xl px-4 py-2",children:[(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400"}),(0,qe.jsx)("span",{className:"text-green-300 text-base font-semibold",children:"All Systems Operational"})]})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&0===b.length&&(0,qe.jsx)("div",{className:"mb-12 text-center text-gray-400",children:"No quick stats available for finance role."}),"finance"!==(null===c||void 0===c?void 0:c.role)&&T.filter(e=>e.show&&"Deal Status"!==e.title).length>0&&(0,qe.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("sales"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 lg:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:T.filter(e=>e.show&&"Deal Status"!==e.title).map(e=>(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 rounded-2xl shadow-xl flex flex-col items-center justify-between transition-transform duration-200 hover:scale-[1.02] hover:shadow-2xl cursor-pointer "+("sales"===(null===c||void 0===c?void 0:c.role)?"p-12 min-h-[280px]":"p-8 min-h-[180px]"),onClick:()=>i(e.route),children:[(0,qe.jsx)("div",{className:`bg-gradient-to-r ${e.gradient} rounded-full p-4 mb-4 shadow-lg`,children:(0,qe.jsx)(e.icon,{className:"h-10 w-10 text-white"})}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.title}),(0,qe.jsx)("p",{className:"text-gray-300 text-lg font-medium mb-2 text-center",children:e.description}),e.feature&&(0,qe.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:e.feature})]},e.title))}),L&&(0,qe.jsx)("div",{className:"flex flex-col gap-8 mb-12 w-full",children:(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl border border-green-500/20 p-10 flex flex-col justify-between cursor-pointer hover:bg-green-500/20 transition min-h-[180px] w-full",onClick:()=>i("/deals/status"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,qe.jsx)(Re,{className:"h-8 w-8 text-green-400 mr-4"}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Deal Status"})]}),(0,qe.jsx)("p",{className:"text-gray-300 text-lg mb-2",children:"Track the progress of your deals with real-time status updates and document management"}),(0,qe.jsx)("p",{className:"text-xs text-gray-400",children:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&(0,qe.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-blue-500/20 transition",onClick:()=>i("/dealers"),children:[(0,qe.jsx)(Ie,{className:"h-12 w-12 text-blue-400 mb-4"}),(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"Dealer Network"}),(0,qe.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and manage your dealer network and contacts"}),(0,qe.jsxs)("div",{className:"flex items-center text-blue-400 text-sm font-medium",children:[(0,qe.jsx)(He,{className:"h-4 w-4 mr-1"}),null!==p?`${p} dealers in network`:"Loading..."]})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-600/10 rounded-2xl border border-purple-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-purple-500/20 transition",onClick:()=>i("/finance/deals"),children:[(0,qe.jsx)(Be,{className:"h-12 w-12 text-purple-400 mb-4"}),(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"All Deal Status"}),(0,qe.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and update the status of all deals in one place"}),(0,qe.jsxs)("div",{className:"flex items-center text-purple-400 text-sm font-medium",children:[(0,qe.jsx)(He,{className:"h-4 w-4 mr-1"}),"Status workflow & sub-status"]})]})]}),E.filter(e=>e.show).length>0&&(0,qe.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("finance"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 md:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:E.filter(e=>e.show).map(e=>(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 p-8 rounded-2xl shadow-xl flex flex-col items-center justify-between min-h-[180px] transition-transform duration-200 hover:scale-[1.03] hover:shadow-2xl cursor-pointer "+("finance"===(null===c||void 0===c?void 0:c.role)?"min-h-[140px] p-6":""),onClick:()=>e.route&&i(e.route),children:[(0,qe.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full shadow-lg "+("finance"===(null===c||void 0===c?void 0:c.role)?"p-3 mb-3":"p-4 mb-4"),children:(0,qe.jsx)(e.icon,{className:"text-white "+("finance"===(null===c||void 0===c?void 0:c.role)?"h-8 w-8":"h-10 w-10")})}),(0,qe.jsx)("h3",{className:"font-bold text-white mb-2 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-lg":"text-2xl"),children:e.title}),(0,qe.jsx)("p",{className:"text-white/90 text-base leading-relaxed mb-3 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-sm":"text-base"),children:e.description}),e.feature&&(0,qe.jsxs)("div",{className:"flex items-center text-white/80 text-xs",children:[(0,qe.jsx)(He,{className:"h-4 w-4 mr-1"}),(0,qe.jsx)("span",{children:e.feature})]})]},e.title))}),0===A.length&&(0,qe.jsxs)("div",{className:"lg:col-span-2 bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,qe.jsx)(Re,{className:"h-5 w-5 text-blue-400 mr-2"}),"Recent Activity"]}),(0,qe.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All"})]}),(0,qe.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,qe.jsxs)("div",{className:"group flex items-center p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,qe.jsx)("div",{className:`bg-${e.color}-500/20 rounded-lg p-2 mr-4 group-hover:scale-110 transition-transform duration-300`,children:(0,qe.jsx)(e.icon,{className:`h-4 w-4 text-${e.color}-400`})}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("p",{className:"text-white text-sm font-medium mb-1",children:e.title}),(0,qe.jsx)("p",{className:"text-gray-400 text-xs",children:e.subtitle})]}),(0,qe.jsx)("span",{className:"text-gray-500 text-xs",children:e.time})]},e.id))})]}),"sales"!==(null===c||void 0===c?void 0:c.role)&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,qe.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,qe.jsx)(Ce,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,qe.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Today's Summary"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"New Deals"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.newDeals})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Dealer Contacts"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.dealerContacts})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Documents Processed"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.documents})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"System Logins"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.systemLogins})]})]})]})]}),"sales"===(null===c||void 0===c?void 0:c.role)&&(0,qe.jsx)("div",{className:"mt-8 space-y-8",children:(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,qe.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,qe.jsx)(Ce,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,qe.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,qe.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h4",{className:"text-sm font-medium text-white mb-3",children:"Today's Activity"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"New Deals"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.newDeals})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Documents"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.documents})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Dealer Contacts"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.dealerContacts})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"System Logins"}),(0,qe.jsx)("span",{className:"text-white font-medium",children:x.systemLogins})]})]})]})]})]})}),"admin"===(null===c||void 0===c?void 0:c.role)&&(0,qe.jsxs)("div",{className:"mt-10 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Demo: Switch User Roles"}),(0,qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["admin","sales","finance","viewer"].map(e=>{const t=S(e),n=D(e);return(0,qe.jsxs)("button",{onClick:()=>{console.log(`Switching to ${e} role`)},className:"p-4 rounded-xl transition-all duration-300 border "+((null===c||void 0===c?void 0:c.role)===e?`bg-gradient-to-r ${n} border-transparent shadow-lg shadow-white/10 scale-105`:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"),children:[(0,qe.jsx)(t,{className:"h-6 w-6 mx-auto mb-2 "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-400")}),(0,qe.jsx)("p",{className:"text-sm font-medium "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)})})]})]})]})},Xe=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ze=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),et=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),tt=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),nt=Ee("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),rt=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),at=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),st=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lt=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ot=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),it=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ct=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),dt=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ut=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const pt=new class{constructor(){this.isEnabled="undefined"!==typeof window&&window.gtag}callGtag(){this.isEnabled&&"function"===typeof window.gtag&&window.gtag(...arguments)}trackPageView(e,t){this.isEnabled&&this.callGtag("config","G-Y0TPG2F3LK",{page_title:e,page_location:window.location.href,page_path:t})}trackSignatureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isEnabled&&this.callGtag("event",e,{event_category:"signature",event_label:t.documentType||"unknown",value:t.step||0,custom_parameters:{signature_id:t.signatureId||"unknown",document_type:t.documentType||"unknown",step:t.step||0,timestamp:(new Date).toISOString()}})}trackSignatureStep(e,t,n){this.trackSignatureEvent("signature_step",{step:e,documentType:t,signatureId:n})}trackConsentEvent(e,t,n){this.trackSignatureEvent("consent_given",{step:"intent"===e?1:2,documentType:t,signatureId:n,consent_type:e})}trackSignatureCompletion(e,t,n){this.trackSignatureEvent("signature_completed",{step:4,documentType:e,signatureId:t,signature_method:n})}trackError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isEnabled&&this.callGtag("event","signature_error",{event_category:"signature",event_label:e,value:1,custom_parameters:{error_type:e,error_message:t,context:JSON.stringify(n),timestamp:(new Date).toISOString()}})}trackUserInteraction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isEnabled&&this.callGtag("event","user_interaction",{event_category:"signature",event_label:e,custom_parameters:{action:e,element:t,context:JSON.stringify(n),timestamp:(new Date).toISOString()}})}trackDealEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isEnabled&&this.callGtag("event",e,{event_category:"deal",event_label:t.dealType||"unknown",value:t.purchasePrice||0,custom_parameters:{deal_type:t.dealType||"unknown",vehicle_year:t.year||"unknown",vehicle_make:t.make||"unknown",vehicle_model:t.model||"unknown",timestamp:(new Date).toISOString()}})}},mt=pt;function ht(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ht(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ht(e))&&(r&&(r+=" "),r+=t);return r}const xt=ft;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var gt=e=>"number"==typeof e&&!isNaN(e),bt=e=>"string"==typeof e,yt=e=>"function"==typeof e,vt=e=>bt(e)||yt(e)?e:null,wt=(e,t)=>!1===e||gt(e)&&e>0?e:t,Nt=e=>(0,s.isValidElement)(e)||bt(e)||yt(e)||gt(e);function jt(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:a=!0,collapseDuration:l=300}=e;return function(e){let{children:o,position:i,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:m}=e,h=r?`${t}--${i}`:t,f=r?`${n}--${i}`:n,x=(0,s.useRef)(0);return(0,s.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),n=r=>{r.target===u.current&&(m(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===x.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,s.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,d,l):d()};p||(c?t():(x.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[p]),s.createElement(s.Fragment,null,o)}}function kt(e,t){return{content:St(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function St(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.isValidElement)(e)&&!bt(e.type)?(0,s.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):yt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Dt(e){let{delay:t,isRunning:n,closeToast:r,type:a="default",hide:l,className:o,controlledProgress:i,progress:c,rtl:d,isIn:u,theme:p}=e,m=l||i&&0===c,h={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};i&&(h.transform=`scaleX(${c})`);let f=xt("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),x=yt(o)?o({rtl:d,type:a,defaultClassName:f}):xt(f,o),g={[i&&c>=1?"onTransitionEnd":"onAnimationEnd"]:i&&c<1?null:()=>{u&&r()}};return s.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},s.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${a}`}),s.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:x,style:h,...g}))}var Tt=1,Et=()=>""+Tt++;function Ct(e,t,n){let r=1,a=0,s=[],l=[],o=t,i=new Map,c=new Set,d=()=>{l=Array.from(i.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},p=e=>{if(null==e)i.forEach(u);else{let t=i.get(e);t&&u(t)}d()},m=e=>{var t,r;let{toastId:a,updateId:s}=e.props,l=null==s;e.staleId&&i.delete(e.staleId),e.isActive=!0,i.set(a,e),d(),n(kt(e,l?"added":"updated")),l&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{i.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:p,toasts:i,clearQueue:()=>{a-=s.length,s=[]},buildToast:(t,l)=>{if((t=>{let{containerId:n,toastId:r,updateId:a}=t,s=n?n!==e:1!==e,l=i.has(r)&&null==a;return s||l})(l))return;let{toastId:c,updateId:u,data:h,staleId:f,delay:x}=l,g=null==u;g&&a++;let b={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(l).filter(e=>{let[t,n]=e;return null!=n})),toastId:c,updateId:u,data:h,isIn:!1,className:vt(l.className||o.toastClassName),progressClassName:vt(l.progressClassName||o.progressClassName),autoClose:!l.isLoading&&wt(l.autoClose,o.autoClose),closeToast(e){i.get(c).removalReason=e,p(c)},deleteToast(){let e=i.get(c);if(null!=e){if(n(kt(e,"removed")),i.delete(c),a--,a<0&&(a=0),s.length>0)return void m(s.shift());d()}}};b.closeButton=o.closeButton,!1===l.closeButton||Nt(l.closeButton)?b.closeButton=l.closeButton:!0===l.closeButton&&(b.closeButton=!Nt(o.closeButton)||o.closeButton);let y={content:t,props:b,staleId:f};o.limit&&o.limit>0&&a>o.limit&&g?s.push(y):gt(x)?setTimeout(()=>{m(y)},x):m(y)},setProps(e){o=e},setToggle:(e,t)=>{let n=i.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=i.get(e))?void 0:t.isActive},getSnapshot:()=>l}}var Pt=new Map,_t=[],At=new Set,Lt=e=>At.forEach(t=>t(e)),Mt=()=>Pt.size>0;function Rt(e,t){var n;if(t)return!(null==(n=Pt.get(t))||!n.isToastActive(e));let r=!1;return Pt.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function It(e){if(Mt()){if(null==e||(e=>bt(e)||gt(e))(e))Pt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Pt.get(e.containerId);t?t.removeToast(e.id):Pt.forEach(t=>{t.removeToast(e.id)})}}else _t=_t.filter(t=>null!=e&&t.options.toastId!==e)}function Ot(e,t){Nt(e)&&(Mt()||_t.push({content:e,options:t}),Pt.forEach(n=>{n.buildToast(e,t)}))}function Ft(e,t){Pt.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Ut(e){let t=e.containerId||1;return{subscribe(n){let r=Ct(t,e,Lt);Pt.set(t,r);let a=r.observe(n);return _t.forEach(e=>Ot(e.content,e.options)),_t=[],()=>{a(),Pt.delete(t)}},setProps(e){var n;null==(n=Pt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Pt.get(t))?void 0:e.getSnapshot()}}}function Bt(e){return e&&(bt(e.toastId)||gt(e.toastId))?e.toastId:Et()}function $t(e,t){return Ot(e,t),t.toastId}function zt(e,t){return{...t,type:t&&t.type||e,toastId:Bt(t)}}function Vt(e){return(t,n)=>$t(t,zt(e,n))}function Ht(e,t){return $t(e,zt("default",t))}function Wt(e){let[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),l=(0,s.useRef)(null),o=(0,s.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:i,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:p}=e;function m(){n(!0)}function h(){n(!1)}function f(n){let r=l.current;if(o.canDrag&&r){o.didMove=!0,t&&h(),"x"===e.draggableDirection?o.delta=n.clientX-o.start:o.delta=n.clientY-o.start,o.start!==n.clientX&&(o.canCloseOnClick=!1);let a="x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;r.style.transform=`translate3d(${a},0)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance))}}function x(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",x);let t=l.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Pt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,s.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",m),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",x);let n=l.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:a,right:s}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=s&&t.clientY>=n&&t.clientY<=r?h():m()}};return i&&c&&(g.onMouseEnter=h,e.stacked||(g.onMouseLeave=m)),p&&(g.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:m,pauseToast:h,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:g}}Ht.loading=(e,t)=>$t(e,zt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ht.promise=function(e,t,n){let r,{pending:a,error:s,success:l}=t;a&&(r=bt(a)?Ht.loading(a,n):Ht.loading(a.render,{...n,...a}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,a)=>{if(null==t)return void Ht.dismiss(r);let s={type:e,...o,...n,data:a},l=bt(t)?{render:t}:t;return r?Ht.update(r,{...s,...l}):Ht(l.render,{...s,...l}),a},c=yt(e)?e():e;return c.then(e=>i("success",l,e)).catch(e=>i("error",s,e)),c},Ht.success=Vt("success"),Ht.info=Vt("info"),Ht.error=Vt("error"),Ht.warning=Vt("warning"),Ht.warn=Ht.warning,Ht.dark=(e,t)=>$t(e,zt("default",{theme:"dark",...t})),Ht.dismiss=function(e){It(e)},Ht.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Ht.isActive=Rt,Ht.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Pt.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:a}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Et()};s.toastId!==e&&(s.staleId=e);let l=s.render||a;delete s.render,$t(l,s)}},Ht.done=e=>{Ht.update(e,{progress:1})},Ht.onChange=function(e){return At.add(e),()=>{At.delete(e)}},Ht.play=e=>Ft(!0,e),Ht.pause=e=>Ft(!1,e);var Yt="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,qt=e=>{let{theme:t,type:n,isLoading:r,...a}=e;return s.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...a})};var Gt={info:function(e){return s.createElement(qt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(qt,{...e},s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(qt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(qt,{...e},s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function Kt(e){let{theme:t,type:n,isLoading:r,icon:a}=e,l=null,o={theme:t,type:n};return!1===a||(yt(a)?l=a({...o,isLoading:r}):(0,s.isValidElement)(a)?l=(0,s.cloneElement)(a,o):r?l=Gt.spinner():(e=>e in Gt)(n)&&(l=Gt[n](o))),l}var Qt=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:l}=Wt(e),{closeButton:o,children:i,autoClose:c,onClick:d,type:u,hideProgressBar:p,closeToast:m,transition:h,position:f,className:x,style:g,progressClassName:b,updateId:y,role:v,progress:w,rtl:N,toastId:j,deleteToast:k,isIn:S,isLoading:D,closeOnClick:T,theme:E,ariaLabel:C}=e,P=xt("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":T}),_=yt(x)?x({rtl:N,position:f,type:u,defaultClassName:P}):xt(P,x),A=Kt(e),L=!!w||!c,M={closeToast:m,type:u,theme:E},R=null;return!1===o||(R=yt(o)?o(M):(0,s.isValidElement)(o)?(0,s.cloneElement)(o,M):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return s.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),s.createElement(h,{isIn:S,done:k,position:f,preventExitTransition:n,nodeRef:r,playToast:l},s.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":S,className:_,...a,style:g,ref:r,...S&&{role:v,"aria-label":C}},null!=A&&s.createElement("div",{className:xt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},A),St(i,e,!t),R,!e.customProgressBar&&s.createElement(Dt,{...y&&!L?{key:`p-${y}`}:{},rtl:N,theme:E,delay:c,isRunning:t,isIn:S,closeToast:m,hide:p,type:u,className:b,controlledProgress:L,progress:w||0})))},Jt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Xt=jt(Jt("bounce",!0)),Zt=(jt(Jt("slide",!0)),jt(Jt("zoom")),jt(Jt("flip")),{position:"top-right",transition:Xt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function en(e){let t={...Zt,...e},n=e.stacked,[r,a]=(0,s.useState)(!0),l=(0,s.useRef)(null),{getToastToRender:o,isToastActive:i,count:c}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:a}=(0,s.useRef)(Ut(e)).current;a(e);let l=null==(t=(0,s.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!l)return[];let n=new Map;return e.newestOnTop&&l.reverse(),l.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Rt,count:null==l?void 0:l.length}}(t),{className:d,style:u,rtl:p,containerId:m,hotKeys:h}=t;function f(e){let t=xt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":p});return yt(d)?d({position:e,rtl:p,defaultClassName:t}):xt(t,vt(d))}function x(){n&&(a(!0),Ht.play())}return Yt(()=>{var e;if(n){let n=l.current.querySelectorAll('[data-in="true"]'),a=12,s=null==(e=t.position)?void 0:e.includes("top"),o=0,i=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=s?"top":"bot");let l=o*(r?.2:1)+(r?0:a*t);n.style.setProperty("--y",`${s?l:-1*l}px`),n.style.setProperty("--g",`${a}`),n.style.setProperty("--s",""+(1-(r?i:0))),o+=n.offsetHeight,i+=.025})}},[r,c,n]),(0,s.useEffect)(()=>{function e(e){var t;let n=l.current;h(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),Ht.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),Ht.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),s.createElement("section",{ref:l,className:"Toastify",id:m,onMouseEnter:()=>{n&&(a(!1),Ht.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((e,t)=>{let r=t.length?{...u}:{...u,pointerEvents:"none"};return s.createElement("div",{tabIndex:-1,className:f(e),"data-stacked":n,style:r,key:`c-${e}`},t.map(e=>{let{content:t,props:r}=e;return s.createElement(Qt,{...r,stacked:n,collapseAll:x,isIn:i(r.toastId,r.containerId),key:`t-${r.key}`},t)}))}))}Math.pow(10,8);const tn=6048e5,nn=6e4,rn=36e5,an=Symbol.for("constructDateFrom");function sn(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&an in e?e[an](t):e instanceof Date?new e.constructor(t):new Date(t)}function ln(e,t){return sn(t||e,e)}function on(e,t){const n=()=>sn(t?.in,NaN),r=t?.additionalDigits??2,a=function(e){const t={},n=e.split(cn.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],cn.timeZoneDelimiter.test(t.date)&&(t.date=e.split(cn.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=cn.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(a.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(a.date,r);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(dn);if(!n)return new Date(NaN);const r=!!n[4],a=mn(n[1]),s=mn(n[2])-1,l=mn(n[3]),o=mn(n[4]),i=mn(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,i)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,i):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(fn[t]||(xn(e)?29:28))}(t,s,l)&&function(e,t){return t>=1&&t<=(xn(e)?366:365)}(t,a)?(e.setUTCFullYear(t,s,Math.max(a,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return n();const l=+s;let o,i=0;if(a.time&&(i=function(e){const t=e.match(un);if(!t)return NaN;const n=hn(t[1]),r=hn(t[2]),a=hn(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*rn+r*nn+1e3*a}(a.time),isNaN(i)))return n();if(!a.timezone){const e=new Date(l+i),n=ln(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return o=function(e){if("Z"===e)return 0;const t=e.match(pn);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*rn+a*nn)}(a.timezone),isNaN(o)?n():ln(l+i+o,t?.in)}const cn={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,un=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mn(e){return e?parseInt(e):1}function hn(e){return e&&parseFloat(e.replace(",","."))||0}const fn=[31,null,31,30,31,30,31,31,30,31,30,31];function xn(e){return e%400===0||e%4===0&&e%100!==0}const gn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function bn(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const yn={date:bn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:bn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:bn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},vn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function wn(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Nn={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:wn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:wn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:wn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:wn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:wn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function jn(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const l=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],i=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(l)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(l));let c;c=e.valueCallback?e.valueCallback(i):i,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(l.length)}}}const kn={ordinalNumber:(Sn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Sn.matchPattern);if(!n)return null;const r=n[0],a=e.match(Sn.parsePattern);if(!a)return null;let s=Sn.valueCallback?Sn.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:jn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:jn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:jn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:jn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:jn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Sn;const Dn={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=gn[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:yn,formatRelative:(e,t,n,r)=>vn[e],localize:Nn,match:kn,options:{weekStartsOn:0,firstWeekContainsDate:1}},Tn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},En=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Cn={p:En,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Tn(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Tn(r,t)).replace("{{time}}",En(a,t))}},Pn=/^D+$/,_n=/^Y+$/,An=["D","DD","YY","YYYY"];function Ln(e){return Pn.test(e)}function Mn(e){return _n.test(e)}function Rn(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),An.includes(e))throw new RangeError(r)}let In={};function On(){return In}function Fn(){return Object.assign({},On())}function Un(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):sn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Bn{subPriority=0;validate(e,t){return!0}}class $n extends Bn{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class zn extends Bn{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>sn(t,e))}set(e,t){return t.timestampIsSet?e:sn(e,Un(e,this.context))}}class Vn{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new $n(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Hn=/^(1[0-2]|0?\d)/,Wn=/^(3[0-1]|[0-2]?\d)/,Yn=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,qn=/^(5[0-3]|[0-4]?\d)/,Gn=/^(2[0-3]|[0-1]?\d)/,Kn=/^(2[0-4]|[0-1]?\d)/,Qn=/^(1[0-1]|0?\d)/,Jn=/^(1[0-2]|0?\d)/,Xn=/^[0-5]?\d/,Zn=/^[0-5]?\d/,er=/^\d/,tr=/^\d{1,2}/,nr=/^\d{1,3}/,rr=/^\d{1,4}/,ar=/^-?\d+/,sr=/^-?\d/,lr=/^-?\d{1,2}/,or=/^-?\d{1,3}/,ir=/^-?\d{1,4}/,cr=/^([+-])(\d{2})(\d{2})?|Z/,dr=/^([+-])(\d{2})(\d{2})|Z/,ur=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,pr=/^([+-])(\d{2}):(\d{2})|Z/,mr=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function hr(e,t){return e?{value:t(e.value),rest:e.rest}:e}function fr(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function xr(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:r*(a*rn+s*nn+1e3*l),rest:t.slice(n[0].length)}}function gr(e){return fr(ar,e)}function br(e,t){switch(e){case 1:return fr(er,t);case 2:return fr(tr,t);case 3:return fr(nr,t);case 4:return fr(rr,t);default:return fr(new RegExp("^\\d{1,"+e+"}"),t)}}function yr(e,t){switch(e){case 1:return fr(sr,t);case 2:return fr(lr,t);case 3:return fr(or,t);case 4:return fr(ir,t);default:return fr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function vr(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function wr(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function Nr(e){return e%400===0||e%4===0&&e%100!==0}function jr(e,t){const n=On(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ln(e,t?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function kr(e,t){const n=ln(e,t?.in),r=n.getFullYear(),a=On(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=sn(t?.in||e,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const o=jr(l,t),i=sn(t?.in||e,0);i.setFullYear(r,0,s),i.setHours(0,0,0,0);const c=jr(i,t);return+n>=+o?r+1:+n>=+c?r:r-1}function Sr(e,t){return jr(e,{...t,weekStartsOn:1})}function Dr(e,t){const n=On(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=kr(e,t),s=sn(t?.in||e,0);s.setFullYear(a,0,r),s.setHours(0,0,0,0);return jr(s,t)}function Tr(e,t){const n=ln(e,t?.in),r=+jr(n,t)-+Dr(n,t);return Math.round(r/tn)+1}function Er(e,t,n){const r=ln(e,n?.in),a=Tr(r,n)-t;return r.setDate(r.getDate()-7*a),ln(r,n?.in)}function Cr(e,t){const n=ln(e,t?.in),r=n.getFullYear(),a=sn(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Sr(a),l=sn(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const o=Sr(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Pr(e,t){const n=Cr(e,t),r=sn(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Sr(r)}function _r(e,t){const n=ln(e,t?.in),r=+Sr(n)-+Pr(n);return Math.round(r/tn)+1}function Ar(e,t,n){const r=ln(e,n?.in),a=_r(r,n)-t;return r.setDate(r.getDate()-7*a),r}const Lr=[31,28,31,30,31,30,31,31,30,31,30,31],Mr=[31,29,31,30,31,30,31,31,30,31,30,31];function Rr(e,t,n){const r=ln(e,n?.in);return isNaN(t)?sn(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Ir(e,t,n){const r=On(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ln(e,n?.in),l=s.getDay(),o=7-a;return Rr(s,t<0||t>6?t-(l+o)%7:((t%7+7)%7+o)%7-(l+o)%7,n)}function Or(e,t){const n=ln(e,t?.in).getDay();return 0===n?7:n}function Fr(e,t,n){const r=ln(e,n?.in);return Rr(r,t-Or(r,n),n)}function Ur(e){const t=ln(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Br={G:new class extends Vn{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Vn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return hr(br(4,e),r);case"yo":return hr(n.ordinalNumber(e,{unit:"year"}),r);default:return hr(br(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=wr(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Vn{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return hr(br(4,e),r);case"Yo":return hr(n.ordinalNumber(e,{unit:"year"}),r);default:return hr(br(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=kr(e,r);if(n.isTwoDigitYear){const t=wr(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),jr(e,r)}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),jr(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Vn{priority=130;parse(e,t){return yr("R"===t?4:t.length,e)}set(e,t,n){const r=sn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Sr(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Vn{priority=130;parse(e,t){return yr("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Vn{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return br(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Vn{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return br(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Vn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return hr(fr(Hn,e),r);case"MM":return hr(br(2,e),r);case"Mo":return hr(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Vn{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return hr(fr(Hn,e),r);case"LL":return hr(br(2,e),r);case"Lo":return hr(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Vn{priority=100;parse(e,t,n){switch(t){case"w":return fr(qn,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return jr(Er(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Vn{priority=100;parse(e,t,n){switch(t){case"I":return fr(qn,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Sr(Ar(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Vn{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return fr(Wn,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return br(t.length,e)}}validate(e,t){const n=Nr(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Mr[r]:t>=1&&t<=Lr[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Vn{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return fr(Yn,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return br(t.length,e)}}validate(e,t){return Nr(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Vn{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ir(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Vn{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return hr(br(t.length,e),a);case"eo":return hr(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ir(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Vn{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return hr(br(t.length,e),a);case"co":return hr(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ir(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Vn{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return br(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return hr(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return hr(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return hr(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return hr(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Fr(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Vn{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vr(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Vn{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vr(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Vn{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vr(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Vn{priority=70;parse(e,t,n){switch(t){case"h":return fr(Jn,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Vn{priority=70;parse(e,t,n){switch(t){case"H":return fr(Gn,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Vn{priority=70;parse(e,t,n){switch(t){case"K":return fr(Qn,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Vn{priority=70;parse(e,t,n){switch(t){case"k":return fr(Kn,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Vn{priority=60;parse(e,t,n){switch(t){case"m":return fr(Xn,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Vn{priority=50;parse(e,t,n){switch(t){case"s":return fr(Zn,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends Vn{priority=30;parse(e,t){return hr(br(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends Vn{priority=10;parse(e,t){switch(t){case"X":return xr(cr,e);case"XX":return xr(dr,e);case"XXXX":return xr(ur,e);case"XXXXX":return xr(mr,e);default:return xr(pr,e)}}set(e,t,n){return t.timestampIsSet?e:sn(e,e.getTime()-Ur(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends Vn{priority=10;parse(e,t){switch(t){case"x":return xr(cr,e);case"xx":return xr(dr,e);case"xxxx":return xr(ur,e);case"xxxxx":return xr(mr,e);default:return xr(pr,e)}}set(e,t,n){return t.timestampIsSet?e:sn(e,e.getTime()-Ur(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends Vn{priority=40;parse(e){return gr(e)}set(e,t,n){return[sn(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Vn{priority=20;parse(e){return gr(e)}set(e,t,n){return[sn(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},$r=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vr=/^'([^]*?)'?$/,Hr=/''/g,Wr=/\S/,Yr=/[a-zA-Z]/;function qr(e,t,n,r){const a=()=>sn(r?.in||n,NaN),s=Fn(),l=r?.locale??s.locale??Dn,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():ln(n,r?.in);const c={firstWeekContainsDate:o,weekStartsOn:i,locale:l},d=[new zn(r?.in,n)],u=t.match(zr).map(e=>{const t=e[0];if(t in Cn){return(0,Cn[t])(e,l.formatLong)}return e}).join("").match($r),p=[];for(let x of u){!r?.useAdditionalWeekYearTokens&&Mn(x)&&Rn(x,t,e),!r?.useAdditionalDayOfYearTokens&&Ln(x)&&Rn(x,t,e);const n=x[0],s=Br[n];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=p.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${x}\` at the same time`)}else if("*"===s.incompatibleTokens&&p.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);p.push({token:n,fullToken:x});const r=s.run(e,x,l.match,c);if(!r)return a();d.push(r.setter),e=r.rest}else{if(n.match(Yr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===x?x="'":"'"===n&&(x=Gr(x)),0!==e.indexOf(x))return a();e=e.slice(x.length)}}if(e.length>0&&Wr.test(e))return a();const m=d.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>d.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let h=ln(n,r?.in);if(isNaN(+h))return a();const f={};for(const x of m){if(!x.validate(h,c))return a();const e=x.set(h,f,c);Array.isArray(e)?(h=e[0],Object.assign(f,e[1])):h=e}return h}function Gr(e){return e.match(Vr)[1].replace(Hr,"'")}function Kr(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Qr(e){return!(!Kr(e)&&"number"!==typeof e||isNaN(+ln(e)))}function Jr(e,t){return+ln(e)<+ln(t)}function Xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=sn.bind(null,e||n.find(e=>"object"===typeof e));return n.map(a)}function Zr(e,t){const n=ln(e,t?.in);return n.setHours(0,0,0,0),n}function ea(e,t,n){const[r,a]=Xr(n?.in,e,t),s=Zr(r),l=Zr(a),o=+s-Ur(s),i=+l-Ur(l);return Math.round((o-i)/864e5)}function ta(e,t){const n=ln(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function na(e,t){const n=ln(e,t?.in);return ea(n,ta(n))+1}function ra(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const aa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ra("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):ra(n+1,2)},d:(e,t)=>ra(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ra(e.getHours()%12||12,t.length),H:(e,t)=>ra(e.getHours(),t.length),m:(e,t)=>ra(e.getMinutes(),t.length),s:(e,t)=>ra(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return ra(Math.trunc(r*Math.pow(10,n-3)),t.length)}},sa="midnight",la="noon",oa="morning",ia="afternoon",ca="evening",da="night",ua={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return aa.y(e,t)},Y:function(e,t,n,r){const a=kr(e,r),s=a>0?a:1-a;if("YY"===t){return ra(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):ra(s,t.length)},R:function(e,t){return ra(Cr(e),t.length)},u:function(e,t){return ra(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ra(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ra(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return aa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ra(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Tr(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):ra(a,t.length)},I:function(e,t,n){const r=_r(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):ra(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):aa.d(e,t)},D:function(e,t,n){const r=na(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):ra(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ra(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ra(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return ra(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?la:0===r?sa:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?ca:r>=12?ia:r>=4?oa:da,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return aa.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):aa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):ra(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):ra(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):aa.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):aa.s(e,t)},S:function(e,t){return aa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return ma(r);case"XXXX":case"XX":return ha(r);default:return ha(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ma(r);case"xxxx":case"xx":return ha(r);default:return ha(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pa(r,":");default:return"GMT"+ha(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pa(r,":");default:return"GMT"+ha(r,":")}},t:function(e,t,n){return ra(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return ra(+e,t.length)}};function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+ra(s,2)}function ma(e,t){if(e%60===0){return(e>0?"-":"+")+ra(Math.abs(e)/60,2)}return ha(e,t)}function ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+ra(Math.trunc(r/60),2)+t+ra(r%60,2)}const fa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ga=/^'([^]*?)'?$/,ba=/''/g,ya=/[a-zA-Z]/;function va(e,t,n){const r=On(),a=n?.locale??r.locale??Dn,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ln(e,n?.in);if(!Qr(o))throw new RangeError("Invalid time value");let i=t.match(xa).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Cn[t])(e,a.formatLong)}return e}).join("").match(fa).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:wa(e)};if(ua[t])return{isToken:!0,value:e};if(t.match(ya))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(i=a.localize.preprocessor(o,i));const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return i.map(r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&Mn(s)||!n?.useAdditionalDayOfYearTokens&&Ln(s))&&Rn(s,t,String(e));return(0,ua[s[0]])(o,s,a.localize,c)}).join("")}function wa(e){const t=e.match(ga);return t?t[1].replace(ba,"'"):e}function Na(e,t,n){const r=ln(e,n?.in);return r.setHours(t),r}function ja(e,t,n){const r=ln(e,n?.in);return r.setMinutes(t),r}function ka(e,t,n){const r=ln(e,n?.in);return r.setSeconds(t),r}function Sa(e,t){const n=ln(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Da(e,t){const n=ln(e,t?.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function Ta(e,t){const n=ln(e,t?.in);return n.setHours(23,59,59,999),n}function Ea(e,t){const n=On(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ln(e,t?.in),s=a.getDay(),l=6+(s<r?-7:0)-(s-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function Ca(e,t){const n=ln(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Pa(e,t,n){const[r,a]=Xr(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function _a(e,t,n){const[r,a]=Xr(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Aa(e,t,n){const[r,a]=Xr(n?.in,e,t);return+Da(r)===+Da(a)}function La(e,t,n){const[r,a]=Xr(n?.in,e,t);return+Zr(r)===+Zr(a)}function Ma(e,t){return+ln(e)===+ln(t)}function Ra(e,t,n){const r=+ln(e,n?.in),[a,s]=[+ln(t.start,n?.in),+ln(t.end,n?.in)].sort((e,t)=>e-t);return r>=a&&r<=s}function Ia(e,t){const n=ln(e,t?.in),r=n.getFullYear(),a=n.getMonth(),s=sn(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Oa(e,t,n){const r=ln(e,n?.in),a=r.getFullYear(),s=r.getDate(),l=sn(n?.in||e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const o=Ia(l);return r.setMonth(t,Math.min(s,o)),r}function Fa(e,t,n){const r=ln(e,n?.in),a=t-(Math.trunc(r.getMonth()/3)+1);return Oa(r,r.getMonth()+3*a)}function Ua(e,t){return ln(e,t?.in).getFullYear()}function Ba(e,t){return ln(e,t?.in).getMonth()}function $a(e,t){const n=ln(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function za(e,t){const n=ln(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Va(e,t){return ln(e,t?.in).getHours()}function Ha(e,t){return ln(e,t?.in).getMinutes()}function Wa(e){return ln(e).getSeconds()}function Ya(e,t,n){const r=ln(e,n?.in);if(isNaN(t))return sn(n?.in||e,NaN);if(!t)return r;const a=r.getDate(),s=sn(n?.in||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);return a>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function qa(e,t,n){return Ya(e,-t,n)}function Ga(e,t,n){const[r,a]=Xr(n?.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function Ka(e,t,n){return Ya(e,3*t,n)}function Qa(e,t,n){return Ka(e,-t,n)}function Ja(e,t,n){const[r,a]=Xr(n?.in,e,t);return 4*(r.getFullYear()-a.getFullYear())+(za(r)-za(a))}function Xa(e,t,n){return Ya(e,12*t,n)}function Za(e,t,n){return Xa(e,-t,n)}function es(e,t,n){const[r,a]=Xr(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function ts(e,t){let n,r=t?.in;return e.forEach(e=>{r||"object"!==typeof e||(r=sn.bind(null,e));const t=ln(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),sn(r,n||NaN)}function ns(e,t){let n,r=t?.in;return e.forEach(e=>{r||"object"!==typeof e||(r=sn.bind(null,e));const t=ln(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),sn(r,n||NaN)}function rs(e,t,n){return sn(n?.in||e,+ln(e)+t)}function as(e,t,n){return rs(e,t*rn,n)}function ss(e,t,n){const r=ln(e,n?.in);return r.setTime(r.getTime()+t*nn),r}function ls(e,t,n){return rs(e,1e3*t,n)}function os(e,t){return+ln(e)>+ln(t)}function is(e,t){return ln(e,t?.in).getDay()}function cs(e,t){return ln(e,t?.in).getDate()}function ds(e,t,n){return Rr(e,7*t,n)}function us(e){return+ln(e)}function ps(e,t,n){const r=ln(e,n?.in);return isNaN(+r)?sn(n?.in||e,NaN):(r.setFullYear(t),r)}function ms(e,t,n){const[r,a]=Xr(n?.in,e,t),s=hs(r,a),l=Math.abs(ea(r,a));r.setDate(r.getDate()-s*l);const o=s*(l-Number(hs(r,a)===-s));return 0===o?0:o}function hs(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function fs(e,t,n){return ds(e,-t,n)}function xs(e,t,n){return Rr(e,-t,n)}var gs="undefined"!==typeof document?s.useLayoutEffect:function(){};const bs={...l}.useInsertionEffect||(e=>e());function ys(){return"undefined"!==typeof window}function vs(e){return js(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ns(e){var t;return null==(t=(js(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function js(e){return!!ys()&&(e instanceof Node||e instanceof ws(e).Node)}function ks(e){return!!ys()&&(e instanceof Element||e instanceof ws(e).Element)}function Ss(e){return!!ys()&&(e instanceof HTMLElement||e instanceof ws(e).HTMLElement)}function Ds(e){return!(!ys()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot)}const Ts=new Set(["inline","contents"]);function Es(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ts.has(a)}const Cs=new Set(["table","td","th"]);function Ps(e){return Cs.has(vs(e))}const _s=[":popover-open",":modal"];function As(e){return _s.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const Ls=["transform","translate","scale","rotate","perspective"],Ms=["transform","translate","scale","rotate","perspective","filter"],Rs=["paint","layout","strict","content"];function Is(e){const t=Os(),n=ks(e)?Bs(e):e;return Ls.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Ms.some(e=>(n.willChange||"").includes(e))||Rs.some(e=>(n.contain||"").includes(e))}function Os(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Fs=new Set(["html","body","#document"]);function Us(e){return Fs.has(vs(e))}function Bs(e){return ws(e).getComputedStyle(e)}function $s(e){return ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zs(e){if("html"===vs(e))return e;const t=e.assignedSlot||e.parentNode||Ds(e)&&e.host||Ns(e);return Ds(t)?t.host:t}function Vs(e){const t=zs(e);return Us(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ss(t)&&Es(t)?t:Vs(t)}function Hs(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Vs(e),s=a===(null==(r=e.ownerDocument)?void 0:r.body),l=ws(a);if(s){const e=Ws(l);return t.concat(l,l.visualViewport||[],Es(a)?a:[],e&&n?Hs(e):[])}return t.concat(a,Hs(a,[],n))}function Ws(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ys=Math.min,qs=Math.max,Gs=Math.round,Ks=Math.floor,Qs=e=>({x:e,y:e}),Js={left:"right",right:"left",bottom:"top",top:"bottom"},Xs={start:"end",end:"start"};function Zs(e,t){return"function"===typeof e?e(t):e}function el(e){return e.split("-")[0]}function tl(e){return e.split("-")[1]}function nl(e){return"y"===e?"height":"width"}const rl=new Set(["top","bottom"]);function al(e){return rl.has(el(e))?"y":"x"}function sl(e){return"x"===al(e)?"y":"x"}function ll(e){return e.replace(/start|end/g,e=>Xs[e])}const ol=["left","right"],il=["right","left"],cl=["top","bottom"],dl=["bottom","top"];function ul(e,t,n,r){const a=tl(e);let s=function(e,t,n){switch(e){case"top":case"bottom":return n?t?il:ol:t?ol:il;case"left":case"right":return t?cl:dl;default:return[]}}(el(e),"start"===n,r);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(ll)))),s}function pl(e){return e.replace(/left|right|bottom|top/g,e=>Js[e])}function ml(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function hl(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function fl(e,t,n){let{reference:r,floating:a}=e;const s=al(t),l=sl(t),o=nl(l),i=el(t),c="y"===s,d=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,p=r[o]/2-a[o]/2;let m;switch(i){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-a.width,y:u};break;default:m={x:r.x,y:r.y}}switch(tl(t)){case"start":m[l]-=p*(n&&c?-1:1);break;case"end":m[l]+=p*(n&&c?-1:1)}return m}async function xl(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:s,rects:l,elements:o,strategy:i}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Zs(t,e),h=ml(m),f=o[p?"floating"===u?"reference":"floating":u],x=hl(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:i})),g="floating"===u?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,b=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),y=await(null==s.isElement?void 0:s.isElement(b))&&await(null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},v=hl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:b,strategy:i}):g);return{top:(x.top-v.top+h.top)/y.y,bottom:(v.bottom-x.bottom+h.bottom)/y.y,left:(x.left-v.left+h.left)/y.x,right:(v.right-x.right+h.right)/y.x}}const gl=new Set(["left","top"]);function bl(e){const t=Bs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ss(e),s=a?e.offsetWidth:n,l=a?e.offsetHeight:r,o=Gs(n)!==s||Gs(r)!==l;return o&&(n=s,r=l),{width:n,height:r,$:o}}function yl(e){return ks(e)?e:e.contextElement}function vl(e){const t=yl(e);if(!Ss(t))return Qs(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=bl(t);let l=(s?Gs(n.width):n.width)/r,o=(s?Gs(n.height):n.height)/a;return l&&Number.isFinite(l)||(l=1),o&&Number.isFinite(o)||(o=1),{x:l,y:o}}const wl=Qs(0);function Nl(e){const t=ws(e);return Os()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:wl}function jl(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),s=yl(e);let l=Qs(1);t&&(r?ks(r)&&(l=vl(r)):l=vl(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ws(e))&&t}(s,n,r)?Nl(s):Qs(0);let i=(a.left+o.x)/l.x,c=(a.top+o.y)/l.y,d=a.width/l.x,u=a.height/l.y;if(s){const e=ws(s),t=r&&ks(r)?ws(r):r;let n=e,a=Ws(n);for(;a&&r&&t!==n;){const e=vl(a),t=a.getBoundingClientRect(),r=Bs(a),s=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,l=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;i*=e.x,c*=e.y,d*=e.x,u*=e.y,i+=s,c+=l,n=ws(a),a=Ws(n)}}return hl({width:d,height:u,x:i,y:c})}function kl(e,t){const n=$s(e).scrollLeft;return t?t.left+n:jl(Ns(e)).left+n}function Sl(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:kl(e,r)),y:r.top+t.scrollTop}}const Dl=new Set(["absolute","fixed"]);function Tl(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ws(e),r=Ns(e),a=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,o=0,i=0;if(a){s=a.width,l=a.height;const e=Os();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,i=a.offsetTop)}return{width:s,height:l,x:o,y:i}}(e,n);else if("document"===t)r=function(e){const t=Ns(e),n=$s(e),r=e.ownerDocument.body,a=qs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=qs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+kl(e);const o=-n.scrollTop;return"rtl"===Bs(r).direction&&(l+=qs(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:l,y:o}}(Ns(e));else if(ks(t))r=function(e,t){const n=jl(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Ss(e)?vl(e):Qs(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:r*s.y}}(t,n);else{const n=Nl(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return hl(r)}function El(e,t){const n=zs(e);return!(n===t||!ks(n)||Us(n))&&("fixed"===Bs(n).position||El(n,t))}function Cl(e,t,n){const r=Ss(t),a=Ns(t),s="fixed"===n,l=jl(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const i=Qs(0);function c(){i.x=kl(a)}if(r||!r&&!s)if(("body"!==vs(t)||Es(a))&&(o=$s(t)),r){const e=jl(t,!0,s,t);i.x=e.x+t.clientLeft,i.y=e.y+t.clientTop}else a&&c();s&&!r&&a&&c();const d=!a||r||s?Qs(0):Sl(a,o);return{x:l.left+o.scrollLeft-i.x-d.x,y:l.top+o.scrollTop-i.y-d.y,width:l.width,height:l.height}}function Pl(e){return"static"===Bs(e).position}function _l(e,t){if(!Ss(e)||"fixed"===Bs(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ns(e)===n&&(n=n.ownerDocument.body),n}function Al(e,t){const n=ws(e);if(As(e))return n;if(!Ss(e)){let t=zs(e);for(;t&&!Us(t);){if(ks(t)&&!Pl(t))return t;t=zs(t)}return n}let r=_l(e,t);for(;r&&Ps(r)&&Pl(r);)r=_l(r,t);return r&&Us(r)&&Pl(r)&&!Is(r)?n:r||function(e){let t=zs(e);for(;Ss(t)&&!Us(t);){if(Is(t))return t;if(As(t))return null;t=zs(t)}return null}(e)||n}const Ll={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s="fixed"===a,l=Ns(r),o=!!t&&As(t.floating);if(r===l||o&&s)return n;let i={scrollLeft:0,scrollTop:0},c=Qs(1);const d=Qs(0),u=Ss(r);if((u||!u&&!s)&&(("body"!==vs(r)||Es(l))&&(i=$s(r)),Ss(r))){const e=jl(r);c=vl(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!l||u||s?Qs(0):Sl(l,i,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-i.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-i.scrollTop*c.y+d.y+p.y}},getDocumentElement:Ns,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[..."clippingAncestors"===n?As(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Hs(e,[],!1).filter(e=>ks(e)&&"body"!==vs(e)),a=null;const s="fixed"===Bs(e).position;let l=s?zs(e):e;for(;ks(l)&&!Us(l);){const t=Bs(l),n=Is(l);n||"fixed"!==t.position||(a=null),(s?!n&&!a:!n&&"static"===t.position&&a&&Dl.has(a.position)||Es(l)&&!n&&El(e,l))?r=r.filter(e=>e!==l):a=t,l=zs(l)}return t.set(e,r),r}(t,this._c):[].concat(n),r],l=s[0],o=s.reduce((e,n)=>{const r=Tl(t,n,a);return e.top=qs(r.top,e.top),e.right=Ys(r.right,e.right),e.bottom=Ys(r.bottom,e.bottom),e.left=qs(r.left,e.left),e},Tl(t,l,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Al,getElementRects:async function(e){const t=this.getOffsetParent||Al,n=this.getDimensions,r=await n(e.floating);return{reference:Cl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=bl(e);return{width:t,height:n}},getScale:vl,isElement:ks,isRTL:function(e){return"rtl"===Bs(e).direction}};function Ml(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rl(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:i=!1}=r,c=yl(e),d=a||s?[...c?Hs(c):[],...Hs(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const u=c&&o?function(e,t){let n,r=null;const a=Ns(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function l(o,i){void 0===o&&(o=!1),void 0===i&&(i=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:m}=c;if(o||t(),!p||!m)return;const h={rootMargin:-Ks(u)+"px "+-Ks(a.clientWidth-(d+p))+"px "+-Ks(a.clientHeight-(u+m))+"px "+-Ks(d)+"px",threshold:qs(0,Ys(1,i))||1};let f=!0;function x(t){const r=t[0].intersectionRatio;if(r!==i){if(!f)return l();r?l(!1,r):n=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==r||Ml(c,e.getBoundingClientRect())||l(),f=!1}try{r=new IntersectionObserver(x,{...h,root:a.ownerDocument})}catch(g){r=new IntersectionObserver(x,h)}r.observe(e)}(!0),s}(c,n):null;let p,m=-1,h=null;l&&(h=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),n()}),c&&!i&&h.observe(c),h.observe(t));let f=i?jl(e):null;return i&&function t(){const r=jl(e);f&&!Ml(f,r)&&n();f=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=h)||e.disconnect(),h=null,i&&cancelAnimationFrame(p)}}const Il=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:l,middlewareData:o}=t,i=await async function(e,t){const{placement:n,platform:r,elements:a}=e,s=await(null==r.isRTL?void 0:r.isRTL(a.floating)),l=el(n),o=tl(n),i="y"===al(n),c=gl.has(l)?-1:1,d=s&&i?-1:1,u=Zs(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof h&&(m="end"===o?-1*h:h),i?{x:m*d,y:p*c}:{x:p*c,y:m*d}}(t,e);return l===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:a+i.x,y:s+i.y,data:{...i,placement:l}}}}},Ol=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:l,initialPlacement:o,platform:i,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:f=!0,...x}=Zs(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const g=el(a),b=al(o),y=el(o)===o,v=await(null==i.isRTL?void 0:i.isRTL(c.floating)),w=p||(y||!f?[pl(o)]:function(e){const t=pl(e);return[ll(e),t,ll(t)]}(o)),N="none"!==h;!p&&N&&w.push(...ul(o,f,h,v));const j=[o,...w],k=await xl(t,x),S=[];let D=(null==(r=s.flip)?void 0:r.overflows)||[];if(d&&S.push(k[g]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=tl(e),a=sl(e),s=nl(a);let l="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=pl(l)),[l,pl(l)]}(a,l,v);S.push(k[e[0]],k[e[1]])}if(D=[...D,{placement:a,overflows:S}],!S.every(e=>e<=0)){var T,E;const e=((null==(T=s.flip)?void 0:T.index)||0)+1,t=j[e];if(t){if(!("alignment"===u&&b!==al(t))||D.every(e=>e.overflows[0]>0&&al(e.placement)===b))return{data:{index:e,overflows:D},reset:{placement:t}}}let n=null==(E=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(m){case"bestFit":{var C;const e=null==(C=D.filter(e=>{if(N){const t=al(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=o}if(a!==n)return{reset:{placement:n}}}return{}}}},Fl=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:l,elements:o,middlewareData:i}=t,{element:c,padding:d=0}=Zs(e,t)||{};if(null==c)return{};const u=ml(d),p={x:n,y:r},m=sl(a),h=nl(m),f=await l.getDimensions(c),x="y"===m,g=x?"top":"left",b=x?"bottom":"right",y=x?"clientHeight":"clientWidth",v=s.reference[h]+s.reference[m]-p[m]-s.floating[h],w=p[m]-s.reference[m],N=await(null==l.getOffsetParent?void 0:l.getOffsetParent(c));let j=N?N[y]:0;j&&await(null==l.isElement?void 0:l.isElement(N))||(j=o.floating[y]||s.floating[h]);const k=v/2-w/2,S=j/2-f[h]/2-1,D=Ys(u[g],S),T=Ys(u[b],S),E=D,C=j-f[h]-T,P=j/2-f[h]/2+k,_=qs(E,Ys(P,C));const A=!i.arrow&&null!=tl(a)&&P!==_&&s.reference[h]/2-(P<E?D:T)-f[h]/2<0,L=A?P<E?P-E:P-C:0;return{[m]:p[m]+L,data:{[m]:_,centerOffset:P-_-L,...A&&{alignmentOffset:L}},reset:A}}}),Ul=(e,t,n)=>{const r=new Map,a={platform:Ll,...n},s={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:l}=n,o=s.filter(Boolean),i=await(null==l.isRTL?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=fl(c,r,i),p=r,m={},h=0;for(let f=0;f<o.length;f++){const{name:n,fn:s}=o[f],{x:x,y:g,data:b,reset:y}=await s({x:d,y:u,initialPlacement:r,placement:p,strategy:a,middlewareData:m,rects:c,platform:l,elements:{reference:e,floating:t}});d=null!=x?x:d,u=null!=g?g:u,m={...m,[n]:{...m[n],...b}},y&&h<=50&&(h++,"object"===typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await l.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:d,y:u}=fl(c,p,i))),f=-1)}return{x:d,y:u,placement:p,strategy:a,middlewareData:m}})(e,t,{...a,platform:s})};var Bl="undefined"!==typeof document?s.useLayoutEffect:function(){};function $l(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!$l(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!$l(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function zl(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vl(e,t){const n=zl(e);return Math.round(t*n)/n}function Hl(e){const t=s.useRef(e);return Bl(()=>{t.current=e}),t}const Wl=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(a=n,{}.hasOwnProperty.call(a,"current"))?null!=n.current?Fl({element:n.current,padding:r}).fn(t):{}:n?Fl({element:n,padding:r}).fn(t):{};var a}}),Yl=(e,t)=>({...Il(e),options:[e,t]}),ql=(e,t)=>({...Wl(e),options:[e,t]});const Gl="ArrowLeft",Kl="ArrowRight",Ql="ArrowUp",Jl="ArrowDown";const Xl=[Gl,Kl],Zl=[Ql,Jl],eo={...l};let to=!1,no=0;const ro=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+no++;const ao=eo.useId||function(){const[e,t]=s.useState(()=>to?ro():void 0);return gs(()=>{null==e&&t(ro())},[]),s.useEffect(()=>{to=!0},[]),e};const so=s.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:a,shift:l}},width:o=14,height:i=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:u,stroke:p,d:m,style:{transform:h,...f}={},...x}=e;const g=ao(),[b,y]=s.useState(!1);if(gs(()=>{if(!r)return;"rtl"===Bs(r).direction&&y(!0)},[r]),!r)return null;const[v,w]=n.split("-"),N="top"===v||"bottom"===v;let j=u;(N&&null!=l&&l.x||!N&&null!=l&&l.y)&&(j=null);const k=2*d,S=k/2,D=o/2*(c/-8+1),T=i/2*c/4,E=!!m,C=j&&"end"===w?"bottom":"top";let P=j&&"end"===w?"right":"left";j&&b&&(P="end"===w?"left":"right");const _=null!=(null==a?void 0:a.x)?j||a.x:"",A=null!=(null==a?void 0:a.y)?j||a.y:"",L=m||"M0,0 H"+o+" L"+(o-D)+","+(i-T)+" Q"+o/2+","+i+" "+D+","+(i-T)+" Z",M={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[v];return(0,qe.jsxs)("svg",{...x,"aria-hidden":!0,ref:t,width:E?o:o+k,height:o,viewBox:"0 0 "+o+" "+(i>o?i:o),style:{position:"absolute",pointerEvents:"none",[P]:_,[C]:A,[v]:N||E?"100%":"calc(100% - "+k/2+"px)",transform:[M,h].filter(e=>!!e).join(" "),...f},children:[k>0&&(0,qe.jsx)("path",{clipPath:"url(#"+g+")",fill:"none",stroke:p,strokeWidth:k+(m?0:1),d:L}),(0,qe.jsx)("path",{stroke:k&&!m?x.fill:"none",d:L}),(0,qe.jsx)("clipPath",{id:g,children:(0,qe.jsx)("rect",{x:-S,y:S*(E?-1:1),width:o+k,height:o})})]})});function lo(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const oo=s.createContext(null),io=s.createContext(null),co=()=>{var e;return(null==(e=s.useContext(oo))?void 0:e.id)||null},uo=()=>s.useContext(io);function po(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=ao(),l=s.useRef({}),[o]=s.useState(()=>lo()),i=null!=co();const[c,d]=s.useState(r.reference),u=function(e){const t=s.useRef(()=>{});return bs(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{l.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:i}),null==n||n(e,t,r)}),p=s.useMemo(()=>({setPositionReference:d}),[]),m=s.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return s.useMemo(()=>({dataRef:l,open:t,onOpenChange:u,elements:m,events:o,floatingId:a,refs:p}),[t,u,m,o,a,p])}function mo(e){void 0===e&&(e={});const{nodeId:t}=e,n=po({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[l,o]=s.useState(null),[i,c]=s.useState(null),d=(null==a?void 0:a.domReference)||l,u=s.useRef(null),p=uo();gs(()=>{d&&(u.current=d)},[d]);const m=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:o}={},transform:i=!0,whileElementsMounted:c,open:d}=e,[u,p]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=s.useState(r);$l(m,r)||h(r);const[f,x]=s.useState(null),[g,b]=s.useState(null),y=s.useCallback(e=>{e!==j.current&&(j.current=e,x(e))},[]),v=s.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),w=l||f,N=o||g,j=s.useRef(null),k=s.useRef(null),S=s.useRef(u),D=null!=c,T=Hl(c),E=Hl(a),C=Hl(d),P=s.useCallback(()=>{if(!j.current||!k.current)return;const e={placement:t,strategy:n,middleware:m};E.current&&(e.platform=E.current),Ul(j.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==C.current};_.current&&!$l(S.current,t)&&(S.current=t,we.flushSync(()=>{p(t)}))})},[m,t,n,E,C]);Bl(()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[d]);const _=s.useRef(!1);Bl(()=>(_.current=!0,()=>{_.current=!1}),[]),Bl(()=>{if(w&&(j.current=w),N&&(k.current=N),w&&N){if(T.current)return T.current(w,N,P);P()}},[w,N,P,T,D]);const A=s.useMemo(()=>({reference:j,floating:k,setReference:y,setFloating:v}),[y,v]),L=s.useMemo(()=>({reference:w,floating:N}),[w,N]),M=s.useMemo(()=>{const e={position:n,left:0,top:0};if(!L.floating)return e;const t=Vl(L.floating,u.x),r=Vl(L.floating,u.y);return i?{...e,transform:"translate("+t+"px, "+r+"px)",...zl(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,i,L.floating,u.x,u.y]);return s.useMemo(()=>({...u,update:P,refs:A,elements:L,floatingStyles:M}),[u,P,A,L,M])}({...e,elements:{...a,...i&&{reference:i}}}),h=s.useCallback(e=>{const t=ks(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),m.refs.setReference(t)},[m.refs]),f=s.useCallback(e=>{(ks(e)||null===e)&&(u.current=e,o(e)),(ks(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!ks(e))&&m.refs.setReference(e)},[m.refs]),x=s.useMemo(()=>({...m.refs,setReference:f,setPositionReference:h,domReference:u}),[m.refs,f,h]),g=s.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),b=s.useMemo(()=>({...m,...r,refs:x,elements:g,nodeId:t}),[m,x,g,t,r]);return gs(()=>{r.dataRef.current.floatingContext=b;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),s.useMemo(()=>({...m,context:b,refs:x,elements:g}),[m,x,g,b])}var ho=function(e,t){return ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ho(e,t)};function fo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ho(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xo=function(){return xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xo.apply(this,arguments)};function go(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var bo,yo=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,a=void 0!==r&&r,l=e.className,o=e.children,i=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return s.createElement("div",{className:l,role:"dialog","aria-label":i,"aria-modal":"true"},o)},vo=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,l=e.style,o=function(e,t){var n=(0,s.useRef)(null),r=(0,s.useRef)(e);r.current=e;var a=(0,s.useCallback)(function(e){var a,s=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(s)&&(t&&s instanceof HTMLElement&&s.classList.contains(t)||null===(a=r.current)||void 0===a||a.call(r,e))},[t]);return(0,s.useEffect)(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n}(n,e.ignoreClass);return s.createElement("div",{className:r,style:l,ref:function(e){o.current=e,a&&(a.current=e)}},t)};function wo(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(bo||(bo={}));function No(e){if(null==e)return new Date;var t="string"===typeof e?on(e):ln(e);return ko(t)?t:new Date}function jo(e,t,n,r,a){void 0===a&&(a=No());for(var s=Vo(n)||Vo(zo()),l=0,o=Array.isArray(t)?t:[t];l<o.length;l++){var i=o[l],c=qr(e,i,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ko(c)&&(!r||e===So(c,i,n)))return c}return null}function ko(e,t){return Qr(e)&&!Jr(e,new Date("1/1/1800"))}function So(e,t,n){if("en"===n)return va(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Vo(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),va(e,t,{locale:r=r||Vo(zo()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Do(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&So(e,a,r)||""}function To(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,s=void 0===a?0:a,l=t.second;return Na(ja(ka(e,void 0===l?0:l),s),r)}function Eo(e){return Zr(e)}function Co(e,t,n){return jr(e,{locale:Vo(t||zo()),weekStartsOn:n})}function Po(e){return Sa(e)}function _o(e){return ta(e)}function Ao(e){return Da(e)}function Lo(){return Zr(No())}function Mo(e){return Ta(e)}function Ro(e){return Ca(e)}function Io(e,t){return e&&t?Pa(e,t):!e&&!t}function Oo(e,t){return e&&t?_a(e,t):!e&&!t}function Fo(e,t){return e&&t?Aa(e,t):!e&&!t}function Uo(e,t){return e&&t?La(e,t):!e&&!t}function Bo(e,t){return e&&t?Ma(e,t):!e&&!t}function $o(e,t,n){var r,a=Zr(t),s=Ta(n);try{r=Ra(e,{start:a,end:s})}catch(l){r=!1}return r}function zo(){return wo().__localeId__}function Vo(e){if("string"===typeof e){var t=wo();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Ho(e,t){return So(Oa(No(),e),"LLLL",t)}function Wo(e,t){return So(Oa(No(),e),"LLL",t)}function Yo(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,l=n.excludeDateIntervals,o=n.includeDates,i=n.includeDateIntervals,c=n.filterDate;return ti(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return t instanceof Date?Uo(e,t):Uo(e,t.date)})||l&&l.some(function(t){var n=t.start,r=t.end;return Ra(e,{start:n,end:r})})||o&&!o.some(function(t){return Uo(e,t)})||i&&!i.some(function(t){var n=t.start,r=t.end;return Ra(e,{start:n,end:r})})||c&&!c(No(e))||!1}function qo(e,t){var n=void 0===t?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(t){var n=t.start,r=t.end;return Ra(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?Uo(e,t):Uo(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function Go(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,l=n.includeDates,o=n.filterDate;return ti(e,{minDate:r?Sa(r):void 0,maxDate:a?Ca(a):void 0})||(null===s||void 0===s?void 0:s.some(function(t){return Oo(e,t instanceof Date?t:t.date)}))||l&&!l.some(function(t){return Oo(e,t)})||o&&!o(No(e))||!1}function Ko(e,t,n,r){var a=Ua(e),s=Ba(e),l=Ua(t),o=Ba(t),i=Ua(r);return a===l&&a===i?s<=n&&n<=o:a<l&&(i===a&&s<=n||i===l&&o>=n||i<l&&i>a)}function Qo(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,l=n.includeDates;return ti(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return Oo(t instanceof Date?t:t.date,e)})||l&&!l.some(function(t){return Oo(t,e)})||!1}function Jo(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,l=n.includeDates,o=n.filterDate;return ti(e,{minDate:r,maxDate:a})||(null===s||void 0===s?void 0:s.some(function(t){return Fo(e,t instanceof Date?t:t.date)}))||l&&!l.some(function(t){return Fo(e,t)})||o&&!o(No(e))||!1}function Xo(e,t,n){if(!t||!n)return!1;if(!Qr(t)||!Qr(n))return!1;var r=Ua(t),a=Ua(n);return r<=e&&a>=e}function Zo(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,l=n.includeDates,o=n.filterDate,i=new Date(e,0,1);return ti(i,{minDate:r?ta(r):void 0,maxDate:a?$a(a):void 0})||(null===s||void 0===s?void 0:s.some(function(e){return Io(i,e instanceof Date?e:e.date)}))||l&&!l.some(function(e){return Io(i,e)})||o&&!o(No(i))||!1}function ei(e,t,n,r){var a=Ua(e),s=za(e),l=Ua(t),o=za(t),i=Ua(r);return a===l&&a===i?s<=n&&n<=o:a<l&&(i===a&&s<=n||i===l&&o>=n||i<l&&i>a)}function ti(e,t){var n,r=void 0===t?{}:t,a=r.minDate,s=r.maxDate;return null!==(n=a&&ea(e,a)<0||s&&ea(e,s)>0)&&void 0!==n&&n}function ni(e,t){return t.some(function(t){return Va(t)===Va(e)&&Ha(t)===Ha(e)&&Wa(t)===Wa(e)})}function ri(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&ni(e,r)||a&&!ni(e,a)||s&&!s(e)||!1}function ai(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=No();a=ka(a=ja(a=Na(a,Va(e)),Ha(e)),Wa(e));var s=No();s=ka(s=ja(s=Na(s,Va(n)),Ha(n)),Wa(n));var l,o=No();o=ka(o=ja(o=Na(o,Va(r)),Ha(r)),Wa(r));try{l=!Ra(a,{start:s,end:o})}catch(i){l=!1}return l}function si(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=qa(e,1);return r&&Ga(r,s)>0||a&&a.every(function(e){return Ga(e,s)>0})||!1}function li(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Ya(e,1);return r&&Ga(s,r)>0||a&&a.every(function(e){return Ga(s,e)>0})||!1}function oi(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Za(e,1);return r&&es(r,s)>0||a&&a.every(function(e){return es(e,s)>0})||!1}function ii(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Xa(e,1);return r&&es(s,r)>0||a&&a.every(function(e){return es(s,e)>0})||!1}function ci(e){var t=e.minDate,n=e.includeDates;return n&&t?ts(n.filter(function(e){return ea(e,t)>=0})):n?ts(n):t}function di(e){var t=e.maxDate,n=e.includeDates;return n&&t?ns(n.filter(function(e){return ea(e,t)<=0})):n?ns(n):t}function ui(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var l=e[a];if(Kr(l)){var o=So(l,"MM.dd.yyyy");(m=r.get(o)||[]).includes(t)||(m.push(t),r.set(o,m))}else if("object"===typeof l){var i=null!==(n=Object.keys(l)[0])&&void 0!==n?n:"",c=l[i];if("string"===typeof i&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var p=c[d];if(p){var m;o=So(p,"MM.dd.yyyy");(m=r.get(o)||[]).includes(i)||(m.push(i),r.set(o,m))}}}}return r}function pi(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,a=e.holidayName;if(Kr(r)){var s=So(r,"MM.dd.yyyy"),l=n.get(s)||{className:"",holidayNames:[]};if(!("className"in l)||l.className!==t||(o=l.holidayNames,i=[a],o.length!==i.length||!o.every(function(e,t){return e===i[t]}))){var o,i;l.className=t;var c=l.holidayNames;l.holidayNames=c?go(go([],c,!0),[a],!1):[a],n.set(s,l)}}}),n}function mi(e,t,n,r,a){for(var s=a.length,l=[],o=0;o<s;o++){var i=e,c=a[o];c&&(i=ls(i=ss(i=as(i,Va(c)),Ha(c)),Wa(c)));var d=ss(e,(n+1)*r);os(i,t)&&Jr(i,d)&&void 0!=c&&l.push(c)}return l}function hi(e){return e<10?"0".concat(e):"".concat(e)}function fi(e,t){void 0===t&&(t=12);var n=Math.ceil(Ua(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function xi(e){var t=e.getSeconds(),n=e.getMilliseconds();return ln(e.getTime()-1e3*t-n)}function gi(e){if(!Kr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function bi(e,t){if(!Kr(e)||!Kr(t))throw new Error("Invalid date received");return Jr(gi(e),gi(t))}function yi(e){return e.key===bo.Space}var vi,wi=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=s.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,s=a instanceof Date&&!isNaN(+a)?a:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var l=e.split(":"),o=l[0],i=l[1];s.setHours(Number(o)),s.setMinutes(Number(i))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,s)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,a=t.timeString,l=t.customTimeInput;return l?(0,s.cloneElement)(l,{date:r,value:e,onChange:n.onTimeChange}):s.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||a)}})},n.state={time:n.props.timeString},n}return fo(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return s.createElement("div",{className:"react-datepicker__input-time-container"},s.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),s.createElement("div",{className:"react-datepicker-time__input-container"},s.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(s.Component),Ni=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,s.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===bo.Space&&(e.preventDefault(),e.key=bo.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Uo(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),Yo(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return qo(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Uo(t.props.day,Co(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Uo(e,Co(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var a=So(n,"MM.dd.yyyy");return r.get(a)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,a=n.holidays;if(!a)return[void 0];var s=So(r,"MM.dd.yyyy");return a.has(s)?[null===(e=a.get(s))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&$o(n,r,a)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,a=n.selectsStart,s=n.selectsEnd,l=n.selectsRange,o=n.selectsDisabledDaysInRange,i=n.startDate,c=n.endDate,d=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(a||s||l)||!d||!o&&t.isDisabled())&&(a&&c&&(Jr(d,c)||Bo(d,c))?$o(r,d,c):(s&&i&&(os(d,i)||Bo(d,i))||!(!l||!i||c||!os(d,i)&&!Bo(d,i)))&&$o(r,i,d))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.startDate,s=n.selectsStart,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Uo(r,s?l:a)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.endDate,s=n.selectsEnd,l=n.selectsRange,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Uo(r,s||l?o:a)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Uo(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Uo(a,n)},t.isWeekend=function(){var e=is(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Ba(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Ba(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(No())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return ft("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+So(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,s=e.ariaLabelPrefixWhenDisabled,l=void 0===s?"Not available":s,o=t.isDisabled()||t.isExcluded()?l:a;return"".concat(o," ").concat(So(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,a=void 0===r?new Map:r,s=e.excludeDates,l=So(n,"MM.dd.yyyy"),o=[];return a.has(l)&&o.push.apply(o,a.get(l).holidayNames),t.isExcluded()&&o.push(null===s||void 0===s?void 0:s.filter(function(e){return e instanceof Date?Uo(e,n):Uo(null===e||void 0===e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Uo(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(cs(t.props.day),t.props.day):cs(t.props.day)},t.render=function(){return s.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&s.createElement("span",{className:"overlay"},t.getTitle()))},t}return fo(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(s.Component),ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,s.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===bo.Space&&(e.preventDefault(),e.key=bo.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Uo(t.props.date,t.props.selected)&&Uo(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Uo(t.props.date,t.props.selected)&&Uo(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Uo(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,a=e.ariaLabelPrefix,l=void 0===a?t.defaultProps.ariaLabelPrefix:a,o=e.onClick,i={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&Uo(this.props.date,this.props.selected)};return s.createElement("div",{ref:this.weekNumberEl,className:ft(i),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(s.Component),ki=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return Yo(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,a){for(var s,l,o,i=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){i=d;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(i,r,a),n.props.showWeekPicker&&n.handleDayClick(i,a),(null!==(s=n.props.shouldCloseOnSelect)&&void 0!==s?s:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(l=n.props).setOpen)||void 0===o||o.call(l,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return _r(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Rr(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Rr(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],a=n.formatWeekNumber(e);if(n.props.showWeekNumber){var l=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,a):void 0;r.push(s.createElement(ji,xo({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:l})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var a=Rr(e,r);return s.createElement(Ni,xo({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,onClick:n.handleDayClick.bind(n,a),onMouseEnter:n.handleDayMouseEnter.bind(n,a)}))}))},n.startOfWeek=function(){return Co(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Uo(n.startOfWeek(),n.props.selected)&&Uo(n.startOfWeek(),n.props.preSelection)},n}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Uo(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return s.createElement("div",{className:ft(e)},this.renderDays())},t}(s.Component),Si="two_columns",Di="three_columns",Ti="four_columns",Ei=((vi={})[Si]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},vi[Di]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},vi[Ti]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},vi);function Ci(e,t){return e?Ti:t?Si:Di}var Pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=go([],Array(12),!0).map(function(){return(0,s.createRef)()}),t.QUARTER_REFS=go([],Array(4),!0).map(function(){return(0,s.createRef)()}),t.isDisabled=function(e){return Yo(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return qo(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,a;null===(a=(r=t.props).onDayClick)||void 0===a||a.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Oo(Oa(r,e),a)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Fo(Fa(r,e),a)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Oo(Oa(r,e),s)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Fo(Fa(r,e),s)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,l=r.selectsEnd,o=r.selectsRange,i=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||l||o)||!d)&&(s&&c?Ko(d,c,e,a):(l&&i||!(!o||!i||c))&&Ko(i,d,e,a))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.startDate,l=r.selectsStart,o=Oa(a,e),i=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Oo(o,l?i:s)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.endDate,l=r.selectsEnd,o=r.selectsRange,i=Oa(a,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Oo(i,l||o?c:s)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,l=r.selectsEnd,o=r.selectsRange,i=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||l||o)||!d)&&(s&&c?ei(d,c,e,a):(l&&i||!(!o||!i||c))&&ei(i,d,e,a))},t.isWeekInMonth=function(e){var n=t.props.day,r=Rr(e,6);return Oo(e,n)||Oo(r,n)},t.isCurrentMonth=function(e,t){return Ua(e)===Ua(No())&&t===Ba(No())},t.isCurrentQuarter=function(e,t){return Ua(e)===Ua(No())&&t===za(No())},t.isSelectedMonth=function(e,t,n){return Ba(n)===t&&Ua(e)===Ua(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return za(e)===t&&Ua(e)===Ua(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,a=e.selectedDates,s=e.selectsMultiple,l=Ba(n);return s?null===a||void 0===a?void 0:a.some(function(e){return t.isSelectedMonth(n,l,e)}):!!r&&t.isSelectedMonth(n,l,r)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,a=!1,l=Co(Po(t.props.day),t.props.locale,t.props.calendarStartDay),o=t.props.selected?function(e){return t.props.showWeekPicker?Co(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,i=t.props.preSelection?function(e){return t.props.showWeekPicker?Co(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(s.createElement(ki,xo({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:l,month:Ba(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:o,preSelection:i,showWeekNumber:t.props.showWeekNumbers}))),!a;){r++,l=ds(l,1);var c=n&&r>=6,d=!n&&!t.isWeekInMonth(l);if(c||d){if(!t.props.peekNextMonth)break;a=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),a=r.isDisabled,s=r.labelDate;a||t.handleDayClick(Po(s),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,a=n.labelDate;r||t.handleDayMouseEnter(Po(a))},t.handleMonthNavigation=function(e,n){var r,a,s,l;null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(l=null===(s=t.MONTH_REFS[e])||void 0===s?void 0:s.current)||void 0===l||l.focus()},t.handleKeyboardNavigation=function(e,n,r){var a,s=t.props,l=s.selected,o=s.preSelection,i=s.setPreSelection,c=s.minDate,d=s.maxDate,u=s.showFourColumnMonthYearPicker,p=s.showTwoColumnMonthYearPicker;if(o){var m=Ci(u,p),h=t.getVerticalOffset(m),f=null===(a=Ei[m])||void 0===a?void 0:a.grid,x=function(e,t,n){var r,a,s=t,l=n;switch(e){case bo.ArrowRight:s=Ya(t,1),l=11===n?0:n+1;break;case bo.ArrowLeft:s=qa(t,1),l=0===n?11:n-1;break;case bo.ArrowUp:s=qa(t,h),l=(null===(r=null===f||void 0===f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-h:n-h;break;case bo.ArrowDown:s=Ya(t,h),l=(null===(a=null===f||void 0===f?void 0:f[f.length-1])||void 0===a?void 0:a.includes(n))?n-12+h:n+h}return{newCalculatedDate:s,newCalculatedMonth:l}};if(n!==bo.Enter){var g=function(e,n,r){for(var a=e,s=!1,l=0,o=x(a,n,r),i=o.newCalculatedDate,u=o.newCalculatedMonth;!s;){if(l>=40){i=n,u=r;break}var p;if(c&&i<c)a=bo.ArrowRight,i=(p=x(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;if(d&&i>d)a=bo.ArrowLeft,i=(p=x(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;if(Qo(i,t.props))i=(p=x(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;else s=!0;l++}return{newCalculatedDate:i,newCalculatedMonth:u}}(n,o,r),b=g.newCalculatedDate,y=g.newCalculatedMonth;switch(n){case bo.ArrowRight:case bo.ArrowLeft:case bo.ArrowUp:case bo.ArrowDown:t.handleMonthNavigation(y,b)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===i||void 0===i||i(l))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Ei[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,a=r.disabledKeyboardNavigation,s=r.handleOnMonthKeyDown,l=e.key;l!==bo.Tab&&e.preventDefault(),a||t.handleKeyboardNavigation(e,l,n),s&&s(e)},t.onQuarterClick=function(e,n){var r=Fa(t.props.day,n);Jo(r,t.props)||t.handleDayClick(Ao(r),e)},t.onQuarterMouseEnter=function(e){var n=Fa(t.props.day,e);Jo(n,t.props)||t.handleDayMouseEnter(Ao(n))},t.handleQuarterNavigation=function(e,n){var r,a,s,l;t.isDisabled(n)||t.isExcluded(n)||(null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(l=null===(s=t.QUARTER_REFS[e-1])||void 0===s?void 0:s.current)||void 0===l||l.focus())},t.onQuarterKeyDown=function(e,n){var r,a,s=e.key;if(!t.props.disabledKeyboardNavigation)switch(s){case bo.Enter:t.onQuarterClick(e,n),null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,t.props.selected);break;case bo.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,Ka(t.props.preSelection,1));break;case bo.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,Qa(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,a=r.day,s=r.minDate,l=r.maxDate,o=r.excludeDates,i=r.includeDates,c=Oa(a,e);return{isDisabled:null!==(n=(s||l||o||i)&&Go(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,l=n.preSelection,o=n.monthClassName,i=o?o(Oa(r,e)):void 0,c=t.getSelection();return ft("react-datepicker__month-text","react-datepicker__month-".concat(e),i,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(r,e,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&s?Ko(a,s,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Ba(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=za(t.props.preSelection),r=Jo(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,s=n.disabledDayAriaLabelPrefix,l=void 0===s?"Not available":s,o=n.day,i=n.locale,c=Oa(o,e),d=t.isDisabled(c)||t.isExcluded(c)?l:a;return"".concat(d," ").concat(So(c,"MMMM yyyy",i))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,l=n.selected,o=n.minDate,i=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,p=n.preSelection,m=n.disabledKeyboardNavigation,h=(o||i||c||d||u)&&Jo(Fa(r,e),t.props);return ft("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":h,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(r,e,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&p&&t.isSelectedQuarter(r,e,p)&&!h,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&s?ei(a,s,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,s=n.locale,l=n.day,o=Wo(e,s),i=Ho(e,s);return a?a(e,o,i,l):r?i:o},t.getQuarterContent=function(e){var n,r=t.props,a=r.renderQuarterContent,s=function(e,t){return So(Fa(No(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===a||void 0===a?void 0:a(e,s))&&void 0!==n?n:s},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,a=n.showFourColumnMonthYearPicker,l=n.day,o=n.selected,i=null===(e=Ei[Ci(a,r)])||void 0===e?void 0:e.grid;return null===i||void 0===i?void 0:i.map(function(e,n){return s.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return s.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){yi(n)&&(n.preventDefault(),n.key=bo.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(l,e)?"date":void 0,"aria-selected":o?t.isSelectedMonth(l,e,o):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return s.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,a){return s.createElement("div",{key:a,ref:t.QUARTER_REFS[a],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,a=e.selectsEnd;return ft("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return fo(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,l=void 0===a?"Month ":a,o=l?l.trim()+" ":"";return s.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(o).concat(So(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(s.Component),_i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,n){return s.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?s.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return fo(t,e),t.prototype.render=function(){return s.createElement(vo,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Ai=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return s.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return s.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},s.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return s.createElement(_i,xo({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return fo(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Wo(e,t.props.locale)}:function(e){return Ho(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return s.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component);function Li(e,t){for(var n=[],r=Po(e),a=Po(t);!os(r,a);)n.push(No(r)),r=Ya(r,1);return n}var Mi=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=us(e),r=Io(n.props.date,e)&&Oo(n.props.date,e);return s.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?s.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",So(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Li(n.props.minDate,n.props.maxDate)},n}return fo(t,e),t.prototype.render=function(){var e=ft({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return s.createElement(vo,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Po(t.props.minDate),n=Po(t.props.maxDate),r=[];!os(e,n);){var a=us(e);r.push(s.createElement("option",{key:a,value:a},So(e,t.props.dateFormat,t.props.locale))),e=Ya(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return s.createElement("select",{value:us(Po(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=So(t.props.date,t.props.dateFormat,t.props.locale);return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},s.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return s.createElement(Mi,xo({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=No(e);Io(t.props.date,n)&&Oo(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return fo(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return s.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component),Ii=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&ai(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ri(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,xi(t).getTime()===xi(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&ai(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ri(e,n.props)},n.liClasses=function(e){var r,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Va(e)+60*Ha(e)+Wa(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===bo.Space&&(e.preventDefault(),e.key=bo.Enter),(e.key===bo.ArrowUp||e.key===bo.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===bo.ArrowDown||e.key===bo.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===bo.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var e,r=[],a="string"===typeof n.props.format?n.props.format:"p",l=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,o=n.props.selected||n.props.openToDate||No(),i=Eo(o),c=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),d=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(o),u=d/l,p=0;p<u;p++){var m=ss(i,p*l);if(r.push(m),c){var h=mi(i,m,p,l,c);r=r.concat(h)}}var f=r.reduce(function(e,t){return t.getTime()<=o.getTime()?t:e},r[0]);return r.map(function(e){return s.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},So(e,a,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?s.createElement(s.Fragment,null):s.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},s.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return s.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),s.createElement("div",{className:"react-datepicker__time"},s.createElement("div",{className:"react-datepicker__time-box"},s.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(s.Component),Oi=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=go([],Array(n.props.yearItemNumber),!0).map(function(){return(0,s.createRef)()}),n.isDisabled=function(e){return Yo(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return qo(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,s,l,o=n.props,i=o.date,c=o.yearItemNumber;if(void 0!==i&&void 0!==c){var d=fi(i,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(l=null===(s=n.YEAR_REFS[e-d])||void 0===s?void 0:s.current)||void 0===l||l.focus())}},n.isSameDay=function(e,t){return Uo(e,t)},n.isCurrentYear=function(e){return e===Ua(No())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Io(ps(No(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Io(ps(No(),e),n.props.endDate)},n.isInRange=function(e){return Xo(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,s=t.selectsRange,l=t.startDate,o=t.endDate;return!(!(r||a||s)||!n.selectingDate())&&(r&&o?Xo(e,n.selectingDate(),o):(a&&l||!(!s||!l||o))&&Xo(e,l,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,s=r.selectsStart,l=ps(No(),e);return Io(l,s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,s=r.selectsEnd,l=r.selectsRange,o=ps(No(),e);return Io(o,s||l?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,o=t.filterDate,i=_o(ps(n.props.date,e)),c=(r||a||s||l||o)&&Zo(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Uo(i,_o(n.props.selected))&&Uo(i,_o(n.props.preSelection))&&!c}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,a=t.selected,s=t.selectedDates;return r?null===s||void 0===s?void 0:s.some(function(t){return e===Ua(t)}):!!a&&e===Ua(a)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(_o(ps(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,s=e.key,l=n.props,o=l.date,i=l.yearItemNumber,c=l.handleOnKeyDown;if(s!==bo.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(s){case bo.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case bo.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Xa(n.props.preSelection,1));break;case bo.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Za(n.props.preSelection,1));break;case bo.ArrowUp:if(void 0===o||void 0===i||null==n.props.preSelection)break;var d=fi(o,i).startPeriod;if((m=t-(p=3))<d){var u=i%p;t>=d&&t<d+u?p=u:p+=u,m=t-p}n.handleYearNavigation(m,Za(n.props.preSelection,p));break;case bo.ArrowDown:if(void 0===o||void 0===i||null==n.props.preSelection)break;var p,m,h=fi(o,i).endPeriod;if((m=t+(p=3))>h){u=i%p;t<=h&&t>h-u?p=u:p+=u,m=t+p}n.handleYearNavigation(m,Xa(n.props.preSelection,p))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,s=t.maxDate,l=t.excludeDates,o=t.includeDates,i=t.filterDate,c=t.yearClassName;return ft("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(ps(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||s||l||o||i)&&Zo(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Ua(n.props.preSelection),r=Zo(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return fo(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,l=n.onYearMouseEnter,o=n.onYearMouseLeave;if(void 0===r)return null;for(var i=fi(r,a),c=i.startPeriod,d=i.endPeriod,u=function(n){t.push(s.createElement("div",{ref:p.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){yi(t)&&(t.preventDefault(),t.key=bo.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(p.getYearTabIndex(n)),className:p.getYearClassNames(n),onMouseEnter:p.props.usePointerEvent?void 0:function(e){return l(e,n)},onPointerEnter:p.props.usePointerEvent?function(e){return l(e,n)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:p.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":p.isCurrentYear(n)?"date":void 0},p.getYearContent(n)))},p=this,m=c;m<=d;m++)u(m);return s.createElement("div",{className:"react-datepicker__year"},s.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(s.Component);function Fi(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var l=e+t-s,o=!0;n&&(o=Ua(n)<=l),r&&o&&(o=Ua(r)>=l),o&&a.push(l)}return a}var Ui=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return s.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?s.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),r=n.props.minDate?Ua(n.props.minDate):null,a=n.props.maxDate?Ua(n.props.maxDate):null;return a&&n.state.yearsList.find(function(e){return e===a})||t.unshift(s.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},s.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(s.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},s.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=r||(a?10:5);return n.state={yearsList:Fi(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,s.createRef)(),n}return fo(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=ft({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return s.createElement(vo,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Ua(t.props.minDate):1900,n=t.props.maxDate?Ua(t.props.maxDate):2100,r=[],a=e;a<=n;a++)r.push(s.createElement("option",{key:a,value:a},a));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return s.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},s.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return s.createElement(Ui,xo({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,a;null===(a=(r=t.props).onSelect)||void 0===a||a.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return fo(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return s.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component),$i=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],zi=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return $i.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,s=ci(r.props),l=di(r.props),o=No(),i=a||n||t;return i||(s&&Jr(o,s)?s:l&&os(o,l)?l:o)},r.increaseMonth=function(){r.setState(function(e){return{date:Ya(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){return{date:qa(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:ps(No(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,a,s;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(s=(a=r.props).setOpen)||void 0===s||s.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!Yo(e,r.props))return e;for(var t=Po(e),n=ms(Ro(e),t),a=null,s=0;s<=n;s++){var l=Rr(t,s);if(!Yo(l,r.props)){a=l;break}}return a},r.handleMonthChange=function(e){var t,n,a,s=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),null===(a=(n=r.props).setOpen)||void 0===a||a.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){return{date:ps(t.date,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){return{date:Oa(t.date,Number(e))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(e){r.setState(function(t){return{date:ps(Oa(t.date,Ba(e)),Ua(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e){void 0===e&&(e=r.state.date);var t=Co(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(s.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map(function(e){var n=Rr(t,e),a=r.formatWeekday(n,r.props.locale),l=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return s.createElement("div",{key:e,"aria-label":So(n,"EEEE",r.props.locale),className:ft("react-datepicker__day-name",l)},a)}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(So(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return So(e,"EEE",t)}(e,t):function(e,t){return So(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState(function(e){var n;return{date:Za(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,a;if(!r.props.renderCustomHeader){var l,o=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,i=r.props.showPreviousMonths?o-1:0,c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:i,d=qa(r.state.date,c);switch(!0){case r.props.showMonthYearPicker:l=oi(r.state.date,r.props);break;case r.props.showYearPicker:l=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.yearItemNumber,s=void 0===a?12:a,l=fi(_o(Za(e,s)),s).endPeriod,o=r&&Ua(r);return o&&o>l||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:l=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Qa(ta(e),1);return r&&Ja(r,s)>0||a&&a.every(function(e){return Ja(e,s)>0})||!1}(r.state.date,r.props);break;default:l=si(d,r.props)}if(((null!==(a=r.props.forceShowMonthNavigation)&&void 0!==a?a:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!l)&&!r.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(p=r.decreaseYear),l&&r.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),p=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,f=h.previousMonthButtonLabel,x=void 0===f?t.defaultProps.previousMonthButtonLabel:f,g=h.previousYearButtonLabel,b=void 0===g?t.defaultProps.previousYearButtonLabel:g,y=r.props,v=y.previousMonthAriaLabel,w=void 0===v?"string"===typeof x?x:"Previous Month":v,N=y.previousYearAriaLabel,j=void 0===N?"string"===typeof b?b:"Previous Year":N;return s.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?j:w},s.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?b:x))}}},r.increaseYear=function(){r.setState(function(e){var n;return{date:Xa(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=ii(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.yearItemNumber,s=void 0===a?12:a,l=fi(Xa(e,s),s).startPeriod,o=r&&Ua(r);return o&&o<l||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Ka($a(e),1);return r&&Ja(s,r)>0||a&&a.every(function(e){return Ja(s,e)>0})||!1}(r.state.date,r.props);break;default:n=li(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,c=i.nextMonthButtonLabel,d=void 0===c?t.defaultProps.nextMonthButtonLabel:c,u=i.nextYearButtonLabel,p=void 0===u?t.defaultProps.nextYearButtonLabel:u,m=r.props,h=m.nextMonthAriaLabel,f=void 0===h?"string"===typeof d?d:"Next Month":h,x=m.nextYearAriaLabel,g=void 0===x?"string"===typeof p?p:"Next Year":x;return s.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?g:f},s.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},o?p:d))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),s.createElement("h2",{className:t.join(" ")},So(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return s.createElement(Bi,xo({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ua(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return s.createElement(Ai,xo({},t.defaultProps,r.props,{month:Ba(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return s.createElement(Ri,xo({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Lo(),e),r.props.setPreSelection&&r.props.setPreSelection(Lo())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return s.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return s.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),s.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),s.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,a=e.monthDate,l=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var o=si(r.state.date,r.props),i=li(r.state.date,r.props),c=oi(r.state.date,r.props),d=ii(r.state.date,r.props),u=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return s.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,xo(xo({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:i,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),u&&s.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(e){var n=e.monthDate,a=r.props,l=a.showYearPicker,o=a.yearItemNumber,i=fi(n,void 0===o?t.defaultProps.yearItemNumber:o),c=i.startPeriod,d=i.endPeriod;return s.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(c," - ").concat(d):Ua(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,a={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(a);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(a);default:return r.renderDefaultHeader(a)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var a=[],l=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?l-1:0,i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Xa(r.state.date,o):qa(r.state.date,o),c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:o,d=0;d<l;++d){var u=d-c+o,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Xa(i,u):Ya(i,u),m="month-".concat(d),h=d<l-1,f=d>0;a.push(s.createElement("div",{key:m,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),s.createElement(Pi,xo({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:h,monthShowsDuplicateDaysStart:f}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?s.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),s.createElement(Oi,xo({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return s.createElement(Ii,xo({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&ko(e)&&Boolean(r.props.selected)?"".concat(hi(e.getHours()),":").concat(hi(e.getMinutes())):"";if(r.props.showTimeInput)return s.createElement(wi,xo({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,a=fi(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),l=a.startPeriod,o=a.endPeriod;return n=r.props.showYearPicker?"".concat(l," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ua(r.state.date):"".concat(Ho(Ba(r.state.date),r.props.locale)," ").concat(Ua(r.state.date)),s.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return s.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,s.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Uo(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Uo(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Oo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||yo;return s.createElement(vo,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},s.createElement("div",{style:{display:"contents"},ref:this.containerRef},s.createElement(e,{className:ft("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(s.Component),Vi=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a=e.onClick,l="react-datepicker__calendar-icon";if("string"===typeof t)return s.createElement("i",{className:"".concat(l," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(s.isValidElement(t)){var o=t;return s.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(l," ").concat(r),onClick:function(e){"function"===typeof o.props.onClick&&o.props.onClick(e),"function"===typeof a&&a(e)}})}return s.createElement("svg",{className:"".concat(l," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},s.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Hi=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return fo(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return we.createPortal(this.props.children,this.el)},t}(s.Component),Wi=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},Yi=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Wi)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,s.createRef)(),n}return fo(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?s.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},s.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,s.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(s.Component);var qi,Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,a=e.hidePopper,l=void 0===a?t.defaultProps.hidePopper:a,o=e.popperComponent,i=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,u=e.portalId,p=e.portalHost,m=e.popperProps,h=e.showArrow,f=void 0;if(!l){var x=ft("react-datepicker-popper",n);f=s.createElement(Yi,{enableTabLoop:c},s.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:x,"data-placement":m.placement,onKeyDown:d},o,h&&s.createElement(so,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=(0,s.createElement)(this.props.popperContainer,{},f)),u&&!l&&(f=s.createElement(Hi,{portalId:u,portalHost:p},f));var g=ft("react-datepicker-wrapper",r);return s.createElement(s.Fragment,null,s.createElement("div",{ref:m.refs.setReference,className:g},i),f)},t}(s.Component),Ki=(qi=Gi,function(e){var t,n,r,a="boolean"!==typeof e.hidePopper||e.hidePopper,l=(0,s.useRef)(null),o=mo(xo({open:!a,whileElementsMounted:Rl,placement:e.popperPlacement,middleware:go([(n={padding:15},{...Ol(n),options:[n,r]}),Yl(10),ql({element:l})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),i=xo(xo({},e),{hidePopper:a,popperProps:xo(xo({},o),{arrowRef:l})});return s.createElement(qi,xo({},i))}),Qi="react-datepicker-ignore-onclickoutside";var Ji="Date input not valid.",Xi=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:No()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return ko(n)?go(go([],e,!0),[xo(xo({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=ci(r.props),a=di(r.props),s=n&&Jr(t,Eo(n))?n:a&&os(t,Mo(a))?a:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:s,highlightDates:ui(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(xo(xo({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(xo(xo({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ec},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Kr(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,a=r.state.wasHidden,s=!a||r.state.open;a&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!s||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,a,s,l,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var c=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:Zi});var d=r.props,u=d.selectsRange,p=d.startDate,m=d.endDate,h=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,x=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var g=x.split(h.includes("-")?" - ":"-",2).map(function(e){return e.trim()}),b=g[0],y=g[1],v=jo(null!==b&&void 0!==b?b:"",h,r.props.locale,f),w=jo(null!==y&&void 0!==y?y:"",h,r.props.locale,f),N=(null===p||void 0===p?void 0:p.getTime())!==(null===v||void 0===v?void 0:v.getTime()),j=(null===m||void 0===m?void 0:m.getTime())!==(null===w||void 0===w?void 0:w.getTime());if(!N&&!j)return;if(v&&Yo(v,r.props))return;if(w&&Yo(w,r.props))return;null===(s=(a=r.props).onChange)||void 0===s||s.call(a,[v,w],c)}else{var k=jo(x,h,r.props.locale,f,null!==(l=r.props.selected)&&void 0!==l?l:void 0);!k&&x||r.setSelected(k,c,!0)}}},r.handleSelect=function(e,t,n){if(!r.props.readOnly)if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,s=a.startDate,l=a.endDate;!s||l||!r.props.swapRange&&bi(e,s)||r.setOpen(!1)}},r.setSelected=function(e,t,n,a){var s,l,o=e;if(r.props.showYearPicker){if(null!==o&&Zo(Ua(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&Go(o,r.props))return}else if(null!==o&&Yo(o,r.props))return;var i=r.props,c=i.onChange,d=i.selectsRange,u=i.startDate,p=i.endDate,m=i.selectsMultiple,h=i.selectedDates,f=i.minTime,x=i.swapRange;if(!Bo(r.props.selected,o)||r.props.allowSameDay||d||m)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=To(o,{hour:Va(r.props.selected),minute:Ha(r.props.selected),second:Wa(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||f&&(o=To(o,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),d){var g=u&&!p,b=u&&p;!u&&!p?null===c||void 0===c||c([o,null],t):g&&(null===o?null===c||void 0===c||c([null,null],t):bi(o,u)?x?null===c||void 0===c||c([o,u],t):null===c||void 0===c||c([o,null],t):null===c||void 0===c||c([u,o],t)),b&&(null===c||void 0===c||c([o,null],t))}else if(m){if(null!==o)if(null===h||void 0===h?void 0:h.length)if(h.some(function(e){return Uo(e,o)})){var y=h.filter(function(e){return!Uo(e,o)});null===c||void 0===c||c(y,t)}else null===c||void 0===c||c(go(go([],h,!0),[o],!1),t);else null===c||void 0===c||c([o],t)}else null===c||void 0===c||c(o,t);n||(null===(l=(s=r.props).onSelect)||void 0===l||l.call(s,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=Kr(r.props.minDate),n=Kr(r.props.maxDate),a=!0;if(e){var s=Eo(e);if(t&&n)a=$o(e,r.props.minDate,r.props.maxDate);else if(t){var l=Eo(r.props.minDate);a=os(e,l)||Bo(s,l)}else if(n){var o=Mo(r.props.maxDate);a=Jr(e,o)||Bo(s,o)}}a&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var a=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?e:To(a,{hour:Va(e),minute:Ha(e)});r.setState({preSelection:s}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,a,s,l,o;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var i=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(i===bo.ArrowDown||i===bo.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(s=r.calendar)||void 0===s?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=No(r.state.preSelection);i===bo.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===ec?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):i===bo.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):i===bo.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(l=r.props).onInputError)||void 0===o||o.call(l,{code:1,msg:Ji})}}else i!==bo.ArrowDown&&i!==bo.ArrowUp&&i!==bo.Enter||null===(a=r.onInputClick)||void 0===a||a.call(r)},r.onPortalKeyDown=function(e){e.key===bo.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,a,s,l,o,i=r.props,c=i.minDate,d=i.maxDate,u=i.disabledKeyboardNavigation,p=i.showWeekPicker,m=i.shouldCloseOnSelect,h=i.locale,f=i.calendarStartDay,x=i.adjustDateOnChange,g=i.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!u){var b=e.key,y=e.shiftKey,v=No(r.state.preSelection),w=function(e,t){var n=t;switch(e){case bo.ArrowRight:n=p?ds(t,1):Rr(t,1);break;case bo.ArrowLeft:n=p?fs(t,1):xs(t,1);break;case bo.ArrowUp:n=fs(t,1);break;case bo.ArrowDown:n=ds(t,1);break;case bo.PageUp:n=y?Za(t,1):qa(t,1);break;case bo.PageDown:n=y?Xa(t,1):Ya(t,1);break;case bo.Home:n=Co(t,h,f);break;case bo.End:n=function(e){return Ea(e)}(t)}return n};if(b===bo.Enter)return e.preventDefault(),r.handleSelect(v,e),void(!m&&r.setPreSelection(v));if(b===bo.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:Ji}));var N=null;switch(b){case bo.ArrowLeft:case bo.ArrowRight:case bo.ArrowUp:case bo.ArrowDown:case bo.PageUp:case bo.PageDown:case bo.Home:case bo.End:N=function(e,t){for(var n=e,a=!1,s=0,l=w(e,t);!a;){if(s>=40){l=t;break}c&&l<c&&(n=bo.ArrowRight,l=Yo(c,r.props)?w(n,l):c),d&&l>d&&(n=bo.ArrowLeft,l=Yo(d,r.props)?w(n,l):d),Yo(l,r.props)?(n!==bo.PageUp&&n!==bo.Home||(n=bo.ArrowRight),n!==bo.PageDown&&n!==bo.End||(n=bo.ArrowLeft),l=w(n,l)):a=!0,s++}return l}(b,v)}if(N){if(e.preventDefault(),r.setState({lastPreSelectChange:ec}),x&&r.setSelected(N),r.setPreSelection(N),g){var j=Ba(v),k=Ba(N),S=Ua(v),D=Ua(N);j!==k||S!==D?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(l=r.props).onInputError)||void 0===o||o.call(l,{code:1,msg:Ji})}},r.onPopperKeyDown=function(e){e.key===bo.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,a=t.onChange;n?null===a||void 0===a||a([null,null],e):null===a||void 0===a||a(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?s.createElement(zi,xo({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:pi(r.modifyHolidays()),outsideClickIgnoreClass:Qi,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,a=n.dateFormat,l=void 0===a?t.defaultProps.dateFormat:a,o=n.locale,i=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Do(r.props.startDate,{dateFormat:i,locale:o}),". ").concat(r.props.endDate?"End date: "+Do(r.props.endDate,{dateFormat:i,locale:o}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Do(r.props.selected,{dateFormat:l,locale:o})):r.props.showYearPicker?"Selected year: ".concat(Do(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?"Selected month: ".concat(Do(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Do(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(Do(r.props.selected,{dateFormat:i,locale:o})),s.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,a,l=ft(r.props.className,((e={})[Qi]=r.state.open,e)),o=r.props.customInput||s.createElement("input",{type:"text"}),i=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,u=void 0===d?t.defaultProps.dateFormat:d,p=c.locale,m="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Do(e,n),a=t?Do(t,n):"";return"".concat(r).concat(" - ").concat(a)}(r.props.startDate,r.props.endDate,{dateFormat:u,locale:p}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?Do(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Do(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}(null!==(a=r.props.selectedDates)&&void 0!==a?a:[],{dateFormat:u,locale:p}):Do(r.props.selected,{dateFormat:u,locale:p});return(0,s.cloneElement)(o,((n={})[i]=function(e){r.input=e},n.value=m,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=ft(o.props.className,l),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,a=e.selected,l=e.startDate,o=e.endDate,i=e.clearButtonTitle,c=e.clearButtonClassName,d=void 0===c?"":c,u=e.ariaLabelClose,p=void 0===u?"Close":u,m=e.selectedDates,h=e.readOnly;return!t||h||null==a&&null==l&&null==o&&!(null===m||void 0===m?void 0:m.length)?null:s.createElement("button",{type:"button",className:ft("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":p,onClick:r.onClearClick,title:i,tabIndex:-1})},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return fo(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,a,s,l,o;e.inline&&(l=e.selected,o=this.props.selected,l&&o?Ba(l)!==Ba(o)||Ua(l)!==Ua(o):l!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:ui(this.props.highlightDates)}),t.focused||Bo(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(s=(a=this.props).onCalendarClose)||void 0===s||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,a=e.calendarIconClassName,l=e.toggleCalendarOnIconClick,o=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),s.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&s.createElement(Vi,xo({icon:n,className:ft(a,!a&&r,o&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?s.createElement(Yi,{enableTabLoop:this.props.enableTabLoop},s.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=s.createElement(Hi,xo({portalId:this.props.portalId},this.props),t)),s.createElement("div",null,this.renderInputContainer(),t)}return s.createElement(Ki,xo({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(s.Component),Zi="input",ec="navigate";const tc=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),nc=e=>{let{value:t,onChange:n,placeholder:r="Select lien payoff date..."}=e;const[a,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)(t),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{i(t)},[t]);const d=(0,s.useCallback)(()=>{l(!1),o!==t&&n(o)},[o,t,n]);return(0,s.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&d()};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a,d]),(0,qe.jsxs)("div",{className:"relative",ref:c,children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent cursor-pointer hover:bg-white/15 transition-all duration-200",onClick:()=>{l(!a)},children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(tt,{className:"h-4 w-4 text-blue-400"}),(0,qe.jsx)("span",{className:o?"text-white font-medium":"text-gray-400",children:o?(e=>{if(!e)return"";return`${e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})} at ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:void 0,hour12:!0})}`})(o):r})]}),o&&(0,qe.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-blue-300",children:[(0,qe.jsx)(Le,{className:"h-3 w-3"}),(0,qe.jsx)("span",{children:o.toLocaleTimeString("en-US",{hour:"numeric",minute:void 0,hour12:!0})})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[o&&(0,qe.jsx)("button",{onClick:e=>{e.stopPropagation(),i(null),n(null)},className:"text-gray-400 hover:text-red-400 transition-colors p-1 rounded-full hover:bg-red-400/10",title:"Clear date",children:(0,qe.jsx)(it,{className:"h-3 w-3"})}),(0,qe.jsx)(tc,{className:"h-4 w-4 text-gray-400 transition-transform duration-200 "+(a?"rotate-180":"")})]})]}),a&&(0,qe.jsx)("div",{className:"absolute z-50 mt-2",children:(0,qe.jsx)(Xi,{selected:o,onChange:e=>{i(e)},inline:!0,minDate:new Date,showTimeSelect:!0,showTimeSelectOnly:!1,timeIntervals:60,timeCaption:"Time",dateFormat:"MMM dd, yyyy h:mm aa",placeholderText:r,popperClassName:"react-datepicker-popper",customInput:(0,qe.jsx)("div",{}),onCalendarOpen:()=>l(!0),onCalendarClose:d,popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]}}],calendarClassName:"custom-datepicker"})}),(0,qe.jsx)("style",{jsx:!0,children:"\n        .react-datepicker-popper {\n          z-index: 9999;\n        }\n        .react-datepicker {\n          background-color: #1f2937;\n          border: 1px solid #374151;\n          border-radius: 0.75rem;\n          font-family: inherit;\n          box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);\n          display: flex !important;\n          flex-direction: row !important;\n          align-items: flex-start !important;\n          gap: 0 !important;\n        }\n        \n        .custom-datepicker .react-datepicker__month-container {\n          border-radius: 0.75rem 0 0 0.75rem !important;\n          border-right: 1px solid #4b5563 !important;\n        }\n        \n        .custom-datepicker .react-datepicker__time-container {\n          border-radius: 0 0.75rem 0.75rem 0 !important;\n          border-left: 1px solid #4b5563 !important;\n          min-width: 120px !important;\n        }\n        .react-datepicker__header {\n          background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n          border-bottom: 1px solid #4b5563;\n          border-radius: 0.75rem 0.75rem 0 0;\n          padding: 1rem 0;\n          position: relative;\n        }\n        .react-datepicker__current-month {\n          color: white;\n          font-weight: 700;\n          font-size: 1.1rem;\n          margin-bottom: 0.5rem;\n        }\n        .react-datepicker__day-name {\n          color: #d1d5db;\n          font-weight: 600;\n          font-size: 0.875rem;\n          padding: 0.5rem 0;\n        }\n        .react-datepicker__day {\n          color: white;\n          border-radius: 0.375rem;\n          margin: 0.125rem;\n          width: 2rem;\n          height: 2rem;\n          line-height: 2rem;\n          font-weight: 500;\n          transition: all 0.2s ease;\n        }\n        .react-datepicker__day:hover {\n          background-color: #3b82f6;\n          transform: scale(1.05);\n        }\n        .react-datepicker__day--selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);\n        }\n        .react-datepicker__day--keyboard-selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n        }\n        .react-datepicker__day--today {\n          background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(29, 78, 216, 0.3);\n        }\n        \n        /* Enhanced navigation button styling */\n        .react-datepicker__navigation {\n          position: absolute !important;\n          top: 1rem !important;\n          background: rgba(255, 255, 255, 0.1) !important;\n          border: 1px solid rgba(255, 255, 255, 0.2) !important;\n          border-radius: 0.5rem !important;\n          width: 2.5rem !important;\n          height: 2.5rem !important;\n          transition: all 0.2s ease !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          color: white !important;\n        }\n        .react-datepicker__navigation:hover {\n          background: rgba(255, 255, 255, 0.2) !important;\n          transform: scale(1.05) !important;\n          border-color: rgba(255, 255, 255, 0.3) !important;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n        }\n        .react-datepicker__navigation--previous {\n          left: 1rem !important;\n        }\n        .react-datepicker__navigation--next {\n          right: 1rem !important;\n        }\n        .react-datepicker__navigation-icon {\n          width: 0.75rem !important;\n          height: 0.75rem !important;\n          border-color: white !important;\n          border-width: 2px 2px 0 0 !important;\n        }\n        .react-datepicker__navigation-icon--previous {\n          transform: rotate(-135deg) !important;\n          margin-left: 0.25rem !important;\n        }\n        .react-datepicker__navigation-icon--next {\n          transform: rotate(45deg) !important;\n          margin-right: 0.25rem !important;\n        }\n        \n        .react-datepicker__month-container {\n          background-color: #1f2937;\n          border-radius: 0.75rem;\n        }\n        .react-datepicker__time-container {\n          background-color: #1f2937;\n          border-left: 1px solid #4b5563;\n        }\n        .react-datepicker__time {\n          background-color: #1f2937;\n        }\n        .react-datepicker__time-box {\n          background-color: #1f2937;\n        }\n        .react-datepicker__time-list {\n          background-color: #1f2937;\n          padding: 0.5rem 0;\n        }\n        .react-datepicker__time-list-item {\n          color: white;\n          padding: 0.5rem 1rem;\n          font-weight: 500;\n          transition: all 0.2s ease;\n          border-radius: 0.25rem;\n          margin: 0.125rem 0.5rem;\n        }\n        .react-datepicker__time-list-item:hover {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          transform: scale(1.02);\n        }\n        .react-datepicker__time-list-item--selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);\n        }\n        .react-datepicker__time-list-item--disabled {\n          color: #6b7280;\n          opacity: 0.5;\n        }\n        .react-datepicker__time-caption {\n          color: white;\n          font-weight: 700;\n          font-size: 1rem;\n          padding: 0.75rem 1rem 0.5rem;\n          background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n          border-bottom: 1px solid #4b5563;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar {\n          width: 6px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-track {\n          background: #374151;\n          border-radius: 3px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-thumb {\n          background: #6b7280;\n          border-radius: 3px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-thumb:hover {\n          background: #9ca3af;\n        }\n      "})]})},rc=e=>{let{setDeals:t}=e;const{user:n,getAuthHeaders:r}=Qe(),a=te();(0,s.useEffect)(()=>{n||a("/login")},[n,a]);const l="https://astonishing-chicken-production.up.railway.app",o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...r(),"Content-Type":"application/json",...e};return t.Authorization?console.log("[DEAL SUBMIT] Using Authorization header:",t.Authorization):console.warn("[DEAL SUBMIT] No Authorization token in headers!"),t},i=(new Date).toISOString().slice(0,10),[c,d]=(0,s.useState)({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:i,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",instantOffer:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",brokerFee:{amount:"",brokerId:"",brokerName:"",brokerEmail:"",paid:!1,paidDate:null,notes:""},payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",documents:[],salesperson:"",lienStatus:"none",lienEta:""}),[u,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[y,v]=(0,s.useState)(""),[w,N]=(0,s.useState)([]),[j,k]=(0,s.useState)(""),[S,D]=(0,s.useState)({}),[T,E]=(0,s.useState)(!1),[C,P]=(0,s.useState)(1),[_,A]=(0,s.useState)(!1),[L,M]=(0,s.useState)([]);(0,s.useEffect)(()=>{const e=`${l}/api/backoffice/document-types`;console.log("[DEBUG][NewDealEntry] Fetching document types from:",e),fetch(e,{credentials:"include",headers:r()}).then(e=>e.json()).then(e=>{e.success&&Array.isArray(e.data)}).catch(()=>{})},[r]);const R=e=>{if(!e)return"";const t=e.toString().replace(/[^\d.]/g,""),n=t.split(".");return n.length>2?n[0]+"."+n.slice(1).join(""):t};function I(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}const O=()=>"wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType||"wholesale-pp"===c.dealType||"wholesale-flip"===c.dealType&&"buy"===c.dealType2SubType,F=()=>"wholesale-flip"===c.dealType&&"private"===c.sellerType||"retail-pp"===c.dealType&&"buy"===c.dealType2SubType,U=(()=>{const e=c.dealType2SubType,t="retail-pp"===c.dealType,n="retail-d2d"===c.dealType,r="wholesale-d2d"===c.dealType&&"sale"===e;c.dealType;return{purchasePriceLabel:"sale"===e?"Sale Price":"Purchase Price",sellerLabel:"sale"===e?"Sold To":"Purchased From",sellerSectionTitle:r?"Seller Information":"sale"===e?"Buyer Information":"Seller Information",companyLabel:t||n?"Company (if applicable)":"Company/Dealer",licenseLabel:t||n?"License Number (if applicable)":"Dealer License Number",addressLabel:t||n?"Address":"Seller Address",payoffBalanceLabel:"Payoff Balance",amountDueToCustomerLabel:"Amount Due to Customer",amountDueToRPExoticsLabel:"Amount Due to RP Exotics"}})(),B=[{value:"wholesale-d2d",label:"Wholesale - D2D"},{value:"wholesale-flip",label:"Wholesale - Flip"},{value:"retail-pp",label:"Retail - PP"},{value:"retail-d2d",label:"Retail - D2D"},{value:"auction",label:"Auction"}],$=[{value:"flpn-retail",label:"FLPN - Retail"},{value:"flpn-wholesale",label:"FLPN - Wholesale"},{value:"cash",label:"Cash"},{value:"flooring-line",label:"Flooring Line"},{value:"consignment",label:"Consignment"}],z=[{value:"check",label:"Check"},{value:"wire",label:"Wire Transfer"},{value:"ach",label:"ACH"}],V=(e=>{switch(e){case"wholesale-d2d":case"wholesale-flip":case"auction":return[{value:"buy",label:"Buy"},{value:"sale",label:"Sale"},{value:"buy-sell",label:"Buy/Sell"}];default:return[{value:"buy",label:"Buy"},{value:"sale",label:"Sale"}]}})(c.dealType),H=e=>{var t,n,r;return e?(null===(t=e.profile)||void 0===t?void 0:t.displayName)||`${(null===(n=e.profile)||void 0===n?void 0:n.firstName)||e.firstName} ${(null===(r=e.profile)||void 0===r?void 0:r.lastName)||e.lastName}`.trim()||e.name:null},W=[{value:"Brennan S",label:"Brennan S"},{value:"Parker G",label:"Parker G"},{value:"Dan M",label:"Dan M"},{value:"Adiana P",label:"Adiana P"},{value:"Brett M",label:"Brett M"},{value:"Other",label:"Other"}],Y=H(n);Y&&!W.find(e=>e.value===Y)&&W.push({value:Y,label:Y}),(0,s.useEffect)(()=>{if(n&&!c.salesperson){const e=H(n);e&&d(t=>({...t,salesperson:e}))}},[n,c.salesperson]);const q=()=>{const e=c.dealType;return{showFinancials:["wholesale-d2d","wholesale-flip","retail-pp","retail-d2d","auction"].includes(e),showSellerInfo:!0,requiredFields:["vin","dealType","dealType2SubType","year","make","model","sellerName"]}},G=q(),K=async e=>{p(!0);try{const t={...r(),"Content-Type":"application/json"},n=`${l}/api/deals/vin/decode`;console.log("[DEBUG][NewDealEntry] VIN decode fetch from:",n);const a=await fetch(n,{method:"POST",headers:t,body:JSON.stringify({vin:e}),credentials:"include"});console.log("[DEBUG][NewDealEntry] VIN decode response status:",a.status);const s=await a.json();console.log("[VIN DECODE] Response data:",s),s.success&&s.data?(d(e=>({...e,year:s.data.year||"",make:s.data.make||"",model:s.data.model||""})),h(!0),setTimeout(()=>h(!1),3e3)):(console.error("VIN decode failed:",s.error),alert(s.error||"Unable to decode VIN. Please check the VIN and try again."))}catch(t){console.error("[VIN DECODE] Error:",t),alert("Unable to decode VIN. Please check your connection and try again.")}finally{p(!1)}},Q=async e=>{if(e.length<2)x([]);else try{const t=`${l}/api/dealers/search?q=${encodeURIComponent(e)}`;console.log("[DEBUG][NewDealEntry] Dealer search fetch from:",t);const n=await fetch(t,{credentials:"include",headers:o()}),r=await n.json();x(r.dealers||[]),console.log("[DEALER SEARCH] Suggestions:",r.dealers||[])}catch(t){console.error("Dealer search error:",t),x([])}},J=(e,t)=>{let n=t;if("vin"===e&&(n=t.toUpperCase()),["purchasePrice","listPrice","instantOffer","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(e)&&(n=R(t)),"wholesalePrice"!==e||"wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType||(n=R(t)),"dealType"===e)return console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Field:",e,"Value:",n),d(e=>{console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Previous formData:",e);const t="deal-type-2"===n?e.dealType2SubType:"wholesale-flip"===n?"buy-sell":"";console.log("[DEAL TYPE CHANGE] \ud83d\udd0d New dealType2SubType:",t);let r=e.fundingSource;n.startsWith("wholesale")?(r="flpn-wholesale",console.log("[DEAL TYPE CHANGE] \ud83d\udd04 Auto-setting funding source to FLPN-Wholesale for wholesale deal")):n.startsWith("retail")?(r="flpn-retail",console.log("[DEAL TYPE CHANGE] \ud83d\udd04 Auto-setting funding source to FLPN-Retail for retail deal")):"auction"===n&&(r="cash",console.log("[DEAL TYPE CHANGE] \ud83d\udd04 Auto-setting funding source to Cash for auction deal"));const a={...e,dealType:n,dealType2SubType:t,buyerType:"wholesale-flip"===n?"dealer":e.buyerType,sellerType:"wholesale-flip"===n?"private":e.sellerType,fundingSource:r};return console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Updated formData:",a),a}),void(C>1&&P(1));d(t=>{"dealType2SubType"===e&&(console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Field:",e,"Value:",n),console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Previous formData:",t));let r={...t,[e]:n};return"brokerageFee"===e&&(r={...r,brokerFee:{...r.brokerFee,amount:n}}),"dealType2SubType"===e&&console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Updated formData:",r),r}),S[e]&&D(t=>({...t,[e]:null})),"vin"!==e||17!==n.length||m||K(n),"sellerName"===e&&("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"dealer"===c.sellerType?Q(n):x([]):Q(n)),"buyerName"===e&&("dealer"===c.buyerType?(async e=>{if(e.length<2)b([]);else try{const t=`${l}/api/dealers/search?q=${encodeURIComponent(e)}`;console.log("[DEBUG][NewDealEntry] Dealer buyer search fetch from:",t);const n=await fetch(t,{credentials:"include",headers:o()}),r=await n.json();b(r.dealers||[])}catch(t){console.error("Dealer search error:",t),b([])}})(n):b([])),"brokerageFeePaidTo"===e&&(async e=>{if(e.length<2)N([]);else try{const t=`${l}/api/brokers?search=${encodeURIComponent(e)}`;console.log("[DEBUG][NewDealEntry] Broker search fetch from:",t);const n=await fetch(t,{credentials:"include",headers:o()}),r=await n.json();r.success&&N(r.data||[])}catch(t){console.error("Broker search error:",t),N([])}})(n),"sellerType"!==e&&"buyerType"!==e||("sellerType"===e&&"private"===n&&x([]),"buyerType"===e&&"private"===n&&b([])),"dealType"===e&&C>1&&P(1)},X=e=>{const t=Array.from(e.target.files);console.log("[DOCUMENT UPLOAD] Files selected:",t.length,"files"),t.forEach((e,t)=>{console.log(`[DOCUMENT UPLOAD] File ${t+1}:`,e.name,"Size:",e.size,"Type:",e.type)}),d(e=>{const n=[...e.documents||[],...t];return console.log("[DOCUMENT UPLOAD] Total documents after upload:",n.length),{...e,documents:n}}),M(e=>{const n=[...e,...t.map((t,n)=>({fileIndex:e.length+n,note:""}))];return console.log("[DOCUMENT UPLOAD] Total document notes after upload:",n.length),n}),e.target.value=""},Z=e=>{console.log("[DOCUMENT REMOVE] Removing document at index:",e),d(t=>{const n=t.documents.filter((t,n)=>n!==e);return console.log("[DOCUMENT REMOVE] Documents after removal:",n.length),{...t,documents:n}}),M(t=>{const n=t.filter(t=>t.fileIndex!==e).map(t=>({...t,fileIndex:t.fileIndex>e?t.fileIndex-1:t.fileIndex}));return console.log("[DOCUMENT REMOVE] Notes after removal:",n.length),n})},ee=(e,t)=>{M(n=>n.find(t=>t.fileIndex===e)?n.map(n=>n.fileIndex===e?{...n,note:t}:n):[...n,{fileIndex:e,note:t}])},ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;console.log("[VALIDATION] Starting form validation..."),console.log("[VALIDATION] Data to validate:",e);const t={};let n=G.requiredFields||["vin","dealType","dealType2SubType","year","make","model","sellerName"];return console.log("[VALIDATION] Required fields:",n),"wholesale-flip"===e.dealType&&(n=[...n,"buyerName"],console.log("[VALIDATION] Added buyerName for wholesale flip deal")),console.log("[VALIDATION] Final required fields:",n),n.forEach(n=>{const r=e[n];console.log(`[VALIDATION] Checking field '${n}':`,r),r&&""!==r.toString().trim()?console.log(`[VALIDATION] \u2705 Field '${n}' is valid:`,r):(t[n]=`${n.charAt(0).toUpperCase()+n.slice(1)} is required`,console.log(`[VALIDATION] \u274c Field '${n}' is missing or empty`))}),e.year&&(e.year<1900||e.year>(new Date).getFullYear()+1)&&(t.year="Please enter a valid year",console.log("[VALIDATION] \u274c Invalid year:",e.year)),e.mileage&&e.mileage<0&&(t.mileage="Mileage cannot be negative",console.log("[VALIDATION] \u274c Negative mileage:",e.mileage)),G.showFinancials&&e.purchasePrice&&e.purchasePrice<=0&&(t.purchasePrice="Purchase price must be greater than 0",console.log("[VALIDATION] \u274c Invalid purchase price:",e.purchasePrice)),"wholesale-d2d"!==e.dealType||e.dealType2SubType&&""!==e.dealType2SubType.trim()||(t.dealType2SubType='Please select "Buy" or "Sale" for wholesale dealer-to-dealer deals.',console.log("[VALIDATION] \u274c Wholesale d2d deal missing dealType2SubType")),"wholesale-d2d"===e.dealType&&"buy"===e.dealType2SubType&&e.buyerName&&""!==e.buyerName.trim()&&(t.dealType2SubType='This appears to be a sale deal (has buyer info). Please select "Sale" as Deal Type 2.',console.log('[VALIDATION] \u274c Wholesale d2d deal has buyer info but dealType2SubType is "buy"')),"wholesale-d2d"===e.dealType&&"sale"===e.dealType2SubType&&(e.buyerName&&""!==e.buyerName.trim()||(t.buyerName="Buyer information is required for wholesale dealer-to-dealer sale deals.",console.log("[VALIDATION] \u274c Wholesale d2d sale deal missing buyer info"))),console.log("[VALIDATION] Final validation errors:",t),D(t),0===Object.keys(t).length},re=async function(){return ae(c,arguments.length>0&&void 0!==arguments[0]&&arguments[0])},ae=async function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("[HANDLE SAVE] Starting deal submission..."),console.log("[HANDLE SAVE] isDraft:",s),console.log("[HANDLE SAVE] currentUser:",n),console.log("[HANDLE SAVE] Using data:",e),console.log("[HANDLE SAVE] \ud83d\udd0d dealType:",e.dealType),console.log("[HANDLE SAVE] \ud83d\udd0d dealType2SubType:",e.dealType2SubType),console.log("[HANDLE SAVE] \ud83d\udd0d dealType2:",e.dealType2),!n)return console.log("[HANDLE SAVE] No user logged in"),alert("You must be logged in to submit a deal."),void a("/login");if(!s&&!ne(e))return console.log("[HANDLE SAVE] Validation failed"),console.log("[HANDLE SAVE] Validation errors:",S),alert("Please fill in all required fields: "+Object.keys(S).join(", ")),void mt.trackError("deal_validation_failed",Object.keys(S).join(", "),{dealType:e.dealType});console.log("[HANDLE SAVE] Setting saving state to true"),E(!0);try{var u,p,m,h,f,x,g,b,y,v,w,N,j,k,D,T,C,A,R,O;console.log("[HANDLE SAVE] Building deal data..."),console.log("[DEAL SUBMIT] dataToUse:",e),console.log("[DEBUG] handleSave - sellerType in dataToUse:",e.sellerType),console.log("[DEBUG] handleSave - dealType2SubType in dataToUse:",e.dealType2SubType),console.log("[DEAL SUBMIT] Financial fields:",{brokerageFee:e.brokerageFee,brokerageFeePaidTo:e.brokerageFeePaidTo,payoffBalance:e.payoffBalance,amountDueToCustomer:e.amountDueToCustomer,amountDueToRP:e.amountDueToRP,commissionRate:e.commissionRate});const a="contract-received",S={vehicle:`${e.year} ${e.make} ${e.model}`,vin:e.vin,year:parseInt(e.year),make:e.make,model:e.model,rpStockNumber:e.rpStockNumber,color:e.exteriorColor,exteriorColor:e.exteriorColor,interiorColor:e.interiorColor,mileage:parseInt(e.mileage)||0,purchasePrice:parseFloat(e.purchasePrice)||0,listPrice:parseFloat(e.listPrice)||0,instantOffer:parseFloat(e.instantOffer)||0,wholesalePrice:"wholesale-d2d"===e.dealType&&"buy"===e.dealType2SubType?0:parseFloat(e.wholesalePrice)||0,dealType:e.dealType,dealType2SubType:e.dealType2SubType,dealType2:(()=>{const t={buy:"Buy",sale:"Sale","buy-sell":"Buy/Sell","consign-a":"Consign-A","consign-b":"Consign-B","consign-c":"Consign-C","consign-rdnc":"Consign-RDNC"};console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Input dealType2SubType:",e.dealType2SubType),console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Mapping table:",t);const n=t[e.dealType2SubType]||"Buy";return console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Mapped result:",n),n})(),seller:{name:e.sellerName,type:e.sellerType||("wholesale-flip"===e.dealType||e.dealType.includes("private")?"private":"dealer"),email:e.sellerEmail,phone:e.sellerPhone,contact:{address:I(e.sellerAddress),phone:e.sellerPhone,email:e.sellerEmail},licenseNumber:e.sellerLicenseNumber,tier:e.sellerTier},buyer:{name:e.buyerName,type:e.buyerType,contact:{address:I(e.buyerAddress),phone:e.buyerPhone,email:e.buyerEmail},licenseNumber:e.buyerLicenseNumber,tier:e.buyerTier},fundingSource:e.fundingSource,paymentMethod:e.paymentMethod,purchaseDate:e.purchaseDate?new Date(e.purchaseDate):new Date,currentStage:a||"contract-received",salesperson:e.salesperson||H(n)||"Unknown",financial:{purchasePrice:parseFloat(e.purchasePrice)||0,listPrice:parseFloat(e.listPrice)||0,expectedMargin:0,commission:{rate:parseFloat(e.commissionRate)||0,estimatedAmount:0},brokerFee:{amount:parseFloat(e.brokerageFee)||0,brokerId:(null===(u=e.brokerFee)||void 0===u?void 0:u.brokerId)||null,brokerName:(null===(p=e.brokerFee)||void 0===p?void 0:p.brokerName)||e.brokerageFeePaidTo||"",brokerEmail:(null===(m=e.brokerFee)||void 0===m?void 0:m.brokerEmail)||"",paid:!1,paidDate:null,notes:""}},brokerFee:parseFloat(e.brokerageFee)||0,brokerFeePaidTo:e.brokerageFeePaidTo||"",payoffBalance:parseFloat(e.payoffBalance)||0,amountDueToCustomer:parseFloat(e.amountDueToCustomer)||0,amountDueToRP:parseFloat(e.amountDueToRP)||0,commissionRate:parseFloat(e.commissionRate)||0,generalNotes:e.generalNotes,titleInfo:{lienStatus:e.lienStatus||"none",lienEta:e.lienEta?new Date(e.lienEta):null}};console.log("[DEAL SUBMIT] Final dealData being sent:",{dealType:S.dealType,dealType2:S.dealType2,dealType2SubType:S.dealType2SubType,buyer:null===(h=S.buyer)||void 0===h?void 0:h.name,seller:null===(f=S.seller)||void 0===f?void 0:f.name}),"wholesale-d2d"===S.dealType&&(console.log("[DEAL SUBMIT] \ud83d\udd0d WHOLESALE D2D DEAL DEBUGGING:"),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType:",S.dealType),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType2:",S.dealType2),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType2SubType:",S.dealType2SubType),console.log("[DEAL SUBMIT] \ud83d\udd0d - Is this a sale deal?","sale"===S.dealType2SubType||"Sale"===S.dealType2),console.log("[DEAL SUBMIT] \ud83d\udd0d - Full dealData object:",JSON.stringify(S,null,2))),console.log("[DEBUG] handleSave - dealData.seller.type:",S.seller.type),console.log("[DEAL SUBMIT] SENDING seller license number:",c.sellerLicenseNumber),console.log("[DEAL SUBMIT] SENDING buyer license number:",c.buyerLicenseNumber),console.log("[DEAL SUBMIT] dealData to backend:",S),S.currentStage="contract-received",console.log("[DEBUG] dealData.currentStage (final):",S.currentStage),console.log("[DEBUG] Full dealData:",S),console.log("[HANDLE SAVE] Making API call to create deal..."),console.log("[HANDLE SAVE] API URL:",`${l}/api/sales/deals`),console.log("[HANDLE SAVE] Headers:",o()),console.log("[HANDLE SAVE] Deal data:",S),console.log("[DEAL SUBMIT] \ud83d\udd0d VALIDATION CHECK - Required fields being sent:"),console.log("[DEAL SUBMIT] \ud83d\udd0d - vin:",S.vin),console.log("[DEAL SUBMIT] \ud83d\udd0d - year:",S.year),console.log("[DEAL SUBMIT] \ud83d\udd0d - make:",S.make),console.log("[DEAL SUBMIT] \ud83d\udd0d - model:",S.model),console.log("[DEAL SUBMIT] \ud83d\udd0d - mileage:",S.mileage),console.log("[DEAL SUBMIT] \ud83d\udd0d - exteriorColor:",S.exteriorColor),console.log("[DEAL SUBMIT] \ud83d\udd0d - interiorColor:",S.interiorColor),console.log("[DEAL SUBMIT] \ud83d\udd0d - seller.name:",null===(x=S.seller)||void 0===x?void 0:x.name),console.log("[DEAL SUBMIT] \ud83d\udd0d - seller.email:",null===(g=S.seller)||void 0===g?void 0:g.email),console.log("[DEAL SUBMIT] \ud83d\udd0d - seller.phone:",null===(b=S.seller)||void 0===b?void 0:b.phone),console.log("[DEAL SUBMIT] \ud83d\udd0d - seller.contact.email:",null===(y=S.seller)||void 0===y||null===(v=y.contact)||void 0===v?void 0:v.email),console.log("[DEAL SUBMIT] \ud83d\udd0d - seller.contact.phone:",null===(w=S.seller)||void 0===w||null===(N=w.contact)||void 0===N?void 0:N.phone),console.log("[DEAL SUBMIT] \ud83d\udd0d - salesperson:",S.salesperson),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType:",S.dealType),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType2SubType:",S.dealType2SubType);const E=[];if(S.vin||E.push("vin"),S.year||E.push("year"),S.make||E.push("make"),S.model||E.push("model"),S.mileage||E.push("mileage"),S.exteriorColor||S.color||E.push("exteriorColor/color"),S.interiorColor||E.push("interiorColor"),null!==(j=S.seller)&&void 0!==j&&j.name||E.push("seller.name"),null!==(k=S.seller)&&void 0!==k&&k.email||null!==(D=S.seller)&&void 0!==D&&null!==(T=D.contact)&&void 0!==T&&T.email||E.push("seller.email"),null!==(C=S.seller)&&void 0!==C&&C.phone||null!==(A=S.seller)&&void 0!==A&&null!==(R=A.contact)&&void 0!==R&&R.phone||E.push("seller.phone"),S.salesperson||E.push("salesperson"),S.dealType||E.push("dealType"),S.dealType2SubType||E.push("dealType2SubType"),E.length>0?console.error("[DEAL SUBMIT] \u274c MISSING REQUIRED FIELDS:",E):console.log("[DEAL SUBMIT] \u2705 All required fields present"),S.brokerFee&&S.brokerFee>0&&S.brokerFeePaidTo){console.log("[BROKER CHECK] Checking if broker exists:",S.brokerFeePaidTo);const e=await fetch(`${l}/api/brokers?search=${encodeURIComponent(S.brokerFeePaidTo)}`,{credentials:"include",headers:r()});if(e.ok){var F;const t=null===(F=(await e.json()).data)||void 0===F?void 0:F.find(e=>e.name.toLowerCase()===S.brokerFeePaidTo.toLowerCase());if(t)console.log("[BROKER CHECK] \u2705 Broker already exists:",t.name);else{console.log("[BROKER CREATE] Creating new broker:",S.brokerFeePaidTo);const e=await(async e=>{try{const t=await fetch(`${l}/api/brokers`,{method:"POST",credentials:"include",headers:o(),body:JSON.stringify({name:e,email:"temp@example.com",phone:"",company:"",status:"Active"})});if(t.ok){const n=await t.json();if(n.success)return console.log("[BROKER CREATE] \u2705 New broker created:",n.data),Ht.success(`New broker "${e}" created successfully`),n.data}}catch(t){console.error("[BROKER CREATE] \u274c Error creating broker:",t),Ht.error("Failed to create new broker")}return null})(S.brokerFeePaidTo);e&&console.log("[BROKER CREATE] \u2705 New broker created successfully")}}}const W=await fetch(`${l}/api/sales/deals`,{method:"POST",headers:o(),body:JSON.stringify(S),credentials:"include"});console.log("[DEAL SUBMIT] Backend response status:",W.status),console.log("[DEAL SUBMIT] Backend response headers:",W.headers);let Y={},q="";try{Y=await W.json(),console.log("[DEAL SUBMIT] Backend response JSON:",Y)}catch(U){console.error("[DEAL SUBMIT] Error parsing JSON response:",U);try{q=await W.text(),console.error("[DEAL SUBMIT] Raw error response:",q)}catch(B){console.error("[DEAL SUBMIT] Could not read response as text either:",B)}Y={}}if(!W.ok){console.error("[DEAL SUBMIT] API call failed with status:",W.status),console.error("[DEAL SUBMIT] Error response:",Y),console.error("[DEAL SUBMIT] Raw error text:",q);let e="Validation failed";throw e=Y.error?Y.error:Y.details&&Array.isArray(Y.details)?`Validation failed: ${Y.details.join(", ")}`:q?`Server error: ${q}`:`Failed to create deal (Status: ${W.status})`,new Error(e)}if(!Y.success||!Y.deal)throw console.error("[DEAL SUBMIT] API call succeeded but no deal returned"),console.error("[DEAL SUBMIT] Response:",Y),new Error(Y.error||"Failed to create deal - no deal data returned");if(console.log("[DEAL SUBMIT] Deal created successfully!"),console.log("[DEAL SUBMIT] Deal ID:",Y.deal._id),console.log("[DEAL SUBMIT] Stock number:",Y.stockNumber),mt.trackDealEvent("deal_created",{dealType:e.dealType,year:e.year,make:e.make,model:e.model,purchasePrice:parseFloat(e.purchasePrice)||0}),t&&t(e=>[Y.deal,...e]),e.documents&&e.documents.length>0){console.log("[DEAL SUBMIT] Uploading",e.documents.length,"documents"),console.log("[DEAL SUBMIT] Documents to upload:",e.documents.map(e=>({name:e.name,size:e.size,type:e.type})));try{const t=new FormData;e.documents.forEach((e,n)=>{var r;t.append("documents",e);const a=(null===(r=L.find(e=>e.fileIndex===n))||void 0===r?void 0:r.note)||"";a&&t.append("notes",a)}),console.log("[DEAL SUBMIT] Batch uploading all documents to:",`${l}/api/backoffice/deals/${Y.deal._id}/documents/extra_doc/upload`);const n=await fetch(`${l}/api/backoffice/deals/${Y.deal._id}/documents/extra_doc/upload`,{method:"POST",headers:{...r()},body:t,credentials:"include"});if(console.log("[DEAL SUBMIT] Upload response status:",n.status),n.ok){const e=await n.json();console.log("[DEAL SUBMIT] All documents uploaded successfully:",e),Ht.success(`${e.data.length} document(s) uploaded successfully!`)}else{const e=await n.text();console.warn("[DEAL SUBMIT] Failed to upload documents:","Status:",n.status,"Error:",e),Ht.error("Failed to upload some documents. Please try again.")}}catch($){console.error("[DEAL SUBMIT] Error uploading documents:",$),Ht.error("Error uploading documents. Please try again.")}}else console.log("[DEAL SUBMIT] No documents to upload");try{console.log("[DEAL SUBMIT] Generating documents for deal:",Y.deal._id),console.log("[DEAL SUBMIT] Sending document generation data:",{dealType2SubType:S.dealType2SubType,dealType2:S.dealType2,sellerType:S.sellerType,buyerType:S.buyerType});try{const e=await fetch(`${l}/api/documents/generate/${Y.deal._id}`,{method:"POST",headers:{...o(),"Content-Type":"application/json"},body:JSON.stringify({dealType2SubType:S.dealType2SubType,dealType2:S.dealType2,sellerType:S.sellerType,buyerType:S.buyerType}),credentials:"include"});if(console.log("[DEAL SUBMIT] Document generation response status:",e.status),e.ok){const t=await e.json();console.log("[DEAL SUBMIT] Documents generated successfully:",t),Ht.success(`Deal submitted and ${t.documentCount||0} document(s) generated successfully!`)}else{const t=await e.text();console.error("[DEAL SUBMIT] Document generation failed:",{status:e.status,statusText:e.statusText,error:t}),Ht.error("Deal submitted but document generation failed. Please contact support.")}}catch(z){console.error("[DEAL SUBMIT] Error generating documents:",z),Ht.error("Deal submitted but document generation failed. Please contact support.")}}catch(V){console.error("[DEAL SUBMIT] Error in document generation block:",V),Ht.error("Deal submitted but document generation failed. Please contact support.")}if(_&&null!==(O=c.sellerEmail)&&void 0!==O&&O.trim())if("retail-d2d"===c.dealType&&"buy"===c.dealType2SubType)console.log("[DEAL SUBMIT] Skipping seller upload email for retail-d2d buy deal (not needed)");else try{console.log("[DEAL SUBMIT] Sending seller upload link for deal:",Y.deal._id);const e=await fetch(`${l}/api/seller-upload/generate-link`,{method:"POST",headers:o(),body:JSON.stringify({dealId:Y.deal._id,sellerEmail:c.sellerEmail.trim(),vehicleInfo:`${c.year} ${c.make} ${c.model}`,vin:c.vin}),credentials:"include"}),t=await e.json();t.success?(console.log("[DEAL SUBMIT] Seller upload link sent successfully"),Ht.success("Seller document upload link sent successfully!")):(console.error("[DEAL SUBMIT] Failed to send seller upload link:",t.message),Ht.error("Deal submitted but seller upload link failed to send. Please contact support."))}catch($){console.error("[DEAL SUBMIT] Error sending seller upload link:",$),Ht.error("Deal submitted but seller upload link failed to send. Please contact support.")}s||(d({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:i,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",instantOffer:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",documents:[],salesperson:"",lienStatus:"none",lienEta:""}),M([]),P(1))}catch(W){console.error("[HANDLE SAVE] Error occurred during deal submission:",W),console.error("[HANDLE SAVE] Error message:",W.message),console.error("[HANDLE SAVE] Error stack:",W.stack),W.message.includes("401")||W.message.includes("not authorized")?(console.error("[HANDLE SAVE] Authentication error detected"),alert("Session expired or not authorized. Please log in again."),a("/login")):W.message.includes("400")?(console.error("[HANDLE SAVE] Bad request error detected"),alert(`Validation error: ${W.message}`)):W.message.includes("403")?(console.error("[HANDLE SAVE] Forbidden error detected"),alert("Access denied. Please check your permissions.")):W.message.includes("500")?(console.error("[HANDLE SAVE] Server error detected"),alert("Server error occurred. Please try again later.")):(console.error("[HANDLE SAVE] Unknown error occurred"),alert(`Error saving deal: ${W.message}`))}finally{console.log("[HANDLE SAVE] Setting saving state to false"),E(!1)}},se=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-300",children:[l&&s.createElement(l,{className:"h-4 w-4 mr-2"}),e,a&&(0,qe.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),"select"===n?(0,qe.jsxs)("select",{value:c[t],onChange:e=>J(t,e.target.value),className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors "+(S[t]?"border-red-500":"border-white/20 hover:border-white/30"),children:[(0,qe.jsxs)("option",{value:"",children:["Select ",e]}),null===r||void 0===r?void 0:r.map(e=>(0,qe.jsx)("option",{value:e.value,className:"bg-gray-800",children:e.label},e.value))]}):"textarea"===n?(0,qe.jsx)("textarea",{value:c[t],onChange:e=>J(t,e.target.value),rows:4,placeholder:`Enter ${e.toLowerCase()}...`,className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none "+(S[t]?"border-red-500":"border-white/20 hover:border-white/30")}):"checkbox"===n?(0,qe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,qe.jsx)("input",{type:"checkbox",checked:!!c[t],onChange:e=>J(t,e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,qe.jsx)("span",{className:"text-gray-300",children:e})]}):(0,qe.jsxs)("div",{className:"relative",children:[(["purchasePrice","listPrice","instantOffer","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)||"wholesalePrice"===t&&!("wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType))&&(0,qe.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:"$"}),(0,qe.jsx)("input",{type:n,value:c[t]||"",onChange:e=>{J(t,e.target.value)},placeholder:`Enter ${e.toLowerCase()}...`,pattern:"tel"===n?"[0-9+\\-\\(\\)\\s]*":void 0,className:`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${S[t]?"border-red-500":"border-white/20 hover:border-white/30"} ${"vin"===t?"pr-20":""} ${["purchasePrice","listPrice","instantOffer","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)||"wholesalePrice"===t&&("wholesale-d2d"!==c.dealType||"buy"!==c.dealType2SubType)?"pl-8":""}`}),"vin"===t&&17===c.vin.length&&(0,qe.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:u?(0,qe.jsx)(Xe,{className:"h-5 w-5 text-blue-400 animate-spin"}):m?(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400"}):(0,qe.jsx)("button",{onClick:()=>K(c.vin),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors",children:"Decode"})}),o&&"dealerName"===t&&g.length>0&&(0,qe.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:g.map(e=>(0,qe.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{d(t=>{var n;return{...t,dealerName:e.name,dealerCompany:e.company,dealerPhone:e.phone,dealerEmail:(null===(n=e.contact)||void 0===n?void 0:n.email)||e.email||"",dealerAddress:e.location||e.address||""}}),b([])},children:[(0,qe.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"buyerName"===t&&"dealer"===c.buyerType&&g.length>0&&(0,qe.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:g.map(e=>(0,qe.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{d(t=>({...t,buyerName:e.name||"",buyerAddress:e.addressString||"",buyerPhone:e.phone||"",buyerEmail:e.email||"",buyerLicenseNumber:e.licenseNumber||"",buyerTier:e.tier||"Tier 1"})),b([]),console.log("[BUYER DEALER AUTOFILL] Selected dealer:",e)})(e)},children:[(0,qe.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"sellerName"===t&&f.length>0&&("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType&&"dealer"===c.sellerType||!["retail-pp","retail-auction","retail-dtod"].includes(c.dealType)&&!("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType))&&(0,qe.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:f.map(e=>(0,qe.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{d(t=>{const n={...t,sellerName:e.name||"",sellerCompany:e.company||"",sellerPhone:e.phone||"",sellerEmail:e.email||"",sellerAddress:e.addressString||"",sellerLicenseNumber:e.licenseNumber||"",sellerTier:e.tier||"Tier 1",sellerType:"dealer"};return console.log("[DEBUG] handleDealerSuggestionSelect - sellerType set to:",n.sellerType),n}),x([]),v("")})(e)},children:[(0,qe.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"brokerageFeePaidTo"===t&&w.length>0&&(0,qe.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:w.map(e=>(0,qe.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{d(t=>({...t,brokerageFeePaidTo:e.name||"",brokerFee:{...t.brokerFee,brokerId:e._id||e.id,brokerName:e.name||"",brokerEmail:e.email||""}})),N([]),k(""),console.log("[BROKER AUTOFILL] Selected broker:",e)})(e)},children:[(0,qe.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company&&`${e.company} \u2022 `,e.email," \u2022 ",e.phone]})]},e._id))})]}),S[t]&&(0,qe.jsxs)("div",{className:"flex items-center text-red-400 text-sm",children:[(0,qe.jsx)(Ze,{className:"h-4 w-4 mr-1"}),S[t]]})]})},le=(()=>{let e=2;return G.showFinancials&&e++,G.showSellerInfo&&e++,e++,e})();return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,qe.jsx)(ct,{className:"h-5 w-5 text-white"})}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,qe.jsx)(Me,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-xl font-bold text-white",children:"New Deal Entry"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Create a new vehicle deal"})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>re(!0),disabled:T,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[T?(0,qe.jsx)(Xe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(dt,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,qe.jsxs)("button",{onClick:()=>re(!1),disabled:T,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50",children:[T?(0,qe.jsx)(Xe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(Ve,{className:"h-4 w-4 mr-2"}),"Create Deal"]})]})]})})}),(0,qe.jsxs)("div",{className:"relative max-w-6xl mx-auto px-6 py-8",children:[(0,qe.jsx)("div",{className:"mb-8",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:Array.from({length:le},(e,t)=>{const n=t+1,r=C===n,a=C>n;let s="",l="";return 1===n?(s="Vehicle & Deal Type",l="Enter vehicle information and select deal type"):2===n?(s="Deal Configuration",l="Configure funding, payment, and timeline"):3===n&&G.showFinancials?(s="Financial Information",l="Set pricing and financial terms"):3===n&&!G.showFinancials&&G.showSellerInfo||4===n&&G.showFinancials&&G.showSellerInfo?(s="wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"Buyer & Seller Information":"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType?"Buyer Information":"Seller Information",l="wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"Add buyer and seller contact information":"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType?"Add purchasing dealer information":"Add seller contact information"):(4===n&&!G.showFinancials&&!G.showSellerInfo||5===n&&(G.showFinancials||G.showSellerInfo))&&(s="Comments & Files",l="Add vehicle description, notes, and upload documents"),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors "+(r?"bg-blue-600 border-blue-600 text-white":a?"bg-green-600 border-green-600 text-white":"bg-white/10 border-white/20 text-gray-400"),children:a?(0,qe.jsx)(Ve,{className:"h-5 w-5"}):(0,qe.jsx)("span",{className:"text-sm font-medium",children:n})}),(0,qe.jsxs)("div",{className:"ml-3",children:[(0,qe.jsx)("p",{className:"text-sm font-medium "+(r?"text-white":"text-gray-400"),children:s}),(0,qe.jsx)("p",{className:"text-xs text-gray-500",children:l})]}),n<le&&(0,qe.jsx)("div",{className:"w-16 h-0.5 mx-4 "+(a?"bg-green-600":"bg-white/20")})]},n)})})}),(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2",children:[1===C&&"Vehicle Information & Deal Type",2===C&&"Deal Configuration",3===C&&G.showFinancials&&"Financial Information",3===C&&!G.showFinancials&&G.showSellerInfo&&"Seller Information",3===C&&!G.showFinancials&&!G.showSellerInfo&&G.showDocumentation&&"Documentation & Notes",4===C&&G.showFinancials&&G.showSellerInfo&&"Seller Information",4===C&&G.showFinancials&&!G.showSellerInfo&&G.showDocumentation&&"Documentation & Notes",5===C&&"Documentation & Notes"]}),(0,qe.jsxs)("p",{className:"text-gray-300",children:[1===C&&"Enter basic vehicle information and select the deal type",2===C&&"Configure deal type, funding, and timeline",3===C&&G.showFinancials&&"Set pricing and financial terms",3===C&&!G.showFinancials&&G.showSellerInfo&&"Add seller contact information",3===C&&!G.showFinancials&&!G.showSellerInfo&&G.showDocumentation&&"Document status and additional notes",4===C&&G.showFinancials&&G.showSellerInfo&&"Add seller contact information",4===C&&G.showFinancials&&!G.showSellerInfo&&G.showDocumentation&&"Document status and additional notes",5===C&&"Document status and additional notes"]})]}),(()=>{var e,t,n;switch(C){case 1:return(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("div",{className:"mb-4",children:(0,qe.jsx)("h3",{className:"text-lg font-medium text-white",children:"Deal Type Selection"})}),se("Deal Type","dealType","select",B,!0,Pe),(0,qe.jsxs)("div",{className:"mt-4",children:[(0,qe.jsx)("div",{className:"wholesale-d2d"!==c.dealType||c.dealType2SubType&&""!==c.dealType2SubType.trim()?"":"ring-2 ring-yellow-500/50 rounded-lg p-1",children:se("Deal Type 2","dealType2SubType","select",V,!0)}),c.dealType&&(0,qe.jsx)("div",{className:"mt-2 p-3 border rounded-lg "+(c.dealType2SubType&&""!==c.dealType2SubType.trim()?"bg-blue-500/10 border-blue-500/20":"bg-yellow-500/10 border-yellow-500/30"),children:(0,qe.jsx)("p",{className:"text-sm "+(c.dealType2SubType&&""!==c.dealType2SubType.trim()?"text-blue-300":"text-yellow-300"),children:c.dealType2SubType&&""!==c.dealType2SubType.trim()?"buy"===c.dealType2SubType?(0,qe.jsxs)(qe.Fragment,{children:["\u2705 ",(0,qe.jsx)("strong",{children:"Buy Deal:"})," RP Exotics is purchasing from ","wholesale-d2d"===c.dealType?"another dealer":"retail-d2d"===c.dealType?"another dealer (to list for retail)":"another party",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Seller:"})," ","wholesale-d2d"===c.dealType||"retail-d2d"===c.dealType?"Another dealer":"Another party"," (you'll enter their info)",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Buyer:"})," RP Exotics (no buyer info needed)"]}):"sale"===c.dealType2SubType?(0,qe.jsxs)(qe.Fragment,{children:["\u2705 ",(0,qe.jsx)("strong",{children:"Sale Deal:"})," RP Exotics is selling to another party",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Seller:"})," RP Exotics (no seller info needed)",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Buyer:"})," Another party (you'll enter their info)"]}):"wholesale-flip"===c.dealType?(0,qe.jsxs)(qe.Fragment,{children:["\ud83d\udca1 ",(0,qe.jsx)("strong",{children:"Important:"})," This is how a wholesale flip deal works:",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Buying"})," from either a private party or dealer, then",(0,qe.jsx)("br",{}),"\u2022 ",(0,qe.jsx)("strong",{children:"Selling"})," to a dealer for a quick flip"]}):(0,qe.jsxs)(qe.Fragment,{children:["\ud83d\udca1 ",(0,qe.jsx)("strong",{children:"Important:"})," Please select the correct option for ",c.dealType," deals:",(0,qe.jsx)("br",{}),"\u2022 Select ",(0,qe.jsx)("strong",{children:'"Buy"'})," if RP Exotics is purchasing from ","wholesale-d2d"===c.dealType?"another dealer":"retail-d2d"===c.dealType?"another dealer (to list for retail)":"another party","retail-d2d"!==c.dealType&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("br",{}),"\u2022 Select ",(0,qe.jsx)("strong",{children:'"Sale"'})," if RP Exotics is selling to another party"]})]}):(0,qe.jsxs)(qe.Fragment,{children:["\u26a0\ufe0f ",(0,qe.jsx)("strong",{children:"Required:"}),' Please select "Buy" or "Sale" for ',c.dealType," deals:",(0,qe.jsx)("br",{}),"\u2022 Select ",(0,qe.jsx)("strong",{children:'"Buy"'})," if RP Exotics is purchasing from ","wholesale-d2d"===c.dealType?"another dealer":"retail-d2d"===c.dealType?"another dealer (to list for retail)":"another party","retail-d2d"!==c.dealType&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("br",{}),"\u2022 Select ",(0,qe.jsx)("strong",{children:'"Sale"'})," if RP Exotics is selling to another party"]})]})})})]})]}),(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Vehicle Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsx)("div",{className:"md:col-span-2",children:se("VIN","vin","text",null,!0,et)}),se("Year","year","number",null,!0,tt),se("Make","make","text",null,!0),se("Model","model","text",null,!0),se("Mileage","mileage","number",null,!1,nt),se("Exterior Color","exteriorColor","text",null,!1,rt),se("Interior Color","interiorColor","text",null,!1,rt)]})]})]});case 2:return(0,qe.jsx)("div",{className:"space-y-6",children:(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Deal Configuration"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"relative",children:[se("Funding Source","fundingSource","select",$,!0,_e),c.fundingSource&&((null===(e=c.dealType)||void 0===e?void 0:e.startsWith("wholesale"))&&"flpn-wholesale"===c.fundingSource||(null===(t=c.dealType)||void 0===t?void 0:t.startsWith("retail"))&&"flpn-retail"===c.fundingSource||"auction"===c.dealType&&"cash"===c.fundingSource)&&(0,qe.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,qe.jsx)("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Auto-set"})})]}),se("Purchase/Sale Date","purchaseDate","date",null,!0,tt),se("Payment Method","paymentMethod","select",z,!0),se("RP Exotics Stock Number","rpStockNumber","text",null,!1,et),se("Salesperson","salesperson","select",W,!0,at)]})]})});case 3:return G.showFinancials?(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Financial Information"}),"sale"===c.dealType2SubType&&"wholesale-d2d"!==c.dealType?(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text"),se(U.amountDueToCustomerLabel,"amountDueToCustomer","number"),se(U.amountDueToRPExoticsLabel,"amountDueToRP","number")]}):"retail-pp"===c.dealType?(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("Instant Offer","instantOffer","number"),se("List Price","listPrice","number"),se(U.payoffBalanceLabel,"payoffBalance","number")]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text"),se(U.amountDueToCustomerLabel,"amountDueToCustomer","number"),se(U.amountDueToRPExoticsLabel,"amountDueToRP","number")]})]}):"retail-d2d"===c.dealType?(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("List Price","listPrice","number")]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text")]})]}):"wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType?(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("Instant Offer","instantOffer","number"),["consign-a","consign-b","consign-c","consign-rdnc"].includes(c.dealType2SubType)?se("Commission Rate (%)","commissionRate","number"):null]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text")]})]}):"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType?(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text")]}):(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-6",children:[se(U.purchasePriceLabel,"purchasePrice","number",null,!0,_e),se("Instant Offer","instantOffer","number"),se("Wholesale Price","wholesalePrice","number"),se("List Price","listPrice","number"),["consign-a","consign-b","consign-c","consign-rdnc"].includes(c.dealType2SubType)?se("Commission Rate (%)","commissionRate","number"):null]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[se("Brokerage Fee","brokerageFee","number"),se("Brokerage Fee Paid To","brokerageFeePaidTo","text"),se(U.payoffBalanceLabel,"payoffBalance","number"),se(U.amountDueToCustomerLabel,"amountDueToCustomer","number"),se(U.amountDueToRPExoticsLabel,"amountDueToRP","number")]})]})]}):(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Financial Information Not Required"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"This deal type does not require financial information."})]});case 4:if("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType)return(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-10",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white",children:"Buyer Information"}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>J("buyerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===c.buyerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,qe.jsx)("button",{type:"button",onClick:()=>J("buyerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===c.buyerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[se("dealer"===c.buyerType?"Dealer Name":"Buyer Name","buyerName","text",null,!0,at),se("Phone","buyerPhone","tel",null,!1,st),se("Email","buyerEmail","email",null,!1,lt),se("Address","buyerAddress","text",null,!1,ot),"dealer"===c.buyerType&&se("Dealer License Number","buyerLicenseNumber","text"),"dealer"===c.buyerType&&!O()&&!("retail-d2d"===c.dealType&&"buy"===c.dealType2SubType)&&se("Dealer Tier","buyerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white",children:"Seller Information"}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>J("sellerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===c.sellerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,qe.jsx)("button",{type:"button",onClick:()=>J("sellerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===c.sellerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[se("dealer"===c.sellerType?"Dealer Name":"Seller Name","sellerName","text",null,!0,at),se("Phone","sellerPhone","tel",null,!1,st),se("Email","sellerEmail","email",null,!1,lt),se("Address","sellerAddress","text",null,!1,ot),"dealer"===c.sellerType&&se("Dealer License Number","sellerLicenseNumber","text"),"dealer"===c.sellerType&&!("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType)&&!O()&&!("retail-d2d"===c.dealType&&"buy"===c.dealType2SubType)&&se("Dealer Tier","sellerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]}),F()&&(0,qe.jsxs)("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:[(0,qe.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,qe.jsx)("h4",{className:"text-sm font-medium text-blue-300",children:"\ud83d\udcc4 Seller Document Upload"})}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,qe.jsx)("input",{type:"checkbox",checked:_,onChange:e=>A(e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Send document upload link to seller when deal is submitted"})]}),(0,qe.jsx)("p",{className:"text-gray-400 text-xs",children:"Check the box above to automatically send a secure upload link to the seller when the deal is submitted."})]})]})]})]});if("wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType)return(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Buyer Information"}),(0,qe.jsx)("p",{className:"text-gray-400 mb-6",children:"Enter the purchasing dealer information (RP Exotics is the seller)"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[se("Dealer Name","buyerName","text",null,!0,at),se("Phone","buyerPhone","tel",null,!1,st),se("Email","buyerEmail","email",null,!1,lt),se("Address","buyerAddress","text",null,!1,ot),se("Dealer License Number","buyerLicenseNumber","text"),!O()&&se("Dealer Tier","buyerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]});{const e="retail-pp"===c.dealType;return(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:U.sellerSectionTitle}),e?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsx)("div",{className:"md:col-span-2",children:se(U.sellerLabel,"sellerName","text",null,!0,at)}),se("Phone","sellerPhone","tel",null,!1,st),se("Email","sellerEmail","email",null,!1,lt),se("Address","sellerAddress","text",null,!1,ot)]}),F()&&(0,qe.jsxs)("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:[(0,qe.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,qe.jsx)("h4",{className:"text-sm font-medium text-blue-300",children:"\ud83d\udcc4 Seller Document Upload"})}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,qe.jsx)("input",{type:"checkbox",checked:_,onChange:e=>A(e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Send document upload link to seller when deal is submitted"})]}),(0,qe.jsx)("p",{className:"text-gray-400 text-xs",children:"Check the box above to automatically send a secure upload link to the seller when the deal is submitted."})]})]})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsx)("div",{className:"md:col-span-2",children:se(U.sellerLabel,"sellerName","text",null,!0,at)}),!e&&"retail-d2d"!==c.dealType&&!("wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType)&&se(U.companyLabel,"sellerCompany","text"),se("Phone","sellerPhone","tel",null,!1,st),se("Email","sellerEmail","email",null,!1,lt),se(U.addressLabel,"sellerAddress","text",null,!1,ot),("retail-d2d"===c.dealType||"wholesale-d2d"===c.dealType)&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"seller-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,qe.jsx)("input",{type:"text",id:"seller-license-number",value:c.sellerLicenseNumber||"",onChange:e=>J("sellerLicenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),"retail-d2d"===c.dealType&&"sale"===c.dealType2SubType&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"seller-tier",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Tier"}),(0,qe.jsxs)("select",{id:"seller-tier",value:c.sellerTier||"Tier 1",onChange:e=>J("sellerTier",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"Tier 1",children:"Tier 1: Pay Upon Title"}),(0,qe.jsx)("option",{value:"Tier 2",children:"Tier 2: Pay Prior to Release"})]})]}),"sale"===c.dealType2SubType&&"wholesale-d2d"===c.dealType&&(0,qe.jsxs)("div",{className:"md:col-span-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Dealer Tier"}),(0,qe.jsxs)("div",{className:"flex space-x-4",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>J("sellerTier","Tier 1"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 1"===c.sellerTier?"bg-red-600 border-red-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 1 - Pay Upon Title"}),(0,qe.jsx)("button",{type:"button",onClick:()=>J("sellerTier","Tier 2"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 2"===c.sellerTier?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 2 - Pay Prior to Release"})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tier 1: Pay Upon Title. Tier 2: Pay Prior to Release."})]})]})]}),F()&&(0,qe.jsxs)("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:[(0,qe.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,qe.jsx)("h4",{className:"text-sm font-medium text-blue-300",children:"\ud83d\udcc4 Seller Document Upload"})}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,qe.jsx)("input",{type:"checkbox",checked:_,onChange:e=>A(e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Send document upload link to seller when deal is submitted"})]}),(0,qe.jsx)("p",{className:"text-gray-400 text-xs",children:"Check the box above to automatically send a secure upload link to the seller when the deal is submitted."})]})]})]}),"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 mt-6",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"buy"===c.dealType2SubType?"Purchasing Dealer Information":"Buyer Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsx)("div",{className:"md:col-span-2",children:se("buy"===c.dealType2SubType?"Purchasing Dealer Name":"Buyer Name","buyerName","text",null,!0,at)}),se("Phone","buyerPhone","tel",null,!1,st),se("Email","buyerEmail","email",null,!1,lt),se("Address","buyerAddress","text",null,!1,ot),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"buyer-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,qe.jsx)("input",{type:"text",id:"buyer-license-number",value:c.buyerLicenseNumber||"",onChange:e=>J("buyerLicenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!O()&&(0,qe.jsxs)("div",{className:"md:col-span-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Dealer Tier"}),(0,qe.jsxs)("div",{className:"flex space-x-4",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>J("buyerTier","Tier 1"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 1"===c.buyerTier?"bg-red-600 border-red-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 1 - Pay Upon Title"}),(0,qe.jsx)("button",{type:"button",onClick:()=>J("buyerTier","Tier 2"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 2"===c.buyerTier?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 2 - Pay Prior to Release"})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tier 1: Pay Upon Title. Tier 2: Pay Prior to Release."})]})]})]})]})}case 5:return(0,qe.jsx)("div",{className:"space-y-6",children:(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,qe.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Comments, Description & Files"}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vehicle Description"}),(0,qe.jsx)("textarea",{value:c.vehicleDescription||"",onChange:e=>J("vehicleDescription",e.target.value),placeholder:"Enter detailed vehicle description...",rows:4,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"General Notes"}),(0,qe.jsx)("textarea",{value:c.generalNotes||"",onChange:e=>J("generalNotes",e.target.value),placeholder:"Enter any additional notes or comments...",rows:4,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload Documents"}),(0,qe.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center hover:border-white/30 transition-colors",children:[(0,qe.jsx)("input",{type:"file",multiple:!0,onChange:X,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700",style:{display:"block"}},`file-input-step4-${(null===(n=c.documents)||void 0===n?void 0:n.length)||0}`),(0,qe.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"You can select multiple files at once"}),c.documents&&c.documents.length>0&&(0,qe.jsxs)("p",{className:"text-blue-400 text-xs mt-1",children:["Currently uploaded: ",c.documents.length," file",1!==c.documents.length?"s":""]}),c.documents&&c.documents.length>0&&(0,qe.jsx)("div",{className:"mt-3 space-y-2",children:c.documents.map((e,t)=>{var n;return(0,qe.jsxs)("div",{className:"flex items-center space-x-3 bg-white/10 rounded p-2",children:[e.type&&e.type.startsWith("image")?(0,qe.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"h-12 w-12 object-cover rounded"}):(0,qe.jsx)("span",{className:"inline-block w-12 h-12 bg-gray-700 text-white flex items-center justify-center rounded",children:"PDF"}),(0,qe.jsx)("span",{className:"text-white text-sm truncate max-w-xs",children:e.name}),(0,qe.jsx)("input",{type:"text",value:(null===(n=L.find(e=>e.fileIndex===t))||void 0===n?void 0:n.note)||"",onChange:e=>ee(t,e.target.value),placeholder:"Add a note (optional)",className:"bg-white/10 border rounded-lg px-2 py-1 text-white text-sm"}),(0,qe.jsx)("button",{type:"button",className:"ml-auto text-red-400 hover:text-red-600 text-xs font-medium",onClick:()=>Z(t),children:"Remove"})]},t)})})]})]}),c.documents&&c.documents.length>0&&(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Uploaded Documents"}),(0,qe.jsx)("div",{className:"space-y-3",children:c.documents.map((e,t)=>{var n;return(0,qe.jsxs)("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded p-2",children:(0,qe.jsx)(Be,{className:"h-4 w-4 text-blue-400"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,qe.jsxs)("p",{className:"text-gray-400 text-xs",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("input",{type:"text",placeholder:"Add note...",value:(null===(n=L.find(e=>e.fileIndex===t))||void 0===n?void 0:n.note)||"",onChange:e=>ee(t,e.target.value),className:"bg-white/10 border border-white/20 rounded px-2 py-1 text-white text-xs placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,qe.jsx)("button",{onClick:()=>Z(t),className:"text-red-400 hover:text-red-300 transition-colors",children:(0,qe.jsx)(it,{className:"h-4 w-4"})})]})]},t)})})]})]})});default:return null}})(),(0,qe.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-white/10",children:[(0,qe.jsxs)("button",{onClick:()=>P(Math.max(1,C-1)),disabled:1===C,className:"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,qe.jsx)(ct,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[C===le&&c.vehicleDescription&&(0,qe.jsxs)("button",{onClick:()=>{const e=`New Vehicle Ready for Listing\n\nVehicle: ${c.year} ${c.make} ${c.model}\nVIN: ${c.vin}\nStock #: ${c.rpStockNumber}\nMileage: ${c.mileage}\nExterior: ${c.exteriorColor}\nInterior: ${c.interiorColor}\n\nDescription:\n${c.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${n.name}`,t=`mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${c.year} ${c.make} ${c.model}&body=${encodeURIComponent(e)}`;window.open(t)},className:"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,qe.jsx)(ut,{className:"h-4 w-4 mr-2"}),"Email to Listing Team"]}),C<le?(0,qe.jsxs)("button",{onClick:()=>P(Math.min(le,C+1)),className:"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors",children:["Next",(0,qe.jsx)(ct,{className:"h-4 w-4 ml-2 rotate-180"})]}):(0,qe.jsxs)("button",{onClick:()=>{if(console.log("[SUBMIT] Submit button clicked"),console.log("[SUBMIT] Current form data:",c),console.log("[SUBMIT] Current user:",n),console.log("[SUBMIT] Validation errors:",S),!n)return console.log("[SUBMIT] No user logged in"),alert("You must be logged in to submit a deal."),void a("/login");if("wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType&&!c.sellerName){console.log("[SUBMIT] Auto-setting seller for wholesale-d2d sale deal");const e={...c,sellerName:"RP Exotics",sellerType:"dealer",sellerPhone:"(314) 970-2427",sellerEmail:"info@rpexotics.com",sellerAddress:"1155 N Warson Rd, Saint Louis, MO 63132",sellerLicenseNumber:"D4865",sellerTier:"Tier 1"};d(e);const t={};["vin","dealType","dealType2SubType","year","make","model","sellerName"].forEach(n=>{const r=e[n];console.log(`[SUBMIT] Checking field '${n}':`,r),r&&""!==r.toString().trim()?console.log(`[SUBMIT] \u2705 Field '${n}' is valid:`,r):(t[n]=`${n.charAt(0).toUpperCase()+n.slice(1)} is required`,console.log(`[SUBMIT] \u274c Field '${n}' is missing or empty`))}),e.year&&(e.year<1900||e.year>(new Date).getFullYear()+1)&&(t.year="Please enter a valid year",console.log("[SUBMIT] \u274c Invalid year:",e.year)),e.mileage&&e.mileage<0&&(t.mileage="Mileage cannot be negative",console.log("[SUBMIT] \u274c Negative mileage:",e.mileage));q().showFinancials&&e.purchasePrice&&e.purchasePrice<=0&&(t.purchasePrice="Purchase price must be greater than 0",console.log("[SUBMIT] \u274c Invalid purchase price:",e.purchasePrice)),console.log("[SUBMIT] Validation errors:",t),D(t);const n=0===Object.keys(t).length;return console.log("[SUBMIT] Form validation result:",n),n?(console.log("[SUBMIT] Calling handleSave with updated form data..."),void ae(e,!1)):(console.log("[SUBMIT] Form validation failed"),console.log("[SUBMIT] Form errors:",t),void alert("Please fill in all required fields: "+Object.keys(t).join(", ")))}const e=ne();if(console.log("[SUBMIT] Form validation result:",e),!e)return console.log("[SUBMIT] Form validation failed"),console.log("[SUBMIT] Form errors:",S),void alert("Please fill in all required fields: "+Object.keys(S).join(", "));console.log("[SUBMIT] Calling handleSave..."),re(!1)},disabled:T,className:"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[T?(0,qe.jsx)(Xe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(Ve,{className:"h-4 w-4 mr-2"}),"Submit Deal"]})]})]})]}),u&&(0,qe.jsxs)("div",{className:"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,qe.jsx)(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Decoding VIN..."]}),m&&(0,qe.jsxs)("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,qe.jsx)(Ve,{className:"h-4 w-4 mr-2"}),"VIN decoded successfully!"]})]}),(0,qe.jsx)(en,{})]})},ac=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sc=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),lc=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),oc=e=>{var t;let{user:n,onComplete:r}=e;const[a,l]=(0,s.useState)(0),[o,i]=(0,s.useState)(0),c=(0,s.useCallback)(()=>[{text:"Authenticating credentials...",icon:ac,duration:800},{text:"Loading user profile...",icon:n&&"admin"===n.role?Ce:n&&"sales"===n.role?Pe:n&&"finance"===n.role?sc:Ae,duration:700},{text:"Initializing workspace...",icon:Ie,duration:600},{text:"Preparing dashboard...",icon:He,duration:500},{text:"Welcome to RP Exotics!",icon:Ve,duration:400}],[n]);s.useEffect(()=>{let e,t;const n=c(),a=s=>{if(s>=n.length)return void setTimeout(()=>r(),300);l(s),i(0);const o=n[s].duration,c=100/(o/10);t=setInterval(()=>{i(e=>e>=100?(clearInterval(t),100):e+c)},10),e=setTimeout(()=>{clearInterval(t),a(s+1)},o)};return a(0),()=>{clearTimeout(e),clearInterval(t)}},[c,r]);const d=e=>{if(!e)return"from-gray-500 to-gray-600";switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},u=c()[a]||c()[0],p=u.icon;return(0,qe.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center z-50",children:[(0,qe.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsxs)("div",{className:"relative text-center max-w-md mx-auto px-6",children:[(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsx)("div",{className:`mx-auto h-24 w-24 bg-gradient-to-r ${d(n.role)} rounded-2xl flex items-center justify-center mb-6 shadow-2xl animate-pulse`,children:(0,qe.jsx)(Pe,{className:"h-12 w-12 text-white"})}),(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"RP Exotics"}),(0,qe.jsx)("p",{className:"text-gray-300",children:"Professional Vehicle Management"})]}),(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:`inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r ${d(n.role)} text-white text-sm font-medium mb-3 shadow-lg`,children:["admin"===n.role&&(0,qe.jsx)(Ce,{className:"h-4 w-4 mr-2"}),"sales"===n.role&&(0,qe.jsx)(Pe,{className:"h-4 w-4 mr-2"}),"finance"===n.role&&(0,qe.jsx)(sc,{className:"h-4 w-4 mr-2"}),"viewer"===n.role&&(0,qe.jsx)(Ae,{className:"h-4 w-4 mr-2"}),n.role.charAt(0).toUpperCase()+n.role.slice(1)," Access"]}),(0,qe.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Welcome, ",(null===(t=n.profile)||void 0===t?void 0:t.displayName)||n.email]})]}),(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:"relative mb-6",children:[(0,qe.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-full blur-xl"}),(0,qe.jsx)("div",{className:`relative mx-auto h-16 w-16 bg-gradient-to-r ${d(n.role)} rounded-full flex items-center justify-center shadow-xl`,children:(0,qe.jsx)(p,{className:"h-8 w-8 text-white animate-pulse"})})]}),(0,qe.jsx)("p",{className:"text-white text-lg font-medium mb-4",children:u.text}),(0,qe.jsx)("div",{className:"relative",children:(0,qe.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:(0,qe.jsx)("div",{className:`h-full bg-gradient-to-r ${d(n.role)} rounded-full transition-all duration-100 ease-out shadow-lg`,style:{width:`${o}%`}})})})]}),(0,qe.jsx)("div",{className:"flex justify-center space-x-2",children:c().map((e,t)=>(0,qe.jsx)("div",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(t<=a?`bg-gradient-to-r ${d(n.role)} shadow-lg scale-125`:"bg-white/20")},t))})]})]})},ic=()=>{const[e,t]=(0,s.useState)("login"),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)({email:"",password:""}),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)({email:"",newPassword:""}),[g,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),{user:w,login:N,logout:j,getAuthHeaders:k}=Qe(),S=te();(0,s.useEffect)(()=>{w&&S("/")},[w,S]);const D="https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{(async()=>{try{const e=`${D}/api/auth/profile`;console.log("[DEBUG][CompleteLoginFlow] Fetching profile from:",e);const n=await fetch(e,{credentials:"include",headers:{...k()}});if(n.ok){const e=await n.json(),r=e.user||e;localStorage.getItem("token")||N(r),r&&r.email&&"clayton@rpexotics.com"===r.email.toLowerCase()?S("/it"):t("dashboard")}}catch(e){}})()},[N,D,k]);const T=async()=>{if(a.email&&a.password){p(!0),d("");try{const e=`${D}/api/auth/login`;console.log("[DEBUG][CompleteLoginFlow] Logging in via:",e);const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...a,rememberMe:o})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Login failed")}const r=await n.json();console.log("[DEBUG][CompleteLoginFlow] Login response:",r),N(r.user,r.token),t("transition")}catch(e){d("Invalid credentials"===e.message?"Email or password is incorrect":e.message)}finally{p(!1)}}else d("Please enter both email and password")},E=()=>{w&&w.email&&"clayton@rpexotics.com"===w.email.toLowerCase()?S("/it"):t("dashboard")},C=async()=>{if(f.email&&f.newPassword){b(!0),d("");try{const e=`${D}/api/auth/forgot-password`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Request failed")}v(!0),x({email:"",newPassword:""})}catch(e){d(e.message)}finally{b(!1)}}else d("Please enter both email and new password")},P=async()=>{await j(),l({email:"",password:""}),t("login")};return"login"===e?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:(0,qe.jsxs)("div",{className:"max-w-md w-full",children:[(0,qe.jsxs)("div",{className:"text-center mb-8",children:[(0,qe.jsx)("div",{className:"mx-auto h-24 w-24 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 shadow-2xl border border-white/20",children:(0,qe.jsx)(Pe,{className:"h-16 w-16 text-white"})}),(0,qe.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"RP Exotics"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Premium Vehicle Management System"})]}),(0,qe.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8",children:(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),(0,qe.jsx)("p",{className:"text-gray-300",children:"Sign in to your account"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Email Address"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(at,{className:"h-5 w-5 text-gray-400"})}),(0,qe.jsx)("input",{type:"email",className:"block w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email",value:a.email,onChange:e=>{l({...a,email:e.target.value}),c&&d("")},onKeyDown:e=>{"Enter"===e.key&&T()}})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,qe.jsx)(ac,{className:"h-5 w-5 text-gray-400"})}),(0,qe.jsx)("input",{type:n?"text":"password",className:"block w-full pl-12 pr-12 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",value:a.password,onChange:e=>{l({...a,password:e.target.value}),c&&d("")},onKeyDown:e=>{"Enter"===e.key&&T()}}),(0,qe.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:(0,qe.jsx)("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",onClick:()=>r(!n),children:n?(0,qe.jsx)(lc,{className:"h-5 w-5"}):(0,qe.jsx)(Ae,{className:"h-5 w-5"})})})]})]}),c&&(0,qe.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 text-red-300 text-sm",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"flex-shrink-0",children:(0,qe.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,qe.jsx)("div",{className:"ml-3",children:(0,qe.jsx)("p",{className:"text-sm font-medium text-red-300",children:c})}),(0,qe.jsx)("div",{className:"ml-auto pl-3",children:(0,qe.jsx)("button",{onClick:()=>d(""),className:"text-red-400 hover:text-red-300 transition-colors",children:(0,qe.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),m&&(0,qe.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 space-y-4",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Reset Password"}),(0,qe.jsx)("p",{className:"text-sm text-blue-200",children:"Enter your email and desired new password. A request will be sent to the administrator."})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email Address"}),(0,qe.jsx)("input",{type:"email",className:"block w-full px-4 py-3 bg-white/10 border border-blue-500/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",value:f.email,onChange:e=>{x({...f,email:e.target.value}),c&&d("")}})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"New Password"}),(0,qe.jsx)("input",{type:"password",className:"block w-full px-4 py-3 bg-white/10 border border-blue-500/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your new password",value:f.newPassword,onChange:e=>{x({...f,newPassword:e.target.value}),c&&d("")}})]}),y&&(0,qe.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 text-green-300 text-sm",children:"\u2705 Password reset request sent! You'll receive an email once it's approved."}),(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:C,disabled:g,className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 "+(g?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:g?"Sending Request...":"Send Request"}),(0,qe.jsx)("button",{onClick:()=>{h(!1),x({email:"",newPassword:""}),v(!1),d("")},className:"px-4 py-3 border border-gray-500 text-gray-300 hover:text-white rounded-lg transition-colors",children:"Cancel"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("input",{id:"rememberMe",type:"checkbox",checked:o,onChange:e=>i(e.target.checked),className:"form-checkbox h-4 w-4 text-blue-600 transition duration-150 ease-in-out"}),(0,qe.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-200",children:"Remember Me (12 hours)"})]}),(0,qe.jsx)("button",{onClick:()=>h(!m),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot Password?"})]}),(0,qe.jsx)("button",{onClick:T,disabled:u,className:"w-full py-4 px-6 rounded-xl font-medium transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 shadow-lg "+(u?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white hover:scale-105"),children:u?(0,qe.jsxs)("div",{className:"flex items-center justify-center",children:[(0,qe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,qe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,qe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"}),(0,qe.jsx)("div",{className:"text-center"})]})}),(0,qe.jsx)("div",{className:"text-center mt-6",children:(0,qe.jsxs)("div",{className:"inline-flex items-center bg-white/5 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[(0,qe.jsx)(He,{className:"h-4 w-4 text-yellow-400 mr-2"}),(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Secured by Enterprise Authentication"})]})})]})}):"transition"===e?(0,qe.jsx)(oc,{user:w,onComplete:E}):"dashboard"===e?(0,qe.jsx)(Je,{user:w,onLogout:P}):w?null:void 0},cc=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dc=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),uc=()=>{var e,t,n,r,a,l;const o=te(),{user:i}=Qe();console.log("All process.env variables:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://astonishing-chicken-production.up.railway.app"}),console.log("window.location:",window.location.href);const c="https://astonishing-chicken-production.up.railway.app";console.log("DealerNetworkPage API_BASE:",c);const[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)(!0),[h,f]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[b,y]=(0,s.useState)({region:"all",dealerType:"all",status:"all",rating:"all"}),[v,w]=(0,s.useState)("grid"),[N,j]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[D,T]=(0,s.useState)({}),[E,C]=(0,s.useState)(null),[P,_]=(0,s.useState)(""),[A,L]=(0,s.useState)(null),[M,R]=(0,s.useState)({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),[I,O]=(0,s.useState)(!1);(0,s.useEffect)(()=>{console.log("[DEBUG] DealerNetworkPage useEffect running"),console.log("[DEBUG] API_BASE:",c);(async()=>{m(!0),f("");try{const t=function(e){console.log("[DEBUG] getApiUrl called with path:",e);const t=`${c}${e.startsWith("/")?"":"/"}${e}`;return console.log("[DEBUG] Constructed API URL:",t),t.startsWith("https://astonishing-chicken-production.up.railway.app")||(console.error("[DEBUG] API call is NOT going to the backend! URL:",t),alert("API call is NOT going to the backend! Check your environment variable and redeploy.")),t}("/api/dealers");console.log("[DEBUG] Fetching dealers from:",t);const n={};console.log("[DEBUG] Fetch options:",n);const r=await fetch(t,n),a=r.headers.get("content-type");let s;if(console.log("[DEBUG] Dealer fetch response status:",r.status,"content-type:",a),!r.ok){const e=await r.text();return console.error("[DEBUG] Dealer fetch failed:",r.status,e),f(`Dealer fetch failed: ${r.status} ${e}`),void m(!1)}try{s=await r.json(),console.log("[DEBUG] Dealer fetch JSON response:",s)}catch(e){const t=await r.text();return console.error("[DEBUG] Dealer fetch response is not JSON:",t),f("Dealer fetch response is not JSON. Raw response: "+t.slice(0,300)),void m(!1)}u(s.data||s.dealers||[]),m(!1)}catch(h){console.error("[DEBUG] Error loading dealers:",h),f("Error loading dealers: "+h.message),m(!1)}})()},[c,i]);const F=d.filter(e=>{var t,n,r,a,s;const l=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(x.toLowerCase())||((null===(n=e.company)||void 0===n?void 0:n.toLowerCase())||"").includes(x.toLowerCase())||((null===(r=e.contact)||void 0===r||null===(a=r.person)||void 0===a?void 0:a.toLowerCase())||"").includes(x.toLowerCase()),o="all"===b.region||(null===(s=e.location)||void 0===s?void 0:s.includes(b.region)),i="all"===b.dealerType||e.type===b.dealerType,c="all"===b.status||e.status===b.status;return l&&o&&i&&c}),U=e=>{switch(e){case"Active":return"bg-green-500/20 text-green-400";case"Inactive":return"bg-red-500/20 text-red-400";case"Pending":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}};function B(e){if(!e)return"";const{street:t,city:n,state:r,zip:a}=e;return[t,n,r,a].filter(Boolean).join(", ")}function $(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}if(!i)return null;const z={admin:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!0},sales:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1},finance:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!1},viewer:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!1,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1}},V=(()=>{var e,t;return i?null!==(e=i.profile)&&void 0!==e&&e.displayName?i.profile.displayName:i.firstName&&i.lastName?`${i.firstName} ${i.lastName}`:i.firstName?i.firstName:(null===(t=i.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),H=z[null===i||void 0===i?void 0:i.role]||z.viewer;return p?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-white text-lg",children:"Loading dealer network..."})]})}):h?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("p",{className:"text-red-400 text-lg font-bold mb-4",children:"Error loading dealers"}),(0,qe.jsx)("pre",{className:"bg-black/60 text-red-200 p-4 rounded-lg max-w-xl mx-auto overflow-x-auto text-left",style:{whiteSpace:"pre-wrap"},children:h})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsx)("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("button",{onClick:()=>o("/"),className:"mr-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:(0,qe.jsx)(ct,{className:"h-5 w-5 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Dealer Network"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage your dealer contacts and relationships"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("p",{className:"text-sm font-medium text-white",children:V}),(0,qe.jsx)("p",{className:"text-gray-400 text-xs",children:(null===i||void 0===i?void 0:i.role)||"Guest"})]}),H.canManageDealers&&(0,qe.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Add Dealer"})]})]})]})})}),P&&(0,qe.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transition-all",children:P}),(0,qe.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,qe.jsx)("div",{className:"mb-8",children:(0,qe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,qe.jsx)("div",{className:"flex-1",children:(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search dealers by name, company, or contact...",value:x,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,qe.jsxs)("div",{className:"flex gap-4",children:[(0,qe.jsxs)("select",{value:b.region,onChange:e=>y(t=>({...t,region:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Regions"}),(0,qe.jsx)("option",{value:"North",children:"North"}),(0,qe.jsx)("option",{value:"South",children:"South"}),(0,qe.jsx)("option",{value:"East",children:"East"}),(0,qe.jsx)("option",{value:"West",children:"West"})]}),(0,qe.jsxs)("select",{value:b.status,onChange:e=>y(t=>({...t,status:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Status"}),(0,qe.jsx)("option",{value:"Active",children:"Active"}),(0,qe.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,qe.jsx)("option",{value:"Pending",children:"Pending"})]})]})]})}),(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-white text-sm",children:"View:"}),(0,qe.jsx)("button",{onClick:()=>w("grid"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("grid"===v?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"Grid"}),(0,qe.jsx)("button",{onClick:()=>w("list"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("list"===v?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"List"})]}),(0,qe.jsxs)("div",{className:"text-gray-400 text-sm",children:[F.length," of ",d.length," dealers"]})]}),"grid"===v?(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:F.map(e=>{var t,n,r;return(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(e.status)}`,children:e.status}),H.canManageDealers&&(0,qe.jsx)("div",{className:"relative",children:(0,qe.jsx)("button",{onClick:()=>C(e),className:"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors",title:"Delete dealer",children:(0,qe.jsx)(dc,{className:"h-4 w-4"})})})]})]}),(0,qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,qe.jsx)(Ie,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,qe.jsx)(st,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(r=e.contact)||void 0===r?void 0:r.email)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,qe.jsx)(lt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"flex items-center",children:(0,qe.jsxs)("span",{className:"text-gray-400 text-xs",children:["Deals: ",e.totalDeals||0]})}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,qe.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,qe.jsx)("div",{className:"flex space-x-2",children:(0,qe.jsx)("button",{onClick:()=>L(e),className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"View Details"})})]},e.id)})}):(0,qe.jsx)("div",{className:"space-y-4",children:F.map(e=>{var t,n,r;return(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,qe.jsx)(Ie,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,qe.jsx)(st,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(r=e.contact)||void 0===r?void 0:r.email)&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,qe.jsx)(lt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,qe.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(e.status)}`,children:e.status}),(0,qe.jsx)("button",{onClick:()=>L(e),className:"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"View Details"})]})]})},e.id)})}),0===F.length&&(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(Ie,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No dealers found"}),(0,qe.jsx)("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search or filters"}),H.canManageDealers&&(0,qe.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Add Your First Dealer"})]})]})]}),N&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Add New Dealer"}),(0,qe.jsxs)("form",{onSubmit:async e=>{var t,n;e.preventDefault(),O(!0),_("");const r={name:M.dealerName,company:M.dealerName,licenseNumber:M.licenseNumber||"",type:"Dealer",contact:{person:M.contactPerson||"",phone:(null===(t=M.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=M.contact)||void 0===n?void 0:n.email)||"",address:$(M.fullAddress)},status:M.status||"Active"};try{const e=await fetch(`${c}/api/dealers`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),t=await e.json();e.ok&&t.success&&t.data?(u(e=>[t.data,...e]),j(!1),R({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),_("Dealer added successfully!"),setTimeout(()=>_(""),2e3)):(_(t.error||"Failed to add dealer."),setTimeout(()=>_(""),2e3))}catch(h){_("Error adding dealer."),setTimeout(()=>_(""),2e3)}finally{O(!1)}},className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,qe.jsx)("input",{type:"text",id:"add-dealer-name",value:M.dealerName,onChange:e=>R(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,qe.jsx)("input",{type:"text",id:"add-contact-person",value:M.contactPerson,onChange:e=>R(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,qe.jsx)("input",{type:"text",id:"add-contact-phone",value:M.contact.phone,onChange:e=>R(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,qe.jsx)("input",{type:"email",id:"add-contact-email",value:M.contact.email,onChange:e=>R(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,qe.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:M.fullAddress||"",onChange:e=>R(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,qe.jsx)("input",{type:"text",id:"add-license-number",value:M.licenseNumber||"",onChange:e=>R(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"add-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,qe.jsxs)("select",{id:"add-status",value:M.status,onChange:e=>R(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"Active",children:"Active"}),(0,qe.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,qe.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>j(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:I,children:"Cancel"}),(0,qe.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:I,children:I?"Saving...":"Add Dealer"})]})]})]})}),k&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Dealer"}),(0,qe.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k&&(async e=>{var t,n;const r={name:D.dealerName,company:D.dealerName,licenseNumber:D.licenseNumber||"",contact:{person:D.contactPerson||"",phone:(null===(t=D.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=D.contact)||void 0===n?void 0:n.email)||"",address:$(D.fullAddress)},status:D.status||"Active"};console.log("Sending dealer update body:",r);try{const t=await fetch(`${c}/api/dealers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),n=await t.json();n&&n.success&&n.data?(u(t=>t.map(t=>t.id===e?n.data:t)),S(null),T({}),_("Dealer updated successfully!"),setTimeout(()=>_(""),2e3),console.log("Updated dealer:",n.data)):(_("Failed to update dealer."),setTimeout(()=>_(""),2e3),console.error("Update response:",n))}catch(h){_("Error updating dealer."),setTimeout(()=>_(""),2e3),console.error("Error updating dealer:",h)}})(k.id)},className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,qe.jsx)("input",{type:"text",id:"edit-dealer-name",value:D.dealerName,onChange:e=>T(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,qe.jsx)("input",{type:"text",id:"edit-contact-person",value:D.contactPerson,onChange:e=>T(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,qe.jsx)("input",{type:"text",id:"edit-contact-phone",value:null===(e=D.contact)||void 0===e?void 0:e.phone,onChange:e=>T(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,qe.jsx)("input",{type:"email",id:"edit-contact-email",value:null===(t=D.contact)||void 0===t?void 0:t.email,onChange:e=>T(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,qe.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:D.fullAddress||"",onChange:e=>T(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,qe.jsx)("input",{type:"text",id:"edit-license-number",value:D.licenseNumber||"",onChange:e=>T(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{htmlFor:"edit-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,qe.jsxs)("select",{id:"edit-status",value:D.status,onChange:e=>T(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"Active",children:"Active"}),(0,qe.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,qe.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>S(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,qe.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Save Changes"})]})]})]})}),A&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Dealer Details"}),(0,qe.jsx)("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-colors",children:(0,qe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Basic Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Dealer Name"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Company"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.company||"N/A"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),(0,qe.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(A.status)}`,children:A.status})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"License Number"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.licenseNumber||"N/A"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Contact Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(null===(n=A.contact)||void 0===n?void 0:n.person)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Contact Person"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.contact.person})]}),(null===(r=A.contact)||void 0===r?void 0:r.phone)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.contact.phone})]}),(null===(a=A.contact)||void 0===a?void 0:a.email)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:A.contact.email})]}),(null===(l=A.contact)||void 0===l?void 0:l.address)&&(0,qe.jsxs)("div",{className:"md:col-span-2",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Address"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:B(A.contact.address)})]})]})]}),A.recentDeals&&A.recentDeals.length>0&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Recent Deals"}),(0,qe.jsx)("div",{className:"space-y-2",children:A.recentDeals.slice(0,5).map((e,t)=>{var n;return(0,qe.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-white font-medium",children:e.vehicle}),(0,qe.jsx)("p",{className:"text-sm text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsxs)("p",{className:"text-white font-medium",children:["$",(null===(n=e.amount)||void 0===n?void 0:n.toLocaleString())||"N/A"]}),(0,qe.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("Completed"===e.status?"bg-green-500/20 text-green-400":"Pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})]})]},t)})})]}),A.notes&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Notes"}),(0,qe.jsx)("p",{className:"text-gray-300",children:A.notes})]})]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-white/10",children:[(0,qe.jsx)("button",{onClick:()=>L(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Close"}),H.canManageDealers&&(0,qe.jsx)("button",{onClick:()=>{(e=>{var t,n;S(e),T({dealerName:e.company||e.name||"",contactPerson:(null===(t=e.contact)||void 0===t?void 0:t.person)||"",contact:e.contact||{},licenseNumber:e.licenseNumber||"",status:e.status||"Active",fullAddress:B(null===(n=e.contact)||void 0===n?void 0:n.address)})})(A),L(null)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Edit Dealer"})]})]})}),E&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Dealer"}),(0,qe.jsxs)("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",(0,qe.jsx)("span",{className:"text-white font-semibold",children:E.name}),"? This action cannot be undone."]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>C(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,qe.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`${c}/api/dealers/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok?(u(t=>t.filter(t=>t.id!==e)),C(null)):(console.error("Error deleting dealer:",t.statusText),alert("Failed to delete dealer. Please try again."))}catch(h){console.error("Error deleting dealer:",h),alert("Failed to delete dealer. Please try again.")}})(E.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"})]})]})})]})},pc=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),mc=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),hc=()=>{var e,t,n,r,a,l,o;const i=te(),{getAuthHeaders:c}=Qe(),[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)({}),[h,f]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[b,y]=(0,s.useState)({status:"",dealType:"",search:""}),[v,w]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=!0;f(!0);const t="https://astonishing-chicken-production.up.railway.app";return console.log("[DEBUG][FinanceDashboard] API_BASE:",t),Promise.all([fetch(`${t}/api/documents/vehicle-records`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Vehicle records fetch response status:",e.status),e.json())).then(t=>{e&&t.success&&u(t.data)}).catch(e=>{console.error("[DEBUG][FinanceDashboard] Error fetching vehicle records:",e)}),fetch(`${t}/api/documents/stats`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Stats fetch response status:",e.status),e.json())).then(t=>{e&&t.success&&m(t.stats)}).catch(e=>{console.error("[DEBUG][FinanceDashboard] Error fetching stats:",e)}),fetch(`${t}/api/deals`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Deals fetch response status:",e.status),e.json())).then(t=>{e&&w(t.deals||t.data||[])}).catch(()=>{e&&w([])})]).finally(()=>{e&&f(!1)}),()=>{e=!1}},[c]);const N=async()=>{try{f(!0);const e="https://astonishing-chicken-production.up.railway.app",t=await fetch(`${e}/api/documents/vehicle-records`,{credentials:"include",headers:c()});console.log("[DEBUG][FinanceDashboard] Vehicle records fetch response status:",t.status);const n=await t.json();n.success&&u(n.data);const r=await fetch(`${e}/api/documents/stats`,{credentials:"include",headers:c()});console.log("[DEBUG][FinanceDashboard] Stats fetch response status:",r.status);const a=await r.json();a.success&&m(a.stats)}catch(e){console.error("[DEBUG][FinanceDashboard] Error fetching data:",e)}finally{f(!1)}},j=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const a=`${"https://astonishing-chicken-production.up.railway.app"}/api/documents/vehicle-records/${e}/documents/${t}/status`;console.log("[DEBUG][FinanceDashboard] Updating status via:",a);const s=await fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json",...c()},body:JSON.stringify({status:n,notes:r}),credentials:"include"});if(console.log("[DEBUG][FinanceDashboard] Status update response status:",s.status),!s.ok)throw new Error("Failed to update status");N(),alert("Status updated successfully")}catch(a){console.error("[DEBUG][FinanceDashboard] Error updating status:",a),alert("Error updating status")}},k=async e=>{try{const t=`${"https://astonishing-chicken-production.up.railway.app"}/api/documents/download/${e}`;console.log("[DEBUG][FinanceDashboard] Downloading document from:",t);const n=await fetch(t,{credentials:"include",headers:c()});if(!n.ok)throw new Error("Failed to download document");{const t=await n.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}}catch(t){console.error("[DEBUG][FinanceDashboard] Error downloading document:",t),alert("Error downloading document")}},S=async e=>{if(window.confirm("Are you sure you want to delete this deal? This action cannot be undone."))try{const t=`${"https://astonishing-chicken-production.up.railway.app"}/api/deals/${e}`;console.log("[DEBUG][FinanceDashboard] Deleting deal via:",t);const n=await fetch(t,{method:"DELETE",credentials:"include",headers:c()});if(console.log("[DEBUG][FinanceDashboard] Delete deal response status:",n.status),!n.ok){const e=await n.json();throw new Error(e.error||"Failed to delete deal")}N(),alert("Deal deleted successfully")}catch(t){console.error("[DEBUG][FinanceDashboard] Error deleting deal:",t),alert(`Error deleting deal: ${t.message}`)}},D=e=>{switch(e){case"approved":return"text-green-400 bg-green-500/20";case"rejected":return"text-red-400 bg-red-500/20";case"sent_to_finance":return"text-orange-400 bg-orange-500/20";default:return"text-gray-400 bg-gray-500/20"}},T=e=>{switch(e){case"retail":return"text-blue-400 bg-blue-500/20";case"wholesale":return"text-purple-400 bg-purple-500/20";case"consignment":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},E=d.filter(e=>{if(b.status&&e.status!==b.status)return!1;if(b.dealType&&e.dealType!==b.dealType)return!1;if(b.search){var t,n,r,a,s;const l=b.search.toLowerCase();return(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===(n=e.stockNumber)||void 0===n?void 0:n.toLowerCase().includes(l))||(null===(r=e.recordId)||void 0===r?void 0:r.toLowerCase().includes(l))||(null===(a=e.dealId)||void 0===a||null===(s=a.vehicle)||void 0===s?void 0:s.toLowerCase().includes(l))}return!0}),C=v.filter(e=>{if(b.status&&e.currentStage!==b.status&&e.status!==b.status)return!1;if(b.dealType&&e.dealType!==b.dealType)return!1;if(b.search){const t=b.search.toLowerCase(),n=(e.vehicle||`${e.year||""} ${e.make||""} ${e.model||""}`).toLowerCase(),r=(e.vin||"").toLowerCase(),a=(e.rpStockNumber||e.stockNumber||"").toLowerCase();if(!n.includes(t)&&!r.includes(t)&&!a.includes(t))return!1}return!0});return h?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:(0,qe.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:[(0,qe.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium",onClick:()=>i("/"),children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Dashboard"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Review and manage vehicle records and generated documents"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-6",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3 mr-4",children:(0,qe.jsx)(Be,{className:"h-6 w-6 text-blue-400"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.totalRecords||0}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Records"})]})]})})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 rounded-2xl border border-orange-500/20 p-6",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-orange-500/20 rounded-lg p-3 mr-4",children:(0,qe.jsx)(Le,{className:"h-6 w-6 text-orange-400"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.pendingFinance||0}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending Review"})]})]})})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 rounded-2xl border border-green-500/20 p-6",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3 mr-4",children:(0,qe.jsx)(Ve,{className:"h-6 w-6 text-green-400"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.approvedDocuments||0}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Approved"})]})]})})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl border border-purple-500/20 p-6",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-purple-500/20 rounded-lg p-3 mr-4",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-purple-400"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.draftDocuments||0}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Draft Documents"})]})]})})})]}),(0,qe.jsx)("div",{className:"mb-8",children:(0,qe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Status"}),(0,qe.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:b.status,onChange:e=>y(t=>({...t,status:e.target.value})),children:[(0,qe.jsx)("option",{value:"",children:"All Statuses"}),(0,qe.jsx)("option",{value:"draft",children:"Draft"}),(0,qe.jsx)("option",{value:"sent_to_finance",children:"Sent to Finance"}),(0,qe.jsx)("option",{value:"approved",children:"Approved"}),(0,qe.jsx)("option",{value:"rejected",children:"Rejected"}),(0,qe.jsx)("option",{value:"pending",children:"Pending"}),(0,qe.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Deal Type"}),(0,qe.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:b.dealType,onChange:e=>y(t=>({...t,dealType:e.target.value})),children:[(0,qe.jsx)("option",{value:"",children:"All Deal Types"}),(0,qe.jsx)("option",{value:"retail",children:"Retail"}),(0,qe.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,qe.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,qe.jsx)("option",{value:"wholesale-pp",children:"Wholesale PP"}),(0,qe.jsx)("option",{value:"wholesale-flip",children:"Wholesale Flip"}),(0,qe.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,qe.jsx)("option",{value:"retail-d2d",children:"Retail D2D"}),(0,qe.jsx)("option",{value:"consignment",children:"Consignment"}),(0,qe.jsx)("option",{value:"auction",children:"Auction"})]})]}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Search"}),(0,qe.jsx)("input",{type:"text",className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",placeholder:"Search by VIN, Stock #, Vehicle, etc.",value:b.search,onChange:e=>y(t=>({...t,search:e.target.value}))})]})]})}),(0,qe.jsxs)("div",{className:"mb-12",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Submitted Deals"}),0===C.length?(0,qe.jsx)("div",{className:"text-gray-400",children:"No submitted deals found."}):(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-white/5",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Purchase ID"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock #"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"VIN"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Price"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Assigned To"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-white/10",children:C.map(e=>{var t,n,r;return(0,qe.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-white",children:e.vehicle||`${e.year} ${e.make} ${e.model}`}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:[e.dealType," \u2022 ",e.dealType2SubType||e.dealType2||"N/A"]})]})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm font-medium text-blue-400",children:e.rpStockNumber||"N/A"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:e.stockNumber||"N/A"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:e.vin||"N/A"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsxs)("span",{className:"text-sm font-medium text-white",children:["$",(null===(t=e.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-500/20 text-blue-400",children:e.currentStage||"Unknown"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:(null===(n=e.assignedTo)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.displayName)||e.assignedTo||"Unassigned"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>i(`/finance/deals/${e._id||e.id}`),className:"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"View Details",children:(0,qe.jsx)(Ae,{className:"h-5 w-5"})}),(0,qe.jsx)("button",{onClick:()=>i(`/finance/deals/${e._id||e.id}/update-status`),className:"text-green-400 hover:text-green-300 p-2 rounded-lg hover:bg-green-500/10 transition-colors",title:"Update Status",children:(0,qe.jsx)(Ve,{className:"h-5 w-5"})}),(0,qe.jsx)("button",{onClick:()=>S(e._id||e.id),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete Deal",children:(0,qe.jsx)(dc,{className:"h-5 w-5"})})]})})]},e._id||e.id)})})]})})})]}),(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:[(0,qe.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Vehicle Records"}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage vehicle records and review generated documents"})]}),(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-white/5",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Record ID"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"VIN"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Type"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Documents"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,qe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-white/10",children:E.map(e=>{var t,n;return(0,qe.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm font-medium text-white",children:e.recordId})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.year," ",e.make," ",e.model]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock #",e.stockNumber]})]})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:e.vin})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${T(e.dealType)}`,children:e.dealType})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("div",{className:"space-y-1",children:null===(t=e.generatedDocuments)||void 0===t?void 0:t.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D(e.status)}`,children:e.documentType.replace("_"," ")}),(0,qe.jsx)("button",{onClick:()=>k(e.fileName),className:"text-blue-400 hover:text-blue-300 p-1 rounded hover:bg-blue-500/10 transition-colors",children:(0,qe.jsx)(pc,{className:"h-4 w-4"})})]},t))})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D(e.status)}`,children:e.status})}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap text-sm text-gray-300",children:new Date(e.createdAt).toLocaleDateString()}),(0,qe.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>g(e),className:"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"View Details",children:(0,qe.jsx)(Ae,{className:"h-5 w-5"})}),(null===(n=e.generatedDocuments)||void 0===n?void 0:n.some(e=>"sent_to_finance"===e.status))&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);j(e.recordId,t,"approved")},className:"text-green-400 hover:text-green-300 p-2 rounded-lg hover:bg-green-500/10 transition-colors",title:"Approve",children:(0,qe.jsx)(Ve,{className:"h-5 w-5"})}),(0,qe.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);j(e.recordId,t,"rejected")},className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Reject",children:(0,qe.jsx)(mc,{className:"h-5 w-5"})})]}),e.dealId&&(0,qe.jsx)("button",{onClick:()=>S(e.dealId),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete Deal",children:(0,qe.jsx)(dc,{className:"h-5 w-5"})})]})})]},e._id)})})]})}),0===E.length&&(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"No vehicle records found"})]})]}),x&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-2xl border border-white/10 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,qe.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white",children:"Vehicle Record Details"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[x.dealId&&(0,qe.jsx)("button",{onClick:()=>{S(x.dealId),g(null)},className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/20",title:"Delete Deal",children:(0,qe.jsx)(dc,{className:"h-5 w-5"})}),(0,qe.jsx)("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-white",children:(0,qe.jsx)(mc,{className:"h-6 w-6"})})]})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Information"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Record ID:"}),(0,qe.jsx)("p",{className:"text-white",children:x.recordId})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Vehicle:"}),(0,qe.jsxs)("p",{className:"text-white",children:[x.year," ",x.make," ",x.model]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN:"}),(0,qe.jsx)("p",{className:"text-white",children:x.vin})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Stock Number:"}),(0,qe.jsx)("p",{className:"text-white",children:x.stockNumber})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Color:"}),(0,qe.jsx)("p",{className:"text-white",children:x.color||"N/A"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Mileage:"}),(0,qe.jsx)("p",{className:"text-white",children:(null===(e=x.mileage)||void 0===e?void 0:e.toLocaleString())||"N/A"})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Deal Information"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type:"}),(0,qe.jsx)("p",{className:"text-white",children:x.dealType})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type 2:"}),(0,qe.jsx)("p",{className:"text-white",children:x.dealType2})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price:"}),(0,qe.jsxs)("p",{className:"text-white",children:["$",(null===(t=x.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price:"}),(0,qe.jsxs)("p",{className:"text-white",children:["$",(null===(n=x.listPrice)||void 0===n?void 0:n.toLocaleString())||"N/A"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Rate:"}),(0,qe.jsxs)("p",{className:"text-white",children:[(null===(r=x.commission)||void 0===r?void 0:r.rate)||"N/A","%"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Amount:"}),(0,qe.jsxs)("p",{className:"text-white",children:["$",(null===(a=x.commission)||void 0===a||null===(l=a.amount)||void 0===l?void 0:l.toLocaleString())||"N/A"]})]})]})]})]}),(0,qe.jsxs)("div",{className:"mt-8",children:[(0,qe.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Generated Documents"}),(0,qe.jsx)("div",{className:"space-y-4",children:null===(o=x.generatedDocuments)||void 0===o?void 0:o.map((e,t)=>(0,qe.jsx)("div",{className:"bg-white/5 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h5",{className:"text-white font-medium",children:e.documentType.replace("_"," ")}),(0,qe.jsxs)("p",{className:"text-gray-400 text-sm",children:["Document #: ",e.documentNumber]}),(0,qe.jsxs)("p",{className:"text-gray-400 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D(e.status)}`,children:e.status.replace("_"," ")}),(0,qe.jsx)("button",{onClick:()=>k(e.fileName),className:"text-blue-400 hover:text-blue-300",title:"Download",children:(0,qe.jsx)(pc,{className:"h-4 w-4"})}),"sent_to_finance"===e.status&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("button",{onClick:()=>j(x.recordId,t,"approved"),className:"text-green-400 hover:text-green-300",title:"Approve",children:(0,qe.jsx)(Ve,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>j(x.recordId,t,"rejected"),className:"text-red-400 hover:text-red-300",title:"Reject",children:(0,qe.jsx)(mc,{className:"h-4 w-4"})})]})]})]})},t))})]})]})]})})]})},fc=()=>{var e,t;const{dealId:n}=ne(),r=te(),{getAuthHeaders:a,user:l}=Qe(),[o,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,p]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null),[f,x]=(0,s.useState)(!1),[g,b]=(0,s.useState)({}),[y,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[j,k]=(0,s.useState)(1),[S,D]=(0,s.useState)(null),[T,E]=(0,s.useState)(null),[C,P]=(0,s.useState)(""),[_,A]=(0,s.useState)("draw"),[L,M]=(0,s.useState)({intentToSign:!1,electronicBusiness:!1}),[R,I]=(0,s.useState)(!1),[O,F]=(0,s.useState)(""),[U,B]=(0,s.useState)(null),$=(0,s.useRef)(null),z=(0,s.useRef)(!1),V="https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{p(!0);const e={...a()};fetch(`${V||""}/api/backoffice/deals/${n}`,{credentials:"include",headers:e}).then(e=>{if(!e.ok)throw new Error("Deal not found");return e.json()}).then(async e=>{const t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],r=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];console.log("[FinanceDealDetails] Deal documents:",n),console.log("[FinanceDealDetails] Vehicle record documents:",r),console.log("[FinanceDealDetails] Deal documents length:",n.length),console.log("[FinanceDealDetails] Vehicle record documents length:",r.length),console.log("[FinanceDealDetails] Deal object structure:",Object.keys(t||{})),console.log("[FinanceDealDetails] Deal documents structure:",null!==t&&void 0!==t&&t.documents?Object.keys(t.documents[0]||{}):"No documents");let a=[...n];new Set(r.map(e=>e.fileName));r.forEach(e=>{a.some(t=>t.fileName===e.fileName)||a.push(e)}),console.log("[FinanceDealDetails] Filtered document list:",a),d(t),i(e=>(0===a.length?console.warn("[FinanceDealDetails] setDocuments called with empty array!"):console.log("[FinanceDealDetails] setDocuments called with:",a),a)),p(!1)}).catch(e=>{h(e.message),p(!1)})},[n]),(0,s.useEffect)(()=>{console.log("[FinanceDealDetails] documents state changed:",o)},[o]),(0,s.useEffect)(()=>{if(!$.current)return;const e=$.current,t=e.getContext("2d"),n=n=>{z.current=!0;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.beginPath(),t.moveTo(a,s)},r=n=>{if(!z.current)return;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.lineTo(a,s),t.stroke()},a=()=>{z.current=!1};return e.addEventListener("mousedown",n),e.addEventListener("mousemove",r),e.addEventListener("mouseup",a),()=>{e.removeEventListener("mousedown",n),e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",a)}},[w]);const H=()=>{if(!f){var e,t,n,r,a,s,l,o,i,d,u,p,m,h,g,y,v,w,N,j,k,S,D,T;const f=e=>{if(!e)return"";const{street:t,city:n,state:r,zip:a}=e;return[t,n,r,a].filter(Boolean).join(", ")};b({"seller.name":(null===(e=c.seller)||void 0===e?void 0:e.name)||"","seller.licenseNumber":(null===(t=c.seller)||void 0===t?void 0:t.licenseNumber)||"","seller.contact.phone":(null===(n=c.seller)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.phone)||(null===(a=c.seller)||void 0===a?void 0:a.phone)||"","seller.contact.email":(null===(s=c.seller)||void 0===s||null===(l=s.contact)||void 0===l?void 0:l.email)||(null===(o=c.seller)||void 0===o?void 0:o.email)||"","seller.contact.address":f((null===(i=c.seller)||void 0===i||null===(d=i.contact)||void 0===d?void 0:d.address)||(null===(u=c.seller)||void 0===u?void 0:u.address)),"buyer.name":(null===(p=c.buyer)||void 0===p?void 0:p.name)||"","buyer.company":(null===(m=c.buyer)||void 0===m?void 0:m.company)||"","buyer.licenseNumber":(null===(h=c.buyer)||void 0===h?void 0:h.licenseNumber)||"","buyer.contact.phone":(null===(g=c.buyer)||void 0===g||null===(y=g.contact)||void 0===y?void 0:y.phone)||(null===(v=c.buyer)||void 0===v?void 0:v.phone)||"","buyer.contact.email":(null===(w=c.buyer)||void 0===w||null===(N=w.contact)||void 0===N?void 0:N.email)||(null===(j=c.buyer)||void 0===j?void 0:j.email)||"","buyer.contact.address":f((null===(k=c.buyer)||void 0===k||null===(S=k.contact)||void 0===S?void 0:S.address)||(null===(D=c.buyer)||void 0===D?void 0:D.address)),"buyer.tier":(null===(T=c.buyer)||void 0===T?void 0:T.tier)||"",purchasePrice:c.purchasePrice||"",listPrice:c.listPrice||"",instantOffer:c.instantOffer||"",mileage:c.mileage||"",color:c.color||"",exteriorColor:c.exteriorColor||"",interiorColor:c.interiorColor||"",rpStockNumber:c.rpStockNumber||"",notes:c.notes||"",generalNotes:c.generalNotes||""})}x(!f)},W=(e,t)=>{b(n=>({...n,[e]:t}))},Y=async()=>{v(!0);try{const t="https://astonishing-chicken-production.up.railway.app",r={...a(),"Content-Type":"application/json"},s={...g,regenerateDocuments:!0},l=await fetch(`${t}/api/backoffice/deals/${n}/update-and-regenerate`,{method:"PUT",credentials:"include",headers:r,body:JSON.stringify(s)});if(!l.ok){let t="Failed to update deal";try{const e=await l.json();t=e.message||JSON.stringify(e)}catch(e){t=l.statusText||t}throw new Error(t)}await l.json();i([]);const o={...a()},c=await fetch(`${t}/api/backoffice/deals/${n}`,{credentials:"include",headers:o});if(c.ok){const e=await c.json(),t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],r=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];let a=[...n];const s=new Set(a.map(e=>e.fileName));r.forEach(e=>{s.has(e.fileName)||a.push(e)}),d(t),i(a)}x(!1),Ht.success("Deal updated and documents regenerated successfully!",{position:"bottom-right"})}catch(m){if(console.error("Error updating deal:",m),m.response)try{const e=await m.response.json();Ht.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+m.message,{position:"bottom-right"})}else if(m instanceof Response)try{const e=await m.json();Ht.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+m.statusText,{position:"bottom-right"})}else if(m&&m.message&&m.message.startsWith("Failed to update deal"))try{const e=m.response||m;if(e&&e.json){const t=await e.json();Ht.error("Error updating deal: "+(t.message||JSON.stringify(t)),{position:"bottom-right"})}else Ht.error("Error updating deal: "+m.message,{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+m.message,{position:"bottom-right"})}else Ht.error("Error updating deal: "+m.message,{position:"bottom-right"})}finally{v(!1)}},q=()=>{if($.current){const e=$.current;e.getContext("2d").clearRect(0,0,e.width,e.height)}E(null),P("")};return console.log("[FinanceDealDetails] documents state:",o),u?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,qe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,qe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),(0,qe.jsx)("div",{className:"text-white text-lg font-semibold",children:"Loading deal details..."})]})}):m?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsxs)("svg",{className:"h-10 w-10 text-red-400 mb-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,qe.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),(0,qe.jsxs)("div",{className:"text-red-400 text-lg font-semibold",children:["Error loading deal: ",m]}),(0,qe.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Retry"})]})}):(console.log("[FinanceDealDetails] Rendering documents (from state):",o),(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8 flex flex-col items-center",children:[(0,qe.jsx)(en,{position:"bottom-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),(0,qe.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>r(-1),children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,qe.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Deal Documents"}),(0,qe.jsxs)("div",{className:"flex gap-3",children:[(0,qe.jsx)("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f?"Cancel Edit":"Edit Deal"}),"failed"===c.documentGenerationStatus&&(0,qe.jsx)("button",{onClick:async()=>{try{p(!0);const e=await fetch(`${V}/api/documents/generate/${n}`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify({dealType2SubType:c.dealType2SubType,dealType2:c.dealType2,sellerType:c.sellerType||"private",buyerType:c.buyerType||"dealer"}),credentials:"include"});if(e.ok){const t=await e.json();Ht.success(`Document generation retry successful! ${t.documentCount||0} document(s) generated.`),window.location.reload()}else{const t=await e.text();Ht.error(`Document generation retry failed: ${t}`)}}catch(m){console.error("Error retrying document generation:",m),Ht.error("Failed to retry document generation")}finally{p(!1)}},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Retry Document Generation"})]})]}),c&&(0,qe.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Deal Summary"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Vehicle:"}),(0,qe.jsx)("div",{className:"font-semibold",children:c.vehicle})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"VIN:"}),(0,qe.jsx)("div",{className:"font-semibold",children:c.vin})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Seller:"}),(0,qe.jsx)("div",{className:"font-semibold",children:null===(e=c.seller)||void 0===e?void 0:e.name})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Purchase Price:"}),(0,qe.jsxs)("div",{className:"font-semibold",children:["$",null===(t=c.purchasePrice)||void 0===t?void 0:t.toLocaleString()]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Deal Type:"}),(0,qe.jsx)("div",{className:"font-semibold",children:c.dealType})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Status:"}),(0,qe.jsx)("div",{className:"font-semibold",children:c.currentStage})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300",children:"Document Generation:"}),(0,qe.jsx)("div",{className:"font-semibold "+("completed"===c.documentGenerationStatus?"text-green-400":"failed"===c.documentGenerationStatus?"text-red-400":"in_progress"===c.documentGenerationStatus?"text-yellow-400":"text-gray-400"),children:"completed"===c.documentGenerationStatus?"\u2705 Completed":"failed"===c.documentGenerationStatus?"\u274c Failed":"in_progress"===c.documentGenerationStatus?"\u23f3 In Progress":"\u23f3 Pending"})]})]})]}),(()=>{var e;return f?(0,qe.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Deal Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Seller Information"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Seller Name"}),(0,qe.jsx)("input",{type:"text",value:g["seller.name"]||"",onChange:e=>W("seller.name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Seller name"})]}),"retail-pp"!==(null===c||void 0===c?void 0:c.dealType)&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,qe.jsx)("input",{type:"text",value:g["seller.licenseNumber"]||"",onChange:e=>W("seller.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,qe.jsx)("input",{type:"tel",value:g["seller.contact.phone"]||"",onChange:e=>W("seller.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,qe.jsx)("input",{type:"email",value:g["seller.contact.email"]||"",onChange:e=>W("seller.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,qe.jsx)("input",{type:"text",value:g["seller.contact.address"]||"",onChange:e=>W("seller.contact.address",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address (street, city, state, zip)"})]})]}),("wholesale-flip"===(null===c||void 0===c?void 0:c.dealType)||"wholesale-d2d"===(null===c||void 0===c?void 0:c.dealType))&&(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Buyer Information"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Name"}),(0,qe.jsx)("input",{type:"text",value:g["buyer.name"]||"",onChange:e=>W("buyer.name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buyer/dealer name"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),(0,qe.jsx)("input",{type:"text",value:g["buyer.company"]||"",onChange:e=>W("buyer.company",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company name"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,qe.jsx)("input",{type:"text",value:g["buyer.licenseNumber"]||"",onChange:e=>W("buyer.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,qe.jsx)("input",{type:"tel",value:g["buyer.contact.phone"]||"",onChange:e=>W("buyer.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,qe.jsx)("input",{type:"email",value:g["buyer.contact.email"]||"",onChange:e=>W("buyer.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,qe.jsx)("input",{type:"text",value:g["buyer.contact.address"]||"",onChange:e=>W("buyer.contact.address",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address (street, city, state, zip)"})]}),"string"===typeof(null===c||void 0===c||null===(e=c.buyer)||void 0===e?void 0:e.type)&&"dealer"===c.buyer.type.toLowerCase()&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Tier"}),(0,qe.jsxs)("select",{value:g["buyer.tier"]||"",onChange:e=>W("buyer.tier",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"",children:"Select Tier"}),(0,qe.jsx)("option",{value:"Tier 1",children:"Tier 1 (Pay Upon Title)"}),(0,qe.jsx)("option",{value:"Tier 2",children:"Tier 2 (Pay Prior to Release)"}),(0,qe.jsx)("option",{value:"Tier 3",children:"Tier 3"})]})]})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Vehicle Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Purchase Price"}),(0,qe.jsx)("input",{type:"number",value:g.purchasePrice||"",onChange:e=>W("purchasePrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"List Price"}),(0,qe.jsx)("input",{type:"number",value:g.listPrice||"",onChange:e=>W("listPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Instant Offer"}),(0,qe.jsx)("input",{type:"number",value:g.instantOffer||"",onChange:e=>W("instantOffer",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mileage"}),(0,qe.jsx)("input",{type:"number",value:g.mileage||"",onChange:e=>W("mileage",parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Color"}),(0,qe.jsx)("input",{type:"text",value:g.color||"",onChange:e=>W("color",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Color"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Exterior"}),(0,qe.jsx)("input",{type:"text",value:g.exteriorColor||"",onChange:e=>W("exteriorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Exterior color"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interior"}),(0,qe.jsx)("input",{type:"text",value:g.interiorColor||"",onChange:e=>W("interiorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Interior color"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock Number"}),(0,qe.jsx)("input",{type:"text",value:g.rpStockNumber||"",onChange:e=>W("rpStockNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"RP Stock Number"})]})]})]}),(0,qe.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,qe.jsx)("button",{onClick:Y,disabled:y,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":"Save Changes & Regenerate Documents"}),(0,qe.jsx)("button",{onClick:H,disabled:y,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):null})(),(0,qe.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"24px",alignItems:"center",marginTop:"32px"},children:0===o.length?(0,qe.jsxs)("div",{style:{background:"rgba(255,255,255,0.92)",border:"1px solid #e2e8f0",borderRadius:16,padding:"24px 28px",textAlign:"center",color:"#666"},children:[(0,qe.jsx)("h3",{children:"No documents found"}),(0,qe.jsx)("p",{children:"Documents will appear here once they are generated or uploaded."})]}):o.map((e,t)=>{const s=e.type||e.documentType||"unknown";return console.log(`[FinanceDealDetails] Rendering document ${t}:`,e),(0,qe.jsxs)("div",{style:{minWidth:480,maxWidth:600,width:"100%",background:"rgba(255,255,255,0.92)",border:"1px solid #e2e8f0",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.07)",padding:"24px 28px",margin:"0 auto",transition:"box-shadow 0.2s",fontFamily:"inherit",color:"#222",position:"relative",outline:"none"},onMouseOver:e=>e.currentTarget.style.boxShadow="0 8px 32px 0 rgba(0,0,0,0.13)",onMouseOut:e=>e.currentTarget.style.boxShadow="0 4px 24px 0 rgba(0,0,0,0.07)",children:[(0,qe.jsxs)("div",{style:{fontWeight:700,fontSize:16,marginBottom:12,color:"#1a202c",wordBreak:"break-word",lineHeight:"1.4"},children:[(0,qe.jsx)("div",{style:{marginBottom:8},children:e.fileName}),(0,qe.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["vehicle_record_pdf"===s&&(0,qe.jsx)("span",{style:{background:"linear-gradient(90deg, #f6d365 0%, #fda085 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Vehicle Record PDF"}),"retail_pp_buy"===s&&(0,qe.jsx)("span",{style:{background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Retail PP Contract"}),"wholesale_pp_buy"===s&&(0,qe.jsx)("span",{style:{background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale PP Contract"}),"wholesale_bos"===s&&(0,qe.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale BOS"}),"wholesale_purchase_order"===s&&(0,qe.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale Purchase Order"})]})]}),(0,qe.jsxs)("div",{style:{fontSize:14,marginBottom:6,wordBreak:"break-word",lineHeight:"1.4"},children:[(0,qe.jsx)("b",{children:"Type:"})," ","retail_pp_buy"===s?"Retail Private Party Purchase Contract":"wholesale_pp_buy"===s?"Wholesale Private Party Purchase Contract":"wholesale_bos"===s?"Wholesale Bill of Sale":"vehicle_record_pdf"===s?"Vehicle Record PDF":"bill_of_sale"===s?"Bill of Sale":"wholesale_purchase_order"===s?"Wholesale Purchase Order":"extra_doc"===s?"Additional Document":s]}),(0,qe.jsxs)("div",{style:{fontSize:14,marginBottom:16,wordBreak:"break-word"},children:[(0,qe.jsx)("b",{children:"Size:"})," ",e.fileSize?`${e.fileSize.toLocaleString()} bytes`:"N/A"]}),(0,qe.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[(0,qe.jsx)("button",{onClick:()=>(e=>{let t;if(console.log("handleView called with doc:",e),"extra_doc"===e.type){const a=e.documentId||e.type;t=`${V}/api/backoffice/deals/${n}/documents/${a}/download`,console.log("extra_doc view URL:",t);const s=`/deals/${n}/documents/enhanced-view`;console.log("Navigating to:",s),r(s,{state:{viewUrl:t,dealId:n,documentType:e.type}})}else{t=`${V}/api/documents/download/${e.fileName||e.name}`,console.log("generated document view URL:",t);const a=`/deals/${n}/documents/${encodeURIComponent(e.fileName||e.name)}/enhanced-view`;console.log("Navigating to:",a),r(a,{state:{viewUrl:t,dealId:n,documentType:e.type}})}})(e),style:{padding:"10px 22px",background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(79,209,197,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #38b2ac 0%, #319795 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(56,178,172,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(79,209,197,0.13)"},children:"View"}),(0,qe.jsx)("button",{onClick:()=>(async(e,t)=>{try{let n;if("extra_doc"===e.type&&e.documentId)n=`${V}/api/backoffice/deals/${t}/documents/${e.documentId}/download`;else if("extra_doc"===e.type)n=`${V}/api/backoffice/deals/${t}/documents/extra_doc/download`;else{if(!e.fileName)return void Ht.error("Download URL not available for this document");n=`${V}/api/documents/download/${e.fileName||e.name}`}console.log("[FinanceDealDetails] Downloading document:",e.type,n);const r=await fetch(n,{method:"GET",credentials:"include",headers:a()});if(r.ok){const t=await r.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e.fileName||e.name||`${e.type}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a),Ht.success("Document downloaded successfully!")}else if(404===r.status)console.warn("[FinanceDealDetails] Document not found (404):",e.fileName||e.name),Ht.error("Document not found. It may have been deleted or not yet generated.");else{const e=await r.text();console.error("[FinanceDealDetails] Download failed:",r.status,e),Ht.error("Failed to download document")}}catch(m){console.error("[FinanceDealDetails] Error downloading document:",m),Ht.error("Error downloading document")}})(e,n),style:{padding:"10px 22px",background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(102,126,234,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #5a67d8 0%, #434190 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(90,103,216,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(102,126,234,0.13)"},children:"Download"}),"finance"===(null===l||void 0===l?void 0:l.role)&&(0,qe.jsx)("button",{onClick:()=>(e=>{B(e),N(!0),k(1),q()})(e),style:{padding:"10px 22px",background:"linear-gradient(90deg, #10b981 0%, #059669 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(16,185,129,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #059669 0%, #047857 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(5,150,105,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #10b981 0%, #059669 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(16,185,129,0.13)"},children:"Sign Document"})]})]},e.fileName||e.documentNumber||t)})})]}),w&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qe.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign Document"}),(0,qe.jsx)("button",{onClick:()=>{N(!1),k(1),q(),B(null)},className:"text-gray-500 hover:text-gray-700",children:(0,qe.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),1===j&&(0,qe.jsxs)("div",{className:"space-y-6",children:["finance"!==(null===l||void 0===l?void 0:l.role)&&(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Legal Consent"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("label",{className:"flex items-start",children:[(0,qe.jsx)("input",{type:"checkbox",checked:L.intentToSign,onChange:e=>M({...L,intentToSign:e.target.checked}),className:"mt-1 mr-3"}),(0,qe.jsx)("span",{className:"text-sm text-blue-800",children:"I intend to sign this document electronically and agree that my electronic signature is the legal equivalent of my manual/handwritten signature."})]}),(0,qe.jsxs)("label",{className:"flex items-start",children:[(0,qe.jsx)("input",{type:"checkbox",checked:L.electronicBusiness,onChange:e=>M({...L,electronicBusiness:e.target.checked}),className:"mt-1 mr-3"}),(0,qe.jsx)("span",{className:"text-sm text-blue-800",children:"I consent to conduct business electronically and agree that electronic signatures are legally binding."})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Choose Signature Method"}),(0,qe.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,qe.jsx)("button",{onClick:()=>A("draw"),className:"px-4 py-2 rounded-lg border "+("draw"===_?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Draw Signature"}),(0,qe.jsx)("button",{onClick:()=>A("type"),className:"px-4 py-2 rounded-lg border "+("type"===_?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Type Signature"})]}),"draw"===_&&(0,qe.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg p-4",children:[(0,qe.jsx)("canvas",{ref:$,width:400,height:100,className:"border border-gray-300 rounded cursor-crosshair",style:{backgroundColor:"white"}}),(0,qe.jsx)("button",{onClick:q,className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Clear Signature"})]}),"type"===_&&(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:C,onChange:e=>P(e.target.value),placeholder:"Type your signature here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,qe.jsx)("button",{onClick:async()=>{const e="finance"===(null===l||void 0===l?void 0:l.role);if(!e&&(!L.intentToSign||!L.electronicBusiness))return void Ht.error("Please check both consent boxes to proceed");const t=(()=>{if("draw"===_&&$.current){const e=$.current.toDataURL();return E(e),e}if("type"===_&&C.trim()){const e=document.createElement("canvas"),t=e.getContext("2d");e.width=400,e.height=100,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#1a1a1a",t.font='bold 36px "Brush Script MT", "Lucida Handwriting", "Comic Sans MS", cursive',t.textAlign="center",t.textBaseline="middle";const n=C.trim(),r=e.width/2,a=e.height/2;t.save(),t.translate(r,a),t.rotate(-.02),t.fillText(n,0,0),t.restore();const s=e.toDataURL();return E(s),s}return null})();if(!t)return void Ht.error("Please provide a signature");const n=function(e,t){if(!e)return"";if(e.cloudUrl)return e.cloudUrl;if(e.filePath&&e.filePath.startsWith("http"))return e.filePath;if(e.filePath&&e.filePath.startsWith("/uploads/"))return`${t}${e.filePath}`;if(e.filePath&&e.filePath.includes("/uploads/documents/")){const n=e.filePath.indexOf("/uploads/documents/");return`${t}${e.filePath.slice(n)}`}if(e.filePath&&(e.filePath.includes("Desktop")||e.filePath.includes("rp-exotics-unified")))return`${t}/api/documents/download/${e.fileName||e.filePath.split("/").pop()}`;return e.downloadUrl?e.downloadUrl:e.fileName?`${t}/api/documents/download/${e.fileName}`:""}(U,V);if(!n)return Ht.error("Document URL could not be generated. Please try again or contact support."),void console.error("[FinanceDealDetails] Document URL generation failed:",U);try{p(!0);const r={ipAddress:await fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>e.ip).catch(()=>"unknown"),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language};console.log("[FinanceDealDetails] Attempting to sign document:",{documentUrl:n,documentType:U.type||U.documentType,signatureMethod:_,hasSignatureImage:!!t,selectedDocument:U});const s=await fetch(`${V}/api/signatures`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify({documentUrl:n,documentType:U.type||U.documentType,signatureType:_,signatureImage:"draw"===_?t:null,typedSignature:"type"===_?C:null,dealInfo:{vin:(null===c||void 0===c?void 0:c.vin)||"N/A",stockNumber:(null===c||void 0===c?void 0:c.stockNumber)||(null===c||void 0===c?void 0:c.rpStockNumber)||"N/A",vehicle:(null===c||void 0===c?void 0:c.vehicle)||"N/A",dealType:(null===c||void 0===c?void 0:c.dealType)||"N/A"},auditTrail:{ipAddress:r.ipAddress,userAgent:r.userAgent,screenResolution:r.screenResolution,timezone:r.timezone,language:r.language,sessionId:sessionStorage.getItem("sessionId")||"unknown",consentGiven:!!e||L.intentToSign&&L.electronicBusiness}}),credentials:"include"});if(s.ok){const e=await s.json();console.log("[FinanceDealDetails] Signature created successfully:",e),D(e),k(2),Ht.success("Document signed successfully! \u2705 Legal compliance verified")}else{const e=await s.text();console.error("[FinanceDealDetails] Signature creation failed:",{status:s.status,statusText:s.statusText,errorText:e}),Ht.error(`Failed to sign document: ${e}`)}}catch(m){console.error("Error signing document:",m),Ht.error("Failed to sign document")}finally{p(!1)}},disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:u?"Signing...":"Sign Document"})]}),2===j&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("svg",{className:"h-6 w-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,qe.jsx)("span",{className:"text-green-800 font-semibold",children:"Document signed successfully!"})]})}),(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Download Signed Document"}),(0,qe.jsx)("p",{className:"text-sm text-blue-800 mb-4",children:"Your signature has been placed on the document. Download the signed version below."}),(0,qe.jsxs)("button",{onClick:()=>window.open(`${V}/api/signatures/${S._id}/download`,"_blank"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold flex items-center justify-center",children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Signed PDF"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Send to Client for Signature"}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Email Address"}),(0,qe.jsx)("input",{type:"email",value:O,onChange:e=>F(e.target.value),placeholder:"client@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsx)("button",{onClick:async()=>{if(O.trim())try{I(!0);const e=await fetch(`${V}/api/signatures/${S.signatureId}/send-to-client`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify({clientEmail:O.trim()}),credentials:"include"});if(e.ok)Ht.success("Document sent to client for signature!"),N(!1),k(1),F(""),B(null);else{const t=await e.text();Ht.error(`Failed to send to client: ${t}`)}}catch(m){console.error("Error sending to client:",m),Ht.error("Failed to send document to client")}finally{I(!1)}else Ht.error("Please enter client email address")},disabled:R||!O.trim(),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:R?"Sending...":"Send to Client"})]})]})]})]})})})]}))},xc=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),gc=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),bc=()=>{const e=te(),{getAuthHeaders:t}=Qe(),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)("all"),[o,i]=(0,s.useState)("all"),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)(null),[m,h]=(0,s.useState)([]),[f,x]=(0,s.useState)(!0),g="https://astonishing-chicken-production.up.railway.app";console.log("[DEBUG][FinanceStatusDashboard] API_BASE at top:",g);const b={wholesale:[{id:"contract_received",label:"Contract Received",description:"Initial paperwork received"},{id:"docs_signed",label:"Docs Signed",description:"All documents signed by parties"},{id:"title_processing",label:"Title Processing",description:"Title documentation in progress"},{id:"payment_approved",label:"Payment Approved",description:"Payment authorization completed"},{id:"funds_disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title_received",label:"Title Received",description:"Clean title in hand"},{id:"deal_complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title_processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection_complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos_complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing_ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed_active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer_contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing_approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery_scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal_complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport_arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle_arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title_processing",label:"Title Processing",description:"Title documentation"},{id:"inspection_complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready_for_sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal_complete",label:"Deal Complete",description:"Final sale completed"}]};(0,s.useEffect)(()=>{console.log("[DEBUG][FinanceStatusDashboard] API_BASE:",g),y()},[]);const y=async()=>{try{x(!0);const e=`${g}/api/deals`;console.log("[DEBUG][FinanceStatusDashboard] Fetching deals from:",e);const n=await fetch(e,{credentials:"include",headers:t()});if(console.log("[DEBUG][FinanceStatusDashboard] Deal fetch response status:",n.status),!n.ok){const e=await n.text();throw console.error("[DEBUG][FinanceStatusDashboard] Deal fetch failed:",n.status,e),new Error("Failed to fetch deals")}const r=await n.json();console.log("[DEBUG][FinanceStatusDashboard] Deal fetch JSON response:",r);const a=(r.deals||r.data||[]).map(e=>{var t,n,r,a;return{id:e._id||e.id,stockNumber:e.rpStockNumber||e.stockNumber,vin:e.vin,vehicle:`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"contract_received",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||"Unknown",buyerContact:(null===(n=e.buyer)||void 0===n?void 0:n.name)||"Pending",purchasePrice:e.purchasePrice||0,salePrice:e.listPrice||e.salePrice||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.notes||e.generalNotes||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,documentation:{contract:{status:"received",date:e.createdDate},title:{status:"clean"===(null===(r=e.titleInfo)||void 0===r?void 0:r.status)?"received":"pending",date:null===(a=e.titleInfo)||void 0===a?void 0:a.titleReceivedDate},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:e.createdDate}},titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null}});h(a)}catch(e){console.error("[DEBUG][FinanceStatusDashboard] Error fetching deals:",e),h([{id:1,stockNumber:"RP2025001",vin:"SBM14FCA4LW004366",vehicle:"2020 McLaren 720S",dealType:"wholesale",currentStage:"payment_approved",seller:"Ian Hutchinson",buyerContact:"P Gelber",purchasePrice:22e4,salePrice:244995,payoffBalance:226e3,createdDate:"2025-07-11",lastUpdated:"2025-07-11",priority:"high",notes:"Car is here at RP on consignment. All docs printed and turned in to Tammie.",paymentMethod:"Check",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-11"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-11"}},titleInfo:{},wholesalePrice:23e4},{id:2,stockNumber:"RP2025002",vin:"1HGBH41JXMN109186",vehicle:"2019 Ferrari F8 Tributo",dealType:"retail",currentStage:"title_processing",seller:"Midwest Auto Group",buyerContact:"Pending",purchasePrice:285e3,salePrice:315e3,payoffBalance:0,createdDate:"2025-07-10",lastUpdated:"2025-07-11",priority:"medium",notes:"Waiting on title from previous owner. Expected next week.",paymentMethod:"Wire Transfer",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-10"},title:{status:"pending",date:null},odometer:{status:"received",date:"2025-07-10"},paymentApproval:{status:"approved",date:"2025-07-10"}},titleInfo:{},wholesalePrice:null},{id:3,stockNumber:"RP2025003",vin:"1G1RC6E3XD0109186",vehicle:"2020 Toyota Camry",dealType:"wholesale-flip",currentStage:"title_processing",seller:"Local Dealer",buyerContact:"Pending",purchasePrice:18e4,salePrice:2e5,payoffBalance:185e3,createdDate:"2025-07-09",lastUpdated:"2025-07-09",priority:"high",notes:"Car is in good condition. Need to verify title and odometer.",paymentMethod:"Cash",requiresContract:!1,documentation:{contract:{status:"received",date:"2025-07-09"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-09"}},titleInfo:{},wholesalePrice:195e3}])}finally{x(!1)}},v=m.filter(e=>{const t="all"===a||e.currentStage===a,n="all"===o||e.dealType===o,r=""===c||e.vehicle.toLowerCase().includes(c.toLowerCase())||e.stockNumber.toLowerCase().includes(c.toLowerCase())||e.seller.toLowerCase().includes(c.toLowerCase());return t&&n&&r}),w=e=>{var t,n;let{deal:r,onClose:a,onUpdate:l}=e;const[o,i]=(0,s.useState)(r.currentStage),[c,d]=(0,s.useState)(r.notes),[u,p]=(0,s.useState)((null===(t=r.titleInfo)||void 0===t?void 0:t.lienStatus)||"none"),[m,h]=(0,s.useState)(null!==(n=r.titleInfo)&&void 0!==n&&n.lienEta?new Date(r.titleInfo.lienEta).toISOString().split("T")[0]:""),f=b[r.dealType]||b.wholesale;return(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,qe.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white",children:"Update Deal Status"}),(0,qe.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,qe.jsx)(it,{className:"h-6 w-6"})})]}),(0,qe.jsx)("div",{className:"mb-6",children:(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-white font-medium",children:r.vehicle}),(0,qe.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",r.stockNumber]})]}),(0,qe.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",r.seller," \u2022 Deal Type: ",r.dealType.charAt(0).toUpperCase()+r.dealType.slice(1)]})]})}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,qe.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>{const n=e.id===r.currentStage,a=f.findIndex(e=>e.id===r.currentStage)>t,s=e.id===o;return(0,qe.jsx)("div",{onClick:()=>i(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(s?"bg-blue-500/20 border-blue-500/50":a?"bg-green-500/10 border-green-500/30":n?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[a?(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400"}):n?(0,qe.jsx)(Le,{className:"h-5 w-5 text-orange-400"}):(0,qe.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),s&&(0,qe.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,qe.jsx)(Ve,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),"retail-pp"===r.dealType&&"title_processing"===o&&(0,qe.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,qe.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,qe.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,qe.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"payoff_requested",children:"Payoff Requested"}),(0,qe.jsx)("option",{value:"payoff_received",children:"Payoff Received"}),(0,qe.jsx)("option",{value:"lien_release_pending",children:"Release Pending"}),(0,qe.jsx)("option",{value:"lien_released",children:"Lien Released"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,qe.jsx)(nc,{value:m?new Date(m):null,onChange:e=>h(e?e.toISOString().split("T")[0]:""),placeholder:"Select lien payoff date..."})]})]})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,qe.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,qe.jsx)("button",{onClick:a,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:()=>l(r.id,o,c,u,m),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(dt,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Update Status"})]})]})]})})};return f?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,qe.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("button",{onClick:()=>e("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(ct,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Back"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Deal Status"}),(0,qe.jsx)("p",{className:"text-gray-300",children:"Track and update deal progression through the pipeline"})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-3",children:(0,qe.jsxs)("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(xc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Refresh"})]})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search deals...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("select",{value:o,onChange:e=>i(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Deal Types"}),(0,qe.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,qe.jsx)("option",{value:"retail",children:"Retail"}),(0,qe.jsx)("option",{value:"auction",children:"Auction"})]}),(0,qe.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Statuses"}),(0,qe.jsx)("option",{value:"contract_received",children:"Contract Received"}),(0,qe.jsx)("option",{value:"title_processing",children:"Title Processing"}),(0,qe.jsx)("option",{value:"payment_approved",children:"Payment Approved"}),(0,qe.jsx)("option",{value:"listing_ready",children:"Ready to List"}),(0,qe.jsx)("option",{value:"deal_complete",children:"Complete"})]}),(0,qe.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,qe.jsxs)("span",{className:"ml-2 font-medium",children:[v.length," deals"]})]})]})]}),(0,qe.jsx)("div",{className:"space-y-4",children:0===v.length?(0,qe.jsx)("div",{className:"text-center py-12",children:(0,qe.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,qe.jsx)(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):v.map(e=>{var t,n,r,a,l;const o=((e,t)=>{const n=b[e]||b.wholesale;return n.find(e=>e.id===t)||n[0]})(e.dealType,e.currentStage),i=((e,t)=>{const n=b[e]||b.wholesale;return(n.findIndex(e=>e.id===t)+1)/n.length*100})(e.dealType,e.currentStage),c={contract_received:"blue",vehicle_acquired:"blue",title_processing:"orange",payment_approved:"green",inspection_complete:"green",listing_ready:"purple",deal_complete:"green",transport_arranged:"orange",funds_disbursed:"green"}[e.currentStage]||"gray";e.priority;return(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white",children:e.vehicle}),(0,qe.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:e.dealType.toUpperCase()})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,qe.jsxs)("span",{children:["Stock #",e.stockNumber]}),(0,qe.jsx)("span",{children:"\u2022"}),(0,qe.jsx)("span",{children:e.seller}),(0,qe.jsx)("span",{children:"\u2022"}),(0,qe.jsxs)("span",{children:["Created: ",e.createdDate]})]})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-3",children:(0,qe.jsxs)("button",{onClick:()=>p(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(gc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Update Status"})]})})]}),(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`bg-${c}-500/20 text-${c}-400 text-xs font-medium px-2 py-1 rounded-full`,children:o.label}),(0,qe.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(i),"% Complete"]})]})]}),(0,qe.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,qe.jsx)("div",{className:`bg-gradient-to-r from-${c}-500 to-${c}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${i}%`}})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price"}),(0,qe.jsx)(_e,{className:"h-4 w-4 text-green-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.purchasePrice.toLocaleString()]})]}),"wholesale-flip"===e.dealType?(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Wholesale Price"}),(0,qe.jsx)(Fe,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(t=e.wholesalePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}):(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price"}),(0,qe.jsx)(Fe,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.salePrice.toLocaleString()]})]})]}),(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsx)("h4",{className:"text-white font-medium mb-3",children:"Documentation Status"}),(0,qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(e.documentation).map(e=>{let[t,n]=e;return(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:["received"===n.status||"approved"===n.status?(0,qe.jsx)(Ve,{className:"h-4 w-4 text-green-400"}):"pending"===n.status?(0,qe.jsx)(Le,{className:"h-4 w-4 text-orange-400"}):(0,qe.jsx)(mc,{className:"h-4 w-4 text-red-400"}),(0,qe.jsx)("span",{className:"text-gray-300 text-sm capitalize",children:t.replace("_"," ")})]},t)})})]}),"retail-pp"===e.dealType&&"title_processing"===e.currentStage&&(0,qe.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-4",children:[(0,qe.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,qe.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,qe.jsx)("div",{className:"flex items-center justify-between mb-4 mt-2",children:["payoff_requested","payoff_received","lien_release_pending","lien_released"].map((t,n,r)=>{var a,l;const o=(null===(a=e.titleInfo)||void 0===a?void 0:a.lienStatus)===t,i=r.indexOf(null===(l=e.titleInfo)||void 0===l?void 0:l.lienStatus)>n;return(0,qe.jsxs)(s.Fragment,{children:[(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsx)("div",{className:"rounded-full w-7 h-7 flex items-center justify-center font-bold text-sm mb-1 transition-all duration-200 "+(o?"bg-blue-500 text-white shadow-lg scale-110":i?"bg-green-400 text-white":"bg-gray-400 text-white/70"),children:n+1}),(0,qe.jsx)("span",{className:"text-xs font-medium "+(o?"text-blue-400":i?"text-green-400":"text-gray-400"),children:{payoff_requested:"Payoff Requested",payoff_received:"Payoff Received",lien_release_pending:"Release Pending",lien_released:"Lien Released"}[t]})]}),n<r.length-1&&(0,qe.jsx)("div",{className:"flex-1 h-1 mx-1 md:mx-2 rounded-full "+(i?"bg-green-400":o?"bg-blue-400":"bg-gray-400/40")})]},t)})}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Holder"}),(0,qe.jsx)("div",{className:"text-white font-bold text-base",children:(null===(n=e.titleInfo)||void 0===n?void 0:n.lienHolder)||"None"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,qe.jsx)("div",{className:"text-white font-bold text-base capitalize",children:(null===(r=e.titleInfo)||void 0===r||null===(a=r.lienStatus)||void 0===a?void 0:a.replace(/_/g," "))||"None"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,qe.jsx)("div",{className:"text-white font-bold text-base",children:null!==(l=e.titleInfo)&&void 0!==l&&l.lienEta?new Date(e.titleInfo.lienEta).toLocaleDateString():"TBD"})]})]})]}),e.notes&&(0,qe.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)(Ze,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,qe.jsx)("p",{className:"text-orange-300 text-sm",children:e.notes})]})})]},e.id)})}),u&&(0,qe.jsx)(w,{deal:u,onClose:()=>p(null),onUpdate:async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;try{const l=`${g}/api/deals/${e}`;console.log("[DEBUG][FinanceStatusDashboard] Updating deal status via:",l);const o=await fetch(l,{method:"PUT",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({currentStage:n,notes:r,updatedAt:new Date,...a&&"title_processing"===n?{lienStatus:a}:{},...s&&"title_processing"===n?{lienEta:s}:{}}),credentials:"include"});if(console.log("[DEBUG][FinanceStatusDashboard] Update deal status response status:",o.status),!o.ok){const e=await o.text();throw console.error("[DEBUG][FinanceStatusDashboard] Update deal status failed:",o.status,e),new Error("Failed to update deal status")}h(m.map(t=>{var l,o;return t.id===e?{...t,currentStage:n,lastUpdated:(new Date).toISOString().split("T")[0],notes:r||t.notes,titleInfo:{...t.titleInfo,lienStatus:a||(null===(l=t.titleInfo)||void 0===l?void 0:l.lienStatus),lienEta:s||(null===(o=t.titleInfo)||void 0===o?void 0:o.lienEta)}}:t})),p(null)}catch(l){console.error("[DEBUG][FinanceStatusDashboard] Error updating deal status:",l),alert("Failed to update deal status. Please try again.")}}})]})]})},yc=()=>{var e;const{fileName:t}=ne(),n=te(),r=Z(),{getAuthHeaders:a,token:l,user:o}=Qe(),[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!0),[p,m]=(0,s.useState)(null),h=(null===(e=r.state)||void 0===e?void 0:e.viewUrl)||`https://astonishing-chicken-production.up.railway.app/api/documents/download/${encodeURIComponent(t||"document")}`,f=t||"Document";(0,s.useEffect)(()=>{(async()=>{if(!t)return console.error("[PDFViewer] No fileName provided"),void m("No document specified");try{u(!0),m(null),console.log("[PDFViewer] Auth headers:",a()),console.log("[PDFViewer] Full token:",l),console.log("[PDFViewer] Fetching PDF from:",h);const e=await fetch(h,{method:"GET",credentials:"include",headers:a()});if(console.log("[PDFViewer] Request headers:",a()),console.log("[PDFViewer] Request URL:",h),console.log("[PDFViewer] Request method:","GET"),console.log("[PDFViewer] Request credentials:","include"),console.log("[PDFViewer] Response status:",e.status),console.log("[PDFViewer] Response headers:",e.headers),e.ok){const t=await e.blob(),n=URL.createObjectURL(t);c(n)}else if(404===e.status)console.warn("[PDFViewer] Document not found (404):",t),m("Document not found. It may have been deleted or not yet generated.");else{const t=await e.text();console.error("[PDFViewer] Response error text:",t),m(`Failed to load PDF: ${e.status} ${e.statusText}`)}}catch(p){console.error("[PDFViewer] Error loading PDF:",p),m(`Error loading PDF: ${p.message}`)}finally{u(!1)}})()},[t,h,a,l,o]);return d?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"text-white text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,qe.jsx)("p",{children:"Loading PDF..."})]})}):p?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"text-red-400 text-center",children:[(0,qe.jsxs)("p",{children:["Error loading PDF: ",p]}),(0,qe.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>n(-1),children:"Go Back"})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:[(0,qe.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>n(-1),children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,qe.jsx)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",children:(0,qe.jsx)("iframe",{src:i,title:f,className:"w-full h-full border-0",onError:()=>{console.error("[PDFViewer] Iframe failed to load:",i)}})})]})},vc=()=>{var e,t,n;const{fileName:r}=ne(),a=te(),l=Z(),{getAuthHeaders:o,token:i,user:c}=Qe(),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(!0),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)(1),[v,w]=(0,s.useState)(null),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)(""),[D,T]=(0,s.useState)("draw"),[E,C]=(0,s.useState)({intentToSign:!1,electronicBusiness:!1}),[P,_]=(0,s.useState)(!1),[A,L]=(0,s.useState)(""),M=(0,s.useRef)(null),R=(0,s.useRef)(!1),I="https://astonishing-chicken-production.up.railway.app",O=(null===(e=l.state)||void 0===e?void 0:e.viewUrl)||`${I}/api/documents/download/${encodeURIComponent(r||"document")}`,F=r||"Document",U=null===(t=l.state)||void 0===t?void 0:t.dealId,B=null===(n=l.state)||void 0===n?void 0:n.documentType;(0,s.useEffect)(()=>{(async()=>{if(!r)return console.error("[EnhancedPDFViewer] No fileName provided"),void f("No document specified");try{m(!0),f(null);const e=await fetch(O,{method:"GET",credentials:"include",headers:o()});if(e.ok){const t=await e.blob(),n=URL.createObjectURL(t);u(n)}else if(404===e.status)f("Document not found. It may have been deleted or not yet generated.");else{await e.text();f(`Failed to load PDF: ${e.status} ${e.statusText}`)}}catch(h){console.error("[EnhancedPDFViewer] Error loading PDF:",h),f(`Error loading PDF: ${h.message}`)}finally{m(!1)}})()},[r,O,o,i,c]),(0,s.useEffect)(()=>{if(!M.current)return;const e=M.current,t=e.getContext("2d"),n=n=>{R.current=!0;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.beginPath(),t.moveTo(a,s)},r=n=>{if(!R.current)return;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.lineTo(a,s),t.stroke()},a=()=>{R.current=!1};return e.addEventListener("mousedown",n),e.addEventListener("mousemove",r),e.addEventListener("mouseup",a),()=>{e.removeEventListener("mousedown",n),e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",a)}},[x]);const $=()=>{if(M.current){const e=M.current;e.getContext("2d").clearRect(0,0,e.width,e.height)}j(null),S("")};return p?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"text-white text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,qe.jsx)("p",{children:"Loading PDF..."})]})}):h?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"text-red-400 text-center",children:[(0,qe.jsxs)("p",{children:["Error loading PDF: ",h]}),(0,qe.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>a(-1),children:"Go Back"})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:[(0,qe.jsx)("div",{className:"w-full max-w-5xl flex justify-between items-center mb-6",children:(0,qe.jsxs)("button",{className:"flex items-center text-blue-400 hover:text-blue-300 font-medium",onClick:()=>a(-1),children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]})}),(0,qe.jsx)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",children:(0,qe.jsx)("iframe",{src:d,title:F,className:"w-full h-full border-0",onError:()=>{console.error("[EnhancedPDFViewer] Iframe failed to load:",d)}})}),x&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qe.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign Document"}),(0,qe.jsx)("button",{onClick:()=>{g(!1),y(1),$()},className:"text-gray-500 hover:text-gray-700",children:(0,qe.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),1===b&&(0,qe.jsxs)("div",{className:"space-y-6",children:["finance"!==(null===c||void 0===c?void 0:c.role)&&(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Legal Consent"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("label",{className:"flex items-start",children:[(0,qe.jsx)("input",{type:"checkbox",checked:E.intentToSign,onChange:e=>C({...E,intentToSign:e.target.checked}),className:"mt-1 mr-3"}),(0,qe.jsx)("span",{className:"text-sm text-blue-800",children:"I intend to sign this document electronically and agree that my electronic signature is the legal equivalent of my manual/handwritten signature."})]}),(0,qe.jsxs)("label",{className:"flex items-start",children:[(0,qe.jsx)("input",{type:"checkbox",checked:E.electronicBusiness,onChange:e=>C({...E,electronicBusiness:e.target.checked}),className:"mt-1 mr-3"}),(0,qe.jsx)("span",{className:"text-sm text-blue-800",children:"I consent to conduct business electronically and agree that electronic signatures are legally binding."})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Choose Signature Method"}),(0,qe.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,qe.jsx)("button",{onClick:()=>T("draw"),className:"px-4 py-2 rounded-lg border "+("draw"===D?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Draw Signature"}),(0,qe.jsx)("button",{onClick:()=>T("type"),className:"px-4 py-2 rounded-lg border "+("type"===D?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Type Signature"})]}),"draw"===D&&(0,qe.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg p-4",children:[(0,qe.jsx)("canvas",{ref:M,width:400,height:100,className:"border border-gray-300 rounded cursor-crosshair",style:{backgroundColor:"white"}}),(0,qe.jsx)("button",{onClick:$,className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Clear Signature"})]}),"type"===D&&(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Type your signature here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,qe.jsx)("button",{onClick:async()=>{const e="finance"===(null===c||void 0===c?void 0:c.role);if(e||E.intentToSign&&E.electronicBusiness)if((()=>{if("draw"===D&&M.current){const e=M.current.toDataURL();j(e)}else if("type"===D&&k.trim()){const e=document.createElement("canvas"),t=e.getContext("2d");e.width=400,e.height=100,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#1a1a1a",t.font='bold 36px "Brush Script MT", "Lucida Handwriting", "Comic Sans MS", cursive',t.textAlign="center",t.textBaseline="middle";const n=k.trim(),r=e.width/2,a=e.height/2;t.save(),t.translate(r,a),t.rotate(-.02),t.fillText(n,0,0),t.restore(),j(e.toDataURL())}})(),N)try{m(!0);const t={ipAddress:await fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>e.ip).catch(()=>"unknown"),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language},n=await fetch(`${I}/api/signatures`,{method:"POST",headers:{...o(),"Content-Type":"application/json"},body:JSON.stringify({dealId:U,documentType:B,fileName:r,signerType:"finance",signerName:(null===c||void 0===c?void 0:c.firstName)+" "+(null===c||void 0===c?void 0:c.lastName),signerEmail:null===c||void 0===c?void 0:c.email,signatureImage:N,consent:{intentToSign:!!e||E.intentToSign,electronicBusiness:!!e||E.electronicBusiness,timestamp:(new Date).toISOString()},auditTrail:{ipAddress:t.ipAddress,userAgent:t.userAgent,screenResolution:t.screenResolution,timezone:t.timezone,language:t.language,sessionId:sessionStorage.getItem("sessionId")||"unknown",documentUrl:O,signatureMethod:D}}),credentials:"include"});if(n.ok){const e=await n.json();w(e),y(2),Ht.success("Document signed successfully! \u2705 Legal compliance verified")}else{const e=await n.text();Ht.error(`Failed to sign document: ${e}`)}}catch(h){console.error("Error signing document:",h),Ht.error("Failed to sign document")}finally{m(!1)}else Ht.error("Please provide a signature");else Ht.error("Please check both consent boxes to proceed")},disabled:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:p?"Signing...":"Sign Document"})]}),2===b&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("svg",{className:"h-6 w-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,qe.jsx)("span",{className:"text-green-800 font-semibold",children:"Document signed successfully!"})]})}),(0,qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Download Signed Document"}),(0,qe.jsx)("p",{className:"text-sm text-blue-800 mb-4",children:"Your signature has been placed on the document. Download the signed version below."}),(0,qe.jsxs)("button",{onClick:()=>window.open(`${I}/api/signatures/${v._id}/download`,"_blank"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold flex items-center justify-center",children:[(0,qe.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Signed PDF"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Send to Client for Signature"}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Email Address"}),(0,qe.jsx)("input",{type:"email",value:A,onChange:e=>L(e.target.value),placeholder:"client@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsx)("button",{onClick:async()=>{if(A.trim())try{_(!0);const e=await fetch(`${I}/api/signatures/${v._id}/send-to-client`,{method:"POST",headers:{...o(),"Content-Type":"application/json"},body:JSON.stringify({clientEmail:A.trim(),documentUrl:O,dealId:U,documentType:B}),credentials:"include"});if(e.ok)Ht.success("Document sent to client for signature!"),g(!1),y(1),L("");else{const t=await e.text();Ht.error(`Failed to send to client: ${t}`)}}catch(h){console.error("Error sending to client:",h),Ht.error("Failed to send document to client")}finally{_(!1)}else Ht.error("Please enter client email address")},disabled:P||!A.trim(),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:P?"Sending...":"Send to Client"})]})]})]})]})})})]})},wc={wholesale:[{id:"contract-received",label:"Contract Received",description:"Initial paperwork received"},{id:"docs-signed",label:"Docs Signed",description:"All documents signed by parties"},{id:"title-processing",label:"Title Processing",description:"Title documentation in progress"},{id:"funds-disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title-received",label:"Title Received",description:"Clean title in hand"},{id:"deal-complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle-acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title-processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection-complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos-complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing-ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed-active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer-contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing-approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery-scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal-complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle-acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport-arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle-arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title-processing",label:"Title Processing",description:"Title documentation"},{id:"inspection-complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready-for-sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal-complete",label:"Deal Complete",description:"Final sale completed"}]};function Nc(){var e,t,n,r;const{dealId:a}=ne(),l=te(),{getAuthHeaders:o}=Qe(),[i,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[h,f]=(0,s.useState)("none"),[x,g]=(0,s.useState)(""),[b,y]=(0,s.useState)(!0),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),k="https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{!async function(){y(!0);try{var e,t;const n={...o()},r=await fetch(`${k}/api/backoffice/deals/${a}`,{credentials:"include",headers:n});if(!r.ok)throw new Error("Deal not found");const s=await r.json(),l=s.deal||s.data||s;c(l),u(l.currentStage||"contract-received"),m(l.notes||l.generalNotes||""),f((null===(e=l.titleInfo)||void 0===e?void 0:e.lienStatus)||"none"),g(null!==(t=l.titleInfo)&&void 0!==t&&t.lienEta?new Date(l.titleInfo.lienEta).toISOString().split("T")[0]:"")}catch(n){j(n.message)}finally{y(!1)}}()},[a]);if(b||v)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:v?"Updating Deal Status":"Loading Deal Information"}),(0,qe.jsx)("p",{className:"text-gray-400",children:v?"Please wait while we update the deal status...":"Please wait while we load the deal details..."}),v&&(0,qe.jsx)("div",{className:"mt-4",children:(0,qe.jsx)("div",{className:"bg-gray-800 rounded-full h-2 overflow-hidden",children:(0,qe.jsx)("div",{className:"bg-blue-500 h-2 rounded-full animate-pulse",style:{width:"60%"}})})})]})});if(N)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-gray-900 border border-red-500/20 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,qe.jsx)("div",{className:"text-red-500 mb-4",children:(0,qe.jsx)(it,{className:"h-12 w-12 mx-auto"})}),(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Error Loading Deal"}),(0,qe.jsx)("p",{className:"text-red-400 mb-4",children:N}),(0,qe.jsx)("button",{onClick:()=>l("/finance/deals"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Deals"})]})});if(!i)return null;console.log("[UpdateStatusPage] deal.seller:",i.seller),console.log("[UpdateStatusPage] deal.seller?.type:",null===(e=i.seller)||void 0===e?void 0:e.type);const S=wc[i.dealType]||wc.wholesale;return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,qe.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-8 max-w-2xl w-full",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Update Deal Status"}),(0,qe.jsx)("button",{onClick:()=>l("/finance/deals"),className:"text-gray-400 hover:text-white transition-colors",children:(0,qe.jsx)(it,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"mb-6 bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-white font-medium",children:i.vehicle||`${i.year} ${i.make} ${i.model}`}),(0,qe.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",i.rpStockNumber||i.stockNumber||"N/A"]})]}),(0,qe.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",(null===(t=i.seller)||void 0===t?void 0:t.name)||i.seller||"Unknown"," \u2022 Deal Type: ",null===(n=i.dealType)||void 0===n?void 0:n.replace("-"," ").toUpperCase()]})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,qe.jsx)("div",{className:"space-y-3",children:S.map((e,t)=>{const n=e.id===d,r=n,a=S.findIndex(e=>e.id===d)>t;return(0,qe.jsx)("div",{onClick:()=>u(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(n?"bg-blue-500/20 border-blue-500/50":a?"bg-green-500/10 border-green-500/30":e.id===i.currentStage?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[a?(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400"}):r?(0,qe.jsx)(Le,{className:"h-5 w-5 text-blue-400"}):e.id===i.currentStage?(0,qe.jsx)(Le,{className:"h-5 w-5 text-orange-400"}):(0,qe.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),n&&(0,qe.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,qe.jsx)(Ve,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),("retail-pp"===i.dealType&&"buy"===i.dealType2SubType&&"title-processing"===d||"wholesale-flip"===i.dealType&&"private"===(null===(r=i.seller)||void 0===r?void 0:r.type)&&"title-processing"===d)&&(0,qe.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,qe.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,qe.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Title Lien Status"]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,qe.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"none",children:"No Lien"}),(0,qe.jsx)("option",{value:"lien_on_title",children:"Lien on Title"})]})]}),"lien_on_title"===h&&(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Payoff Completion ETA"}),(0,qe.jsx)(nc,{value:x?new Date(x):null,onChange:e=>g(e?e.toISOString():""),placeholder:"Select lien payoff date..."})]})]})]}),(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,qe.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>l("/finance/deals"),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:async()=>{w(!0);try{const e={...o(),"Content-Type":"application/json"};if(!(await fetch(`${k}/api/backoffice/deals/${a}/stage`,{method:"PUT",headers:e,body:JSON.stringify({stage:d,notes:p,..."retail-pp"===i.dealType&&"buy"===i.dealType2SubType&&"title-processing"===d?{lienStatus:h,lienEta:x}:{}})})).ok)throw new Error("Failed to update deal status");l("/finance/deals")}catch(e){j(e.message)}finally{w(!1)}},disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[(0,qe.jsx)(dt,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:v?"Saving...":"Update Status"})]})]})]})})}const jc=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),kc=Ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Sc={"contract-received":"Initial Contact","docs-signed":"Docs Signed","title-processing":"Title Processing","payment-approved":"Finance Review","funds-disbursed":"Funds Disbursed","title-received":"Title Received","deal-complete":"Completion"},Dc=["contract-received","docs-signed","title-processing","payment-approved","funds-disbursed","title-received","deal-complete"],Tc={buy:"Buy",sale:"Sale","buy-sell":"Buy/Sell","consign-a":"Consign-A","consign-b":"Consign-B","consign-c":"Consign-C","consign-rdnc":"Consign-RDNC"},Ec=()=>{console.log("DealStatusPage rendered");const{getAuthHeaders:e}=Qe(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[l,o]=(0,s.useState)(null),[i,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("all"),[p,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),b=te(),[y,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[j,k]=(0,s.useState)([]),[S,D]=(0,s.useState)([]),T="https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{let e;return console.log("[DEBUG][DealStatusPage] useEffect running"),console.log("[DEBUG][DealStatusPage] API_BASE:",T),E(),h&&(e=setInterval(()=>{E(),g(new Date)},1e4)),()=>{e&&clearInterval(e)}},[h]),(0,s.useEffect)(()=>{const e=setInterval(()=>{const e=new Date(Date.now()-3e5);D(t=>t.filter(t=>t.timestamp>e))},6e4);return()=>clearInterval(e)},[]);const E=async()=>{try{a(!0);const t=`${T}/api/sales/deals`;console.log("[DEBUG][DealStatusPage] Fetching sales deals from:",t),console.log("[DEBUG][DealStatusPage] API_BASE:",T),console.log("[DEBUG][DealStatusPage] Auth headers:",e());const r=await fetch(t,{credentials:"include",headers:e()});if(console.log("[DEBUG][DealStatusPage] Deal fetch response status:",r.status),console.log("[DEBUG][DealStatusPage] Response headers:",r.headers),r.ok){const e=await r.json();console.log("[DEBUG][DealStatusPage] Deal fetch JSON response:",e),console.log("[DEBUG][DealStatusPage] Response data type:",typeof e),console.log("[DEBUG][DealStatusPage] Response data keys:",Object.keys(e)),console.log("[DEBUG][DealStatusPage] Full response data:",JSON.stringify(e,null,2));const t=e.deals||e.data||[];console.log("[DEBUG][DealStatusPage] Deals data length:",t.length),console.log("[DEBUG][DealStatusPage] Deals data type:",typeof t),console.log("[DEBUG][DealStatusPage] Deals data:",t),0===t.length&&(console.warn("[DEBUG][DealStatusPage] No deals found in response data"),console.warn("[DEBUG][DealStatusPage] Full response data:",e),console.warn("[DEBUG][DealStatusPage] Trying to find deals in different response structures..."),console.warn("[DEBUG][DealStatusPage] data.deals:",e.deals),console.warn("[DEBUG][DealStatusPage] data.data:",e.data),console.warn("[DEBUG][DealStatusPage] data.salesDeals:",e.salesDeals),console.warn("[DEBUG][DealStatusPage] data.results:",e.results),console.warn("[DEBUG][DealStatusPage] Array.isArray(data):",Array.isArray(e)),Array.isArray(e)&&console.warn("[DEBUG][DealStatusPage] data is an array with length:",e.length));const a=t.map(e=>{var t,n,r,a,s,l,o,i;return console.log("[DEBUG][DealStatusPage] Processing deal:",e._id,e.vehicle),{id:e._id||e.id,stockNumber:e.stockNumber||e.rpStockNumber,vin:e.vin,vehicle:e.vehicle||`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"contract-received",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||(null===(n=e.customer)||void 0===n?void 0:n.name)||"Unknown",buyerContact:(null===(r=e.buyer)||void 0===r?void 0:r.name)||(null===(a=e.customer)||void 0===a?void 0:a.name)||"Pending",purchasePrice:e.purchasePrice||(null===(s=e.financial)||void 0===s?void 0:s.purchasePrice)||0,salePrice:e.listPrice||e.salePrice||(null===(l=e.financial)||void 0===l?void 0:l.listPrice)||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.purchaseDate||(null===(o=e.timeline)||void 0===o?void 0:o.purchaseDate)||e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.generalNotes||e.notes||(null===(i=e.customer)||void 0===i?void 0:i.notes)||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null,dealType2SubType:e.dealType2SubType||"",salesPerson:e.salesPerson||{id:e.salesperson||null,name:e.salesperson||"Unknown",email:""},calculatedMetrics:e.calculatedMetrics||{daysInCurrentStage:0,estimatedCompletion:new Date,progressPercentage:0,timelineStatus:"on-track"}}});if(console.log("[DEBUG][DealStatusPage] Transformed deals:",a),console.log("[DEBUG][DealStatusPage] Setting deals state with length:",a.length),j.length>0){const e=[];a.forEach(t=>{const n=j.find(e=>e.id===t.id);n&&n.currentStage!==t.currentStage&&e.push({dealId:t.id,vehicle:t.vehicle,oldStage:n.currentStage,newStage:t.currentStage,timestamp:new Date})}),e.length>0&&(D(e),console.log("[DEBUG][DealStatusPage] Status changes detected:",e),e.forEach(e=>{Ht.info(`Status updated: ${e.vehicle} - ${e.oldStage} \u2192 ${e.newStage}`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}))}n(a),k(a)}else{const e=await r.text();console.error("[DEBUG][DealStatusPage] Deal fetch failed:",r.status,e)}}catch(t){console.error("[DEBUG][DealStatusPage] Error fetching deals:",t)}finally{a(!1)}},C=e=>{N(e.target.value)},P=()=>{v(null),N("")},_=e=>({id:e,label:Sc[e]||e,description:{"contract-received":"Deal created and initial contact made","docs-signed":"Documents have been signed by all parties","title-processing":"Title is being processed and transferred","payment-approved":"Financial terms and approval process","funds-disbursed":"Funds have been disbursed","title-received":"Title has been received","deal-complete":"Deal finalized and closed"}[e]||""}),A=t.filter(e=>{var t,n,r,a;const s=""===p||(null===(t=e.vehicle)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(n=e.stockNumber)||void 0===n?void 0:n.toLowerCase().includes(p.toLowerCase()))||(null===(r=e.vin)||void 0===r?void 0:r.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.seller)||void 0===a?void 0:a.toLowerCase().includes(p.toLowerCase())),l="all"===i||e.currentStage===i,o="all"===d||e.dealType===d;return s&&l&&o});return console.log("[DEBUG][DealStatusPage] Current deals state length:",t.length),console.log("[DEBUG][DealStatusPage] Filtered deals length:",A.length),console.log("[DEBUG][DealStatusPage] Search term:",p),console.log("[DEBUG][DealStatusPage] Filter status:",i),console.log("[DEBUG][DealStatusPage] Filter deal type:",d),r?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,qe.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,qe.jsxs)("div",{className:"mb-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("button",{onClick:()=>b("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(ct,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Back"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sales Deal Status"}),(0,qe.jsx)("p",{className:"text-gray-300",children:"Track and monitor your deals through the sales pipeline - Directly synced with Finance status"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("input",{type:"checkbox",id:"autoRefresh",checked:h,onChange:e=>f(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("label",{htmlFor:"autoRefresh",className:"text-gray-300 text-sm",children:"Auto-refresh"})]}),x&&(0,qe.jsxs)("div",{className:"text-gray-400 text-sm",children:["Last sync: ",x.toLocaleTimeString()]}),(0,qe.jsxs)("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",disabled:r,children:[(0,qe.jsx)(xc,{className:"h-4 w-4 "+(r?"animate-spin":"")}),(0,qe.jsx)("span",{children:r?"Refreshing...":"Refresh"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,qe.jsx)("span",{children:"Real-time updates"})]})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search deals...",value:p,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Deal Types"}),(0,qe.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,qe.jsx)("option",{value:"retail",children:"Retail"}),(0,qe.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,qe.jsx)("option",{value:"retail-d2d",children:"Retail D2D"})]}),(0,qe.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Statuses"}),(0,qe.jsx)("option",{value:"contract-received",children:"Initial Contact"}),(0,qe.jsx)("option",{value:"docs-signed",children:"Docs Signed"}),(0,qe.jsx)("option",{value:"title-processing",children:"Title Processing"}),(0,qe.jsx)("option",{value:"payment-approved",children:"Finance Review"}),(0,qe.jsx)("option",{value:"funds-disbursed",children:"Funds Disbursed"}),(0,qe.jsx)("option",{value:"title-received",children:"Title Received"}),(0,qe.jsx)("option",{value:"deal-complete",children:"Complete"})]}),(0,qe.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,qe.jsxs)("span",{className:"ml-2 font-medium",children:[A.length," deals"]})]})]})]}),(0,qe.jsx)("div",{className:"space-y-4",children:0===A.length?(0,qe.jsx)("div",{className:"text-center py-12",children:(0,qe.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,qe.jsx)(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):A.map(r=>{var a,s,i,c,d,u;const p=_(r.currentStage),m=(e=>{const t=Dc.indexOf(e);return t>=0?Math.round(t/(Dc.length-1)*100):0})(r.currentStage),h=(e=>{switch(e){case"deal-complete":return"green";case"payment-approved":case"funds-disbursed":case"title-received":case"title-processing":return"blue";case"contract-received":case"docs-signed":return"yellow";default:return"gray"}})(r.currentStage),f=(e=>{switch(e){case"high":return"text-red-400";case"medium":return"text-orange-400";case"low":return"text-green-400";default:return"text-gray-400"}})(r.priority);return(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white",children:r.vehicle}),(0,qe.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:r.dealType.toUpperCase()}),r.dealType2SubType&&"wholesale-flip"!==r.dealType&&(0,qe.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:Tc[r.dealType2SubType]||r.dealType2SubType}),(0,qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,qe.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",title:"In sync with finance system"}),(0,qe.jsx)("span",{className:"text-green-400 text-xs",children:"Synced with Finance"})]}),S.some(e=>e.dealId===r.id&&new Date-e.timestamp<6e4)&&(0,qe.jsx)("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-medium px-2 py-1 rounded-full animate-pulse",children:"Recently Updated"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,qe.jsxs)("span",{children:["Stock #",r.stockNumber]}),(0,qe.jsx)("span",{children:"\u2022"}),(0,qe.jsxs)("span",{className:"text-blue-400 font-medium",children:["ID: ",r.dealId||"N/A"]}),(0,qe.jsx)("span",{children:"\u2022"}),(0,qe.jsx)("span",{children:r.seller}),(0,qe.jsx)("span",{children:"\u2022"}),(0,qe.jsxs)("span",{children:["Created: ",r.createdDate]})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("button",{onClick:()=>o(l===r.id?null:r.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:l===r.id?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(jc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Hide Details"})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(tc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"View Details"})]})}),(0,qe.jsxs)("button",{onClick:()=>(e=>{v(e.id),N(e.notes||"")})(r),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(gc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Edit Notes"})]}),(0,qe.jsxs)("button",{onClick:()=>(async r=>{const a=t;n(e=>e.filter(e=>e.id!==r));try{const t=`${T}/api/sales/deals/${r}`;if(!(await fetch(t,{method:"DELETE",headers:e(),credentials:"include"})).ok)throw new Error("Delete failed");Ht.success("Deal deleted!")}catch(s){n(a),Ht.error("Failed to delete deal!")}})(r.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(dc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Delete"})]})]})]}),(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:`bg-${h}-500/20 text-${h}-400 text-xs font-medium px-2 py-1 rounded-full`,children:p.label}),(0,qe.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(m),"% Complete"]})]})]}),(0,qe.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,qe.jsx)("div",{className:`bg-gradient-to-r from-${h}-500 to-${h}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${m}%`}})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN"}),(0,qe.jsx)(Be,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsx)("p",{className:"text-white font-bold text-sm font-mono",children:r.vin})]}),(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price"}),(0,qe.jsx)(_e,{className:"h-4 w-4 text-green-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(a=r.purchasePrice)||void 0===a?void 0:a.toLocaleString())||"N/A"]})]}),"wholesale-flip"===r.dealType?(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Wholesale Price"}),(0,qe.jsx)(Fe,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(s=r.wholesalePrice)||void 0===s?void 0:s.toLocaleString())||"N/A"]})]}):(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price"}),(0,qe.jsx)(Fe,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(i=r.salePrice)||void 0===i?void 0:i.toLocaleString())||"N/A"]})]}),r.payoffBalance>0&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Payoff Balance"}),(0,qe.jsx)(Ze,{className:"h-4 w-4 text-orange-400"})]}),(0,qe.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(c=r.payoffBalance)||void 0===c?void 0:c.toLocaleString())||"N/A"]})]}),(null===(d=r.titleInfo)||void 0===d?void 0:d.lienEta)&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("span",{className:"text-gray-400 text-sm",children:"Lien Payoff ETA"}),(0,qe.jsx)(tt,{className:"h-4 w-4 text-blue-400"})]}),(0,qe.jsx)("p",{className:"text-white font-bold text-lg",children:new Date(r.titleInfo.lienEta).toLocaleDateString()})]})]}),l===r.id&&(0,qe.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,qe.jsxs)("div",{className:"mb-6",children:[(0,qe.jsx)("h4",{className:"text-white font-medium mb-4",children:"Deal Progress"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-600"}),(0,qe.jsx)("div",{className:"space-y-4",children:Dc.map((e,t)=>{const n=_(e),a=t<Dc.indexOf(r.currentStage),s=e===r.currentStage;return(0,qe.jsxs)("div",{className:"relative flex items-start space-x-4",children:[(0,qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center z-10 "+(a?"bg-green-500":s?"bg-blue-500":"bg-gray-600"),children:a?(0,qe.jsx)(Ve,{className:"h-4 w-4 text-white"}):s?(0,qe.jsx)(kc,{className:"h-4 w-4 text-white"}):(0,qe.jsx)(ac,{className:"h-4 w-4 text-gray-300"})}),(0,qe.jsxs)("div",{className:"flex-1 pt-1",children:[(0,qe.jsx)("div",{className:"font-medium "+(a?"text-green-400":s?"text-blue-400":"text-gray-400"),children:n.label}),(0,qe.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:n.description}),s&&(0,qe.jsx)("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded",children:"In progress..."})]})]},e)})})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-white font-medium mb-3",children:"Deal Information"}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Deal Type:"}),(0,qe.jsx)("span",{className:"text-white capitalize",children:r.dealType.replace("-"," ")})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Payment Method:"}),(0,qe.jsx)("span",{className:"text-white",children:r.paymentMethod})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Priority:"}),(0,qe.jsx)("span",{className:f,children:r.priority})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,qe.jsx)("span",{className:"text-white",children:r.lastUpdated})]}),"wholesale-flip"!==r.dealType&&(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Deal Type 2:"}),(0,qe.jsx)("span",{className:"text-white capitalize",children:Tc[r.dealType2SubType]||r.dealType2SubType||"N/A"})]}),(null===(u=r.titleInfo)||void 0===u?void 0:u.lienEta)&&(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Lien Payoff ETA:"}),(0,qe.jsx)("span",{className:"text-white",children:new Date(r.titleInfo.lienEta).toLocaleDateString()})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-white font-medium mb-3",children:"Contact Information"}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Seller:"}),(0,qe.jsx)("span",{className:"text-white",children:r.seller})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Buyer:"}),(0,qe.jsx)("span",{className:"text-white",children:r.buyerContact})]})]})]})]})]}),r.notes&&y!==r.id&&(0,qe.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)(Ze,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,qe.jsx)("p",{className:"text-orange-300 text-sm",children:r.notes})]})}),y===r.id&&(0,qe.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 mt-2",children:(0,qe.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,qe.jsx)("textarea",{className:"w-full rounded p-2 text-sm text-gray-900",value:w,onChange:C}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>(async r=>{const a=t;n(e=>e.map(e=>e.id===r?{...e,notes:w}:e)),v(null);try{const t=`${T}/api/sales/deals/${r}/customer`,a=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({notes:w}),credentials:"include"}),s=await a.json();if(!a.ok)throw new Error(s.error||"Update failed");n(e=>e.map(e=>e.id===r?{...e,notes:w}:e)),Ht.success("Deal updated!")}catch(s){n(a),Ht.error("Failed to update deal!")}})(r.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",children:"Save"}),(0,qe.jsx)("button",{onClick:P,className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded",children:"Cancel"})]})]})})]},r.id)})})]})]})},Cc=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Pc=Ee("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]),_c=Ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ac=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Lc=()=>{const{user:e,token:t,getAuthHeaders:n,loading:r}=Qe(),[a,l]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)("all"),[m,h]=(0,s.useState)("all"),[f,x]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[j,k]=(0,s.useState)(!1),[S,D]=(0,s.useState)(null),[T,E]=(0,s.useState)(null),[C,P]=(0,s.useState)(!1),[_,A]=(0,s.useState)(!1),[L,M]=(0,s.useState)({firstName:"",lastName:"",email:"",username:"",password:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),R="https://astonishing-chicken-production.up.railway.app",I=async()=>{try{if(i(!0),D(null),!t)throw new Error("No authentication token available");console.log("[USER MANAGEMENT] Current user:",e),console.log("[USER MANAGEMENT] User role:",null===e||void 0===e?void 0:e.role),console.log("[USER MANAGEMENT] Token available:",!!t),console.log("[USER MANAGEMENT] Token preview:",t?`${t.substring(0,20)}...`:"None"),console.log("[USER MANAGEMENT] Fetching users from:",`${R}/api/users`);const r={...n(),"Content-Type":"application/json"};console.log("[USER MANAGEMENT] Request headers:",r);const a=await fetch(`${R}/api/users`,{headers:r,credentials:"include"});if(console.log("[USER MANAGEMENT] Response status:",a.status),console.log("[USER MANAGEMENT] Response headers:",Object.fromEntries(a.headers.entries())),!a.ok){const e=await a.json().catch(()=>({}));throw console.error("[USER MANAGEMENT] Error response:",e),new Error(e.error||`HTTP ${a.status}: Failed to fetch users`)}const s=await a.json();console.log("[USER MANAGEMENT] Users data:",s),console.log("[USER MANAGEMENT] Number of users received:",s.length),l(s)}catch(S){console.error("[USER MANAGEMENT] Error fetching users:",S),D(S.message||"Failed to load users")}finally{i(!1)}};(0,s.useEffect)(()=>{if(!r)return e?void("admin"===e.role?I():(D("Admin access required"),i(!1))):(D("Please log in to access user management"),void i(!1))},[e,r]);const O=a.filter(e=>{var t,n,r,a;const s=(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.lastName)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(a=e.username)||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase())),l="all"===u||e.role===u,o="all"===m||"active"===m&&e.isActive||"inactive"===m&&!e.isActive;return s&&l&&o}),F=e=>{const t=(e=>{const t={admin:{deals:{create:!0,read:!0,update:!0,delete:!0,viewFinancials:!0},dealers:{create:!0,read:!0,update:!0,delete:!0},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!0},system:{configure:!0}},sales:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}},finance:{deals:{create:!1,read:!0,update:!0,delete:!1,viewFinancials:!0},dealers:{create:!1,read:!0,update:!1,delete:!1},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!1},system:{configure:!1}}};return t[e]||t.sales})(e);f?M(n=>({...n,role:e,permissions:t})):w&&N(n=>({...n,role:e,permissions:t}))};return r?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(xc,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Loading authentication..."})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,qe.jsx)(ct,{className:"h-5 w-5 text-white"})}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,qe.jsx)(Ce,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-xl font-bold text-white",children:"User Management"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage system users and permissions"})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>I(),disabled:o,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 "+(o?"animate-spin":"")}),"Refresh"]}),(0,qe.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,qe.jsx)(Cc,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})})}),(0,qe.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[S&&(0,qe.jsxs)("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-center",children:[(0,qe.jsx)(Ze,{className:"h-5 w-5 text-red-400 mr-3"}),(0,qe.jsx)("span",{className:"text-red-400",children:S}),(0,qe.jsx)("button",{onClick:()=>D(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,qe.jsx)(it,{className:"h-4 w-4"})})]}),T&&(0,qe.jsxs)("div",{className:"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center",children:[(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400 mr-3"}),(0,qe.jsx)("span",{className:"text-green-400",children:T}),(0,qe.jsx)("button",{onClick:()=>E(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,qe.jsx)(it,{className:"h-4 w-4"})})]}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search users...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"all",children:"All Roles"}),(0,qe.jsx)("option",{value:"admin",children:"Admin"}),(0,qe.jsx)("option",{value:"sales",children:"Sales"}),(0,qe.jsx)("option",{value:"finance",children:"Finance"})]}),(0,qe.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"all",children:"All Status"}),(0,qe.jsx)("option",{value:"active",children:"Active"}),(0,qe.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end text-gray-300 text-sm",children:[O.length," of ",a.length," users"]})]})}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:o?(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(xc,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Loading users..."})]}):(0,qe.jsxs)("div",{className:"overflow-x-auto",children:[(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"User"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Role"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Last Login"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-white/10",children:O.map(e=>{var t,r,a,s;return(0,qe.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,qe.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,qe.jsxs)("span",{className:"text-white font-medium text-sm",children:[null===(t=e.firstName)||void 0===t?void 0:t[0],null===(r=e.lastName)||void 0===r?void 0:r[0]]})})}),(0,qe.jsxs)("div",{className:"ml-4",children:[(0,qe.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]}),(0,qe.jsx)("div",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${s=e.role,{admin:"bg-red-100 text-red-800 border-red-200",sales:"bg-blue-100 text-blue-800 border-blue-200",finance:"bg-green-100 text-green-800 border-green-200"}[s]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.role})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(a=e.isActive,a?(0,qe.jsx)(Ve,{className:"h-4 w-4 text-green-500"}):(0,qe.jsx)(mc,{className:"h-4 w-4 text-red-500"})),(0,qe.jsx)("span",{className:"ml-2 text-sm "+(e.isActive?"text-green-400":"text-red-400"),children:e.isActive?"Active":"Inactive"})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`${R}/api/users/${e._id}`,{method:"PUT",headers:n(),body:JSON.stringify({isActive:!e.isActive})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to update user status")}E(`User ${e.isActive?"deactivated":"activated"} successfully`),I()}catch(S){console.error("Error updating user status:",S),D(S.message)}})(e),className:"p-2 rounded-lg transition-colors "+(e.isActive?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-green-400 hover:text-green-300 hover:bg-green-500/10"),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,qe.jsx)(Pc,{className:"h-4 w-4"}):(0,qe.jsx)(_c,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>{N(e),b(!0)},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:(0,qe.jsx)(Ac,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const t=await fetch(`${R}/api/users/${e}`,{method:"DELETE",headers:n()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete user")}E("User deleted successfully"),I()}catch(S){console.error("Error deleting user:",S),D(S.message)}})(e._id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:(0,qe.jsx)(dc,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===O.length&&(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(Ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"No users found"})]})]})})]}),f&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create New User"}),(0,qe.jsx)("button",{onClick:()=>{x(!1),A(!1)},className:"text-gray-400 hover:text-white",children:(0,qe.jsx)(it,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,qe.jsx)("input",{type:"text",placeholder:"First Name",value:L.firstName,onChange:e=>M(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,qe.jsx)("input",{type:"text",placeholder:"Last Name",value:L.lastName,onChange:e=>M(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email (Username)"}),(0,qe.jsx)("input",{type:"email",placeholder:"Enter email address",value:L.email,onChange:e=>{M(t=>({...t,email:e.target.value,username:e.target.value}))},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("input",{type:_?"text":"password",placeholder:"Enter password",value:L.password,onChange:e=>M(t=>({...t,password:e.target.value})),className:"w-full px-3 py-2 pr-10 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,qe.jsx)("button",{type:"button",onClick:()=>A(!_),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",children:_?(0,qe.jsx)(lc,{className:"h-4 w-4"}):(0,qe.jsx)(Ae,{className:"h-4 w-4"})})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,qe.jsxs)("select",{value:L.role,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"sales",children:"Sales"}),(0,qe.jsx)("option",{value:"finance",children:"Finance"}),(0,qe.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone (Optional)"}),(0,qe.jsx)("input",{type:"tel",placeholder:"Enter phone number",value:L.phone,onChange:e=>M(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",id:"isActive",checked:L.isActive,onChange:e=>M(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,qe.jsx)("button",{onClick:()=>{x(!1),A(!1)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:async()=>{try{k(!0),D(null);const e=await fetch(`${R}/api/users`,{method:"POST",headers:n(),body:JSON.stringify(L)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to create user")}E("User created successfully"),x(!1),A(!1),M({firstName:"",lastName:"",email:"",username:"",password:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),I()}catch(S){console.error("Error creating user:",S),D(S.message)}finally{k(!1)}},disabled:j||!L.firstName||!L.lastName||!L.email||!L.password,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(dt,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]})}),g&&w&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit User"}),(0,qe.jsx)("button",{onClick:()=>{b(!1),N(null),P(!1)},className:"text-gray-400 hover:text-white",children:(0,qe.jsx)(it,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),(0,qe.jsx)("input",{type:"text",value:w.firstName||"",onChange:e=>N(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,qe.jsx)("input",{type:"text",value:w.lastName||"",onChange:e=>N(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,qe.jsx)("input",{type:"email",value:w.email||"",onChange:e=>N(t=>({...t,email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password (Optional)"}),(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)("input",{type:C?"text":"password",placeholder:"Leave blank to keep current password",value:w.newPassword||"",onChange:e=>N(t=>({...t,newPassword:e.target.value})),className:"w-full px-3 py-2 pr-10 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,qe.jsx)("button",{type:"button",onClick:()=>P(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",children:C?(0,qe.jsx)(lc,{className:"h-4 w-4"}):(0,qe.jsx)(Ae,{className:"h-4 w-4"})})]}),(0,qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,qe.jsxs)("select",{value:w.role||"sales",onChange:e=>F(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"sales",children:"Sales"}),(0,qe.jsx)("option",{value:"finance",children:"Finance"}),(0,qe.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,qe.jsx)("input",{type:"tel",value:w.phone||"",onChange:e=>N(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",id:"editIsActive",checked:w.isActive,onChange:e=>N(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("label",{htmlFor:"editIsActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,qe.jsx)("button",{onClick:()=>{b(!1),N(null),P(!1)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:async()=>{try{k(!0),D(null);const{newPassword:e,...t}=w,r=await fetch(`${R}/api/users/${w._id}`,{method:"PUT",headers:n(),body:JSON.stringify(t)});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to update user")}if(e&&e.trim()){const t=e.trim();if(t.length<6)throw new Error("Password must be at least 6 characters long");console.log("[PASSWORD UPDATE] Sending password reset request:"),console.log("[PASSWORD UPDATE] URL:",`${R}/api/users/${w._id}/reset-password`),console.log("[PASSWORD UPDATE] Headers:",n()),console.log("[PASSWORD UPDATE] Body:",{newPassword:t}),console.log("[PASSWORD UPDATE] Trimmed password length:",t.length);const r={newPassword:t},a={...n(),"Content-Type":"application/json"};console.log("[PASSWORD UPDATE] Sending password reset request:"),console.log("[PASSWORD UPDATE] URL:",`${R}/api/users/${w._id}/reset-password`),console.log("[PASSWORD UPDATE] Headers:",a),console.log("[PASSWORD UPDATE] Body:",r),console.log("[PASSWORD UPDATE] Trimmed password length:",t.length);const s=await fetch(`${R}/api/users/${w._id}/reset-password`,{method:"POST",headers:a,body:JSON.stringify(r)});if(console.log("[PASSWORD UPDATE] Response status:",s.status),console.log("[PASSWORD UPDATE] Response headers:",s.headers),!s.ok){const e=await s.json();throw console.log("[PASSWORD UPDATE] Error response:",e),new Error(e.error||"Failed to update password")}}E(e&&e.trim()?"User and password updated successfully":"User updated successfully"),b(!1),N(null),P(!1),I()}catch(S){console.error("Error updating user:",S),D(S.message)}finally{k(!1)}},disabled:j||!w.firstName||!w.lastName||!w.email,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(dt,{className:"h-4 w-4 mr-2"}),"Update User"]})]})]})})]})},Mc=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Rc=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ic=()=>{const{getAuthHeaders:e}=Qe(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[l,o]=(0,s.useState)(""),[i,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("all"),[p,m]=(0,s.useState)("all"),[h,f]=(0,s.useState)("createdAt"),[x,g]=(0,s.useState)("desc"),[b,y]=(0,s.useState)([]),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)({total:0,active:0,completed:0,pending:0}),D=async()=>{try{var t,r,s,l,o;a(!0);const i=await fetch("https://astonishing-chicken-production.up.railway.app/api/deals",{credentials:"include",headers:e()});if(!i.ok)throw new Error("Failed to fetch deals");const c=await i.json();n(c.deals||c.data||[]);const d=(null===(t=c.deals)||void 0===t?void 0:t.length)||(null===(r=c.data)||void 0===r?void 0:r.length)||0,u=(null===(s=c.deals)||void 0===s?void 0:s.filter(e=>"active"===e.status).length)||0,p=(null===(l=c.deals)||void 0===l?void 0:l.filter(e=>"completed"===e.status).length)||0,m=(null===(o=c.deals)||void 0===o?void 0:o.filter(e=>"pending"===e.status).length)||0;S({total:d,active:u,completed:p,pending:m})}catch(N){console.error("Error fetching deals:",N),j("Failed to load deals")}finally{a(!1)}};(0,s.useEffect)(()=>{D()},[]);const T=t.filter(e=>{var t,n,r,a,s,o,c,u,m,h;const f=(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.rpStockNumber)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null===(r=e.vehicle)||void 0===r||null===(a=r.make)||void 0===a?void 0:a.toLowerCase().includes(l.toLowerCase()))||(null===(s=e.vehicle)||void 0===s||null===(o=s.model)||void 0===o?void 0:o.toLowerCase().includes(l.toLowerCase()))||(null===(c=e.seller)||void 0===c||null===(u=c.name)||void 0===u?void 0:u.toLowerCase().includes(l.toLowerCase()))||(null===(m=e.buyer)||void 0===m||null===(h=m.name)||void 0===h?void 0:h.toLowerCase().includes(l.toLowerCase())),x="all"===i||e.status===i,g="all"===d||e.dealType===d;let b=!0;if("all"!==p){const t=new Date(e.createdAt||e.dateCreated),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(p){case"today":b=t>=r;break;case"week":b=t>=new Date(r.getTime()-6048e5);break;case"month":b=t>=new Date(r.getTime()-2592e6)}}return f&&x&&g&&b}).sort((e,t)=>{let n=e[h],r=t[h];var a,s,l,o,i,c,d,u,p,m;"vehicle"===h&&(n=`${null===(a=e.vehicle)||void 0===a?void 0:a.year} ${null===(s=e.vehicle)||void 0===s?void 0:s.make} ${null===(l=e.vehicle)||void 0===l?void 0:l.model}`,r=`${null===(o=t.vehicle)||void 0===o?void 0:o.year} ${null===(i=t.vehicle)||void 0===i?void 0:i.make} ${null===(c=t.vehicle)||void 0===c?void 0:c.model}`);"seller"===h&&(n=(null===(d=e.seller)||void 0===d?void 0:d.name)||"",r=(null===(u=t.seller)||void 0===u?void 0:u.name)||"");"buyer"===h&&(n=(null===(p=e.buyer)||void 0===p?void 0:p.name)||"",r=(null===(m=t.buyer)||void 0===m?void 0:m.name)||"");return"createdAt"!==h&&"dateCreated"!==h||(n=new Date(n),r=new Date(r)),"asc"===x?n>r?1:-1:n<r?1:-1}),E=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A";return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,qe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,qe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,qe.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,qe.jsx)(Pe,{className:"h-5 w-5 text-white"})}),(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25",children:(0,qe.jsx)(Be,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-xl font-bold text-white",children:"All Deals"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Complete deal management and oversight"})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>D(),disabled:r,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 "+(r?"animate-spin":"")}),"Refresh"]}),(0,qe.jsxs)("button",{onClick:()=>window.location.href="/deals/new",className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})]})})}),(0,qe.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Deals"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:k.total})]}),(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-blue-400"})})]})}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Deals"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-green-400",children:k.active})]}),(0,qe.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3",children:(0,qe.jsx)(Ve,{className:"h-6 w-6 text-green-400"})})]})}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Completed"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:k.completed})]}),(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,qe.jsx)(sc,{className:"h-6 w-6 text-blue-400"})})]})}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:k.pending})]}),(0,qe.jsx)("div",{className:"bg-yellow-500/20 rounded-lg p-3",children:(0,qe.jsx)(Le,{className:"h-6 w-6 text-yellow-400"})})]})})]}),(0,qe.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h2",{className:"text-lg font-bold text-white",children:"Filters & Search"}),(0,qe.jsxs)("button",{onClick:()=>w(!v),className:"flex items-center px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:[(0,qe.jsx)(Mc,{className:"h-4 w-4 mr-2"}),v?"Hide":"Show"," Filters"]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search deals...",value:l,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,qe.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"all",children:"All Status"}),(0,qe.jsx)("option",{value:"active",children:"Active"}),(0,qe.jsx)("option",{value:"pending",children:"Pending"}),(0,qe.jsx)("option",{value:"completed",children:"Completed"}),(0,qe.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,qe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"all",children:"All Types"}),(0,qe.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,qe.jsx)("option",{value:"wholesale-private",children:"Wholesale Private"}),(0,qe.jsx)("option",{value:"wholesale-flip",children:"Wholesale Flip"}),(0,qe.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,qe.jsx)("option",{value:"retail-d2d",children:"Retail D2D"}),(0,qe.jsx)("option",{value:"retail-auction",children:"Retail Auction"}),(0,qe.jsx)("option",{value:"retail-dtod",children:"Retail D2D"})]}),(0,qe.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"all",children:"All Time"}),(0,qe.jsx)("option",{value:"today",children:"Today"}),(0,qe.jsx)("option",{value:"week",children:"This Week"}),(0,qe.jsx)("option",{value:"month",children:"This Month"})]})]}),v&&(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort By"}),(0,qe.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"createdAt",children:"Created Date"}),(0,qe.jsx)("option",{value:"vehicle",children:"Vehicle"}),(0,qe.jsx)("option",{value:"seller",children:"Seller"}),(0,qe.jsx)("option",{value:"buyer",children:"Buyer"}),(0,qe.jsx)("option",{value:"status",children:"Status"}),(0,qe.jsx)("option",{value:"dealType",children:"Deal Type"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort Order"}),(0,qe.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"desc",children:"Newest First"}),(0,qe.jsx)("option",{value:"asc",children:"Oldest First"})]})]}),(0,qe.jsx)("div",{className:"flex items-end",children:(0,qe.jsxs)("div",{className:"text-gray-300 text-sm",children:[T.length," of ",t.length," deals"]})})]})]}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:r?(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(xc,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Loading deals..."})]}):(0,qe.jsxs)("div",{className:"overflow-x-auto",children:[(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:(0,qe.jsx)("input",{type:"checkbox",checked:b.length===T.length&&T.length>0,onChange:()=>{b.length===T.length?y([]):y(T.map(e=>e._id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Info"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Parties"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-white/10",children:T.map(e=>{var t,n,r,a,s,l,o,i,c,d;return(0,qe.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("input",{type:"checkbox",checked:b.includes(e._id),onChange:()=>{return t=e._id,void y(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"text-sm font-medium text-white",children:[null===(t=e.vehicle)||void 0===t?void 0:t.year," ",null===(n=e.vehicle)||void 0===n?void 0:n.make," ",null===(r=e.vehicle)||void 0===r?void 0:r.model]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["VIN: ",e.vin]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock: ",e.rpStockNumber||"N/A"]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d=e.dealType,{"wholesale-d2d":"bg-purple-100 text-purple-800 border-purple-200","wholesale-private":"bg-indigo-100 text-indigo-800 border-indigo-200","wholesale-flip":"bg-pink-100 text-pink-800 border-pink-200","retail-pp":"bg-orange-100 text-orange-800 border-orange-200","retail-d2d":"bg-cyan-100 text-cyan-800 border-cyan-200","retail-auction":"bg-teal-100 text-teal-800 border-teal-200","retail-dtod":"bg-cyan-100 text-cyan-800 border-cyan-200"}[d]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.dealType}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[E(null===(a=e.financials)||void 0===a?void 0:a.purchasePrice)," \u2192 ",E(null===(s=e.financials)||void 0===s?void 0:s.salePrice)]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,qe.jsx)(at,{className:"h-3 w-3 inline mr-1"}),(null===(l=e.seller)||void 0===l?void 0:l.name)||"N/A"]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,qe.jsx)(Rc,{className:"h-3 w-3 inline mr-1"}),(null===(o=e.buyer)||void 0===o?void 0:o.name)||"N/A"]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c=e.status,{active:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-blue-100 text-blue-800 border-blue-200",cancelled:"bg-red-100 text-red-800 border-red-200"}[c]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.status})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:(i=e.createdAt||e.dateCreated,i?new Date(i).toLocaleDateString():"N/A")}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}`,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"View Details",children:(0,qe.jsx)(Ae,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/edit`,className:"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors",title:"Edit Deal",children:(0,qe.jsx)(Ac,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/documents`,className:"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-colors",title:"Documents",children:(0,qe.jsx)(Be,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===T.length&&(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(Pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"No deals found"})]})]})}),b.length>0&&(0,qe.jsx)("div",{className:"fixed bottom-6 right-6 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 p-4 shadow-lg",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("span",{className:"text-white text-sm",children:[b.length," deal(s) selected"]}),(0,qe.jsx)("button",{className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"Export Selected"}),(0,qe.jsx)("button",{className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors",children:"Bulk Update"})]})})]})]})},Oc=()=>{var e;const{user:t,getAuthHeaders:n}=Qe(),r=te(),[a,l]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)("All Status"),[m,h]=(0,s.useState)("All Vendors"),[f,x]=(0,s.useState)(1),[g]=(0,s.useState)(5),b=[{id:"W-07-010",vehicle:{year:"2024",make:"Cadillac",model:"Escalade ESV",vin:"1GYS4RKL2RR116683",type:"Big SUV"},status:"Provide Quote",type:"Delivery to RP",location:{city:"San Antonio, TX",address:"9711 Plymouth Rd"},requestedDate:"Jul 29",contact:{name:"Prestige",phone:"(210) 900-2014",email:"Brennan Sauer"},quotes:[{vendor:"NTS Best",price:"$925"},{vendor:"Formula",price:"Pending"}]},{id:"W-07-009",vehicle:{year:"2024",make:"Mercedes-Benz",model:"GLS 450",vin:"4JGFF5KEXRB221729",type:"Open Transport"},status:"Provide Quote",type:"Delivery to RP",location:{city:"New Rochelle, NY",address:"77 E Main St"},requestedDate:"Jul 28",contact:{name:"Unassigned",phone:"Contact TBD",email:"Adiana Palic"},quotes:[{vendor:"NTS",price:"Pending"},{vendor:"Formula Best",price:"$1,100"}]},{id:"W-07-002",vehicle:{year:"2025",make:"BMW",model:"M5",vin:"WBS83FK06SCT42170",type:"Sedan"},status:"Delivered",type:"Delivery to RP",location:{city:"San Antonio, TX",address:"9711 Plymouth Rd"},requestedDate:"Jul 21",contact:{name:"Prestige",phone:"(210) 900-2014",email:"Brennan Sauer"},quotes:[{vendor:"NTS Best",price:"$850"},{vendor:"Formula",price:null}]},{id:"W-06-002",vehicle:{year:"2018",make:"Mercedes-Benz",model:"E 63 S",vin:"WDDZH8KB6JA473612",type:"Best Value"},status:"Provide Quote",type:"Delivery to RP",location:{city:"Bonita Springs, FL",address:"28701 Trails Edge Blvd"},requestedDate:"Jun 25",contact:{name:"Adam",phone:"(239) 530-8212",email:"Brennan Sauer"},quotes:[{vendor:"NTS",price:"$1,575"},{vendor:"Formula Best",price:"$1,200"}]},{id:"W-07-007",vehicle:{year:"2018",make:"Mercedes-Benz",model:"GLE 43 Coupe",vin:"4JGED6EB1JA094632",type:"Open Transport"},status:"In Transit",type:"Delivery to RP",location:{city:"Boerne, TX",address:"31805 IH 10 W"},requestedDate:"Jul 25",contact:{name:"Brian",phone:"(210) 233-6700",email:"Adiana Palic"},quotes:[{vendor:"NTS Best",price:"$875"},{vendor:"Formula",price:null}]}];(0,s.useEffect)(()=>{setTimeout(()=>{l(b),i(!1)},1e3)},[]);const y=e=>{switch(e){case"Delivered":return"bg-green-500 text-white";case"In Transit":return"bg-blue-500 text-white";case"Provide Quote":return"bg-orange-500 text-white";default:return"bg-gray-500 text-white"}},v=e=>{switch(e){case"Delivered":return(0,qe.jsx)(Ve,{className:"h-4 w-4"});case"In Transit":return(0,qe.jsx)(Oe,{className:"h-4 w-4"});case"Provide Quote":return(0,qe.jsx)(Ze,{className:"h-4 w-4"});default:return(0,qe.jsx)(Le,{className:"h-4 w-4"})}},w=a.filter(e=>{const t=e.id.toLowerCase().includes(c.toLowerCase())||e.vehicle.vin.toLowerCase().includes(c.toLowerCase())||e.vehicle.make.toLowerCase().includes(c.toLowerCase())||e.vehicle.model.toLowerCase().includes(c.toLowerCase()),n="All Status"===u||e.status===u,r="All Vendors"===m||e.quotes.some(e=>e.vendor.includes(m));return t&&n&&r}),N=Math.ceil(w.length/g),j=(f-1)*g,k=j+g,S=w.slice(j,k),D=a.filter(e=>"Delivered"!==e.status).length,T=a.filter(e=>"Provide Quote"===e.status).length;return(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,qe.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>r("/"),className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Back to Dashboard",children:(0,qe.jsx)(ct,{className:"h-5 w-5"})}),(0,qe.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,qe.jsx)(Oe,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-2xl font-bold",children:"Transport Management"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Vehicle Transportation & Logistics"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("button",{onClick:()=>r("/transport/new"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"New Transport"})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("p",{className:"font-medium",children:(null===t||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.displayName)||"User"}),(0,qe.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:(null===t||void 0===t?void 0:t.role)||"User"})]})]})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Transports"}),(0,qe.jsx)("p",{className:"text-3xl font-bold",children:D})]}),(0,qe.jsx)("div",{className:"bg-blue-500 p-3 rounded-lg",children:(0,qe.jsx)(Oe,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"mt-4 flex items-center text-green-400 text-sm",children:[(0,qe.jsx)("span",{className:"bg-green-500/20 px-2 py-1 rounded text-xs",children:"+3"}),(0,qe.jsx)("span",{className:"ml-2",children:"from last week"})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending Quotes"}),(0,qe.jsx)("p",{className:"text-3xl font-bold",children:T})]}),(0,qe.jsx)("div",{className:"bg-orange-500 p-3 rounded-lg",children:(0,qe.jsx)(Le,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"mt-4 flex items-center text-red-400 text-sm",children:[(0,qe.jsx)("span",{className:"bg-red-500/20 px-2 py-1 rounded text-xs",children:"-2"}),(0,qe.jsx)("span",{className:"ml-2",children:"from yesterday"})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Monthly Costs"}),(0,qe.jsx)("p",{className:"text-3xl font-bold",children:"$18.2K"})]}),(0,qe.jsx)("div",{className:"bg-green-500 p-3 rounded-lg",children:(0,qe.jsx)(Fe,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"mt-4 flex items-center text-green-400 text-sm",children:[(0,qe.jsx)("span",{className:"bg-green-500/20 px-2 py-1 rounded text-xs",children:"+12%"}),(0,qe.jsx)("span",{className:"ml-2",children:"vs last month"})]})]})]}),(0,qe.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:(0,qe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,qe.jsxs)("div",{className:"flex-1 relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search by VIN, transport ID, or vehicle...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})]}),(0,qe.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,qe.jsx)("option",{children:"All Status"}),(0,qe.jsx)("option",{children:"Provide Quote"}),(0,qe.jsx)("option",{children:"In Transit"}),(0,qe.jsx)("option",{children:"Delivered"})]}),(0,qe.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,qe.jsx)("option",{children:"All Vendors"}),(0,qe.jsx)("option",{children:"NTS"}),(0,qe.jsx)("option",{children:"Formula"})]}),(0,qe.jsxs)("button",{className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(Mc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Advanced Filters"})]}),(0,qe.jsxs)("button",{className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,qe.jsx)(pc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Export"})]})]})}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[(0,qe.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold",children:"Transport Bookings"}),(0,qe.jsxs)("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm",children:[D," Active"]})]})}),o?(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,qe.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading transport bookings..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-gray-700",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Transport ID"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle Details"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Type & Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Location & Date"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contact"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Quotes"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:S.map(e=>(0,qe.jsxs)("tr",{className:"hover:bg-gray-700 transition-colors",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("span",{className:"font-medium text-blue-400",children:e.id})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"font-medium",children:[e.vehicle.year," ",e.vehicle.make," ",e.vehicle.model]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["VIN: ",e.vehicle.vin]}),(0,qe.jsx)("div",{className:"text-sm text-gray-400",children:e.vehicle.type})]})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y(e.status)}`,children:[v(e.status),(0,qe.jsx)("span",{className:"ml-1",children:e.status})]}),(0,qe.jsx)("div",{className:"text-sm text-gray-400",children:e.type})]})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsxs)("div",{className:"space-y-1",children:[(0,qe.jsxs)("div",{className:"flex items-center text-sm",children:[(0,qe.jsx)(ot,{className:"h-4 w-4 text-gray-400 mr-1"}),e.location.city]}),(0,qe.jsx)("div",{className:"text-sm text-gray-400",children:e.location.address}),(0,qe.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,qe.jsx)(tt,{className:"h-4 w-4 mr-1"}),"Requested: ",e.requestedDate]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsxs)("div",{className:"space-y-1",children:[(0,qe.jsx)("div",{className:"font-medium",children:e.contact.name}),(0,qe.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,qe.jsx)(st,{className:"h-4 w-4 mr-1"}),e.contact.phone]}),(0,qe.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,qe.jsx)(lt,{className:"h-4 w-4 mr-1"}),e.contact.email]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsx)("div",{className:"space-y-2",children:e.quotes.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-sm font-medium",children:e.vendor}),(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:e.price||(0,qe.jsx)(_e,{className:"h-4 w-4"})})]},t))})}),(0,qe.jsx)("td",{className:"px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsx)("button",{className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm transition-colors",children:"Details"}),"Provide Quote"===e.status&&(0,qe.jsx)("button",{className:"px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded text-sm transition-colors",children:"Accept"})]})})]},e.id))})]})}),(0,qe.jsxs)("div",{className:"px-6 py-4 border-t border-gray-700 flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",j+1," to ",Math.min(k,w.length)," of ",w.length," transport bookings"]}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>x(Math.max(1,f-1)),disabled:1===f,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors",children:"Previous"}),Array.from({length:N},(e,t)=>t+1).map(e=>(0,qe.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 rounded transition-colors "+(f===e?"bg-blue-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"),children:e},e)),(0,qe.jsx)("button",{onClick:()=>x(Math.min(N,f+1)),disabled:f===N,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors",children:"Next"})]})]})]})]})]})]})},Fc=()=>{const{user:e,getAuthHeaders:t}=Qe(),n=te(),[r,a]=(0,s.useState)(!1),[l,o]=(0,s.useState)({vehicleYear:"",vehicleMake:"",vehicleModel:"",vehicleVin:"",vehicleType:"",transportType:"Delivery to RP",shippingMethod:"",status:"Provide Quote",originCity:"",originAddress:"",destinationCity:"",destinationAddress:"",requestedDate:"",contactName:"",contactPhone:"",contactEmail:"",notes:"",priority:"normal"}),[i,c]=(0,s.useState)({}),d=(e,t)=>{o(n=>({...n,[e]:t})),i[e]&&c(t=>({...t,[e]:null}))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";const o=i[t];return(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e," ",a&&(0,qe.jsx)("span",{className:"text-red-500",children:"*"})]}),"select"===n?(0,qe.jsxs)("select",{value:l[t],onChange:e=>d(t,e.target.value),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 "+(o?"border-red-500":"border-gray-600"),children:[(0,qe.jsxs)("option",{value:"",children:["Select ",e]}),null===r||void 0===r?void 0:r.map((e,t)=>(0,qe.jsx)("option",{value:e.value||e,children:e.label||e},t))]}):"textarea"===n?(0,qe.jsx)("textarea",{value:l[t],onChange:e=>d(t,e.target.value),placeholder:s,rows:3,className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 "+(o?"border-red-500":"border-gray-600")}):(0,qe.jsx)("input",{type:n,value:l[t],onChange:e=>d(t,e.target.value),placeholder:s,className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 "+(o?"border-red-500":"border-gray-600")}),o&&(0,qe.jsxs)("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[(0,qe.jsx)(Ze,{className:"h-4 w-4 mr-1"}),o]})]})};return(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,qe.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>n("/transport"),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,qe.jsx)(ct,{className:"h-5 w-5"})}),(0,qe.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,qe.jsx)(Oe,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-2xl font-bold",children:"New Transport Booking"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Create a new vehicle transport request"})]})]})})}),(0,qe.jsx)("div",{className:"p-6 max-w-4xl mx-auto",children:(0,qe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return l.vehicleYear||(e.vehicleYear="Vehicle year is required"),l.vehicleMake||(e.vehicleMake="Vehicle make is required"),l.vehicleModel||(e.vehicleModel="Vehicle model is required"),l.vehicleVin||(e.vehicleVin="VIN is required"),l.originCity||(e.originCity="Origin city is required"),l.originAddress||(e.originAddress="Origin address is required"),l.requestedDate||(e.requestedDate="Requested date is required"),l.contactName||(e.contactName="Contact name is required"),l.contactPhone||(e.contactPhone="Contact phone is required"),l.vehicleVin&&17!==l.vehicleVin.length&&(e.vehicleVin="VIN must be exactly 17 characters"),l.vehicleYear&&(l.vehicleYear<1900||l.vehicleYear>(new Date).getFullYear()+1)&&(e.vehicleYear="Please enter a valid year"),l.contactPhone&&!/^[\+]?[1-9][\d]{0,15}$/.test(l.contactPhone.replace(/[\s\-\(\)]/g,""))&&(e.contactPhone="Please enter a valid phone number"),l.contactEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.contactEmail)&&(e.contactEmail="Please enter a valid email address"),c(e),0===Object.keys(e).length})()){a(!0);try{const t=`W-${(new Date).getFullYear().toString().slice(-2)}-${String(Math.floor(999*Math.random())).padStart(3,"0")}`,r={...l,id:t,createdAt:(new Date).toISOString(),createdBy:(null===e||void 0===e?void 0:e.username)||"Unknown",quotes:[{vendor:"NTS",price:null},{vendor:"Formula",price:null}]};console.log("Transport data to be saved:",r),await new Promise(e=>setTimeout(e,1e3)),alert("Transport booking created successfully!"),n("/transport")}catch(r){console.error("Error creating transport:",r),alert("Error creating transport booking. Please try again.")}finally{a(!1)}}},className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(Pe,{className:"h-5 w-5 text-blue-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Vehicle Information"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u("Vehicle Year","vehicleYear","number",null,!0,"2024"),u("Vehicle Make","vehicleMake","text",null,!0,"BMW"),u("Vehicle Model","vehicleModel","text",null,!0,"M5"),u("VIN","vehicleVin","text",null,!0,"WBS83FK06SCT42170")]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[u("Vehicle Type","vehicleType","select",["Sedan","Coupe","SUV","Truck","Sports Car","Luxury Vehicle","Wagon","Hatchback","Convertible","Van","Motorcycle","Other"],!1),u("Transport Type","transportType","select",["Delivery to RP","Delivery from RP"],!1),u("Shipping Method","shippingMethod","select",["Open","Enclosed"],!1)]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(ot,{className:"h-5 w-5 text-green-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Location Information"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"Origin"}),(0,qe.jsxs)("div",{className:"space-y-4",children:[u("City","originCity","text",null,!0,"San Antonio, TX"),u("Address","originAddress","textarea",null,!0,"9711 Plymouth Rd")]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"Destination"}),(0,qe.jsxs)("div",{className:"space-y-4",children:[u("City","destinationCity","text",null,!1,"Saint Louis, MO"),u("Address","destinationAddress","textarea",null,!1,"1155 N Warson Rd")]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(at,{className:"h-5 w-5 text-purple-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Contact Information"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u("Contact Name","contactName","text",null,!0,"John Doe"),u("Phone","contactPhone","tel",null,!0,"(555) 123-4567"),u("Email","contactEmail","email",null,!1,"john@example.com")]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(tt,{className:"h-5 w-5 text-orange-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Transport Details"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u("Requested Date","requestedDate","date",null,!0),u("Priority","priority","select",[{value:"low",label:"Low Priority",color:"text-green-500"},{value:"normal",label:"Normal Priority",color:"text-yellow-500"},{value:"high",label:"High Priority",color:"text-red-500"},{value:"urgent",label:"Urgent",color:"text-red-600 font-bold"}],!1)]}),(0,qe.jsx)("div",{className:"mt-4",children:u("Notes","notes","textarea",null,!1,"Additional notes or special instructions...")})]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>n("/transport"),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,qe.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,qe.jsx)("span",{children:"Creating..."})]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(dt,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Create Transport"})]})})]})]})})]})},Uc=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Bc=Ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),$c=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),zc=Ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Vc=Ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Hc=Ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Wc=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Yc=Ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),qc=Ee("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),Gc=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Kc=Ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Qc=Ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),Jc=()=>{var e;const{user:t,getAuthHeaders:n}=Qe(),r=te(),[a,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)({backend:"online",database:"online",storage:"online",performance:"good"}),[c,d]=(0,s.useState)({documentGeneration:{averageTime:0,totalDocuments:0,browserReuses:0,cacheHits:0},apiResponse:{averageTime:0,totalRequests:0,errorRate:0},system:{memoryUsage:0,cpuUsage:0,diskUsage:0}}),[u,p]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[f,x]=(0,s.useState)("overview"),[g,b]=(0,s.useState)({development:{status:"online",lastDeploy:"2024-01-15T10:30:00Z",version:"v1.2.3-dev",environment:"development",url:"https://dev-opis-frontend.vercel.app"},staging:{status:"online",lastDeploy:"2024-01-14T12:00:00Z",version:"v1.2.3-staging",environment:"staging",url:"https://staging-opis-frontend.vercel.app"},production:{status:"online",lastDeploy:"2024-01-14T15:45:00Z",version:"v1.2.2",environment:"production",url:"https://opis-frontend-dw442ltxo-bigsauers-projects.vercel.app"}}),[y,v]=(0,s.useState)([]),[w,N]=(0,s.useState)(!1),[j,k]=(0,s.useState)({enhancedSignatures:{enabled:!0,environments:["development","staging"]},newDashboard:{enabled:!1,environments:["development"]},advancedReporting:{enabled:!1,environments:[]},betaFeatures:{enabled:!0,environments:["development","staging"]}}),[S,D]=(0,s.useState)({development:{status:"active",users:["clayton@rp-exotics.com","test@rp-exotics.com"],features:["enhancedSignatures","betaFeatures"],lastTest:"2024-01-15T09:00:00Z"},staging:{status:"active",users:["clayton@rp-exotics.com"],features:["enhancedSignatures"],lastTest:"2024-01-14T16:00:00Z"}});(0,s.useEffect)(()=>{(async()=>{try{l(!0);const e="https://astonishing-chicken-production.up.railway.app",t=await fetch(`${e}/api/it/deployment/status`,{credentials:"include",headers:n()});if(t.ok){const e=await t.json();b(e.data)}const r=await fetch(`${e}/api/it/deployment/history`,{credentials:"include",headers:n()});if(r.ok){const e=await r.json();v(e.data)}const a=await fetch(`${e}/api/stats/metrics`,{credentials:"include",headers:n()});if(a.ok){const e=await a.json();d(t=>{var n,r,a;return{...t,system:{memoryUsage:(null===(n=e.data.system)||void 0===n?void 0:n.memoryUsage)||45,cpuUsage:(null===(r=e.data.system)||void 0===r?void 0:r.cpuUsage)||25,diskUsage:(null===(a=e.data.system)||void 0===a?void 0:a.diskUsage)||60}}})}}catch(e){console.error("[IT PAGE] Error fetching data:",e)}finally{l(!1)}})()},[n]);const T=e=>{switch(e){case"online":case"completed":case"good":return"text-green-400";case"warning":case"pending":return"text-yellow-400";case"error":case"offline":case"critical":return"text-red-400";default:return"text-gray-400"}},E=e=>{switch(e){case"online":case"completed":case"good":return(0,qe.jsx)(Ve,{className:"h-4 w-4"});case"warning":case"pending":case"error":case"offline":case"critical":return(0,qe.jsx)(Uc,{className:"h-4 w-4"});default:return(0,qe.jsx)(Le,{className:"h-4 w-4"})}},C=e=>{switch(e){case"feature":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"bugfix":return"bg-red-500/20 text-red-400 border-red-500/30";case"improvement":return"bg-green-500/20 text-green-400 border-green-500/30";case"security":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},P=e=>{switch(e){case"info":return"text-blue-400";case"warn":return"text-yellow-400";case"error":return"text-red-400";case"debug":return"text-gray-400";default:return"text-white"}},_=async()=>{if(window.confirm("Are you sure you want to promote the current development version to staging? This will make it available for testing.")){N(!0);try{const e="https://astonishing-chicken-production.up.railway.app",r=await fetch(`${e}/api/it/promote`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({action:"promote",fromEnvironment:"development",toEnvironment:"staging",timestamp:(new Date).toISOString()})});if(!r.ok)throw new Error(`Failed to promote to staging: ${r.statusText}`);{const e=await r.json();console.log("[IT PAGE] Promotion to staging successful:",e),b(e=>({...e,staging:{...e.staging,status:"deploying",lastDeploy:(new Date).toISOString(),version:e.development.version.replace("-dev","-staging")}}));const n={id:Date.now(),environment:"staging",action:"promote",status:"in_progress",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown",fromVersion:g.development.version,toVersion:g.development.version.replace("-dev","-staging")};v(e=>[n,...e])}}catch(e){console.error("[IT PAGE] Promotion to staging error:",e),alert(`Promotion to staging failed: ${e.message}`)}finally{N(!1)}}},A=async()=>{if(window.confirm("Are you sure you want to promote the current staging version to production? This will affect live users.")){N(!0);try{const e="https://astonishing-chicken-production.up.railway.app",r=await fetch(`${e}/api/it/promote`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({action:"promote",fromEnvironment:"staging",toEnvironment:"production",timestamp:(new Date).toISOString()})});if(!r.ok)throw new Error(`Failed to promote to production: ${r.statusText}`);{const e=await r.json();console.log("[IT PAGE] Promotion to production successful:",e),b(e=>({...e,production:{...e.production,status:"deploying",lastDeploy:(new Date).toISOString(),version:e.staging.version.replace("-staging","")}}));const n={id:Date.now(),environment:"production",action:"promote",status:"in_progress",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown",fromVersion:g.staging.version,toVersion:g.staging.version.replace("-staging","")};v(e=>[n,...e])}}catch(e){console.error("[IT PAGE] Promotion to production error:",e),alert(`Promotion to production failed: ${e.message}`)}finally{N(!1)}}},L=async e=>{if(window.confirm(`Are you sure you want to rollback ${e} to the previous version?`)){N(!0);try{const r="https://astonishing-chicken-production.up.railway.app",a=await fetch(`${r}/api/it/rollback`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({environment:e,action:"rollback",timestamp:(new Date).toISOString()})});if(!a.ok)throw new Error(`Failed to rollback: ${a.statusText}`);{const n=await a.json();console.log(`[IT PAGE] Rollback successful for ${e}:`,n);const r={id:Date.now(),environment:e,action:"rollback",status:"completed",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown"};v(e=>[r,...e])}}catch(r){console.error("[IT PAGE] Rollback error:",r),alert(`Rollback failed: ${r.message}`)}finally{N(!1)}}},M=async(e,t)=>{try{const r="https://astonishing-chicken-production.up.railway.app";(await fetch(`${r}/api/it/feature-flags`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({feature:e,environment:t,action:"toggle",timestamp:(new Date).toISOString()})})).ok&&k(n=>({...n,[e]:{...n[e],environments:n[e].environments.includes(t)?n[e].environments.filter(e=>e!==t):[...n[e].environments,t]}}))}catch(r){console.error("[IT PAGE] Feature flag toggle error:",r)}},R=[{id:"overview",label:"Overview",icon:Re},{id:"deployment",label:"Deployment",icon:zc},{id:"updates",label:"Updates",icon:Hc},{id:"logs",label:"Logs",icon:Be},{id:"debugging",label:"Debugging",icon:qc}];return(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,qe.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>r("/"),className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Back to Dashboard",children:(0,qe.jsx)(ct,{className:"h-5 w-5"})}),(0,qe.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,qe.jsx)($e,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-2xl font-bold",children:"Clayton's IT Management"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Dedicated System Monitoring & Debugging"})]})]}),(0,qe.jsx)("div",{className:"flex items-center space-x-4",children:(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("p",{className:"font-medium",children:(null===t||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.displayName)||"User"}),(0,qe.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:(null===t||void 0===t?void 0:t.role)||"User"})]})})]})}),(0,qe.jsxs)("div",{className:"p-6",children:[(0,qe.jsx)("div",{className:"flex space-x-1 mb-6 bg-gray-800 rounded-lg p-1",children:R.map(e=>{const t=e.icon;return(0,qe.jsxs)("button",{onClick:()=>x(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors "+(f===e.id?"bg-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[(0,qe.jsx)(t,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:e.label})]},e.id)})}),a?(0,qe.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,qe.jsxs)("div",{children:["overview"===f&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-indigo-500/10 rounded-lg p-6 border border-purple-500/20",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,qe.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,qe.jsx)(Ce,{className:"h-5 w-5 text-white"})}),(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Welcome, Clayton!"})]}),(0,qe.jsx)("p",{className:"text-gray-300",children:"This is your dedicated IT Management dashboard. You have exclusive access to system monitoring, debugging tools, and performance metrics. Use this page to monitor system health, track updates, and troubleshoot any issues."})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(Re,{className:"h-5 w-5 text-blue-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"System Status"})]}),(0,qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o).map(e=>{let[t,n]=e;return(0,qe.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:t}),(0,qe.jsx)("p",{className:`font-medium ${T(n)}`,children:n})]}),(0,qe.jsx)("div",{className:T(n),children:E(n)})]})},t)})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"Document Generation"}),(0,qe.jsxs)("p",{className:"text-2xl font-bold",children:[c.documentGeneration.averageTime,"ms"]})]}),(0,qe.jsx)("div",{className:"bg-blue-500 p-3 rounded-lg",children:(0,qe.jsx)(Be,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Total Documents:"}),(0,qe.jsx)("span",{children:c.documentGeneration.totalDocuments})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Browser Reuses:"}),(0,qe.jsx)("span",{className:"text-green-400",children:c.documentGeneration.browserReuses})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Cache Hits:"}),(0,qe.jsx)("span",{className:"text-blue-400",children:c.documentGeneration.cacheHits})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"API Response Time"}),(0,qe.jsxs)("p",{className:"text-2xl font-bold",children:[c.apiResponse.averageTime,"ms"]})]}),(0,qe.jsx)("div",{className:"bg-green-500 p-3 rounded-lg",children:(0,qe.jsx)(He,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Total Requests:"}),(0,qe.jsx)("span",{children:c.apiResponse.totalRequests.toLocaleString()})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Error Rate:"}),(0,qe.jsxs)("span",{className:"text-red-400",children:[c.apiResponse.errorRate,"%"]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm",children:"System Resources"}),(0,qe.jsxs)("p",{className:"text-2xl font-bold",children:[c.system.memoryUsage,"%"]})]}),(0,qe.jsx)("div",{className:"bg-orange-500 p-3 rounded-lg",children:(0,qe.jsx)(Bc,{className:"h-6 w-6 text-white"})})]}),(0,qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"CPU Usage:"}),(0,qe.jsxs)("span",{children:[c.system.cpuUsage,"%"]})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Disk Usage:"}),(0,qe.jsxs)("span",{children:[c.system.diskUsage,"%"]})]})]})]})]})]}),"deployment"===f&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,qe.jsx)(zc,{className:"h-5 w-5 text-white"})}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Development"})]}),(0,qe.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(g.development.status)}`,children:g.development.status})]}),(0,qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,qe.jsx)("span",{className:"text-white font-mono",children:g.development.version})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Last Deploy:"}),(0,qe.jsx)("span",{className:"text-white",children:new Date(g.development.lastDeploy).toLocaleString()})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"URL:"}),(0,qe.jsx)("a",{href:g.development.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:(0,qe.jsx)(Vc,{className:"h-3 w-3 inline"})})]})]}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsxs)("button",{onClick:()=>(async e=>{N(!0);try{const r="https://astonishing-chicken-production.up.railway.app",a=await fetch(`${r}/api/it/deploy`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({environment:e,action:"deploy",timestamp:(new Date).toISOString()})});if(!a.ok)throw new Error(`Failed to trigger deployment: ${a.statusText}`);{const n=await a.json();console.log(`[IT PAGE] Deployment triggered for ${e}:`,n),b(t=>({...t,[e]:{...t[e],status:"deploying",lastDeploy:(new Date).toISOString()}}));const r={id:Date.now(),environment:e,action:"deploy",status:"in_progress",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown"};v(e=>[r,...e])}}catch(r){console.error("[IT PAGE] Deployment error:",r),alert(`Deployment failed: ${r.message}`)}finally{N(!1)}})("development"),disabled:w,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,qe.jsx)(xc,{className:"h-4 w-4 "+(w?"animate-spin":"")}),(0,qe.jsx)("span",{children:w?"Deploying...":"Deploy"})]}),(0,qe.jsx)("button",{onClick:()=>L("development"),disabled:w,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",title:"Rollback to previous version",children:(0,qe.jsx)(ct,{className:"h-4 w-4"})})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"bg-yellow-500 p-2 rounded-lg",children:(0,qe.jsx)(Hc,{className:"h-5 w-5 text-white"})}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Staging"})]}),(0,qe.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(g.staging.status)}`,children:g.staging.status})]}),(0,qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,qe.jsx)("span",{className:"text-white font-mono",children:g.staging.version})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Last Deploy:"}),(0,qe.jsx)("span",{className:"text-white",children:new Date(g.staging.lastDeploy).toLocaleString()})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"URL:"}),(0,qe.jsx)("a",{href:g.staging.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:(0,qe.jsx)(Vc,{className:"h-3 w-3 inline"})})]})]}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsxs)("button",{onClick:_,disabled:w||"deploying"===g.development.status,className:"flex-1 bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,qe.jsx)(Wc,{className:"h-4 w-4 "+(w?"animate-spin":"")}),(0,qe.jsx)("span",{children:w?"Promoting...":"Promote from Dev"})]}),(0,qe.jsx)("button",{onClick:()=>L("staging"),disabled:w,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",title:"Rollback to previous version",children:(0,qe.jsx)(ct,{className:"h-4 w-4"})})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,qe.jsx)(Yc,{className:"h-5 w-5 text-white"})}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Production"})]}),(0,qe.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(g.production.status)}`,children:g.production.status})]}),(0,qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,qe.jsx)("span",{className:"text-white font-mono",children:g.production.version})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"Last Deploy:"}),(0,qe.jsx)("span",{className:"text-white",children:new Date(g.production.lastDeploy).toLocaleString()})]}),(0,qe.jsxs)("div",{className:"flex justify-between",children:[(0,qe.jsx)("span",{className:"text-gray-400",children:"URL:"}),(0,qe.jsx)("a",{href:g.production.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:(0,qe.jsx)(Vc,{className:"h-3 w-3 inline"})})]})]}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsxs)("button",{onClick:A,disabled:w||"deploying"===g.staging.status,className:"flex-1 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,qe.jsx)(Wc,{className:"h-4 w-4 "+(w?"animate-spin":"")}),(0,qe.jsx)("span",{children:w?"Promoting...":"Promote from Staging"})]}),(0,qe.jsx)("button",{onClick:()=>L("production"),disabled:w,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",title:"Rollback to previous version",children:(0,qe.jsx)(ct,{className:"h-4 w-4"})})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Feature Flags"}),(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Control feature availability per environment"})]}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(j).map(e=>{let[t,n]=e;return(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qe.jsx)("h3",{className:"font-medium text-white capitalize",children:t.replace(/([A-Z])/g," $1").trim()}),(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(n.enabled?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:n.enabled?"Enabled":"Disabled"})]}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Development:"}),(0,qe.jsx)("button",{onClick:()=>M(t,"development"),className:"px-2 py-1 rounded text-xs font-medium transition-colors "+(n.environments.includes("development")?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:n.environments.includes("development")?"ON":"OFF"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Staging:"}),(0,qe.jsx)("button",{onClick:()=>M(t,"staging"),className:"px-2 py-1 rounded text-xs font-medium transition-colors "+(n.environments.includes("staging")?"bg-yellow-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:n.environments.includes("staging")?"ON":"OFF"})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Production:"}),(0,qe.jsx)("button",{onClick:()=>M(t,"production"),className:"px-2 py-1 rounded text-xs font-medium transition-colors "+(n.environments.includes("production")?"bg-green-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:n.environments.includes("production")?"ON":"OFF"})]})]})]},t)})})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Testing Environments"}),(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Current testing status and access"})]}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(S).map(e=>{let[t,n]=e;return(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qe.jsx)("h3",{className:"font-medium text-white capitalize",children:t}),(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===n.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:n.status})]}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Test Users:"}),(0,qe.jsx)("div",{className:"mt-1 space-y-1",children:n.users.map((e,t)=>(0,qe.jsx)("div",{className:"text-sm text-white bg-gray-600 px-2 py-1 rounded",children:e},t))})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:"Active Features:"}),(0,qe.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:n.features.map((e,t)=>(0,qe.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded",children:e},t))})]}),(0,qe.jsxs)("div",{className:"text-sm text-gray-400",children:["Last Test: ",new Date(n.lastTest).toLocaleString()]})]})]},t)})})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Deployment History"}),(0,qe.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(xc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Refresh"})]})]}),(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-gray-700",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Timestamp"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Environment"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Action"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"User"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Details"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-gray-700",children:y.map(e=>(0,qe.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:new Date(e.timestamp).toLocaleString()}),(0,qe.jsx)("td",{className:"px-4 py-3",children:(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("production"===e.environment?"bg-green-500/20 text-green-400":"staging"===e.environment?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"),children:e.environment})}),(0,qe.jsx)("td",{className:"px-4 py-3",children:(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("deploy"===e.action?"bg-blue-500/20 text-blue-400":"promote"===e.action?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"),children:e.action})}),(0,qe.jsx)("td",{className:"px-4 py-3",children:(0,qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})}),(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.user}),(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.fromVersion&&e.toVersion&&(0,qe.jsxs)("span",{children:[e.fromVersion," \u2192 ",e.toVersion]})})]},e.id))})]})}),0===y.length&&(0,qe.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,qe.jsx)(zc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,qe.jsx)("p",{children:"No deployment history available"})]})]})]}),"updates"===f&&(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"System Updates"}),(0,qe.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Add Update"})]})]}),(0,qe.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,qe.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,qe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,qe.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${C(e.type)}`,children:e.type}),(0,qe.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(e.status)}`,children:e.status}),(0,qe.jsx)("span",{className:"text-sm text-gray-400",children:e.date})]}),(0,qe.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,qe.jsx)("p",{className:"text-gray-300 mb-3",children:e.description}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,qe.jsxs)("span",{className:"text-gray-400",children:["Priority: ",(0,qe.jsx)("span",{className:"text-white",children:e.priority})]}),(0,qe.jsxs)("span",{className:"text-gray-400",children:["Impact: ",(0,qe.jsx)("span",{className:"text-white",children:e.impact})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,qe.jsx)(Ae,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,qe.jsx)(Ac,{className:"h-4 w-4"})})]})]})},e.id))})]}),"logs"===f&&(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"System Logs"}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(xc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Refresh"})]}),(0,qe.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(pc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Export"})]})]})]}),(0,qe.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-gray-700",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Timestamp"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Level"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Component"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Message"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"User"}),(0,qe.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-gray-700",children:m.map(e=>(0,qe.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.timestamp}),(0,qe.jsx)("td",{className:"px-4 py-3",children:(0,qe.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(e.level)}`,children:e.level.toUpperCase()})}),(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.component}),(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-white max-w-md truncate",children:e.message}),(0,qe.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.userId}),(0,qe.jsx)("td",{className:"px-4 py-3",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,qe.jsx)(Ae,{className:"h-3 w-3"})}),(0,qe.jsx)("button",{className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,qe.jsx)($c,{className:"h-3 w-3"})})]})})]},e.id))})]})})})]}),"debugging"===f&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(qc,{className:"h-5 w-5 text-red-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Debugging Tools"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h3",{className:"text-md font-medium text-gray-300",children:"System Diagnostics"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("button",{className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Run System Health Check"}),(0,qe.jsx)(Re,{className:"h-4 w-4"})]}),(0,qe.jsxs)("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Test Database Connection"}),(0,qe.jsx)(Gc,{className:"h-4 w-4"})]}),(0,qe.jsxs)("button",{className:"w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Check API Endpoints"}),(0,qe.jsx)(Yc,{className:"h-4 w-4"})]})]})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("h3",{className:"text-md font-medium text-gray-300",children:"Performance Tests"}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Test Document Generation"}),(0,qe.jsx)(Be,{className:"h-4 w-4"})]}),(0,qe.jsxs)("button",{className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Load Test API"}),(0,qe.jsx)(He,{className:"h-4 w-4"})]}),(0,qe.jsxs)("button",{className:"w-full bg-teal-500 hover:bg-teal-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,qe.jsx)("span",{children:"Memory Usage Analysis"}),(0,qe.jsx)(Kc,{className:"h-4 w-4"})]})]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,qe.jsx)(Qc,{className:"h-5 w-5 text-green-400"}),(0,qe.jsx)("h2",{className:"text-lg font-semibold",children:"Command Console"})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-600",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,qe.jsx)("span",{className:"text-green-400",children:"$"}),(0,qe.jsx)("input",{type:"text",placeholder:"Enter command...",className:"flex-1 bg-transparent text-white outline-none"})]}),(0,qe.jsx)("div",{className:"text-sm text-gray-400",children:"Available commands: health, logs, metrics, test, clear"})]}),(0,qe.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-600 min-h-[200px]",children:(0,qe.jsxs)("div",{className:"text-sm text-gray-300 font-mono",children:[(0,qe.jsx)("div",{className:"text-green-400",children:"$ health"}),(0,qe.jsx)("div",{className:"text-white",children:"System health check completed"}),(0,qe.jsx)("div",{className:"text-green-400",children:"\u2713 Backend: Online"}),(0,qe.jsx)("div",{className:"text-green-400",children:"\u2713 Database: Online"}),(0,qe.jsx)("div",{className:"text-green-400",children:"\u2713 Storage: Online"}),(0,qe.jsx)("div",{className:"text-yellow-400",children:"\u26a0 Memory usage: 72%"})]})})]})]})]})]})]})]})};const Xc=function(e){let{children:t}=e;const{user:n,loading:r}=Qe(),a=Z();return r?null:n?n.email&&"clayton@rpexotics.com"===n.email.toLowerCase()?t:(0,qe.jsx)(xe,{to:"/",replace:!0}):(0,qe.jsx)(xe,{to:"/login",state:{from:a},replace:!0})},Zc=()=>{var e,t,n;const{user:r,getAuthHeaders:a}=Qe(),[l,o]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),[v,w]=(0,s.useState)(null),[N,j]=(0,s.useState)({}),[k,S]=(0,s.useState)({name:"",description:"",type:"internal",entityId:"",entityType:"User",permissions:{signAgreements:!0,viewDocuments:!0,createSignatures:!0},expiresAt:""}),[D,T]=(0,s.useState)({users:[],dealers:[],deals:[]}),E="https://astonishing-chicken-production.up.railway.app",C=async()=>{try{c(!0),y(null);const e=await fetch(`${E}/api/apikeys`,{headers:a(),credentials:"include"});if(!e.ok)throw new Error("Failed to fetch API keys");const t=await e.json();o(t)}catch(b){console.error("Error fetching API keys:",b),y(b.message)}finally{c(!1)}};(0,s.useEffect)(()=>{C(),(async()=>{try{const e=await fetch(`${E}/api/users`,{headers:a(),credentials:"include"});if(e.ok){const t=await e.json();T(e=>({...e,users:t}))}const t=await fetch(`${E}/api/dealers`,{headers:a(),credentials:"include"});if(t.ok){const e=await t.json();T(t=>({...t,dealers:e}))}}catch(b){console.error("Error fetching entities:",b)}})()},[]);const P=e=>e.isActive?e.expiresAt&&new Date(e.expiresAt)<new Date?(0,qe.jsx)("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:"Expired"}):(0,qe.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Active"}):(0,qe.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full",children:"Inactive"}),_=e=>{switch(e){case"internal":case"customer":return(0,qe.jsx)(at,{className:"h-4 w-4"});case"dealer":return(0,qe.jsx)(Rc,{className:"h-4 w-4"});case"system":return(0,qe.jsx)(Be,{className:"h-4 w-4"});default:return(0,qe.jsx)(Ue,{className:"h-4 w-4"})}};return(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25",children:(0,qe.jsx)(Ue,{className:"h-6 w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-xl font-bold text-white",children:"API Key Management"}),(0,qe.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage digital signature API keys"})]})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsxs)("button",{onClick:()=>C(),disabled:i,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 "+(i?"animate-spin":"")}),"Refresh"]}),(0,qe.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,qe.jsx)(Me,{className:"h-4 w-4 mr-2"}),"New API Key"]})]})]})})}),(0,qe.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[b&&(0,qe.jsx)("div",{className:"mb-6 bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(mc,{className:"h-5 w-5 text-red-400 mr-2"}),(0,qe.jsx)("span",{className:"text-red-400",children:b})]})}),v&&(0,qe.jsx)("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)(Ve,{className:"h-5 w-5 text-green-400 mr-2"}),(0,qe.jsx)("span",{className:"text-green-400",children:v})]})}),(0,qe.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:i?(0,qe.jsxs)("div",{className:"p-8 text-center",children:[(0,qe.jsx)(xc,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Loading API keys..."})]}):(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,qe.jsxs)("tr",{children:[(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"API Key"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name & Type"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Entity"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usage"}),(0,qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,qe.jsx)("tbody",{className:"divide-y divide-white/10",children:l.map(e=>(0,qe.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("div",{className:"flex items-center space-x-2",children:(0,qe.jsx)("div",{className:"flex-1",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("span",{className:"text-sm font-mono text-gray-300",children:N[e._id]?e.key:`${e.key.substring(0,12)}...`}),(0,qe.jsx)("button",{onClick:()=>j(t=>({...t,[e._id]:!t[e._id]})),className:"text-gray-400 hover:text-white",children:N[e._id]?(0,qe.jsx)(lc,{className:"h-4 w-4"}):(0,qe.jsx)(Ae,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>{return t=e.key,navigator.clipboard.writeText(t),void w("API key copied to clipboard");var t},className:"text-gray-400 hover:text-white",children:(0,qe.jsx)($c,{className:"h-4 w-4"})})]})})})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[_(e.type),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,qe.jsx)("div",{className:"text-sm text-gray-400 capitalize",children:e.type})]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsx)("div",{className:"text-sm text-gray-300",children:e.entityId?(0,qe.jsxs)("span",{children:[e.entityId.name||e.entityId.firstName," ",e.entityId.lastName]}):(0,qe.jsx)("span",{className:"text-gray-500",children:"No entity"})})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:P(e)}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,qe.jsxs)("div",{children:["Used ",e.usageCount," times"]}),e.lastUsed&&(0,qe.jsxs)("div",{className:"text-xs text-gray-400",children:["Last: ",new Date(e.lastUsed).toLocaleDateString()]})]})}),(0,qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>{f(e),m(!0)},className:"text-blue-400 hover:text-blue-300",children:(0,qe.jsx)(Ac,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to regenerate this API key? The old key will no longer work."))try{const t=await fetch(`${E}/api/apikeys/${e}/regenerate`,{method:"POST",headers:a()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to regenerate API key")}w("API key regenerated successfully"),C()}catch(b){console.error("Error regenerating API key:",b),y(b.message)}})(e._id),className:"text-yellow-400 hover:text-yellow-300",children:(0,qe.jsx)(xc,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this API key? This action cannot be undone."))try{const t=await fetch(`${E}/api/apikeys/${e}`,{method:"DELETE",headers:a()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete API key")}w("API key deleted successfully"),C()}catch(b){console.error("Error deleting API key:",b),y(b.message)}})(e._id),className:"text-red-400 hover:text-red-300",children:(0,qe.jsx)(dc,{className:"h-4 w-4"})})]})})]},e._id))})]})})})]}),d&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create New API Key"}),(0,qe.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white",children:(0,qe.jsx)(mc,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,qe.jsx)("input",{type:"text",value:k.name,onChange:e=>S(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter API key name"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,qe.jsx)("textarea",{value:k.description,onChange:e=>S(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter description",rows:3})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),(0,qe.jsxs)("select",{value:k.type,onChange:e=>S(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"internal",children:"Internal"}),(0,qe.jsx)("option",{value:"customer",children:"Customer"}),(0,qe.jsx)("option",{value:"dealer",children:"Dealer"}),(0,qe.jsx)("option",{value:"system",children:"System"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entity Type"}),(0,qe.jsxs)("select",{value:k.entityType,onChange:e=>S(t=>({...t,entityType:e.target.value,entityId:""})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"User",children:"User"}),(0,qe.jsx)("option",{value:"Dealer",children:"Dealer"}),(0,qe.jsx)("option",{value:"Deal",children:"Deal"})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entity"}),(0,qe.jsxs)("select",{value:k.entityId,onChange:e=>S(t=>({...t,entityId:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,qe.jsx)("option",{value:"",children:"Select entity"}),(e=>{switch(e){case"User":return D.users.map(e=>({value:e._id,label:`${e.firstName} ${e.lastName} (${e.email})`}));case"Dealer":return D.dealers.map(e=>({value:e._id,label:`${e.name} (${e.email||"No email"})`}));case"Deal":return D.deals.map(e=>({value:e._id,label:`${e.vehicle} (${e.stockNumber})`}));default:return[]}})(k.entityType).map(e=>(0,qe.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expires At (Optional)"}),(0,qe.jsx)("input",{type:"datetime-local",value:k.expiresAt,onChange:e=>S(t=>({...t,expiresAt:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Permissions"}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:k.permissions.signAgreements,onChange:e=>S(t=>({...t,permissions:{...t.permissions,signAgreements:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Sign Agreements"})]}),(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:k.permissions.viewDocuments,onChange:e=>S(t=>({...t,permissions:{...t.permissions,viewDocuments:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"View Documents"})]}),(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:k.permissions.createSignatures,onChange:e=>S(t=>({...t,permissions:{...t.permissions,createSignatures:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Create Signatures"})]})]})]})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,qe.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:async()=>{try{g(!0),y(null);const e=await fetch(`${E}/api/apikeys`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(k)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to create API key")}await e.json();w("API key created successfully"),u(!1),S({name:"",description:"",type:"internal",entityId:"",entityType:"User",permissions:{signAgreements:!0,viewDocuments:!0,createSignatures:!0},expiresAt:""}),C()}catch(b){console.error("Error creating API key:",b),y(b.message)}finally{g(!1)}},disabled:x||!k.name||!k.entityId,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[x?(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(Me,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})]})}),p&&h&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit API Key"}),(0,qe.jsx)("button",{onClick:()=>{m(!1),f(null)},className:"text-gray-400 hover:text-white",children:(0,qe.jsx)(mc,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,qe.jsx)("input",{type:"text",value:h.name||"",onChange:e=>f(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,qe.jsx)("textarea",{value:h.description||"",onChange:e=>f(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expires At (Optional)"}),(0,qe.jsx)("input",{type:"datetime-local",value:h.expiresAt?new Date(h.expiresAt).toISOString().slice(0,16):"",onChange:e=>f(t=>({...t,expiresAt:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Permissions"}),(0,qe.jsxs)("div",{className:"space-y-2",children:[(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:(null===(e=h.permissions)||void 0===e?void 0:e.signAgreements)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,signAgreements:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Sign Agreements"})]}),(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:(null===(t=h.permissions)||void 0===t?void 0:t.viewDocuments)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,viewDocuments:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"View Documents"})]}),(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:(null===(n=h.permissions)||void 0===n?void 0:n.createSignatures)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,createSignatures:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Create Signatures"})]})]})]}),(0,qe.jsx)("div",{children:(0,qe.jsxs)("label",{className:"flex items-center",children:[(0,qe.jsx)("input",{type:"checkbox",checked:h.isActive,onChange:e=>f(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,qe.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Active"})]})})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,qe.jsx)("button",{onClick:()=>{m(!1),f(null)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,qe.jsxs)("button",{onClick:async()=>{try{g(!0),y(null);const e=await fetch(`${E}/api/apikeys/${h._id}`,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(h)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to update API key")}w("API key updated successfully"),m(!1),f(null),C()}catch(b){console.error("Error updating API key:",b),y(b.message)}finally{g(!1)}},disabled:x||!h.name,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[x?(0,qe.jsx)(xc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,qe.jsx)(Ac,{className:"h-4 w-4 mr-2"}),"Update API Key"]})]})]})})]})};function ed(e,t){return function(){return e.apply(t,arguments)}}const{toString:td}=Object.prototype,{getPrototypeOf:nd}=Object,{iterator:rd,toStringTag:ad}=Symbol,sd=(ld=Object.create(null),e=>{const t=td.call(e);return ld[t]||(ld[t]=t.slice(8,-1).toLowerCase())});var ld;const od=e=>(e=e.toLowerCase(),t=>sd(t)===e),id=e=>t=>typeof t===e,{isArray:cd}=Array,dd=id("undefined");const ud=od("ArrayBuffer");const pd=id("string"),md=id("function"),hd=id("number"),fd=e=>null!==e&&"object"===typeof e,xd=e=>{if("object"!==sd(e))return!1;const t=nd(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ad in e)&&!(rd in e)},gd=od("Date"),bd=od("File"),yd=od("Blob"),vd=od("FileList"),wd=od("URLSearchParams"),[Nd,jd,kd,Sd]=["ReadableStream","Request","Response","Headers"].map(od);function Dd(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),cd(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function Td(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Ed="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Cd=e=>!dd(e)&&e!==Ed;const Pd=(_d="undefined"!==typeof Uint8Array&&nd(Uint8Array),e=>_d&&e instanceof _d);var _d;const Ad=od("HTMLFormElement"),Ld=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Md=od("RegExp"),Rd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Dd(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const Id=od("AsyncFunction"),Od=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Ed.addEventListener("message",e=>{let{source:t,data:a}=e;t===Ed&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Ed.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,md(Ed.postMessage)),Fd="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ed):"undefined"!==typeof process&&process.nextTick||Od,Ud={isArray:cd,isArrayBuffer:ud,isBuffer:function(e){return null!==e&&!dd(e)&&null!==e.constructor&&!dd(e.constructor)&&md(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||md(e.append)&&("formdata"===(t=sd(e))||"object"===t&&md(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ud(e.buffer),t},isString:pd,isNumber:hd,isBoolean:e=>!0===e||!1===e,isObject:fd,isPlainObject:xd,isReadableStream:Nd,isRequest:jd,isResponse:kd,isHeaders:Sd,isUndefined:dd,isDate:gd,isFile:bd,isBlob:yd,isRegExp:Md,isFunction:md,isStream:e=>fd(e)&&md(e.pipe),isURLSearchParams:wd,isTypedArray:Pd,isFileList:vd,forEach:Dd,merge:function e(){const{caseless:t}=Cd(this)&&this||{},n={},r=(r,a)=>{const s=t&&Td(n,a)||a;xd(n[s])&&xd(r)?n[s]=e(n[s],r):xd(r)?n[s]=e({},r):cd(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Dd(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Dd(t,(t,r)=>{n&&md(t)?e[r]=ed(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==n&&nd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sd,kindOfTest:od,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(cd(e))return e;let t=e.length;if(!hd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[rd]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ad,hasOwnProperty:Ld,hasOwnProp:Ld,reduceDescriptors:Rd,freezeMethods:e=>{Rd(e,(t,n)=>{if(md(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];md(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return cd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Td,global:Ed,isContextDefined:Cd,isSpecCompliantForm:function(e){return!!(e&&md(e.append)&&"FormData"===e[ad]&&e[rd])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(fd(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=cd(e)?[]:{};return Dd(e,(e,t)=>{const s=n(e,r+1);!dd(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Id,isThenable:e=>e&&(fd(e)||md(e))&&md(e.then)&&md(e.catch),setImmediate:Od,asap:Fd,isIterable:e=>null!=e&&md(e[rd])};function Bd(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Ud.inherits(Bd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ud.toJSONObject(this.config),code:this.code,status:this.status}}});const $d=Bd.prototype,zd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zd[e]={value:e}}),Object.defineProperties(Bd,zd),Object.defineProperty($d,"isAxiosError",{value:!0}),Bd.from=(e,t,n,r,a,s)=>{const l=Object.create($d);return Ud.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Bd.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Vd=Bd;function Hd(e){return Ud.isPlainObject(e)||Ud.isArray(e)}function Wd(e){return Ud.endsWith(e,"[]")?e.slice(0,-2):e}function Yd(e,t,n){return e?e.concat(t).map(function(e,t){return e=Wd(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const qd=Ud.toFlatObject(Ud,{},null,function(e){return/^is[A-Z]/.test(e)});const Gd=function(e,t,n){if(!Ud.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ud.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ud.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ud.isSpecCompliantForm(t);if(!Ud.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Ud.isDate(e))return e.toISOString();if(Ud.isBoolean(e))return e.toString();if(!o&&Ud.isBlob(e))throw new Vd("Blob is not supported. Use a Buffer instead.");return Ud.isArrayBuffer(e)||Ud.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(Ud.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ud.isArray(e)&&function(e){return Ud.isArray(e)&&!e.some(Hd)}(e)||(Ud.isFileList(e)||Ud.endsWith(n,"[]"))&&(o=Ud.toArray(e)))return n=Wd(n),o.forEach(function(e,r){!Ud.isUndefined(e)&&null!==e&&t.append(!0===l?Yd([n],r,s):null===l?n:n+"[]",i(e))}),!1;return!!Hd(e)||(t.append(Yd(a,n,s),i(e)),!1)}const d=[],u=Object.assign(qd,{defaultVisitor:c,convertValue:i,isVisitable:Hd});if(!Ud.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ud.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Ud.forEach(n,function(n,s){!0===(!(Ud.isUndefined(n)||null===n)&&a.call(t,n,Ud.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function Kd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Qd(e,t){this._pairs=[],e&&Gd(e,this,t)}const Jd=Qd.prototype;Jd.append=function(e,t){this._pairs.push([e,t])},Jd.toString=function(e){const t=e?function(t){return e.call(this,t,Kd)}:Kd;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Xd=Qd;function Zd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eu(e,t,n){if(!t)return e;const r=n&&n.encode||Zd;Ud.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Ud.isURLSearchParams(t)?t.toString():new Xd(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const tu=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ud.forEach(this.handlers,function(t){null!==t&&e(t)})}},nu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ru={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Xd,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},au="undefined"!==typeof window&&"undefined"!==typeof document,su="object"===typeof navigator&&navigator||void 0,lu=au&&(!su||["ReactNative","NativeScript","NS"].indexOf(su.product)<0),ou="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,iu=au&&window.location.href||"http://localhost",cu={...r,...ru};const du=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=a>=e.length;if(s=!s&&Ud.isArray(r)?r.length:s,o)return Ud.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&Ud.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Ud.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(Ud.isFormData(e)&&Ud.isFunction(e.entries)){const n={};return Ud.forEachEntry(e,(e,r)=>{t(function(e){return Ud.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const uu={transitional:nu,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Ud.isObject(e);a&&Ud.isHTMLForm(e)&&(e=new FormData(e));if(Ud.isFormData(e))return r?JSON.stringify(du(e)):e;if(Ud.isArrayBuffer(e)||Ud.isBuffer(e)||Ud.isStream(e)||Ud.isFile(e)||Ud.isBlob(e)||Ud.isReadableStream(e))return e;if(Ud.isArrayBufferView(e))return e.buffer;if(Ud.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Gd(e,new cu.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return cu.isNode&&Ud.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ud.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Gd(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ud.isString(e))try{return(t||JSON.parse)(e),Ud.trim(e)}catch(Ap){if("SyntaxError"!==Ap.name)throw Ap}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||uu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ud.isResponse(e)||Ud.isReadableStream(e))return e;if(e&&Ud.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Ap){if(n){if("SyntaxError"===Ap.name)throw Vd.from(Ap,Vd.ERR_BAD_RESPONSE,this,null,this.response);throw Ap}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cu.classes.FormData,Blob:cu.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ud.forEach(["delete","get","head","post","put","patch"],e=>{uu.headers[e]={}});const pu=uu,mu=Ud.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hu=Symbol("internals");function fu(e){return e&&String(e).trim().toLowerCase()}function xu(e){return!1===e||null==e?e:Ud.isArray(e)?e.map(xu):String(e)}function gu(e,t,n,r,a){return Ud.isFunction(r)?r.call(this,t,n):(a&&(t=n),Ud.isString(t)?Ud.isString(r)?-1!==t.indexOf(r):Ud.isRegExp(r)?r.test(t):void 0:void 0)}class bu{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=fu(t);if(!a)throw new Error("header name must be a non-empty string");const s=Ud.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=xu(e))}const s=(e,t)=>Ud.forEach(e,(e,n)=>a(e,n,t));if(Ud.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Ud.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&mu[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Ud.isObject(e)&&Ud.isIterable(e)){let n,r,a={};for(const t of e){if(!Ud.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Ud.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=fu(e)){const n=Ud.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ud.isFunction(t))return t.call(this,e,n);if(Ud.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=fu(e)){const n=Ud.findKey(this,e);return!(!n||void 0===this[n]||t&&!gu(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=fu(e)){const a=Ud.findKey(n,e);!a||t&&!gu(0,n[a],a,t)||(delete n[a],r=!0)}}return Ud.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!gu(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Ud.forEach(this,(r,a)=>{const s=Ud.findKey(n,a);if(s)return t[s]=xu(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=xu(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ud.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ud.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[hu]=this[hu]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=fu(e);t[r]||(!function(e,t){const n=Ud.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Ud.isArray(e)?e.forEach(r):r(e),this}}bu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ud.reduceDescriptors(bu.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Ud.freezeMethods(bu);const yu=bu;function vu(e,t){const n=this||pu,r=t||n,a=yu.from(r.headers);let s=r.data;return Ud.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function wu(e){return!(!e||!e.__CANCEL__)}function Nu(e,t,n){Vd.call(this,null==e?"canceled":e,Vd.ERR_CANCELED,t,n),this.name="CanceledError"}Ud.inherits(Nu,Vd,{__CANCEL__:!0});const ju=Nu;function ku(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Vd("Request failed with status code "+n.status,[Vd.ERR_BAD_REQUEST,Vd.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Su=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=r[l];a||(a=i),n[s]=o,r[s]=i;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-a<t)return;const p=c&&i-c;return p?Math.round(1e3*u/p):void 0}};const Du=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=s?l(i,e):(n=i,r||(r=setTimeout(()=>{r=null,l(n)},s-t)))},()=>n&&l(n)]},Tu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Su(50,250);return Du(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,o=s-r,i=a(o);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},Eu=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Cu=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ud.asap(()=>e(...n))},Pu=cu.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,cu.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(cu.origin),cu.navigator&&/(msie|trident)/i.test(cu.navigator.userAgent)):()=>!0,_u=cu.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const l=[e+"="+encodeURIComponent(t)];Ud.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Ud.isString(r)&&l.push("path="+r),Ud.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Au(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Lu=e=>e instanceof yu?{...e}:e;function Mu(e,t){t=t||{};const n={};function r(e,t,n,r){return Ud.isPlainObject(e)&&Ud.isPlainObject(t)?Ud.merge.call({caseless:r},e,t):Ud.isPlainObject(t)?Ud.merge({},t):Ud.isArray(t)?t.slice():t}function a(e,t,n,a){return Ud.isUndefined(t)?Ud.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Ud.isUndefined(t))return r(void 0,t)}function l(e,t){return Ud.isUndefined(t)?Ud.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,n)=>a(Lu(e),Lu(t),0,!0)};return Ud.forEach(Object.keys(Object.assign({},e,t)),function(r){const s=i[r]||a,l=s(e[r],t[r],r);Ud.isUndefined(l)&&s!==o||(n[r]=l)}),n}const Ru=e=>{const t=Mu({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:i}=t;if(t.headers=o=yu.from(o),t.url=eu(Au(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Ud.isFormData(r))if(cu.hasStandardBrowserEnv||cu.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(cu.hasStandardBrowserEnv&&(a&&Ud.isFunction(a)&&(a=a(t)),a||!1!==a&&Pu(t.url))){const e=s&&l&&_u.read(l);e&&o.set(s,e)}return t},Iu="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ru(e);let a=r.data;const s=yu.from(r.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;function x(){if(!f)return;const r=yu.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ku(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(n(new Vd("Request aborted",Vd.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Vd("Network Error",Vd.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||nu;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Vd(t,a.clarifyTimeoutError?Vd.ETIMEDOUT:Vd.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&Ud.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Ud.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),m&&([i,d]=Tu(m,!0),f.addEventListener("progress",i)),p&&f.upload&&([o,c]=Tu(p),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{f&&(n(!t||t.type?new ju(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===cu.protocols.indexOf(g)?n(new Vd("Unsupported protocol "+g+":",Vd.ERR_BAD_REQUEST,e)):f.send(a||null)})},Ou=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Vd?t:new ju(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Vd(`timeout ${t} of ms exceeded`,Vd.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>Ud.asap(l),o}},Fu=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Uu=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Bu=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of Uu(e))yield*Fu(n,t)}(e,t);let s,l=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},$u="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,zu=$u&&"function"===typeof ReadableStream,Vu=$u&&("function"===typeof TextEncoder?(Hu=new TextEncoder,e=>Hu.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Hu;const Wu=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ap){return!1}},Yu=zu&&Wu(()=>{let e=!1;const t=new Request(cu.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qu=zu&&Wu(()=>Ud.isReadableStream(new Response("").body)),Gu={stream:qu&&(e=>e.body)};var Ku;$u&&(Ku=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gu[e]&&(Gu[e]=Ud.isFunction(Ku[e])?t=>t[e]():(t,n)=>{throw new Vd(`Response type '${e}' is not supported`,Vd.ERR_NOT_SUPPORT,n)})}));const Qu=async(e,t)=>{const n=Ud.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ud.isBlob(e))return e.size;if(Ud.isSpecCompliantForm(e)){const t=new Request(cu.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ud.isArrayBufferView(e)||Ud.isArrayBuffer(e)?e.byteLength:(Ud.isURLSearchParams(e)&&(e+=""),Ud.isString(e)?(await Vu(e)).byteLength:void 0)})(t):n},Ju=$u&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:l,onDownloadProgress:o,onUploadProgress:i,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=Ru(e);c=c?(c+"").toLowerCase():"text";let m,h=Ou([a,s&&s.toAbortSignal()],l);const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let x;try{if(i&&Yu&&"get"!==n&&"head"!==n&&0!==(x=await Qu(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Ud.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Eu(x,Tu(Cu(i)));r=Bu(n.body,65536,e,t)}}Ud.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0});let s=await fetch(m,p);const l=qu&&("stream"===c||"response"===c);if(qu&&(o||l&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=Ud.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&Eu(t,Tu(Cu(o),!0))||[];s=new Response(Bu(s.body,65536,n,()=>{r&&r(),f&&f()}),e)}c=c||"text";let g=await Gu[Ud.findKey(Gu,c)||"text"](s,e);return!l&&f&&f(),await new Promise((t,n)=>{ku(t,n,{data:g,headers:yu.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:m})})}catch(g){if(f&&f(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Vd("Network Error",Vd.ERR_NETWORK,e,m),{cause:g.cause||g});throw Vd.from(g,g&&g.code,e,m)}}),Xu={http:null,xhr:Iu,fetch:Ju};Ud.forEach(Xu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ap){}Object.defineProperty(e,"adapterName",{value:t})}});const Zu=e=>`- ${e}`,ep=e=>Ud.isFunction(e)||null===e||!1===e,tp=e=>{e=Ud.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!ep(n)&&(r=Xu[(t=String(n)).toLowerCase()],void 0===r))throw new Vd(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Zu).join("\n"):" "+Zu(e[0]):"as no adapter specified";throw new Vd("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function np(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ju(null,e)}function rp(e){np(e),e.headers=yu.from(e.headers),e.data=vu.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tp(e.adapter||pu.adapter)(e).then(function(t){return np(e),t.data=vu.call(e,e.transformResponse,t),t.headers=yu.from(t.headers),t},function(t){return wu(t)||(np(e),t&&t.response&&(t.response.data=vu.call(e,e.transformResponse,t.response),t.response.headers=yu.from(t.response.headers))),Promise.reject(t)})}const ap="1.10.0",sp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lp={};sp.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ap+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Vd(r(a," has been removed"+(t?" in "+t:"")),Vd.ERR_DEPRECATED);return t&&!lp[a]&&(lp[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},sp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const op={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Vd("options must be an object",Vd.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new Vd("option "+s+" must be "+n,Vd.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Vd("Unknown option "+s,Vd.ERR_BAD_OPTION)}},validators:sp},ip=op.validators;class cp{constructor(e){this.defaults=e||{},this.interceptors={request:new tu,response:new tu}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ap){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Mu(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&op.assertOptions(n,{silentJSONParsing:ip.transitional(ip.boolean),forcedJSONParsing:ip.transitional(ip.boolean),clarifyTimeoutError:ip.transitional(ip.boolean)},!1),null!=r&&(Ud.isFunction(r)?t.paramsSerializer={serialize:r}:op.assertOptions(r,{encode:ip.function,serialize:ip.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),op.assertOptions(t,{baseUrl:ip.spelling("baseURL"),withXsrfToken:ip.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Ud.merge(a.common,a[t.method]);a&&Ud.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=yu.concat(s,a);const l=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[rp.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let p=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=rp.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return eu(Au((e=Mu(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ud.forEach(["delete","get","head","options"],function(e){cp.prototype[e]=function(t,n){return this.request(Mu(n||{},{method:e,url:t,data:(n||{}).data}))}}),Ud.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Mu(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}cp.prototype[e]=t(),cp.prototype[e+"Form"]=t(!0)});const dp=cp;class up{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new ju(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new up(function(t){e=t}),cancel:e}}}const pp=up;const mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mp).forEach(e=>{let[t,n]=e;mp[n]=t});const hp=mp;const fp=function e(t){const n=new dp(t),r=ed(dp.prototype.request,n);return Ud.extend(r,dp.prototype,n,{allOwnKeys:!0}),Ud.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mu(t,n))},r}(pu);fp.Axios=dp,fp.CanceledError=ju,fp.CancelToken=pp,fp.isCancel=wu,fp.VERSION=ap,fp.toFormData=Gd,fp.AxiosError=Vd,fp.Cancel=fp.CanceledError,fp.all=function(e){return Promise.all(e)},fp.spread=function(e){return function(t){return e.apply(null,t)}},fp.isAxiosError=function(e){return Ud.isObject(e)&&!0===e.isAxiosError},fp.mergeConfig=Mu,fp.AxiosHeaders=yu,fp.formToJSON=e=>du(Ud.isHTMLForm(e)?new FormData(e):e),fp.getAdapter=tp,fp.HttpStatusCode=hp,fp.default=fp;const xp=fp,gp=e=>{var t;let{signatureData:n,signedUrls:r,fetchSignedUrl:a}=e;const[l,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{var e;c(!0),u(null);const t=(null===n||void 0===n||null===(e=n.signature)||void 0===e?void 0:e.documentUrl)||(null===n||void 0===n?void 0:n.documentUrl);if(!t)return void u("No document URL available");if(console.log("DocumentViewer - Original URL:",t),t.includes("/api/documents/"))return void o(t);if(t.includes("s3.amazonaws.com")){const e=t.split("/").pop();if(console.log("DocumentViewer - Extracted fileName:",e),e){const t=await a(e);console.log("DocumentViewer - fetchSignedUrl result:",t),t?(o(t),console.log("DocumentViewer - Set documentUrl to:",t)):u("Failed to load document - please try again")}else u("Invalid document URL")}else o(t),console.log("DocumentViewer - Set documentUrl to original URL:",t)}catch(t){console.error("Error loading document:",t),u("Failed to load document")}finally{c(!1)}})()},[n,r,a]),i?(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[(0,qe.jsx)("h3",{className:"font-medium text-gray-900",children:"Document Preview"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Loading document..."})]}),(0,qe.jsxs)("div",{className:"p-6 text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,qe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Loading document..."})]})]}):d?(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[(0,qe.jsx)("h3",{className:"font-medium text-gray-900",children:"Document Preview"}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:"Error loading document"})]}),(0,qe.jsxs)("div",{className:"p-6 text-center",children:[(0,qe.jsx)("div",{className:"text-red-500 mb-2",children:(0,qe.jsx)("svg",{className:"w-8 h-8 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,qe.jsx)("p",{className:"text-sm text-gray-600",children:d}),(0,qe.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Try Again"})]})]}):(0,qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,qe.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[(0,qe.jsx)("h3",{className:"font-medium text-gray-900",children:"Document Preview"}),(0,qe.jsxs)("p",{className:"text-sm text-gray-600",children:[(null===n||void 0===n||null===(t=n.signature)||void 0===t?void 0:t.documentType)||(null===n||void 0===n?void 0:n.documentType)||"Document"," - Please review all terms and conditions"]})]}),(0,qe.jsx)("div",{className:"p-6",children:(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),(0,qe.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"PDF Document"})]}),(0,qe.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Open in New Tab"})]}),(0,qe.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",style:{height:"400px"},children:[console.log("DocumentViewer - Rendering iframe with documentUrl:",l),(0,qe.jsx)("iframe",{src:`${l}#toolbar=0&navpanes=0&scrollbar=0`,className:"w-full h-full",title:"Document Preview",onError:e=>{console.error("PDF iframe failed to load:",e),console.error("Document URL:",l)}})]}),(0,qe.jsxs)("div",{className:"text-center py-4 text-sm text-gray-500",children:[(0,qe.jsx)("p",{children:"If the document doesn't load above, you can:"}),(0,qe.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Open Document in New Tab"})]})]})})]})},bp=e=>{var t,n,r,a,l,o,i;let{signatureId:c,onSignatureComplete:d}=e;const[u,p]=(0,s.useState)(1),[m,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),[y,v]=(0,s.useState)({intentToSign:!1,electronicBusiness:!1}),[w,N]=(0,s.useState)(null),[j,k]=(0,s.useState)(""),[S,D]=(0,s.useState)("Dancing Script"),[T,E]=(0,s.useState)("draw"),[C,P]=(0,s.useState)({}),_=e=>{D(e),mt.trackUserInteraction("signature_font_selected",{fontName:e,signatureId:c,step:3})},A=(0,s.useRef)(null),L=(0,s.useRef)(!1);(0,s.useEffect)(()=>{sessionStorage.getItem("sessionId")||sessionStorage.setItem("sessionId",Math.random().toString(36).substring(2,15)),c&&(R(),mt.trackPageView("Document Signature",`/sign/${c}`),mt.trackSignatureStep(1,"signature_page",c))},[c]);const M=async e=>{try{if(C[e])return C[e];console.log(`[DOCUMENT] Using backend-served URL for: ${e}`);const t=`${Ye}/api/documents/serve/${e}`;return P(n=>({...n,[e]:t})),console.log(`[DOCUMENT] \u2705 Backend URL generated for: ${e}`),t}catch(f){return console.error(`[DOCUMENT] \u274c Error generating backend URL for ${e}:`,f),null}},R=async()=>{try{var e,t,n,r,a;h(!0);const s=await xp.get(`${Ye}/api/signatures/status/${c}`);console.log("Signature status response:",s.data),console.log("Document URL from response:",null===(e=s.data)||void 0===e||null===(t=e.signature)||void 0===t?void 0:t.documentUrl),console.log("Full signature data structure:",JSON.stringify(s.data,null,2)),b(s.data);const l=(null===(n=s.data)||void 0===n||null===(r=n.signature)||void 0===r?void 0:r.documentUrl)||(null===(a=s.data)||void 0===a?void 0:a.documentUrl);if(l&&l.includes("s3.amazonaws.com")){const e=l.split("/").pop();await M(e)}"signed"===s.data.status&&p(4)}catch(f){x("Failed to load signature request"),console.error("Error fetching signature status:",f)}finally{h(!1)}},I=async e=>{try{h(!0);const t="intent"===e?`${Ye}/api/signatures/consent/intent-to-sign`:`${Ye}/api/signatures/consent/electronic-business`;await xp.post(t,{signatureId:c,ipAddress:null,userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,sessionId:sessionStorage.getItem("sessionId")||Math.random().toString(36).substring(2,15)}),v(t=>({...t,["intent"===e?"intentToSign":"electronicBusiness"]:!0})),mt.trackConsentEvent(e,"signature_document",c),"electronicBusiness"===e&&(p(3),mt.trackSignatureStep(3,"signature_document",c))}catch(f){x(`Failed to record ${e} consent`),console.error("Error recording consent:",f),mt.trackError("consent_recording_failed",f.message,{consentType:e,signatureId:c})}finally{h(!1)}},O=()=>{L.current=!1;const e=A.current;N(e.toDataURL())};return m?(0,qe.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,qe.jsx)("span",{className:"ml-2",children:"Processing..."})]}):f?(0,qe.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,qe.jsx)("div",{className:"text-red-800 font-medium",children:"Error"}),(0,qe.jsx)("div",{className:"text-red-600",children:f}),(0,qe.jsx)("button",{onClick:()=>x(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Try Again"})]}):(0,qe.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,qe.jsx)("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(e=>(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(u>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:e}),e<4&&(0,qe.jsx)("div",{className:"w-16 h-1 mx-2 "+(u>e?"bg-blue-600":"bg-gray-200")})]},e))}),1===u&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Legal Consent"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Please review and agree to the following terms"})]}),(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("input",{type:"checkbox",id:"intentToSign",checked:y.intentToSign,onChange:e=>v(t=>({...t,intentToSign:e.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 rounded"}),(0,qe.jsxs)("label",{htmlFor:"intentToSign",className:"text-sm text-gray-700",children:[(0,qe.jsx)("strong",{children:"Intent to Sign Electronically:"})," I agree to sign this document electronically. I understand that my electronic signature is legally binding and has the same effect as a handwritten signature."]})]}),(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("input",{type:"checkbox",id:"electronicBusiness",checked:y.electronicBusiness,onChange:e=>v(t=>({...t,electronicBusiness:e.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 rounded"}),(0,qe.jsxs)("label",{htmlFor:"electronicBusiness",className:"text-sm text-gray-700",children:[(0,qe.jsx)("strong",{children:"Consent to Electronic Business:"})," I consent to conduct business electronically. I understand that electronic signatures and records are legally binding and admissible in court."]})]})]}),(0,qe.jsx)("button",{onClick:async()=>{try{y.intentToSign||await I("intent"),y.electronicBusiness||await I("electronicBusiness"),p(2),mt.trackSignatureStep(2,"signature_document",c)}catch(f){console.error("Error recording consent:",f),x("Failed to record consent. Please try again."),mt.trackError("consent_submit_failed",f.message,{signatureId:c})}},disabled:!y.intentToSign||!y.electronicBusiness,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Continue to Signature"})]}),2===u&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document Review"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Please review the document before signing"})]}),g&&(0,qe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,qe.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Document Details"}),(0,qe.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,qe.jsxs)("div",{children:["Document Type: ",null===(t=g.signature)||void 0===t?void 0:t.documentType]}),(0,qe.jsxs)("div",{children:["Signer: ",null===(n=g.signature)||void 0===n?void 0:n.signerName]}),(0,qe.jsxs)("div",{children:["Status: ",null===(r=g.signature)||void 0===r?void 0:r.status]})]})]}),(0,qe.jsx)(gp,{signatureData:g,signedUrls:C,fetchSignedUrl:M}),(0,qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,qe.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Important Notice"}),(0,qe.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:"By proceeding to sign, you acknowledge that you have read and understood all terms and conditions in this document. Your electronic signature will be legally binding."})]})]})}),(0,qe.jsxs)("div",{className:"flex space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>p(1),className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-400",children:"Back to Consent"}),(0,qe.jsx)("button",{onClick:()=>p(3),className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700",children:"Proceed to Signature"})]})]}),3===u&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign Document"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Please provide your signature below"})]}),(0,qe.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,qe.jsx)("button",{onClick:()=>E("draw"),className:"px-4 py-2 rounded-lg font-medium "+("draw"===T?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Draw Signature"}),(0,qe.jsx)("button",{onClick:()=>E("type"),className:"px-4 py-2 rounded-lg font-medium "+("type"===T?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Type Signature"})]}),"draw"===T?(0,qe.jsxs)("div",{className:"space-y-4",children:[(0,qe.jsx)("canvas",{ref:A,width:400,height:200,className:"border-2 border-gray-300 rounded-lg cursor-crosshair",onMouseDown:e=>{L.current=!0;const t=A.current,n=t.getContext("2d"),r=t.getBoundingClientRect();n.beginPath(),n.moveTo(e.clientX-r.left,e.clientY-r.top)},onMouseMove:e=>{if(!L.current)return;const t=A.current,n=t.getContext("2d"),r=t.getBoundingClientRect();n.lineTo(e.clientX-r.left,e.clientY-r.top),n.stroke()},onMouseUp:O,onMouseLeave:O}),(0,qe.jsx)("button",{onClick:()=>{const e=A.current;e.getContext("2d").clearRect(0,0,e.width,e.height),N(null)},className:"text-gray-600 hover:text-gray-800 underline",children:"Clear Signature"})]}):(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Choose Signature Style"}),(0,qe.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Dancing Script",value:"Dancing Script",style:'font-family: "Dancing Script", cursive;'},{name:"Great Vibes",value:"Great Vibes",style:'font-family: "Great Vibes", cursive;'},{name:"Pacifico",value:"Pacifico",style:'font-family: "Pacifico", cursive;'},{name:"Satisfy",value:"Satisfy",style:'font-family: "Satisfy", cursive;'},{name:"Kaushan Script",value:"Kaushan Script",style:'font-family: "Kaushan Script", cursive;'},{name:"Allura",value:"Allura",style:'font-family: "Allura", cursive;'},{name:"Alex Brush",value:"Alex Brush",style:'font-family: "Alex Brush", cursive;'},{name:"Tangerine",value:"Tangerine",style:'font-family: "Tangerine", cursive;'}].map(e=>(0,qe.jsxs)("button",{onClick:()=>_(e.value),className:"p-3 border-2 rounded-lg text-center transition-all "+(S===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,qe.jsx)("div",{className:"text-lg font-medium",style:{fontFamily:e.value,fontSize:"18px"},children:j||"Your Name"}),(0,qe.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.name})]},e.value))})]}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type Your Signature"}),(0,qe.jsx)("input",{type:"text",value:j,onChange:e=>k(e.target.value),placeholder:"Type your full name as signature",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"})]}),j&&(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Signature Preview"}),(0,qe.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-6 bg-white",children:[(0,qe.jsx)("div",{className:"text-center text-2xl font-medium text-gray-800",style:{fontFamily:S,fontSize:"28px",lineHeight:"1.2"},children:j}),(0,qe.jsxs)("div",{className:"text-center text-sm text-gray-500 mt-2",children:[S," \u2022 ",j.length," characters"]})]})]}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customize Appearance"}),(0,qe.jsxs)("div",{className:"flex space-x-4",children:[(0,qe.jsx)("button",{onClick:()=>_("Dancing Script"),className:"px-3 py-2 text-sm rounded border "+("Dancing Script"===S?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),style:{fontFamily:"Dancing Script"},children:"Elegant"}),(0,qe.jsx)("button",{onClick:()=>_("Great Vibes"),className:"px-3 py-2 text-sm rounded border "+("Great Vibes"===S?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),style:{fontFamily:"Great Vibes"},children:"Formal"}),(0,qe.jsx)("button",{onClick:()=>_("Pacifico"),className:"px-3 py-2 text-sm rounded border "+("Pacifico"===S?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),style:{fontFamily:"Pacifico"},children:"Casual"})]})]})]}),(0,qe.jsx)("button",{onClick:async()=>{if(m)console.log("Signature submission already in progress, ignoring duplicate click");else{if("draw"===T&&!w)return x("Please draw your signature"),void mt.trackError("signature_validation_failed","No signature drawn",{signatureId:c});if("type"===T&&!j.trim())return x("Please type your signature"),void mt.trackError("signature_validation_failed","No signature typed",{signatureId:c});try{h(!0);const e={signatureId:c,signatureImage:"draw"===T?w:null,typedSignature:"type"===T?j:null,signatureFont:"type"===T?S:null,coordinates:{x:100,y:200,page:1},ipAddress:null,userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,sessionId:sessionStorage.getItem("sessionId")||Math.random().toString(36).substring(2,15)},t=await xp.post(`${Ye}/api/signatures/sign`,e,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-Signature-Session":sessionStorage.getItem("sessionId")||"unknown"}});b(t.data),p(4),mt.trackSignatureCompletion("signature_document",c,T),mt.trackSignatureStep(4,"signature_document",c),d&&d(t.data)}catch(f){console.error("Error submitting signature:",f);let n="Failed to submit signature";if(f.response)if(401===f.response.status)n="Authentication failed. Please check your access credentials.";else if(400===f.response.status){var e;n=(null===(e=f.response.data)||void 0===e?void 0:e.error)||"Invalid signature data. Please try again."}else 404===f.response.status?n="Signature request not found. Please contact support.":f.response.status>=500&&(n="Server error. Please try again in a moment.");else f.request&&(n="Network error. Please check your connection and try again.");x(n),mt.trackError("signature_submission_failed",f.message,{signatureId:c,signatureMethod:T})}finally{h(!1)}}},disabled:m||"draw"===T&&!w||"type"===T&&!j.trim(),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:m?"Signing Document...":"Sign Document"})]}),4===u&&(0,qe.jsxs)("div",{className:"text-center space-y-6",children:[(0,qe.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,qe.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document Signed Successfully!"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Your signature has been recorded and the document is now legally binding."})]}),g&&(0,qe.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,qe.jsx)("h3",{className:"font-medium text-green-900 mb-2",children:"Signature Details"}),(0,qe.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,qe.jsxs)("div",{children:["Signed by: ",null===(a=g.signature)||void 0===a?void 0:a.signerName]}),(0,qe.jsxs)("div",{children:["Date: ",new Date(null===(l=g.signature)||void 0===l||null===(o=l.signatureData)||void 0===o?void 0:o.timestamp).toLocaleString()]}),(0,qe.jsxs)("div",{children:["Status: ",null===(i=g.signature)||void 0===i?void 0:i.status]})]})]}),(0,qe.jsx)("div",{className:"text-sm text-gray-500",children:"A copy of the signed document has been sent to your email address."})]})]})},yp=()=>{var e;const{signatureId:t}=ne(),{getAuthHeaders:n}=Qe(),[r,a]=(0,s.useState)(null),[l,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null);if((0,s.useEffect)(()=>{t&&(async()=>{try{o(!0);const e=await fetch(`https://astonishing-chicken-production.up.railway.app/api/signatures/${t}/compliance`,{headers:n(),credentials:"include"});if(e.ok){const t=await e.json();a(t)}else c("Failed to fetch compliance report")}catch(i){console.error("Error fetching compliance:",i),c("Error fetching compliance report")}finally{o(!1)}})()},[t,n]),l)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-white text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,qe.jsx)("p",{children:"Loading compliance report..."})]})});if(i)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsx)("div",{className:"text-red-400 text-center",children:(0,qe.jsxs)("p",{children:["Error: ",i]})})});if(!r)return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsx)("div",{className:"text-white text-center",children:(0,qe.jsx)("p",{children:"No compliance data found"})})});const{compliance:d,auditTrail:u}=r;return(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:(0,qe.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Legal Compliance Report"}),(0,qe.jsx)("div",{className:"mb-8 p-6 rounded-lg border-2 "+(d.isCompliant?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center "+(d.isCompliant?"bg-green-500":"bg-red-500"),children:d.isCompliant?(0,qe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,qe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,qe.jsxs)("div",{className:"ml-3",children:[(0,qe.jsx)("h2",{className:"text-xl font-semibold "+(d.isCompliant?"text-green-800":"text-red-800"),children:d.isCompliant?"\u2705 LEGALLY COMPLIANT":"\u274c NOT COMPLIANT"}),(0,qe.jsxs)("p",{className:"text-sm "+(d.isCompliant?"text-green-700":"text-red-700"),children:["This signature meets ",d.isCompliant?"all":"some"," ESIGN and UETA requirements"]})]})]})}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,qe.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(d.intentToSign?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(d.intentToSign?"bg-green-500":"bg-red-500"),children:d.intentToSign?"\u2713":"\u2717"}),(0,qe.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"1. Intent to Sign"})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"User took clear affirmative action to sign electronically"}),u.intentToSign.timestamp&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,qe.jsxs)("p",{children:["Timestamp: ",new Date(u.intentToSign.timestamp).toLocaleString()]}),(0,qe.jsxs)("p",{children:["IP Address: ",u.intentToSign.ipAddress]})]})]}),(0,qe.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(d.consentToElectronicBusiness?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(d.consentToElectronicBusiness?"bg-green-500":"bg-red-500"),children:d.consentToElectronicBusiness?"\u2713":"\u2717"}),(0,qe.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"2. Consent to Electronic Business"})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"User agreed to conduct business electronically"}),u.consentToElectronicBusiness.timestamp&&(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,qe.jsxs)("p",{children:["Timestamp: ",new Date(u.consentToElectronicBusiness.timestamp).toLocaleString()]}),(0,qe.jsxs)("p",{children:["IP Address: ",u.consentToElectronicBusiness.ipAddress]})]})]}),(0,qe.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(d.signatureAssociation?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(d.signatureAssociation?"bg-green-500":"bg-red-500"),children:d.signatureAssociation?"\u2713":"\u2717"}),(0,qe.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"3. Clear Signature Association"})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Signature is tied to a specific user identity"}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,qe.jsxs)("p",{children:["Verification Method: ",u.signatureAssociation.identityVerificationMethod]}),(0,qe.jsxs)("p",{children:["Verified: ",u.signatureAssociation.signerIdentityVerified?"Yes":"No"]})]})]}),(0,qe.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(d.documentIntegrity?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,qe.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(d.documentIntegrity?"bg-green-500":"bg-red-500"),children:d.documentIntegrity?"\u2713":"\u2717"}),(0,qe.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"4. Document Integrity"})]}),(0,qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Document is tamper-evident and verified"}),(0,qe.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,qe.jsxs)("p",{children:["Document Hash: ",null===(e=u.documentIntegrity.documentHash)||void 0===e?void 0:e.substring(0,16),"..."]}),(0,qe.jsxs)("p",{children:["Signature Verified: ",u.documentIntegrity.isVerified?"Yes":"No"]})]})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Audit Trail"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Intent to Sign"}),(0,qe.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,qe.jsxs)("p",{children:["Timestamp: ",u.intentToSign.timestamp?new Date(u.intentToSign.timestamp).toLocaleString():"Not recorded"]}),(0,qe.jsxs)("p",{children:["IP Address: ",u.intentToSign.ipAddress||"Not recorded"]}),(0,qe.jsxs)("p",{children:["User Agent: ",u.intentToSign.userAgent?u.intentToSign.userAgent.substring(0,50)+"...":"Not recorded"]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Electronic Business Consent"}),(0,qe.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,qe.jsxs)("p",{children:["Timestamp: ",u.consentToElectronicBusiness.timestamp?new Date(u.consentToElectronicBusiness.timestamp).toLocaleString():"Not recorded"]}),(0,qe.jsxs)("p",{children:["IP Address: ",u.consentToElectronicBusiness.ipAddress||"Not recorded"]}),(0,qe.jsxs)("p",{children:["User Agent: ",u.consentToElectronicBusiness.userAgent?u.consentToElectronicBusiness.userAgent.substring(0,50)+"...":"Not recorded"]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Identity Verification"}),(0,qe.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,qe.jsxs)("p",{children:["Method: ",u.signatureAssociation.identityVerificationMethod]}),(0,qe.jsxs)("p",{children:["Verified: ",u.signatureAssociation.signerIdentityVerified?"Yes":"No"]}),(0,qe.jsxs)("p",{children:["Timestamp: ",u.signatureAssociation.identityVerificationTimestamp?new Date(u.signatureAssociation.identityVerificationTimestamp).toLocaleString():"Not recorded"]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Document Integrity"}),(0,qe.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,qe.jsxs)("p",{children:["Document Hash: ",u.documentIntegrity.documentHash||"Not generated"]}),(0,qe.jsxs)("p",{children:["Signature Hash: ",u.documentIntegrity.signatureHash||"Not generated"]}),(0,qe.jsxs)("p",{children:["Verified: ",u.documentIntegrity.isVerified?"Yes":"No"]})]})]})]})]}),(0,qe.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,qe.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Legal Disclaimer"}),(0,qe.jsx)("p",{className:"text-sm text-blue-800",children:"This compliance report is generated based on ESIGN Act and UETA requirements. The signature system is designed to meet legal standards for electronic signatures in the United States. For legal advice regarding specific compliance requirements, please consult with qualified legal counsel."})]})]})})})},vp=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),wp=()=>{var e;const t=te(),{getAuthHeaders:n}=Qe(),[r,a]=(0,s.useState)([]),[l,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)("all"),[h,f]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)({startDate:"",endDate:""}),[D,T]=(0,s.useState)(null),[E,C]=(0,s.useState)(!1),P="https://astonishing-chicken-production.up.railway.app",[_,A]=(0,s.useState)({name:"",email:"",phone:"",specialties:[],notes:""}),L=["Exotic","Luxury","Classic","Muscle","Import","Domestic","SUV","Sports Car","Sedan","Other"];(0,s.useEffect)(()=>{M(),R()},[d,p]);const M=async()=>{try{o(!0);const e=new URLSearchParams;d&&e.append("search",d),"all"!==p&&e.append("specialty",p);const t=await fetch(`${P}/api/brokers?${e}`,{credentials:"include",headers:n()});if(!t.ok)throw new Error("Failed to fetch brokers");{const e=await t.json();a(e.data)}}catch(i){console.error("Error fetching brokers:",i),c(i.message)}finally{o(!1)}},R=async()=>{try{const e=await fetch(`${P}/api/brokers/stats/overview`,{credentials:"include",headers:n()});if(e.ok){const t=await e.json();y(t.data)}}catch(i){console.error("Error fetching broker stats:",i)}},I=()=>{A({name:"",email:"",phone:"",specialties:[],notes:""})},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commission";S({startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]}),T(null),w(!0),j({...e,calculationType:t})},F=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return l&&0===r.length?(0,qe.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,qe.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,qe.jsxs)("div",{className:"animate-pulse",children:[(0,qe.jsx)("div",{className:"h-8 bg-gray-700 rounded w-1/4 mb-6"}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,qe.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 h-48"},t))})]})})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,qe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,qe.jsxs)("button",{onClick:()=>t(-1),className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium transition-colors",children:[(0,qe.jsx)(ct,{className:"h-5 w-5 mr-2"}),"Back"]}),(0,qe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Broker Network"}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Manage your broker relationships and track performance"})]}),(0,qe.jsxs)("button",{onClick:()=>{g(null),I(),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors mt-4 md:mt-0",children:[(0,qe.jsx)(Me,{className:"h-5 w-5"}),(0,qe.jsx)("span",{children:"Add Broker"})]})]}),b&&(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Brokers"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:b.total})]}),(0,qe.jsx)(Ie,{className:"h-8 w-8 text-blue-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-green-100 text-sm",children:"Active"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:b.active})]}),(0,qe.jsx)(Fe,{className:"h-8 w-8 text-green-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-yellow-100 text-sm",children:"Pending"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:b.pending})]}),(0,qe.jsx)(tt,{className:"h-8 w-8 text-yellow-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-purple-100 text-sm",children:"Top Volume"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:null!==(e=b.topBrokers)&&void 0!==e&&e[0]?F(b.topBrokers[0].totalVolume):"$0"})]}),(0,qe.jsx)(vp,{className:"h-8 w-8 text-purple-200"})]})})]}),(0,qe.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,qe.jsxs)("div",{className:"relative",children:[(0,qe.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,qe.jsx)("input",{type:"text",placeholder:"Search brokers...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Specialties"}),L.map(e=>(0,qe.jsx)("option",{value:e,children:e},e))]})]})}),(0,qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{var t,r;return(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors",children:[(0,qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,qe.jsx)("div",{className:"flex-1",children:(0,qe.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:e.name})}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("button",{onClick:()=>(e=>{g(e),A({name:e.name||"",email:e.email||"",phone:e.phone||"",specialties:e.specialties||[],notes:e.notes||""}),f(!0)})(e),className:"text-gray-400 hover:text-white transition-colors",children:(0,qe.jsx)(Ac,{className:"h-4 w-4"})}),(0,qe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this broker?"))try{if(!(await fetch(`${P}/api/brokers/${e}`,{method:"DELETE",credentials:"include",headers:n()})).ok)throw new Error("Failed to delete broker");M(),R()}catch(i){console.error("Error deleting broker:",i),c(i.message)}})(e._id),className:"text-gray-400 hover:text-red-400 transition-colors",children:(0,qe.jsx)(dc,{className:"h-4 w-4"})})]})]}),(0,qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,qe.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,qe.jsx)(lt,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,qe.jsx)("span",{className:"truncate",children:e.email})]}),e.phone&&(0,qe.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,qe.jsx)(st,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,qe.jsx)("span",{children:e.phone})]})]}),(null===(t=e.specialties)||void 0===t?void 0:t.length)>0&&(0,qe.jsxs)("div",{className:"mb-4",children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Specialties:"}),(0,qe.jsx)("div",{className:"flex flex-wrap gap-1",children:e.specialties.map((e,t)=>(0,qe.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:e},t))})]}),(0,qe.jsxs)("div",{className:"flex items-center justify-between text-sm mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Commission"}),(0,qe.jsxs)("p",{className:"text-white font-medium",children:[e.commissionRate,"%"]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Total Volume"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:F(e.totalVolume)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Deals"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:e.totalDeals})]})]}),(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 mb-4",children:[(0,qe.jsx)("p",{className:"text-gray-400 text-sm mb-2 font-medium",children:"Broker Fees"}),(0,qe.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Total Earned"}),(0,qe.jsx)("p",{className:"text-green-400 font-medium",children:F(e.totalFeesEarned||0)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Total Paid"}),(0,qe.jsx)("p",{className:"text-blue-400 font-medium",children:F(e.totalFeesPaid||0)})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Outstanding"}),(0,qe.jsx)("p",{className:"text-yellow-400 font-medium",children:F((e.totalFeesEarned||0)-(e.totalFeesPaid||0))})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400",children:"Fee Deals"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:(null===(r=e.feesHistory)||void 0===r?void 0:r.length)||0})]})]})]}),(0,qe.jsxs)("div",{className:"flex space-x-2",children:[(0,qe.jsxs)("button",{onClick:()=>O(e,"commission"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,qe.jsx)(_e,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Calculate Fees"})]}),(0,qe.jsxs)("button",{onClick:()=>O(e,"fees"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,qe.jsx)(Fe,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Fee History"})]})]})]},e._id)})}),0===r.length&&!l&&(0,qe.jsxs)("div",{className:"text-center py-12",children:[(0,qe.jsx)(Ie,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No brokers found"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"Get started by adding your first broker to the network."})]})]}),h&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:x?"Edit Broker":"Add New Broker"}),(0,qe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=x?`${P}/api/brokers/${x._id}`:`${P}/api/brokers`,t=x?"PUT":"POST";if(!(await fetch(e,{method:t,credentials:"include",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify(_)})).ok)throw new Error("Failed to save broker");f(!1),g(null),I(),M(),R()}catch(i){console.error("Error saving broker:",i),c(i.message)}},className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,qe.jsx)("input",{type:"text",required:!0,value:_.name,onChange:e=>A({..._,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),(0,qe.jsx)("input",{type:"email",required:!0,value:_.email,onChange:e=>A({..._,email:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),(0,qe.jsx)("input",{type:"tel",value:_.phone,onChange:e=>A({..._,phone:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specialties"}),(0,qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:L.map(e=>(0,qe.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("input",{type:"checkbox",checked:_.specialties.includes(e),onChange:()=>(e=>{A(t=>({...t,specialties:t.specialties.includes(e)?t.specialties.filter(t=>t!==e):[...t.specialties,e]}))})(e),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),(0,qe.jsx)("span",{className:"text-sm text-gray-300",children:e})]},e))})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,qe.jsx)("textarea",{value:_.notes,onChange:e=>A({..._,notes:e.target.value}),rows:"3",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,qe.jsx)("button",{type:"button",onClick:()=>{f(!1),g(null),I()},className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),(0,qe.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:x?"Update Broker":"Add Broker"})]})]})]})}),v&&(0,qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,qe.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["fees"===(null===N||void 0===N?void 0:N.calculationType)?"Broker Fee History":"Broker Commission Calculator"," - ",null===N||void 0===N?void 0:N.name]}),(0,qe.jsx)("button",{onClick:()=>{w(!1),j(null),T(null)},className:"text-gray-400 hover:text-white transition-colors",children:(0,qe.jsx)(ct,{className:"h-6 w-6"})})]}),(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Date Range"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,qe.jsx)("input",{type:"date",value:k.startDate,onChange:e=>S({...k,startDate:e.target.value}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,qe.jsx)("input",{type:"date",value:k.endDate,onChange:e=>S({...k,endDate:e.target.value}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,qe.jsxs)("button",{onClick:()=>{console.log("[BROKER CALC] handleCalculateCommission called"),console.log("[BROKER CALC] selectedBroker:",N),console.log("[BROKER CALC] dateRange:",k),console.log("[BROKER CALC] calculationType:",null===N||void 0===N?void 0:N.calculationType),N&&k.startDate&&k.endDate?"fees"===N.calculationType?(console.log("[BROKER CALC] Calling fetchFeesRange"),(async(e,t,r)=>{try{C(!0),console.log(`[BROKER FEES] Fetching fees for broker ${e} from ${t} to ${r}`),console.log(`[BROKER FEES] API URL: ${P}/api/brokers/${e}/fees-range?startDate=${t}&endDate=${r}`);const a=await fetch(`${P}/api/brokers/${e}/fees-range?startDate=${t}&endDate=${r}`,{credentials:"include",headers:n()});if(console.log(`[BROKER FEES] Response status: ${a.status}`),!a.ok){const e=await a.text();throw console.error(`[BROKER FEES] Error response: ${e}`),new Error(`Failed to fetch fees data: ${a.status} ${a.statusText}`)}{const e=await a.json();console.log("[BROKER FEES] Response data:",e),T(e.data)}}catch(i){console.error("Error fetching fees range:",i),T(null)}finally{C(!1)}})(N._id,k.startDate,k.endDate)):(console.log("[BROKER CALC] Calling fetchCommissionRange"),(async(e,t,r)=>{try{C(!0),console.log(`[BROKER COMMISSION] Fetching commission for broker ${e} from ${t} to ${r}`),console.log(`[BROKER COMMISSION] API URL: ${P}/api/brokers/${e}/commission-range?startDate=${t}&endDate=${r}`);const a=await fetch(`${P}/api/brokers/${e}/commission-range?startDate=${t}&endDate=${r}`,{credentials:"include",headers:n()});if(console.log(`[BROKER COMMISSION] Response status: ${a.status}`),!a.ok){const e=await a.text();throw console.error(`[BROKER COMMISSION] Error response: ${e}`),new Error(`Failed to fetch commission data: ${a.status} ${a.statusText}`)}{const e=await a.json();console.log("[BROKER COMMISSION] Response data:",e),T(e.data)}}catch(i){console.error("Error fetching commission range:",i),T(null)}finally{C(!1)}})(N._id,k.startDate,k.endDate)):console.error("[BROKER CALC] Missing required data:",{hasSelectedBroker:!!N,hasStartDate:!!k.startDate,hasEndDate:!!k.endDate})},disabled:E||!k.startDate||!k.endDate,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(Mc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:E?"Calculating...":"fees"===(null===N||void 0===N?void 0:N.calculationType)?"Calculate Fees":"Calculate Commission"})]})]}),D&&(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-green-100 text-sm",children:"Total Fees Earned"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:F(D.summary.totalFeesEarned)})]}),(0,qe.jsx)(_e,{className:"h-8 w-8 text-green-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Deals"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:D.summary.totalDeals})]}),(0,qe.jsx)(Fe,{className:"h-8 w-8 text-blue-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-purple-100 text-sm",children:"Total Fees Paid"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:F(D.summary.totalFeesPaid)})]}),(0,qe.jsx)(tt,{className:"h-8 w-8 text-purple-200"})]})}),(0,qe.jsx)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-4",children:(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-yellow-100 text-sm",children:"Unpaid Fees"}),(0,qe.jsx)("p",{className:"text-2xl font-bold text-white",children:F(D.summary.totalFeesUnpaid)})]}),(0,qe.jsx)(vp,{className:"h-8 w-8 text-yellow-200"})]})})]}),D.monthlyBreakdown&&D.monthlyBreakdown.length>0&&(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Breakdown"}),(0,qe.jsx)("div",{className:"space-y-2",children:D.monthlyBreakdown.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center justify-between bg-gray-600 rounded-lg p-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-white font-medium",children:e.month}),(0,qe.jsxs)("p",{className:"text-gray-300 text-sm",children:[e.dealCount," deals"]})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("p",{className:"text-green-400 font-semibold",children:F(e.totalEarned)}),(0,qe.jsxs)("p",{className:"text-gray-400 text-xs",children:["Paid: ",F(e.totalPaid)]})]})]},t))})]}),D.fees&&D.fees.length>0&&(0,qe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,qe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Individual Fees"}),(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full text-sm",children:[(0,qe.jsx)("thead",{children:(0,qe.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,qe.jsx)("th",{className:"text-left py-2 text-gray-300",children:"Date"}),(0,qe.jsx)("th",{className:"text-left py-2 text-gray-300",children:"VIN"}),(0,qe.jsx)("th",{className:"text-left py-2 text-gray-300",children:"Vehicle"}),(0,qe.jsx)("th",{className:"text-left py-2 text-gray-300",children:"Sales Person"}),(0,qe.jsx)("th",{className:"text-center py-2 text-gray-300",children:"Status"}),(0,qe.jsx)("th",{className:"text-right py-2 text-gray-300",children:"Amount"})]})}),(0,qe.jsx)("tbody",{children:D.fees.map((e,t)=>{var n;return(0,qe.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,qe.jsx)("td",{className:"py-2 text-white",children:new Date(e.date).toLocaleDateString()}),(0,qe.jsx)("td",{className:"py-2 text-white",children:e.dealVin||"N/A"}),(0,qe.jsx)("td",{className:"py-2 text-white",children:e.dealVehicle||"N/A"}),(0,qe.jsx)("td",{className:"py-2 text-white",children:(null===(n=e.salesPerson)||void 0===n?void 0:n.name)||"N/A"}),(0,qe.jsx)("td",{className:"py-2 text-center",children:(0,qe.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(e.paid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.paid?"Paid":"Unpaid"})}),(0,qe.jsx)("td",{className:"py-2 text-right text-green-400 font-semibold",children:F(e.amount)})]},t)})})]})})]}),(!D.monthlyBreakdown||0===D.monthlyBreakdown.length)&&(!D.fees||0===D.fees.length)&&(0,qe.jsxs)("div",{className:"text-center py-8",children:[(0,qe.jsx)(_e,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),(0,qe.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No fee data found"}),(0,qe.jsx)("p",{className:"text-gray-500",children:"No broker fees found for the selected date range."})]})]})]})})]})},Np=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),jp=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),kp=Ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Sp=()=>{const{user:e,getAuthHeaders:t}=Qe(),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[o,i]=(0,s.useState)("thisMonth"),[c,d]=(0,s.useState)("all"),[u,p]=(0,s.useState)([]),m="https://astonishing-chicken-production.up.railway.app",h=async()=>{try{r(!0);const e=await fetch(`${m}/api/admin/performance?period=${o}&userId=${c}`,{credentials:"include",headers:t()});if(!e.ok)throw new Error("Failed to fetch performance data");const n=await e.json();l(n)}catch(e){console.error("Error fetching performance data:",e),Ht.error("Failed to load performance data")}finally{r(!1)}};(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch(`${m}/api/users`,{credentials:"include",headers:t()});if(e.ok){const t=await e.json(),n=(t.users||t||[]).filter(e=>"sales"===e.role);p(n)}}catch(e){console.error("Error fetching users:",e)}})()},[]),(0,s.useEffect)(()=>{h()},[o,c]);const f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),x=e=>new Intl.NumberFormat("en-US").format(e),g=e=>e>0?"text-green-400":e<0?"text-red-400":"text-gray-400",b=e=>e>0?(0,qe.jsx)(Fe,{className:"h-4 w-4"}):e<0?(0,qe.jsx)(Np,{className:"h-4 w-4"}):(0,qe.jsx)(Re,{className:"h-4 w-4"});return n?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qe.jsx)(xc,{className:"animate-spin h-10 w-10 text-blue-400 mb-4"}),(0,qe.jsx)("div",{className:"text-white text-lg font-semibold",children:"Loading performance data..."})]})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:[(0,qe.jsx)(en,{position:"bottom-right",theme:"dark"}),(0,qe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,qe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Performance Tracking"}),(0,qe.jsx)("p",{className:"text-gray-300 text-lg",children:"Monitor sales performance, deal metrics, and team productivity"})]}),(0,qe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 md:mt-0",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(Mc,{className:"h-5 w-5 text-gray-400"}),(0,qe.jsx)("select",{value:o,onChange:e=>i(e.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisQuarter",label:"This Quarter"},{value:"thisYear",label:"This Year"},{value:"lastYear",label:"Last Year"}].map(e=>(0,qe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)(Ie,{className:"h-5 w-5 text-gray-400"}),(0,qe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,qe.jsx)("option",{value:"all",children:"All Sales Users"}),u.map(e=>{var t;return(0,qe.jsx)("option",{value:e._id,children:(null===(t=e.profile)||void 0===t?void 0:t.displayName)||e.email},e._id)})]})]}),(0,qe.jsxs)("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(xc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Refresh"})]})]})]}),a&&(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-blue-400"})}),(0,qe.jsxs)("div",{className:`flex items-center space-x-1 ${g(a.overview.carsBought.change)}`,children:[b(a.overview.carsBought.change),(0,qe.jsxs)("span",{className:"text-sm font-medium",children:[a.overview.carsBought.change>0?"+":"",a.overview.carsBought.change,"%"]})]})]}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:x(a.overview.carsBought.value)}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Cars Bought"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20 rounded-xl p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-emerald-500/20 rounded-lg p-3",children:(0,qe.jsx)(Pe,{className:"h-6 w-6 text-emerald-400"})}),(0,qe.jsxs)("div",{className:`flex items-center space-x-1 ${g(a.overview.carsSold.change)}`,children:[b(a.overview.carsSold.change),(0,qe.jsxs)("span",{className:"text-sm font-medium",children:[a.overview.carsSold.change>0?"+":"",a.overview.carsSold.change,"%"]})]})]}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:x(a.overview.carsSold.value)}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Cars Sold"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3",children:(0,qe.jsx)(_e,{className:"h-6 w-6 text-green-400"})}),(0,qe.jsxs)("div",{className:`flex items-center space-x-1 ${g(a.overview.totalRevenue.change)}`,children:[b(a.overview.totalRevenue.change),(0,qe.jsxs)("span",{className:"text-sm font-medium",children:[a.overview.totalRevenue.change>0?"+":"",a.overview.totalRevenue.change,"%"]})]})]}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:f(a.overview.totalRevenue.value)}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Total Revenue"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-purple-500/20 rounded-lg p-3",children:(0,qe.jsx)(jp,{className:"h-6 w-6 text-purple-400"})}),(0,qe.jsxs)("div",{className:`flex items-center space-x-1 ${g(a.overview.dealsCompleted.change)}`,children:[b(a.overview.dealsCompleted.change),(0,qe.jsxs)("span",{className:"text-sm font-medium",children:[a.overview.dealsCompleted.change>0?"+":"",a.overview.dealsCompleted.change,"%"]})]})]}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:x(a.overview.dealsCompleted.value)}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Deals Completed"})]}),(0,qe.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl p-6",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qe.jsx)("div",{className:"bg-orange-500/20 rounded-lg p-3",children:(0,qe.jsx)(kp,{className:"h-6 w-6 text-orange-400"})}),(0,qe.jsxs)("div",{className:`flex items-center space-x-1 ${g(a.overview.averageDealValue.change)}`,children:[b(a.overview.averageDealValue.change),(0,qe.jsxs)("span",{className:"text-sm font-medium",children:[a.overview.averageDealValue.change>0?"+":"",a.overview.averageDealValue.change,"%"]})]})]}),(0,qe.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:f(a.overview.averageDealValue.value)}),(0,qe.jsx)("p",{className:"text-gray-400",children:"Avg Deal Value"})]})]}),(0,qe.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 mb-8",children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qe.jsx)("h2",{className:"text-2xl font-bold text-white",children:"User Performance"}),(0,qe.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,qe.jsx)(pc,{className:"h-4 w-4"}),(0,qe.jsx)("span",{children:"Export"})]})]}),(0,qe.jsx)("div",{className:"overflow-x-auto",children:(0,qe.jsxs)("table",{className:"w-full",children:[(0,qe.jsx)("thead",{children:(0,qe.jsxs)("tr",{className:"border-b border-white/10",children:[(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"User"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Cars Bought"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Cars Sold"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Total Revenue"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Avg Deal Value"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Deals Completed"}),(0,qe.jsx)("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Performance"})]})}),(0,qe.jsx)("tbody",{children:a.userPerformance.map((e,t)=>(0,qe.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,qe.jsx)("td",{className:"py-4 px-4",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center",children:(0,qe.jsx)("span",{className:"text-white font-medium text-sm",children:e.name.charAt(0).toUpperCase()})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,qe.jsx)("div",{className:"text-gray-400 text-sm",children:e.email})]})]})}),(0,qe.jsx)("td",{className:"py-4 px-4 text-white",children:x(e.carsBought)}),(0,qe.jsx)("td",{className:"py-4 px-4 text-white",children:x(e.carsSold)}),(0,qe.jsx)("td",{className:"py-4 px-4 text-white",children:f(e.totalRevenue)}),(0,qe.jsx)("td",{className:"py-4 px-4 text-white",children:f(e.averageDealValue)}),(0,qe.jsx)("td",{className:"py-4 px-4 text-white",children:x(e.dealsCompleted)}),(0,qe.jsx)("td",{className:"py-4 px-4",children:(0,qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qe.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:(0,qe.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full",style:{width:`${e.performanceScore}%`}})}),(0,qe.jsxs)("span",{className:"text-white text-sm",children:[e.performanceScore,"%"]})]})})]},e.userId))})]})})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,qe.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Deal Type Performance"}),(0,qe.jsx)("div",{className:"space-y-4",children:a.dealTypePerformance.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qe.jsx)("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${e.color}`}),(0,qe.jsx)("span",{className:"text-white",children:e.type})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-white font-medium",children:x(e.count)}),(0,qe.jsx)("div",{className:"text-gray-400 text-sm",children:f(e.revenue)})]})]},e.type))})]}),(0,qe.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[(0,qe.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Monthly Trends"}),(0,qe.jsx)("div",{className:"space-y-4",children:a.monthlyTrends.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qe.jsx)("span",{className:"text-white",children:e.month}),(0,qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-white font-medium",children:x(e.deals)}),(0,qe.jsx)("div",{className:"text-gray-400 text-sm",children:"deals"})]}),(0,qe.jsxs)("div",{className:"text-right",children:[(0,qe.jsx)("div",{className:"text-white font-medium",children:f(e.revenue)}),(0,qe.jsx)("div",{className:"text-gray-400 text-sm",children:"revenue"})]})]})]},e.month))})]})]})]})]})]})},Dp=e=>{let{isOpen:t,onClose:n,user:r}=e;const a=te(),{logout:s}=Qe(),l=(()=>{const e="admin"===(null===r||void 0===r?void 0:r.role),t="sales"===(null===r||void 0===r?void 0:r.role),n="finance"===(null===r||void 0===r?void 0:r.role),a="it"===(null===r||void 0===r?void 0:r.role),s=[{title:"Dashboard",icon:Fe,route:"/"}],l=[];return(e||t)&&l.push({title:"New Deal",icon:Me,route:"/deals/new"},{title:"Deal Status",icon:Be,route:"/deals/status"},{title:"Dealers",icon:Ie,route:"/dealers"},{title:"Brokers",icon:Re,route:"/brokers"},{title:"Transport",icon:Oe,route:"/transport"}),(e||n)&&l.push({title:"Dealers",icon:Ie,route:"/dealers"},{title:"All Deals",icon:Be,route:"/finance/deals"}),e&&l.push({title:"Users",icon:Ie,route:"/users"},{title:"API Keys",icon:Ue,route:"/apikeys"}),a&&l.push({title:"IT Dashboard",icon:Ce,route:"/it"}),[...s,...l]})();return(0,qe.jsxs)("div",{className:"w-40 bg-gray-900 border-r border-gray-700 flex flex-col h-full transition-all duration-300 ease-in-out",children:[(0,qe.jsx)("div",{className:"p-3 border-b border-gray-700",children:(0,qe.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qe.jsx)("img",{src:"/rpexotics-logo.png",alt:"RP Exotics Logo",className:"h-5 w-5 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,qe.jsx)("div",{className:"h-5 w-5 bg-blue-500 rounded hidden"}),(0,qe.jsx)("h2",{className:"text-xs font-semibold text-white",children:"Menu"})]})}),(0,qe.jsx)("div",{className:"flex-1 p-2 space-y-2 overflow-y-auto",children:l.map((e,t)=>{const r=e.icon;return(0,qe.jsxs)("button",{onClick:()=>{a(e.route),n&&n()},className:"w-full group flex flex-col items-center py-2 px-1 rounded-md hover:bg-gray-800 transition-colors duration-200",children:[(0,qe.jsx)(r,{className:"h-5 w-5 text-gray-400 group-hover:text-white transition-colors mb-1"}),(0,qe.jsx)("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors text-center leading-tight",children:e.title})]},t)})}),(0,qe.jsxs)("div",{className:"p-3 border-t border-gray-700",children:[(0,qe.jsxs)("div",{className:"text-center mb-3",children:[(0,qe.jsxs)("div",{className:"text-xs text-gray-400 mb-1",children:[null===r||void 0===r?void 0:r.firstName," ",null===r||void 0===r?void 0:r.lastName]}),(0,qe.jsx)("div",{className:"text-xs text-gray-500",children:null===r||void 0===r?void 0:r.role})]}),(0,qe.jsxs)("button",{onClick:s,className:"w-full group flex flex-col items-center py-2 px-1 rounded-md hover:bg-gray-800 transition-colors duration-200",children:[(0,qe.jsx)(ze,{className:"h-5 w-5 text-gray-400 group-hover:text-white transition-colors mb-1"}),(0,qe.jsx)("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"Logout"})]})]})]})},Tp=e=>{let{children:t}=e;const n=Z(),{user:r}=Qe();return"/"===n.pathname?t:(0,qe.jsxs)("div",{className:"flex h-screen bg-gray-900",children:[(0,qe.jsx)(Dp,{isOpen:!0,onClose:()=>{},user:r}),(0,qe.jsx)("div",{className:"flex-1 overflow-auto",children:t})]})},Ep=()=>{const{token:e}=ne(),[t,n]=(te(),(0,s.useState)(null)),[r,a]=(0,s.useState)(!0),[l,o]=(0,s.useState)(!1),[i,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)(null),[h,f]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[v,w]=(0,s.useState)({consentAgreement:!1,photoId:null,titleFront:null,titleBack:null,registration:null,odometerPhoto:null,hasLien:!1,lienholderName:"",lienholderPhone:"",loanAccountNumber:"",lastFourSSN:"",mailingAddress:{street:"",city:"",state:"",zip:""},emailAddress:"",pickupAddress:{street:"",city:"",state:"",zip:""},pickupHours:""}),N="https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{j()},[e]);const j=async()=>{try{const t=await fetch(`${N}/api/seller-upload/verify/${e}`,{method:"GET",credentials:"include"}),r=await t.json();r.success?(n(r.uploadInfo),g(r.uploadInfo.remainingAttempts),y(r.uploadInfo.expiresAt)):m(r.message||"Invalid upload link")}catch(p){console.error("Error verifying token:",p),m("Failed to verify upload link")}finally{a(!1)}},k=(e,t)=>{w(n=>({...n,[e]:t}))},S=(e,t)=>{w(n=>({...n,mailingAddress:{...n.mailingAddress,[e]:t}}))},D=(e,t)=>{w(n=>({...n,pickupAddress:{...n.pickupAddress,[e]:t}}))},T=(e,t)=>{t&&t.size>10485760?Ht.error(`${t.name} is too large. Maximum file size is 10MB.`):w(n=>({...n,[e]:t}))};return r?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(Xe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-400 animate-spin mx-auto mb-3 sm:mb-4"}),(0,qe.jsx)("p",{className:"text-white text-sm sm:text-base",children:"Verifying upload link..."})]})}):p?(0,qe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:(0,qe.jsx)("div",{className:"bg-red-900/20 border border-red-700/30 rounded-lg p-6 sm:p-8 max-w-md w-full",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)(Ze,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-400 mx-auto mb-3 sm:mb-4"}),(0,qe.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"Upload Link Error"}),(0,qe.jsx)("p",{className:"text-gray-300 mb-4 sm:mb-6 text-sm sm:text-base",children:p}),(0,qe.jsx)("button",{onClick:()=>window.close(),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm sm:text-base w-full sm:w-auto",children:"Close Page"})]})})}):(0,qe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,qe.jsx)("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,qe.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-4",children:(0,qe.jsx)("div",{className:"flex items-center justify-between",children:(0,qe.jsxs)("div",{className:"flex items-center",children:[(0,qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-2 sm:p-3 mr-3 sm:mr-4",children:(0,qe.jsx)(Pe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"Document Upload"}),(0,qe.jsx)("p",{className:"text-gray-300 text-xs sm:text-sm",children:"RP Exotics - Secure Document Upload"})]})]})})})}),(0,qe.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[t&&(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10 mb-6 sm:mb-8",children:[(0,qe.jsx)("h2",{className:"text-base sm:text-lg font-medium text-white mb-3 sm:mb-4",children:"Vehicle Information"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Vehicle"}),(0,qe.jsx)("p",{className:"text-white font-medium text-sm sm:text-base",children:t.vehicleInfo})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN"}),(0,qe.jsx)("p",{className:"text-white font-medium text-sm sm:text-base break-all",children:t.vin})]})]})]}),t&&(0,qe.jsxs)("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-xl p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3 sm:mb-4",children:[(0,qe.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-2 mr-3",children:(0,qe.jsx)("svg",{className:"h-4 w-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,qe.jsx)("h2",{className:"text-base sm:text-lg font-medium text-white",children:"Security Information"})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-300 text-xs sm:text-sm",children:"Remaining Upload Attempts"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:null!==x?(0,qe.jsxs)("span",{className:x>1?"text-green-400":"text-orange-400",children:[x," ",1===x?"attempt":"attempts"]}):(0,qe.jsx)("span",{className:"text-gray-400",children:"Loading..."})})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("p",{className:"text-blue-300 text-xs sm:text-sm",children:"Link Expires"}),(0,qe.jsx)("p",{className:"text-white font-medium",children:b?(0,qe.jsxs)("span",{className:"text-gray-300",children:[new Date(b).toLocaleDateString()," at ",new Date(b).toLocaleTimeString()]}):(0,qe.jsx)("span",{className:"text-gray-400",children:"Loading..."})})]})]}),(0,qe.jsx)("div",{className:"mt-3 sm:mt-4 p-3 bg-blue-900/30 rounded-lg",children:(0,qe.jsxs)("p",{className:"text-blue-200 text-xs",children:[(0,qe.jsx)("strong",{children:"Security Notes:"})," This is a secure, time-limited upload link. Only upload documents related to this vehicle. Supported formats: PDF, DOC, DOCX, JPG, PNG (max 10MB each)."]})})]}),(0,qe.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10 mb-6 sm:mb-8",children:[(0,qe.jsx)("h2",{className:"text-base sm:text-lg font-medium text-white mb-3 sm:mb-4",children:"Purchase Checklist"}),(0,qe.jsxs)("div",{className:"space-y-6",children:[(0,qe.jsx)("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4 sm:p-6",children:(0,qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qe.jsx)("input",{type:"checkbox",id:"consentAgreement",checked:v.consentAgreement,onChange:e=>k("consentAgreement",e.target.checked),className:"mt-1 h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2",required:!0}),(0,qe.jsxs)("div",{className:"flex-1",children:[(0,qe.jsx)("label",{htmlFor:"consentAgreement",className:"text-sm sm:text-base font-medium text-white cursor-pointer",children:"I agree to sell my vehicle to RP Exotics"}),(0,qe.jsx)("p",{className:"text-gray-300 text-xs sm:text-sm mt-1",children:"By checking this box, I confirm that I am the legal owner of this vehicle and I agree to sell it to RP Exotics under the terms and conditions of our purchase agreement. I understand that this is a binding agreement to sell my vehicle and that RP Exotics will proceed with the purchase process based on the information and documents I provide."}),(0,qe.jsxs)("div",{className:"mt-2 text-xs text-blue-300",children:[(0,qe.jsx)("strong",{children:"Important:"})," This agreement is legally binding. Please ensure all information provided is accurate and complete."]})]})]})}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:"1. Valid state-issued photo ID for all title holders *"}),(0,qe.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>T("photoId",e.target.files[0]),className:"block w-full text-xs sm:text-sm text-gray-300 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer"}),v.photoId&&(0,qe.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\u2713 ",v.photoId.name]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:["2a. Front photo of the title in front of the vehicle ",!v.hasLien&&"*",v.hasLien&&(0,qe.jsx)("span",{className:"text-gray-500",children:"(Optional - lien on title)"})]}),(0,qe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>T("titleFront",e.target.files[0]),className:"block w-full text-xs sm:text-sm text-gray-300 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer"}),v.titleFront&&(0,qe.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\u2713 ",v.titleFront.name]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:["2b. Back photo of the title in front of the vehicle ",!v.hasLien&&"*",v.hasLien&&(0,qe.jsx)("span",{className:"text-gray-500",children:"(Optional - lien on title)"})]}),(0,qe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>T("titleBack",e.target.files[0]),className:"block w-full text-xs sm:text-sm text-gray-300 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer"}),v.titleBack&&(0,qe.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\u2713 ",v.titleBack.name]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,qe.jsx)("input",{type:"checkbox",id:"hasLien",checked:v.hasLien,onChange:e=>k("hasLien",e.target.checked),className:"mr-2"}),(0,qe.jsx)("label",{htmlFor:"hasLien",className:"text-xs sm:text-sm font-medium text-gray-300",children:"3. There is a lien on the title"})]}),v.hasLien&&(0,qe.jsxs)("div",{className:"ml-6 space-y-3 bg-white/5 rounded-lg p-3",children:[(0,qe.jsxs)("div",{className:"mb-3 p-2 bg-blue-900/30 rounded text-xs text-blue-200",children:[(0,qe.jsx)("strong",{children:"Note:"})," Since there is a lien on the title, title photos are now optional. However, registration is required to verify vehicle ownership."]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1",children:"Lienholder name *"}),(0,qe.jsx)("input",{type:"text",value:v.lienholderName,onChange:e=>k("lienholderName",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter lienholder name"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1",children:"Contact phone number *"}),(0,qe.jsx)("input",{type:"tel",value:v.lienholderPhone,onChange:e=>k("lienholderPhone",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"(555) 123-4567"})]})]}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1",children:"Loan account number *"}),(0,qe.jsx)("input",{type:"text",value:v.loanAccountNumber,onChange:e=>k("loanAccountNumber",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter loan account number"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1",children:"Last four digits of SSN *"}),(0,qe.jsx)("input",{type:"text",value:v.lastFourSSN,onChange:e=>k("lastFourSSN",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"1234",maxLength:"4"})]})]})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:["4. Picture of Registration ",v.hasLien&&"*",v.hasLien&&(0,qe.jsx)("span",{className:"text-blue-400",children:"(Required - lien on title)"}),!v.hasLien&&(0,qe.jsx)("span",{className:"text-gray-500",children:"(If you don't have a title)"})]}),(0,qe.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>T("registration",e.target.files[0]),className:"block w-full text-xs sm:text-sm text-gray-300 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer"}),v.registration&&(0,qe.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\u2713 ",v.registration.name]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:"5. Photo of the current odometer reading *"}),(0,qe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>T("odometerPhoto",e.target.files[0]),className:"block w-full text-xs sm:text-sm text-gray-300 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer"}),v.odometerPhoto&&(0,qe.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\u2713 ",v.odometerPhoto.name]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:"6. Mailing address for check *"}),(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,qe.jsx)("div",{className:"sm:col-span-2",children:(0,qe.jsx)("input",{type:"text",value:v.mailingAddress.street,onChange:e=>S("street",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Street Address"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.mailingAddress.city,onChange:e=>S("city",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"City"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.mailingAddress.state,onChange:e=>S("state",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"State"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.mailingAddress.zip,onChange:e=>S("zip",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"ZIP Code"})})]})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-2",children:"7. Email address for the Bill of Sale *"}),(0,qe.jsx)("input",{type:"email",value:v.emailAddress,onChange:e=>k("emailAddress",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"your.email@example.com"})]}),(0,qe.jsxs)("div",{children:[(0,qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qe.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-300",children:"8. Pick up address and pick up hours *"}),(0,qe.jsx)("button",{type:"button",onClick:()=>{w(e=>({...e,pickupAddress:{street:e.mailingAddress.street,city:e.mailingAddress.city,state:e.mailingAddress.state,zip:e.mailingAddress.zip}})),Ht.success("Pickup address copied from mailing address")},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition-colors",children:"Same as mailing address"})]}),(0,qe.jsxs)("div",{className:"space-y-3",children:[(0,qe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,qe.jsx)("div",{className:"sm:col-span-2",children:(0,qe.jsx)("input",{type:"text",value:v.pickupAddress.street,onChange:e=>D("street",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Street Address"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.pickupAddress.city,onChange:e=>D("city",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"City"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.pickupAddress.state,onChange:e=>D("state",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"State"})}),(0,qe.jsx)("div",{children:(0,qe.jsx)("input",{type:"text",value:v.pickupAddress.zip,onChange:e=>D("zip",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"ZIP Code"})})]}),(0,qe.jsx)("input",{type:"text",value:v.pickupHours,onChange:e=>k("pickupHours",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Pick up hours (e.g., Mon-Fri 9AM-5PM)"})]})]})]}),(0,qe.jsx)("div",{className:"flex justify-center mt-6",children:(0,qe.jsx)("button",{onClick:async()=>{const t=(()=>{const e=[];return v.consentAgreement||e.push("You must agree to sell your vehicle to RP Exotics"),v.photoId||e.push("Photo ID is required"),v.odometerPhoto||e.push("Odometer photo is required"),v.hasLien||(v.titleFront||e.push("Front photo of title is required"),v.titleBack||e.push("Back photo of title is required")),v.hasLien&&!v.registration?e.push("Registration is required when there is a lien on the title"):v.hasLien||v.titleFront||v.registration||e.push("Either title photos or registration is required"),v.hasLien&&(v.lienholderName||e.push("Lienholder name is required"),v.lienholderPhone||e.push("Lienholder phone is required"),v.loanAccountNumber||e.push("Loan account number is required"),v.lastFourSSN||e.push("Last four digits of SSN is required")),v.mailingAddress.street||e.push("Mailing address street is required"),v.mailingAddress.city||e.push("Mailing address city is required"),v.mailingAddress.state||e.push("Mailing address state is required"),v.mailingAddress.zip||e.push("Mailing address zip is required"),v.emailAddress||e.push("Email address is required"),v.pickupAddress.street||e.push("Pickup address street is required"),v.pickupAddress.city||e.push("Pickup address city is required"),v.pickupAddress.state||e.push("Pickup address state is required"),v.pickupAddress.zip||e.push("Pickup address zip is required"),v.pickupHours||e.push("Pickup hours are required"),e})();if(t.length>0)Ht.error(`Please fix the following errors: ${t.join(", ")}`);else{o(!0);try{const t=new FormData;t.append("formData",JSON.stringify(v));[v.photoId,v.titleFront,v.titleBack,v.registration,v.odometerPhoto].filter(Boolean).forEach((e,n)=>{t.append("documents",e)});const n=await fetch(`${N}/api/seller-upload/upload/${e}`,{method:"POST",body:t,credentials:"include"}),r=await n.json();r.success?(c(r.uploadedFiles),Ht.success(r.message),setTimeout(()=>{Ht.success(`Purchase checklist completed successfully! ${r.documentsAdded} document(s) uploaded and automatically approved. The documents are now available in the deal file.`,{autoClose:8e3})},2e3)):Ht.error(r.message||"Failed to submit purchase checklist")}catch(p){console.error("Error uploading files:",p),Ht.error("Failed to submit purchase checklist. Please try again.")}finally{o(!1)}}},disabled:l,className:"flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 text-sm sm:text-base w-full sm:w-auto",children:l?(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(Xe,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 animate-spin"}),"Submitting..."]}):(0,qe.jsxs)(qe.Fragment,{children:[(0,qe.jsx)(Ve,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Submit Purchase Checklist"]})})})]}),i.length>0&&(0,qe.jsxs)("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-4 sm:p-6",children:[(0,qe.jsxs)("h2",{className:"text-base sm:text-lg font-medium text-green-300 mb-3 sm:mb-4 flex items-center",children:[(0,qe.jsx)(Ve,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Successfully Uploaded"]}),(0,qe.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,qe.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 bg-white/5 rounded-lg p-2 sm:p-3",children:[(0,qe.jsx)(Ve,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-400 flex-shrink-0"}),(0,qe.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,qe.jsx)("p",{className:"text-white text-xs sm:text-sm font-medium truncate",children:e.originalName}),(0,qe.jsxs)("p",{className:"text-gray-400 text-xs",children:["Uploaded at ",new Date(e.uploadedAt).toLocaleString()]})]})]},t))}),(0,qe.jsxs)("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-green-600/20 rounded-lg",children:[(0,qe.jsx)("p",{className:"text-green-300 text-xs sm:text-sm mb-2",children:"\u2705 Your documents have been successfully uploaded and will be reviewed by our team."}),(0,qe.jsx)("p",{className:"text-green-200 text-xs",children:(0,qe.jsx)("strong",{children:"What happens next:"})}),(0,qe.jsxs)("ul",{className:"text-green-200 text-xs mt-1 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 Your documents are now saved securely in our system"}),(0,qe.jsx)("li",{children:"\u2022 Documents have been automatically approved"}),(0,qe.jsx)("li",{children:"\u2022 Documents are immediately available in the deal file"}),(0,qe.jsx)("li",{children:"\u2022 No further action is required from our team"}),(0,qe.jsx)("li",{children:"\u2022 You can now close this page - your upload is complete"})]})]})]}),(0,qe.jsxs)("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4 sm:p-6",children:[(0,qe.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-blue-300 mb-2",children:"\u2139\ufe0f Purchase Checklist Information"}),(0,qe.jsxs)("ul",{className:"text-xs sm:text-sm text-gray-300 space-y-1",children:[(0,qe.jsx)("li",{children:"\u2022 All fields marked with * are required"}),(0,qe.jsx)("li",{children:"\u2022 Photo ID must be a valid state-issued ID for all title holders"}),(0,qe.jsx)("li",{children:"\u2022 Title photos must be taken in front of the vehicle"}),(0,qe.jsx)("li",{children:"\u2022 If you have a lien, all lienholder information is required"}),(0,qe.jsx)("li",{children:"\u2022 If you don't have a title, registration is required"}),(0,qe.jsx)("li",{children:"\u2022 Odometer photo must show current mileage clearly"}),(0,qe.jsx)("li",{children:"\u2022 Mailing address is where your check will be sent"}),(0,qe.jsx)("li",{children:"\u2022 Email address will receive the Bill of Sale"}),(0,qe.jsx)("li",{children:"\u2022 Pickup information is for vehicle collection"}),(0,qe.jsx)("li",{children:"\u2022 This form will expire after 7 days"})]})]})]}),(0,qe.jsx)(en,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})};function Cp(){const{signatureId:e}=ne(),[t,n]=(0,s.useState)(!0),[r,a]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!e||!e.startsWith("sig_")||e.length<20)return a("Invalid signature request"),void n(!1);(async()=>{try{if(!(await fetch(`/api/signatures/status/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok)return a("Invalid or expired signature request"),void n(!1);n(!1)}catch(r){console.error("Error validating signature request:",r),a("Unable to validate signature request"),n(!1)}})()},[e]),t?(0,qe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,qe.jsx)("p",{className:"text-gray-600",children:"Validating signature request..."})]})}):r?(0,qe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qe.jsxs)("div",{className:"text-center",children:[(0,qe.jsx)("div",{className:"text-red-600 text-xl mb-4",children:"\u26a0\ufe0f"}),(0,qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,qe.jsx)("p",{className:"text-gray-600",children:r}),(0,qe.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Please contact the sender if you believe this is an error."})]})}):(0,qe.jsx)(bp,{signatureId:e})}function Pp(e){let{children:t}=e;const{user:n,loading:r}=Qe(),a=Z();return r?null:n?t:(0,qe.jsx)(xe,{to:"/login",state:{from:a},replace:!0})}const _p=function(){return(0,qe.jsx)(Ke,{children:(0,qe.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,qe.jsxs)(ye,{children:[(0,qe.jsx)(ge,{path:"/login",element:(0,qe.jsx)(ic,{})}),(0,qe.jsx)(ge,{path:"/deals/new",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(rc,{})})})}),(0,qe.jsx)(ge,{path:"/deals/status",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Ec,{})})})}),(0,qe.jsx)(ge,{path:"/deals/all",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Ic,{})})})}),(0,qe.jsx)(ge,{path:"/users",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Lc,{})})})}),(0,qe.jsx)(ge,{path:"/apikeys",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Zc,{})})})}),(0,qe.jsx)(ge,{path:"/admin/performance",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Sp,{})})})}),(0,qe.jsx)(ge,{path:"/sign/:signatureId",element:(0,qe.jsx)(Cp,{})}),(0,qe.jsx)(ge,{path:"/seller-upload/:token",element:(0,qe.jsx)(Ep,{})}),(0,qe.jsx)(ge,{path:"/signatures/:signatureId/compliance",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(yp,{})})})}),(0,qe.jsx)(ge,{path:"/dealers",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(uc,{})})})}),(0,qe.jsx)(ge,{path:"/brokers",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(wp,{})})})}),(0,qe.jsx)(ge,{path:"/finance/deals",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(hc,{})})})}),(0,qe.jsx)(ge,{path:"/finance/deals/:dealId",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(fc,{})})})}),(0,qe.jsx)(ge,{path:"/finance/status",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(bc,{})})})}),(0,qe.jsx)(ge,{path:"/finance/deals/:dealId/update-status",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Nc,{})})})}),(0,qe.jsx)(ge,{path:"/deals/:dealId/documents/:fileName/view",element:(0,qe.jsx)(yc,{})}),(0,qe.jsx)(ge,{path:"/deals/:dealId/documents/view",element:(0,qe.jsx)(yc,{})}),(0,qe.jsx)(ge,{path:"/deals/:dealId/documents/:fileName/enhanced-view",element:(0,qe.jsx)(vc,{})}),(0,qe.jsx)(ge,{path:"/deals/:dealId/documents/enhanced-view",element:(0,qe.jsx)(vc,{})}),(0,qe.jsx)(ge,{path:"/transport",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Oc,{})})})}),(0,qe.jsx)(ge,{path:"/transport/new",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Fc,{})})})}),(0,qe.jsx)(ge,{path:"/it",element:(0,qe.jsx)(Xc,{children:(0,qe.jsx)(Tp,{children:(0,qe.jsx)(Jc,{})})})}),(0,qe.jsx)(ge,{path:"/",element:(0,qe.jsx)(Pp,{children:(0,qe.jsx)(Je,{})})})]})})})};o.createRoot(document.getElementById("root")).render((0,qe.jsx)(_p,{}))})();
//# sourceMappingURL=main.e31d70d3.js.map