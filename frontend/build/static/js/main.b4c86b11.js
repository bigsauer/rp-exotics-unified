/*! For license information please see main.b4c86b11.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=b.prototype=new y;v.constructor=b,f(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},o=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:n,type:e,key:o,ref:l,props:s,_owner:j.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,s,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var i=!1;if(null===e)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return o=o(i=e),e=""===s?"."+E(i,0):s,w(o)?(a="",null!=e&&(a=e.replace(D,"$&/")+"/"),C(o,t,a,"",function(e){return e})):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(D,"$&/")+"/")+e)),t.push(o)),1;if(i=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+E(l=e[c],c);i+=C(l,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)i+=C(l=l.value,t,a,d=s+E(l,c++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var l=2*(r+1)-1,i=e[l],c=l+1,d=e[c];if(0>s(i,n))c<a&&0>s(d,i)?(e[r]=d,e[c]=n,r=c):(e[r]=i,e[l]=n,r=l);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();t.unstable_now=function(){return l.now()-i}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,v(e),!f)if(null!==r(c))f=!0,R(N);else{var t=r(d);null!==t&&L(w,t.startTime-e)}}function N(e,n){f=!1,g&&(g=!1,y(T),T=-1),h=!0;var s=m;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!C());){var o=p.callback;if("function"===typeof o){p.callback=null,m=p.priorityLevel;var l=o(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?p.callback=l:p===r(c)&&a(c),v(n)}else a(c);p=r(c)}if(null!==p)var i=!0;else{var u=r(d);null!==u&&L(w,u.startTime-n),i=!1}return i}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,S=null,T=-1,D=5,E=-1;function C(){return!(t.unstable_now()-E<D)}function _(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?j():(k=!1,S=null)}}else k=!1}if("function"===typeof b)j=function(){b(_)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=_,j=function(){A.postMessage(null)}}else j=function(){x(_,0)};function R(e){S=e,k||(k=!0,j())}function L(e,n){T=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(y(T),T=-1):g=!0,L(w,s-o))):(e.sortIndex=l,n(c,e),f||h||(f=!0,R(N))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,I=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(1!==o||1!==l)do{if(o--,0>--l||a[o]!==s[l]){var i="\n"+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=o&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,ke=null;function Se(e){if(e=wa(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),Ne(e.stateNode,e.type,t))}}function Te(e){je?ke?ke.push(e):ke=[e]:je=e}function De(){if(je){var e=je,t=ke;if(ke=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var _e=!1;function Pe(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ee(e,t,n)}finally{_e=!1,(null!==je||null!==ke)&&(Ce(),De())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Re=!1}function Me(e,t,n,r,a,s,o,l,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Oe=!1,Ie=null,Fe=!1,Ue=null,Be={onError:function(e){Oe=!0,Ie=e}};function He(e,t,n,r,a,s,o,l,i){Oe=!1,Ie=null,Me.apply(Be,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if($e(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===r)return Ve(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var l=!1,i=a.child;i;){if(i===n){l=!0,n=a,r=o;break}if(i===r){l=!0,r=a,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=a;break}if(i===r){l=!0,r=o,n=a;break}i=i.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/it|0)|0},lt=Math.log,it=Math.LN2;var ct=64,dt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~a;0!==l?r=pt(l):0!==(s&=o)&&(r=pt(s))}else 0!==(o=n&~a)?r=pt(o):0!==s&&(r=pt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,jt,kt,St,Tt,Dt=!1,Ct=[],_t=null,Pt=null,At=null,Rt=new Map,Lt=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ft(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=wa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=va(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Ht(e,t,n){Bt(e)&&n.delete(t)}function $t(){Dt=!1,null!==_t&&Bt(_t)&&(_t=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==At&&Bt(At)&&(At=null),Rt.forEach(Ht),Lt.forEach(Ht)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Dt||(Dt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$t)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==Pt&&zt(Pt,e),null!==At&&zt(At,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Mt.shift()}var Wt=v.ReactCurrentBatchConfig,Yt=!0;function qt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Kt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Gt(e,t,n,r){if(Yt){var a=Jt(e,t,n,r);if(null===a)Yr(e,t,r,Qt,n),It(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=Ft(_t,e,t,n,r,a),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,a),!0;case"mouseover":return At=Ft(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Rt.set(s,Ft(Rt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Ft(Lt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=wa(a);if(null!==s&&Nt(s),null===(s=Jt(e,t,n,r))&&Yr(e,t,r,Qt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=va(e=we(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function on(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:sn,this.isPropagationStopped=sn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=on(un),mn=I({},un,{view:0,detail:0}),hn=on(mn),fn=I({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=on(fn),xn=on(I({},fn,{dataTransfer:0})),yn=on(I({},mn,{relatedTarget:0})),bn=on(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=I({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),Nn=on(I({},un,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Dn(){return Tn}var En=I({},mn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(En),_n=on(I({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(I({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),An=on(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=I({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Rn),Mn=[9,13,27,32],On=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var Fn=d&&"TextEvent"in window&&!In,Un=d&&(!On||In&&8<In&&11>=In),Bn=String.fromCharCode(32),Hn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Br(e,0)}function Jn(e){if(q(Na(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ar),Gn=Kn=null)}function ar(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];qn(t,Gn,e,we(e)),Pe(Qn,t)}}function sr(e,t,n){"focusin"===e?(rr(),Gn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function lr(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!cr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=pr(n,s);var o=pr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,vr=null,wr=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&dr(vr,r)||(vr=r,0<(r=Kr(br,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Sr={},Tr={};function Dr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}d&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Dr("animationend"),Cr=Dr("animationiteration"),_r=Dr("animationstart"),Pr=Dr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ar.set(e,t),i(t,[e])}for(var Mr=0;Mr<Rr.length;Mr++){var Or=Rr[Mr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Er,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(_r,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,l,i,c){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var d=Ie;Oe=!1,Ie=null,Fe||(Fe=!0,Ue=d)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],i=l.instance,c=l.currentTarget;if(l=l.listener,i!==s&&a.isPropagationStopped())break e;Ur(a,l,c),s=i}else for(o=0;o<r.length;o++){if(i=(l=r[o]).instance,c=l.currentTarget,l=l.listener,i!==s&&a.isPropagationStopped())break e;Ur(a,l,c),s=i}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Hr(e,t){var n=t[xa];void 0===n&&(n=t[xa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,$r("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&((i=o.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;o=o.return}for(;null!==l;){if(null===(o=va(l)))return;if(5===(i=o.tag)||6===i){r=s=o;continue e}l=l.parentNode}}r=r.return}Pe(function(){var r=s,a=we(n),o=[];e:{var l=Ar.get(e);if(void 0!==l){var i=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":i=Cn;break;case"focusin":c="focus",i=yn;break;case"focusout":c="blur",i=yn;break;case"beforeblur":case"afterblur":i=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=xn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Pn;break;case Er:case Cr:case _r:i=bn;break;case Pr:i=An;break;case"scroll":i=hn;break;case"wheel":i=Ln;break;case"copy":case"cut":case"paste":i=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=_n}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==l?l+"Capture":null:l;d=[];for(var m,h=r;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Ae(h,p))&&d.push(qr(h,f,m)))),u)break;h=h.return}0<d.length&&(l=new i(l,c,null,n,a),o.push({event:l,listeners:d}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ga])&&(i||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(u=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=r),i!==c)){if(d=gn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==i?l:Na(i),m=null==c?l:Na(c),(l=new d(f,h+"leave",i,n,a)).target=u,l.relatedTarget=m,f=null,va(a)===r&&((d=new d(p,h+"enter",c,n,a)).target=m,d.relatedTarget=u,f=d),u=f,i&&c)e:{for(p=c,h=0,m=d=i;m;m=Gr(m))h++;for(m=0,f=p;f;f=Gr(f))m++;for(;0<h-m;)d=Gr(d),h--;for(;0<m-h;)p=Gr(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gr(d),p=Gr(p)}d=null}else d=null;null!==i&&Qr(o,l,i,d,!1),null!==c&&null!==u&&Qr(o,u,c,d,!0)}if("select"===(i=(l=r?Na(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===i&&"file"===l.type)var g=Xn;else if(Yn(l))if(Zn)g=ir;else{g=or;var x=sr}else(i=l.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=lr);switch(g&&(g=g(e,r))?qn(o,g,n,a):(x&&x(e,l,r),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=r?Na(r):window,e){case"focusin":(Yn(x)||"true"===x.contentEditable)&&(yr=x,br=r,vr=null);break;case"focusout":vr=br=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Nr(o,n,a);break;case"selectionchange":if(xr)break;case"keydown":case"keyup":Nr(o,n,a)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,Vn=!0)),0<(x=Kr(r,b)).length&&(b=new Nn(b,e,null,n,a),o.push({event:b,listeners:x}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&$n(e,t)?(e=nn(),tn=en=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new Nn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Br(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ae(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Ae(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var l=n,i=l.alternate,c=l.stateNode;if(null!==i&&i===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(i=Ae(n,s))&&o.unshift(qr(n,i,l)):a||null!=(i=Ae(n,s))&&o.push(qr(n,i,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function ea(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function ta(){}var na=null,ra=null;function aa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sa="function"===typeof setTimeout?setTimeout:void 0,oa="function"===typeof clearTimeout?clearTimeout:void 0,la="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof la?function(e){return la.resolve(null).then(e).catch(ca)}:sa;function ca(e){setTimeout(function(){throw e})}function da(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),ha="__reactFiber$"+ma,fa="__reactProps$"+ma,ga="__reactContainer$"+ma,xa="__reactEvents$"+ma,ya="__reactListeners$"+ma,ba="__reactHandles$"+ma;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ga]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pa(e);null!==e;){if(n=e[ha])return n;e=pa(e)}return t}n=(e=n).parentNode}return null}function wa(e){return!(e=e[ha]||e[ga])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Na(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[fa]||null}var ka=[],Sa=-1;function Ta(e){return{current:e}}function Da(e){0>Sa||(e.current=ka[Sa],ka[Sa]=null,Sa--)}function Ea(e,t){Sa++,ka[Sa]=e.current,e.current=t}var Ca={},_a=Ta(Ca),Pa=Ta(!1),Aa=Ca;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Da(Pa),Da(_a)}function Oa(e,t,n){if(_a.current!==Ca)throw Error(s(168));Ea(_a,t),Ea(Pa,n)}function Ia(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,z(e)||"Unknown",a));return I({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=_a.current,Ea(_a,e),Ea(Pa,Pa.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ia(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Da(Pa),Da(_a),Ea(_a,e)):Da(Pa),Ea(Pa,n)}var Ba=null,Ha=!1,$a=!1;function za(e){null===Ba?Ba=[e]:Ba.push(e)}function Va(){if(!$a&&null!==Ba){$a=!0;var e=0,t=vt;try{var n=Ba;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Ha=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),qe(Ze,Va),a}finally{vt=t,$a=!1}}return null}var Wa=[],Ya=0,qa=null,Ka=0,Ga=[],Qa=0,Ja=null,Xa=1,Za="";function es(e,t){Wa[Ya++]=Ka,Wa[Ya++]=qa,qa=e,Ka=t}function ts(e,t,n){Ga[Qa++]=Xa,Ga[Qa++]=Za,Ga[Qa++]=Ja,Ja=e;var r=Xa;e=Za;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Za=s+e}else Xa=1<<s|n<<a|r,Za=e}function ns(e){null!==e.return&&(es(e,1),ts(e,1,0))}function rs(e){for(;e===qa;)qa=Wa[--Ya],Wa[Ya]=null,Ka=Wa[--Ya],Wa[Ya]=null;for(;e===Ja;)Ja=Ga[--Qa],Ga[Qa]=null,Za=Ga[--Qa],Ga[Qa]=null,Xa=Ga[--Qa],Ga[Qa]=null}var as=null,ss=null,os=!1,ls=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function cs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ss=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ss=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Xa,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,as=e,ss=null,!0);default:return!1}}function ds(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(os){var t=ss;if(t){var n=t;if(!cs(e,t)){if(ds(e))throw Error(s(418));t=ua(n.nextSibling);var r=as;t&&cs(e,t)?is(r,n):(e.flags=-4097&e.flags|2,os=!1,as=e)}}else{if(ds(e))throw Error(s(418));e.flags=-4097&e.flags|2,os=!1,as=e}}}function ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function ms(e){if(e!==as)return!1;if(!os)return ps(e),os=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!aa(e.type,e.memoizedProps)),t&&(t=ss)){if(ds(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ua(t.nextSibling)}if(ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ss=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ss=null}}else ss=as?ua(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ss;e;)e=ua(e.nextSibling)}function fs(){ss=as=null,os=!1}function gs(e){null===ls?ls=[e]:ls.push(e)}var xs=v.ReactCurrentBatchConfig;function ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&vs(s)===t.type)?((r=a(t,n.props)).ref=ys(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=ys(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=ys(e,null,t),n.return=e,n;case N:return(t=Bc(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ic(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?d(e,t,n,r):null;case A:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:u(e,t,n,r,null);bs(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return u(t,e=e.get(n)||null,r,a,null);bs(t,r)}return null}function f(a,s,l,i){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<l.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=m(a,u,l[f],i);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),s=o(x,s,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===l.length)return n(a,u),os&&es(a,f),c;if(null===u){for(;f<l.length;f++)null!==(u=p(a,l[f],i))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return os&&es(a,f),c}for(u=r(a,u);f<l.length;f++)null!==(g=h(u,a,f,l[f],i))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),os&&es(a,f),c}function g(a,l,i,c){var d=M(i);if("function"!==typeof d)throw Error(s(150));if(null==(i=d.call(i)))throw Error(s(151));for(var u=d=null,f=l,g=l=0,x=null,y=i.next();null!==f&&!y.done;g++,y=i.next()){f.index>g?(x=f,f=null):x=f.sibling;var b=m(a,f,y.value,c);if(null===b){null===f&&(f=x);break}e&&f&&null===b.alternate&&t(a,f),l=o(b,l,g),null===u?d=b:u.sibling=b,u=b,f=x}if(y.done)return n(a,f),os&&es(a,g),d;if(null===f){for(;!y.done;g++,y=i.next())null!==(y=p(a,y.value,c))&&(l=o(y,l,g),null===u?d=y:u.sibling=y,u=y);return os&&es(a,g),d}for(f=r(a,f);!y.done;g++,y=i.next())null!==(y=h(f,a,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),l=o(y,l,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(a,e)}),os&&es(a,g),d}return function e(r,s,o,i){if("object"===typeof o&&null!==o&&o.type===j&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===j){if(7===d.tag){n(r,d.sibling),(s=a(d,o.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vs(c)===d.type){n(r,d.sibling),(s=a(d,o.props)).ref=ys(r,d,o),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===j?((s=Ic(o.props.children,r.mode,i,o.key)).return=r,r=s):((i=Oc(o.type,o.key,o.props,null,r.mode,i)).ref=ys(r,s,o),i.return=r,r=i)}return l(r);case N:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(o,r.mode,i)).return=r,r=s}return l(r);case A:return e(r,s,(d=o._init)(o._payload),i)}if(te(o))return f(r,s,o,i);if(M(o))return g(r,s,o,i);bs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,i)).return=r,r=s),l(r)):n(r,s)}}var Ns=ws(!0),js=ws(!1),ks=Ta(null),Ss=null,Ts=null,Ds=null;function Es(){Ds=Ts=Ss=null}function Cs(e){var t=ks.current;Da(ks),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Ss=e,Ds=Ts=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===Ts){if(null===Ss)throw Error(s(308));Ts=e,Ss.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Rs=null;function Ls(e){null===Rs?Rs=[e]:Rs.push(e)}function Ms(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_i)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Ls(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function $s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var a=e.updateQueue;Is=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var i=l,c=i.next;i.next=null,null===o?s=c:o.next=c,o=i;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=a.baseState;for(o=0,d=c=i=null,l=s;;){var p=l.lane,m=l.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,f=l;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=I({},u,p);break e;case 2:Is=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,i=u):d=d.next=m,o|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Fi|=o,e.lanes=o,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ys={},qs=Ta(Ys),Ks=Ta(Ys),Gs=Ta(Ys);function Qs(e){if(e===Ys)throw Error(s(174));return e}function Js(e,t){switch(Ea(Gs,t),Ea(Ks,e),Ea(qs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Da(qs),Ea(qs,t)}function Xs(){Da(qs),Da(Ks),Da(Gs)}function Zs(e){Qs(Gs.current);var t=Qs(qs.current),n=ie(t,e.type);t!==n&&(Ea(Ks,e),Ea(qs,n))}function eo(e){Ks.current===e&&(Da(qs),Da(Ks))}var to=Ta(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function ao(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var so=v.ReactCurrentDispatcher,oo=v.ReactCurrentBatchConfig,lo=0,io=null,co=null,uo=null,po=!1,mo=!1,ho=0,fo=0;function go(){throw Error(s(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,a,o){if(lo=o,io=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?tl:nl,e=n(r,a),mo){o=0;do{if(mo=!1,ho=0,25<=o)throw Error(s(301));o+=1,uo=co=null,t.updateQueue=null,so.current=rl,e=n(r,a)}while(mo)}if(so.current=el,t=null!==co&&null!==co.next,lo=0,uo=co=io=null,po=!1,t)throw Error(s(300));return e}function bo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?io.memoizedState=uo=e:uo=uo.next=e,uo}function wo(){if(null===co){var e=io.alternate;e=null!==e?e.memoizedState:null}else e=co.next;var t=null===uo?io.memoizedState:uo.next;if(null!==t)uo=t,co=e;else{if(null===e)throw Error(s(310));e={memoizedState:(co=e).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?io.memoizedState=uo=e:uo=uo.next=e}return uo}function No(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=co,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var l=a.next;a.next=o.next,o.next=l}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var i=l=null,c=null,d=o;do{var u=d.lane;if((lo&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(i=c=p,l=r):c=c.next=p,io.lanes|=u,Fi|=u}d=d.next}while(null!==d&&d!==o);null===c?l=r:c.next=i,cr(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,io.lanes|=o,Fi|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{o=e(o,l.action),l=l.next}while(l!==a);cr(o,t.memoizedState)||(wl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function To(e,t){var n=io,r=wo(),a=t(),o=!cr(r.memoizedState,a);if(o&&(r.memoizedState=a,wl=!0),r=r.queue,Fo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Ro(9,Eo.bind(null,n,r,a,t),void 0,null),null===Pi)throw Error(s(349));0!==(30&lo)||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Po(e)}function Co(e,t,n){return n(function(){_o(t)&&Po(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function Po(e){var t=Os(e,1);null!==t&&ac(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,io,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return wo().memoizedState}function Mo(e,t,n,r){var a=vo();io.flags|=e,a.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var a=wo();r=void 0===r?null:r;var s=void 0;if(null!==co){var o=co.memoizedState;if(s=o.destroy,null!==r&&xo(r,o.deps))return void(a.memoizedState=Ro(t,n,s,r))}io.flags|=e,a.memoizedState=Ro(1|t,n,s,r)}function Io(e,t){return Mo(8390656,8,e,t)}function Fo(e,t){return Oo(2048,8,e,t)}function Uo(e,t){return Oo(4,2,e,t)}function Bo(e,t){return Oo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Ho.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(cr(n,t)||(n=gt(),io.lanes|=n,Fi|=n,e.baseState=!0),t)}function qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{vt=n,oo.transition=r}}function Ko(){return wo().memoizedState}function Go(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Xo(t,n);else if(null!==(n=Ms(e,t,n,r))){ac(n,e,r,nc()),Zo(n,t,r)}}function Qo(e,t,n){var r=rc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Xo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,cr(l,o)){var i=t.interleaved;return null===i?(a.next=a,Ls(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ms(e,t,a,r))&&(ac(n,e,r,a=nc()),Zo(n,t,r))}}function Jo(e){var t=e.alternate;return e===io||null!==t&&t===io}function Xo(e,t){mo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var el={readContext:As,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},tl={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,io,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=io,a=vo();if(os){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pi)throw Error(s(349));0!==(30&lo)||Do(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Io(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Pi.identifierPrefix;if(os){var n=Za;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nl={readContext:As,useCallback:Vo,useContext:As,useEffect:Fo,useImperativeHandle:$o,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Wo,useReducer:jo,useRef:Lo,useState:function(){return jo(No)},useDebugValue:zo,useDeferredValue:function(e){return Yo(wo(),co.memoizedState,e)},useTransition:function(){return[jo(No)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:To,useId:Ko,unstable_isNewReconciler:!1},rl={readContext:As,useCallback:Vo,useContext:As,useEffect:Fo,useImperativeHandle:$o,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Wo,useReducer:ko,useRef:Lo,useState:function(){return ko(No)},useDebugValue:zo,useDeferredValue:function(e){var t=wo();return null===co?t.memoizedState=e:Yo(t,co.memoizedState,e)},useTransition:function(){return[ko(No)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:To,useId:Ko,unstable_isNewReconciler:!1};function al(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function sl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),s=Bs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,a))&&(ac(t,e,a,r),$s(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),s=Bs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,a))&&(ac(t,e,a,r),$s(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),a=Bs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Hs(e,a,r))&&(ac(t,e,r,n),$s(t,e,r))}};function ll(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,s))}function il(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=La(t)?Aa:_a.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function cl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function dl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=La(t)?Aa:_a.current,a.context=Ra(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(sl(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ol.enqueueReplaceState(a,a.state,null),Vs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hl="function"===typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yi||(Yi=!0,qi=r),ml(0,t)},n}function gl(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ml(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ml(0,t),"function"!==typeof r&&(null===Ki?Ki=new Set([this]):Ki.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Hs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vl=v.ReactCurrentOwner,wl=!1;function Nl(e,t,n,r){t.child=null===e?js(t,null,n,r):Ns(t,e.child,n,r)}function jl(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=yo(e,t,n,r,s,a),n=bo(),null===e||wl?(os&&n&&ns(t),t.flags|=1,Nl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yl(e,t,a))}function kl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sl(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:dr)(o,r)&&e.ref===t.ref)return Yl(e,t,a)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(dr(s,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Yl(e,t,a);0!==(131072&e.flags)&&(wl=!0)}}return El(e,t,n,r,a)}function Tl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Mi,Li),Li|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Mi,Li),Li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ea(Mi,Li),Li|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ea(Mi,Li),Li|=r;return Nl(e,t,a,n),t.child}function Dl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,a){var s=La(n)?Aa:_a.current;return s=Ra(t,s),Ps(t,a),n=yo(e,t,n,r,s,a),r=bo(),null===e||wl?(os&&r&&ns(t),t.flags|=1,Nl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yl(e,t,a))}function Cl(e,t,n,r,a){if(La(n)){var s=!0;Fa(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Wl(e,t),il(t,n,r),dl(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var i=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ra(t,c=La(n)?Aa:_a.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||i!==c)&&cl(t,o,r,c),Is=!1;var p=t.memoizedState;o.state=p,Vs(t,r,o,a),i=t.memoizedState,l!==r||p!==i||Pa.current||Is?("function"===typeof d&&(sl(t,n,d,r),i=t.memoizedState),(l=Is||ll(t,n,l,r,p,i,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),o.props=r,o.state=i,o.context=c,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Us(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:al(t.type,l),o.props=c,u=t.pendingProps,p=o.context,"object"===typeof(i=n.contextType)&&null!==i?i=As(i):i=Ra(t,i=La(n)?Aa:_a.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==u||p!==i)&&cl(t,o,r,i),Is=!1,p=t.memoizedState,o.state=p,Vs(t,r,o,a);var h=t.memoizedState;l!==u||p!==h||Pa.current||Is?("function"===typeof m&&(sl(t,n,m,r),h=t.memoizedState),(c=Is||ll(t,n,c,r,p,h,i)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,i),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,i)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=i,r=c):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _l(e,t,n,r,s,a)}function _l(e,t,n,r,a,s){Dl(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ua(t,n,!1),Yl(e,t,s);r=t.stateNode,vl.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ns(t,e.child,null,s),t.child=Ns(t,null,l,s)):Nl(e,t,l,s),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function Pl(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Js(e,t.containerInfo)}function Al(e,t,n,r,a){return fs(),gs(a),t.flags|=256,Nl(e,t,n,r),t.child}var Rl,Ll,Ml,Ol,Il={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ul(e,t,n){var r,a=t.pendingProps,o=to.current,l=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ea(to,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,l?(a=t.mode,l=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=i):l=Fc(i,a,0,null),e=Ic(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Fl(n),t.memoizedState=Il,e):Bl(t,i));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,l){if(n)return 256&t.flags?(t.flags&=-257,Hl(e,t,l,r=pl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(o=Ic(o,a,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ns(t,e.child,null,l),t.child.memoizedState=Fl(l),t.memoizedState=Il,o);if(0===(1&t.mode))return Hl(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var i=r.dgst;return r=i,Hl(e,t,l,r=pl(o=Error(s(419)),r,void 0))}if(i=0!==(l&e.childLanes),wl||i){if(null!==(r=Pi)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Os(e,a),ac(r,e,a,-1))}return xc(),Hl(e,t,l,r=pl(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ss=ua(a.nextSibling),as=t,os=!0,ls=null,null!==e&&(Ga[Qa++]=Xa,Ga[Qa++]=Za,Ga[Qa++]=Ja,Xa=e.id,Za=e.overflow,Ja=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,i,a,r,o,n);if(l){l=a.fallback,i=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=Mc(r,l):(l=Ic(l,i,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,i=null===(i=e.child.memoizedState)?Fl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Il,a}return e=(l=e.child).sibling,a=Mc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bl(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hl(e,t,n,r){return null!==r&&gs(r),Ns(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $l(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function zl(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Vl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Nl(e,t,r.children,n),0!==(2&(r=to.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$l(e,n,t);else if(19===e.tag)$l(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(to,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===no(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zl(t,!0,n,null,s);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fi|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return La(t.type)&&Ma(),Kl(t),null;case 3:return r=t.stateNode,Xs(),Da(Pa),Da(_a),ao(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ls&&(ic(ls),ls=null))),Ll(e,t),Kl(t),null;case 5:eo(t);var a=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ml(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Kl(t),null}if(e=Qs(qs.current),ms(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(a=0;a<Ir.length;a++)Hr(Ir[a],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Q(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":ae(r,o),Hr("invalid",r)}for(var i in ye(n,o),a=null,o)if(o.hasOwnProperty(i)){var c=o[i];"children"===i?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&Hr("scroll",r)}switch(n){case"input":Y(r),Z(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ta)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ha]=t,e[fa]=r,Rl(e,t,!1,!1),t.stateNode=e;e:{switch(i=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),a=r;break;case"iframe":case"object":case"embed":Hr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Hr(Ir[a],e);a=r;break;case"source":Hr("error",e),a=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),a=r;break;case"details":Hr("toggle",e),a=r;break;case"input":Q(e,r),a=G(e,r),Hr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Hr("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ge(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Hr("scroll",e):null!=d&&b(e,o,d,i))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(qs.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=as))switch(e.tag){case 3:ea(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ea(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Kl(t),null;case 13:if(Da(to),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(os&&null!==ss&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ms(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),o=!1}else null!==ls&&(ic(ls),ls=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&to.current)?0===Oi&&(Oi=3):xc())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return Xs(),Ll(e,t),null===e&&Vr(t.stateNode.containerInfo),Kl(t),null;case 10:return Cs(t.type._context),Kl(t),null;case 19:if(Da(to),null===(o=t.memoizedState))return Kl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)ql(o,!1);else{if(0!==Oi||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=no(e))){for(t.flags|=128,ql(o,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(i=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(to,1&to.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vi&&(t.flags|=128,r=!0,ql(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!os)return Kl(t),null}else 2*Je()-o.renderingStartTime>Vi&&1073741824!==n&&(t.flags|=128,r=!0,ql(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=o.last)?n.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=to.current,Ea(to,r?1&n|2:1&n),t):(Kl(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Li)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ql(e,t){switch(rs(t),t.tag){case 1:return La(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Da(Pa),Da(_a),ao(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(Da(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Da(to),null;case 4:return Xs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Rl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ll=function(){},Ml=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qs(qs.current);var s,o=null;switch(n){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ta)}for(d in ye(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var i=a[d];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(i=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(null!=c||null!=i))if("style"===d)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Hr("scroll",e),o||i===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ol=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jl=!1,Xl=!1,Zl="function"===typeof WeakSet?WeakSet:Set,ei=null;function ti(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function ni(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var ri=!1;function ai(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ni(t,n,s)}a=a.next}while(a!==r)}}function si(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oi(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function li(e){var t=e.alternate;null!==t&&(e.alternate=null,li(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[xa],delete t[ya],delete t[ba])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ii(e){return 5===e.tag||3===e.tag||4===e.tag}function ci(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ii(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function di(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ta));else if(4!==r&&null!==(e=e.child))for(di(e,t,n),e=e.sibling;null!==e;)di(e,t,n),e=e.sibling}function ui(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ui(e,t,n),e=e.sibling;null!==e;)ui(e,t,n),e=e.sibling}var pi=null,mi=!1;function hi(e,t,n){for(n=n.child;null!==n;)fi(e,t,n),n=n.sibling}function fi(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:Xl||ti(n,t);case 6:var r=pi,a=mi;pi=null,hi(e,t,n),mi=a,null!==(pi=r)&&(mi?(e=pi,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pi.removeChild(n.stateNode));break;case 18:null!==pi&&(mi?(e=pi,n=n.stateNode,8===e.nodeType?da(e.parentNode,n):1===e.nodeType&&da(e,n),Vt(e)):da(pi,n.stateNode));break;case 4:r=pi,a=mi,pi=n.stateNode.containerInfo,mi=!0,hi(e,t,n),pi=r,mi=a;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ni(n,t,o),a=a.next}while(a!==r)}hi(e,t,n);break;case 1:if(!Xl&&(ti(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tc(n,t,l)}hi(e,t,n);break;case 21:hi(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,hi(e,t,n),Xl=r):hi(e,t,n);break;default:hi(e,t,n)}}function gi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function xi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,l=t,i=l;e:for(;null!==i;){switch(i.tag){case 5:pi=i.stateNode,mi=!1;break e;case 3:case 4:pi=i.stateNode.containerInfo,mi=!0;break e}i=i.return}if(null===pi)throw Error(s(160));fi(o,l,a),pi=null,mi=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Tc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yi(t,e),t=t.sibling}function yi(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xi(t,e),bi(e),4&r){try{ai(3,e,e.return),si(3,e)}catch(g){Tc(e,e.return,g)}try{ai(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:xi(t,e),bi(e),512&r&&null!==n&&ti(n,n.return);break;case 5:if(xi(t,e),bi(e),512&r&&null!==n&&ti(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===o.type&&null!=o.name&&J(a,o),be(i,l);var d=be(i,o);for(l=0;l<c.length;l+=2){var u=c[l],p=c[l+1];"style"===u?ge(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):b(a,u,p,d)}switch(i){case"input":X(a,o);break;case"textarea":se(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):m!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(xi(t,e),bi(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(xi(t,e),bi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:xi(t,e),bi(e);break;case 13:xi(t,e),bi(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(zi=Je())),4&r&&gi(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(d=Xl)||u,xi(t,e),Xl=d):xi(t,e),bi(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ei=e,u=e.child;null!==u;){for(p=ei=u;null!==ei;){switch(h=(m=ei).child,m.tag){case 0:case 11:case 14:case 15:ai(4,m,m.return);break;case 1:ti(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:ti(m,m.return);break;case 22:if(null!==m.memoizedState){ji(p);continue}}null!==h?(h.return=m,ei=h):ji(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(i=p.stateNode,l=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=fe("display",l))}catch(g){Tc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xi(t,e),bi(e),4&r&&gi(e);case 21:}}function bi(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ii(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ui(e,ci(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;di(e,ci(e),o);break;default:throw Error(s(161))}}catch(l){Tc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vi(e,t,n){ei=e,wi(e,t,n)}function wi(e,t,n){for(var r=0!==(1&e.mode);null!==ei;){var a=ei,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Jl;if(!o){var l=a.alternate,i=null!==l&&null!==l.memoizedState||Xl;l=Jl;var c=Xl;if(Jl=o,(Xl=i)&&!c)for(ei=a;null!==ei;)i=(o=ei).child,22===o.tag&&null!==o.memoizedState?ki(a):null!==i?(i.return=o,ei=i):ki(a);for(;null!==s;)ei=s,wi(s,t,n),s=s.sibling;ei=a,Jl=l,Xl=c}Ni(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,ei=s):Ni(e)}}function Ni(e){for(;null!==ei;){var t=ei;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xl||si(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:al(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,l,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(s(163))}Xl||512&t.flags&&oi(t)}catch(ut){Tc(t,t.return,ut)}}if(t===e){ei=null;break}if(null!==(n=t.sibling)){n.return=t.return,ei=n;break}ei=t.return}}function ji(e){for(;null!==ei;){var t=ei;if(t===e){ei=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ei=n;break}ei=t.return}}function ki(e){for(;null!==ei;){var t=ei;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{si(4,t)}catch(i){Tc(t,n,i)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(i){Tc(t,a,i)}}var s=t.return;try{oi(t)}catch(i){Tc(t,s,i)}break;case 5:var o=t.return;try{oi(t)}catch(i){Tc(t,o,i)}}}catch(i){Tc(t,t.return,i)}if(t===e){ei=null;break}var l=t.sibling;if(null!==l){l.return=t.return,ei=l;break}ei=t.return}}var Si,Ti=Math.ceil,Di=v.ReactCurrentDispatcher,Ei=v.ReactCurrentOwner,Ci=v.ReactCurrentBatchConfig,_i=0,Pi=null,Ai=null,Ri=0,Li=0,Mi=Ta(0),Oi=0,Ii=null,Fi=0,Ui=0,Bi=0,Hi=null,$i=null,zi=0,Vi=1/0,Wi=null,Yi=!1,qi=null,Ki=null,Gi=!1,Qi=null,Ji=0,Xi=0,Zi=null,ec=-1,tc=0;function nc(){return 0!==(6&_i)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&_i)&&0!==Ri?Ri&-Ri:null!==xs.transition?(0===tc&&(tc=gt()),tc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ac(e,t,n,r){if(50<Xi)throw Xi=0,Zi=null,Error(s(185));yt(e,n,r),0!==(2&_i)&&e===Pi||(e===Pi&&(0===(2&_i)&&(Ui|=n),4===Oi&&cc(e,Ri)),sc(e,r),1===n&&0===_i&&0===(1&t.mode)&&(Vi=Je()+500,Ha&&Va()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),l=1<<o,i=a[o];-1===i?0!==(l&n)&&0===(l&r)||(a[o]=ht(l,t)):i<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var r=mt(e,e===Pi?Ri:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ha=!0,za(e)}(dc.bind(null,e)):za(dc.bind(null,e)),ia(function(){0===(6&_i)&&Va()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(ec=-1,tc=0,0!==(6&_i))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=mt(e,e===Pi?Ri:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var a=_i;_i|=2;var o=gc();for(Pi===e&&Ri===t||(Wi=null,Vi=Je()+500,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}Es(),Di.current=o,_i=a,null!==Ai?t=0:(Pi=null,Ri=0,t=Oi)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=lc(e,a))),1===t)throw n=Ii,hc(e,0),cc(e,r),sc(e,Je()),n;if(6===t)cc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!cr(s(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,r))&&(0!==(o=ft(e))&&(r=o,t=lc(e,o))),1===t))throw n=Ii,hc(e,0),cc(e,r),sc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,$i,Wi);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=zi+500-Je())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sa(jc.bind(null,e,$i,Wi),t);break}jc(e,$i,Wi);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-ot(r);o=1<<l,(l=t[l])>a&&(a=l),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ti(r/1960))-r)){e.timeoutHandle=sa(jc.bind(null,e,$i,Wi),r);break}jc(e,$i,Wi);break;default:throw Error(s(329))}}}return sc(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function lc(e,t){var n=Hi;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=$i,$i=n,null!==t&&ic(t)),e}function ic(e){null===$i?$i=e:$i.push.apply($i,e)}function cc(e,t){for(t&=~Bi,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!==(6&_i))throw Error(s(327));kc();var t=mt(e,0);if(0===(1&t))return sc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=lc(e,r))}if(1===n)throw n=Ii,hc(e,0),cc(e,t),sc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$i,Wi),sc(e,Je()),null}function uc(e,t){var n=_i;_i|=1;try{return e(t)}finally{0===(_i=n)&&(Vi=Je()+500,Ha&&Va())}}function pc(e){null!==Qi&&0===Qi.tag&&0===(6&_i)&&kc();var t=_i;_i|=1;var n=Ci.transition,r=vt;try{if(Ci.transition=null,vt=1,e)return e()}finally{vt=r,Ci.transition=n,0===(6&(_i=t))&&Va()}}function mc(){Li=Mi.current,Da(Mi)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oa(n)),null!==Ai)for(n=Ai.return;null!==n;){var r=n;switch(rs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:Xs(),Da(Pa),Da(_a),ao();break;case 5:eo(r);break;case 4:Xs();break;case 13:case 19:Da(to);break;case 10:Cs(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Pi=e,Ai=e=Mc(e.current,null),Ri=Li=t,Oi=0,Ii=null,Bi=Ui=Fi=0,$i=Hi=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Rs=null}return e}function fc(e,t){for(;;){var n=Ai;try{if(Es(),so.current=el,po){for(var r=io.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}po=!1}if(lo=0,uo=co=io=null,mo=!1,ho=0,Ei.current=null,null===n||null===n.return){Oi=1,Ii=t,Ai=null;break}e:{var o=e,l=n.return,i=n,c=t;if(t=Ri,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=i,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=yl(l);if(null!==h){h.flags&=-257,bl(h,l,i,0,t),1&h.mode&&xl(o,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){xl(o,d,t),xc();break e}c=Error(s(426))}else if(os&&1&i.mode){var x=yl(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),bl(x,l,i,0,t),gs(ul(c,i));break e}}o=c=ul(c,i),4!==Oi&&(Oi=2),null===Hi?Hi=[o]:Hi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fl(0,c,t));break e;case 1:i=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ki||!Ki.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,gl(o,i,t));break e}}o=o.return}while(null!==o)}Nc(n)}catch(v){t=v,Ai===n&&null!==n&&(Ai=n=n.return);continue}break}}function gc(){var e=Di.current;return Di.current=el,null===e?el:e}function xc(){0!==Oi&&3!==Oi&&2!==Oi||(Oi=4),null===Pi||0===(268435455&Fi)&&0===(268435455&Ui)||cc(Pi,Ri)}function yc(e,t){var n=_i;_i|=2;var r=gc();for(Pi===e&&Ri===t||(Wi=null,hc(e,t));;)try{bc();break}catch(a){fc(e,a)}if(Es(),_i=n,Di.current=r,null!==Ai)throw Error(s(261));return Pi=null,Ri=0,Oi}function bc(){for(;null!==Ai;)wc(Ai)}function vc(){for(;null!==Ai&&!Ge();)wc(Ai)}function wc(e){var t=Si(e.alternate,e,Li);e.memoizedProps=e.pendingProps,null===t?Nc(e):Ai=t,Ei.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gl(n,t,Li)))return void(Ai=n)}else{if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Ai=n);if(null===e)return Oi=6,void(Ai=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ai=t);Ai=t=e}while(null!==t);0===Oi&&(Oi=5)}function jc(e,t,n){var r=vt,a=Ci.transition;try{Ci.transition=null,vt=1,function(e,t,n,r){do{kc()}while(null!==Qi);if(0!==(6&_i))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Pi&&(Ai=Pi=null,Ri=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gi||(Gi=!0,Pc(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ci.transition,Ci.transition=null;var l=vt;vt=1;var i=_i;_i|=4,Ei.current=null,function(e,t){if(na=Yt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Et){n=null;break e}var l=0,i=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(i=l+a),p!==o||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===a&&(i=l),m===o&&++u===r&&(c=l),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:e,selectionRange:n},Yt=!1,ei=t;null!==ei;)if(e=(t=ei).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ei=e;else for(;null!==ei;){t=ei;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:al(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(Et){Tc(t,t.return,Et)}if(null!==(e=t.sibling)){e.return=t.return,ei=e;break}ei=t.return}f=ri,ri=!1}(e,n),yi(n,e),gr(ra),Yt=!!na,ra=na=null,e.current=n,vi(n,e,a),Qe(),_i=i,vt=l,Ci.transition=o}else e.current=n;if(Gi&&(Gi=!1,Qi=e,Ji=a),o=e.pendingLanes,0===o&&(Ki=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Yi)throw Yi=!1,e=qi,qi=null,e;0!==(1&Ji)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Zi?Xi++:(Xi=0,Zi=e):Xi=0,Va()}(e,t,n,r)}finally{Ci.transition=a,vt=r}return null}function kc(){if(null!==Qi){var e=wt(Ji),t=Ci.transition,n=vt;try{if(Ci.transition=null,vt=16>e?16:e,null===Qi)var r=!1;else{if(e=Qi,Qi=null,Ji=0,0!==(6&_i))throw Error(s(331));var a=_i;for(_i|=4,ei=e.current;null!==ei;){var o=ei,l=o.child;if(0!==(16&ei.flags)){var i=o.deletions;if(null!==i){for(var c=0;c<i.length;c++){var d=i[c];for(ei=d;null!==ei;){var u=ei;switch(u.tag){case 0:case 11:case 15:ai(8,u,o)}var p=u.child;if(null!==p)p.return=u,ei=p;else for(;null!==ei;){var m=(u=ei).sibling,h=u.return;if(li(u),u===d){ei=null;break}if(null!==m){m.return=h,ei=m;break}ei=h}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}ei=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,ei=l;else e:for(;null!==ei;){if(0!==(2048&(o=ei).flags))switch(o.tag){case 0:case 11:case 15:ai(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ei=y;break e}ei=o.return}}var b=e.current;for(ei=b;null!==ei;){var v=(l=ei).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,ei=v;else e:for(l=b;null!==ei;){if(0!==(2048&(i=ei).flags))try{switch(i.tag){case 0:case 11:case 15:si(9,i)}}catch(N){Tc(i,i.return,N)}if(i===l){ei=null;break e}var w=i.sibling;if(null!==w){w.return=i.return,ei=w;break e}ei=i.return}}if(_i=a,Va(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}r=!0}return r}finally{vt=n,Ci.transition=t}}return!1}function Sc(e,t,n){e=Hs(e,t=fl(0,t=ul(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),sc(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ki||!Ki.has(r))){t=Hs(t,e=gl(t,e=ul(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),sc(t,e));break}}t=t.return}}function Dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Pi===e&&(Ri&n)===n&&(4===Oi||3===Oi&&(130023424&Ri)===Ri&&500>Je()-zi?hc(e,0):Bi|=n),sc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=nc();null!==(e=Os(e,t))&&(yt(e,t,n),sc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Pc(e,t){return qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,o){var l=2;if(r=e,"function"===typeof e)Lc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case j:return Ic(n.children,a,o,t);case k:l=8,a|=8;break;case S:return(e=Rc(12,n,t,2|a)).elementType=S,e.lanes=o,e;case C:return(e=Rc(13,n,t,a)).elementType=C,e.lanes=o,e;case _:return(e=Rc(19,n,t,a)).elementType=_,e.lanes=o,e;case R:return Fc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:l=10;break e;case D:l=9;break e;case E:l=11;break e;case P:l=14;break e;case A:l=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(l,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,a,s,o,l,i){return e=new Hc(e,t,n,l,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function zc(e){if(!e)return Ca;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Ia(e,n,t)}return t}function Vc(e,t,n,r,a,s,o,l,i){return(e=$c(n,r,!0,e,0,s,0,l,i)).context=zc(null),n=e.current,(s=Bs(r=nc(),a=rc(n))).callback=void 0!==t&&null!==t?t:null,Hs(n,s,a),e.current.lanes=a,yt(e,a,r),sc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=nc(),o=rc(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Hs(a,t,o))&&(ac(e,a,o,s),$s(e,a,o)),o}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Si=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)wl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:Pl(t),fs();break;case 5:Zs(t);break;case 1:La(t.type)&&Fa(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ul(e,t,n):(Ea(to,1&to.current),null!==(e=Yl(e,t,n))?e.sibling:null);Ea(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,Tl(e,t,n)}return Yl(e,t,n)}(e,t,n);wl=0!==(131072&e.flags)}else wl=!1,os&&0!==(1048576&t.flags)&&ts(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var a=Ra(t,_a.current);Ps(t,n),a=yo(null,t,r,e,a,n);var o=bo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(o=!0,Fa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fs(t),a.updater=ol,t.stateNode=a,a._reactInternals=t,dl(t,r,e,n),t=_l(null,t,r,!0,o,n)):(t.tag=0,os&&o&&ns(t),Nl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=al(r,e),a){case 0:t=El(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=jl(null,t,r,e,n);break e;case 14:t=kl(null,t,r,al(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,El(e,t,r,a=t.elementType===r?a:al(r,a),n);case 1:return r=t.type,a=t.pendingProps,Cl(e,t,r,a=t.elementType===r?a:al(r,a),n);case 3:e:{if(Pl(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Us(e,t),Vs(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Al(e,t,r,n,a=ul(Error(s(423)),t));break e}if(r!==a){t=Al(e,t,r,n,a=ul(Error(s(424)),t));break e}for(ss=ua(t.stateNode.containerInfo.firstChild),as=t,os=!0,ls=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Yl(e,t,n);break e}Nl(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&us(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,l=a.children,aa(r,a)?l=null:null!==o&&aa(r,o)&&(t.flags|=32),Dl(e,t),Nl(e,t,l,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ul(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ns(t,null,r,n):Nl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,jl(e,t,r,a=t.elementType===r?a:al(r,a),n);case 7:return Nl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,Ea(ks,r._currentValue),r._currentValue=l,null!==o)if(cr(o.value,l)){if(o.children===a.children&&!Pa.current){t=Yl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var i=o.dependencies;if(null!==i){l=o.child;for(var c=i.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_s(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(s(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),_s(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Nl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=As(a)),t.flags|=1,Nl(e,t,r,n),t.child;case 14:return a=al(r=t.type,t.pendingProps),kl(e,t,r,a=al(r.type,a),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:al(r,a),Wl(e,t),t.tag=1,La(r)?(e=!0,Fa(t)):e=!1,Ps(t,n),il(t,r,a),dl(t,r,a,n),_l(null,t,r,!0,e,n);case 19:return Vl(e,t,n);case 22:return Tl(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ed(){}function td(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var l=a;a=function(){var e=Yc(o);l.call(e)}}Wc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Yc(o);s.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",ed);return e._reactRootContainer=o,e[ga]=o.current,Vr(8===e.nodeType?e.parentNode:e),pc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=Yc(i);l.call(e)}}var i=$c(e,0,!1,null,0,!1,0,"",ed);return e._reactRootContainer=i,e[ga]=i.current,Vr(8===e.nodeType?e.parentNode:e),pc(function(){Wc(t,i,n,r)}),i}(n,t,e,a,r);return Yc(o)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pc(function(){Wc(null,e,null,null)}),t[ga]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ut(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(bt(t,1|n),sc(t,Je()),0===(6&_i)&&(Vi=Je()+500,Va()))}break;case 13:pc(function(){var t=Os(e,1);if(null!==t){var n=nc();ac(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)ac(t,e,134217728,nc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Os(e,t);if(null!==n)ac(n,e,t,nc());Kc(e,t)}},St=function(){return vt},Tt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(s(90));q(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uc,Ce=pc;var nd={usingClientEntryPoint:!1,Events:[wa,Na,ja,Te,De,uc]},rd={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{at=sd.inject(ad),st=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,a),e[ga]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return pc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return td(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",l=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,o,l),e[ga]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return td(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(pc(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return td(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>eu,hasStandardBrowserEnv:()=>nu,hasStandardBrowserWebWorkerEnv:()=>ru,navigator:()=>tu,origin:()=>au});var a,s=n(43),o=n.t(s,2),l=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=a.Pop,f=null,g=x();function x(){return(l.state||{idx:null}).idx}function y(){u=a.Pop;let e=x(),t=null==e?null:e-g;g=e,f&&f({action:u,location:v.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,l.replaceState(i({},l.state,{idx:g}),""));let v={get action(){return u},get location(){return e(s,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),f=e,()=>{s.removeEventListener(c,y),f=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let r=m(v.location,e,t);n&&n(r,e),g=x()+1;let i=p(r,g),c=v.createHref(r);try{l.pushState(i,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}o&&f&&f({action:u,location:v.location,delta:1})},replace:function(e,t){u=a.Replace;let r=m(v.location,e,t);n&&n(r,e),g=x();let s=p(r,g),i=v.createHref(r);l.replaceState(s,"",i),o&&f&&f({action:u,location:v.location,delta:0})},go:e=>l.go(e)};return v}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let a=R(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let l=0;null==o&&l<s.length;++l){let e=A(a);o=_(s[l],e,r)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=F([r,o.relativePath]),i=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,i,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:i})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let o=w(r.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,j=3,k=2,S=1,T=10,D=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=D),t&&(r+=k),n.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?j:""===t?S:T),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let e=r[l],i=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:F([s,d.pathname]),pathnameBase:U(F([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=F([s,d.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),i=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=l[n];return e[r]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:i,pathname:s,pathnameBase:o,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function I(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=i({},e),d(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,o=""===e||""===a.pathname,l=o?"/":a.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:H(a)}}(a,s),u=l&&"/"!==l&&l.endsWith("/"),p=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const Y=s.createContext(null);const q=s.createContext(null);const K=s.createContext(null);const G=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function X(){return null!=s.useContext(G)}function Z(){return X()||d(!1),s.useContext(G).location}function ee(e){s.useContext(K).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=me(de.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=s.useContext(Y),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:a}=s.useContext(Q),{pathname:o}=Z(),l=JSON.stringify(O(a,n.v7_relativeSplatPath)),i=s.useRef(!1);return ee(()=>{i.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!i.current)return;if("number"===typeof n)return void r.go(n);let s=I(n,JSON.parse(l),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,l,o,e])}()}function ne(){let{matches:e}=s.useContext(Q),t=e[e.length-1];return t?t.params:{}}function re(e,t,n,r){X()||d(!1);let{navigator:o}=s.useContext(K),{matches:l}=s.useContext(Q),i=l[l.length-1],c=i?i.params:{},u=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let p,m=Z();if(t){var h;let e="string"===typeof t?f(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),p=e}else p=m;let g=p.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:x});let v=ie(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&v?s.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:a.Pop}},v):v}function ae(){let e=function(){var e;let t=s.useContext(J),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const se=s.createElement(ae,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(Y);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Q.Provider,{value:t},r)}function ie(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,i=null==(a=n)?void 0:a.errors;if(null!=i){let e=l.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||d(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<l.length;s++){let e=l[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,r,a)=>{let o,d=!1,p=null,m=null;var h;n&&(o=i&&r.route.id?i[r.route.id]:void 0,p=r.route.errorElement||se,c&&(u<0&&0===a?(h="route-fallback",!1||he[h]||(he[h]=!0),d=!0,m=null):u===a&&(d=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=o?p:d?m:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(le,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:p,error:o,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=s.useContext(Y);return t||d(!1),t}function pe(e){let t=s.useContext(q);return t||d(!1),t}function me(e){let t=function(){let e=s.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:a}=e;X()||d(!1);let{future:o,static:l}=s.useContext(K),{matches:i}=s.useContext(Q),{pathname:c}=Z(),u=te(),p=I(t,O(i,o.v7_relativeSplatPath),c,"path"===a),m=JSON.stringify(p);return s.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:a}),[u,m,a,n,r]),null}function xe(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:r,navigationType:o=a.Pop,navigator:l,static:i=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),p=s.useMemo(()=>({basename:u,navigator:l,static:i,future:W({v7_relativeSplatPath:!1},c)}),[u,c,l,i]);"string"===typeof r&&(r=f(r));let{pathname:m="/",search:h="",hash:g="",state:x=null,key:y="default"}=r,b=s.useMemo(()=>{let e=R(m,u);return null==e?null:{location:{pathname:e,search:h,hash:g,state:x,key:y},navigationType:o}},[u,m,h,g,x,y,o]);return null==b?null:s.createElement(K.Provider,{value:p},s.createElement(G.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return re(ve(t),n)}new Promise(()=>{});s.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==xe&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),n.push(o)}),n}var we=n(950),Ne=n.t(we,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(xp){}new Map;const je=o.startTransition;Ne.flushSync,o.useId;function ke(e){let{basename:t,children:n,future:r,window:a}=e,o=s.useRef();var l;null==o.current&&(o.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),g(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,l)));let i=o.current,[c,d]=s.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},p=s.useCallback(e=>{u&&je?je(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>i.listen(p),[i,p]),s.useEffect(()=>fe(r),[r]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Se,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Se||(Se={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var De={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ee=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:a="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,...u}=n;return(0,s.createElement)("svg",{ref:r,...De,width:o,height:o,stroke:a,strokeWidth:i?24*Number(l)/Number(o):l,className:["lucide",`lucide-${p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var p});return n.displayName=`${e}`,n},Ce=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),_e=Ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Pe=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ae=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Re=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Le=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Me=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Oe=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ie=Ee("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Fe=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Ue=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Be=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),He=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$e=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ze=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ve=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var We=n(579);const Ye=(0,s.createContext)();function qe(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0),c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",d=async e=>{try{const t=await fetch(`${c}/api/auth/profile`,{credentials:"include",headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();return{valid:!0,user:e.user||e}}return console.log("[AUTH] Session check failed, token may be expired"),{valid:!1}}catch(t){return console.error("[AUTH] Session check error:",t),{valid:!1}}};(0,s.useEffect)(()=>{const e=window.localStorage.getItem("user"),t=window.localStorage.getItem("token");e&&t?d(t).then(n=>{let{valid:a,user:s}=n;a?(r(JSON.parse(e)),o(t),console.log("[AUTH] Valid session restored from localStorage")):(console.log("[AUTH] Invalid token found, clearing storage"),window.localStorage.removeItem("user"),window.localStorage.removeItem("token")),i(!1)}):i(!1)},[]);return(0,We.jsx)(Ye.Provider,{value:{user:n,token:a,loading:l,login:(e,t)=>{console.log("[AUTH] Login called with:",{userObj:e,authToken:t}),r(e),o(t),window.localStorage.setItem("user",JSON.stringify(e)),window.localStorage.setItem("token",t),console.log("[AUTH] User logged in:",e),console.log("[AUTH] Token set:",t)},logout:async()=>{try{a&&await fetch(`${c}/api/auth/logout`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${a}`}})}catch(e){console.error("[AUTH] Logout error:",e)}r(null),o(null),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),console.log("[AUTH] User logged out")},getAuthHeaders:()=>{if(console.log("[AUTH DEBUG] getAuthHeaders called"),console.log("[AUTH DEBUG] Token exists:",!!a),console.log("[AUTH DEBUG] Token length:",a?a.length:0),console.log("[AUTH DEBUG] Token starts with:",a?a.substring(0,20)+"...":"N/A"),a){const e={Authorization:`Bearer ${a}`};return console.log("[AUTH DEBUG] Returning headers:",e),e}return console.log("[AUTH DEBUG] No token, returning empty headers"),{}},checkSession:d},children:t})}function Ke(){return(0,s.useContext)(Ye)}const Ge=()=>{var e,t,n,r,a;const[o,l]=(0,s.useState)(new Date),i=te(),{user:c,logout:d,getAuthHeaders:u}=Ke(),[p,m]=(0,s.useState)(null),[h,f]=(0,s.useState)({database:{percentage:0,status:"loading"},apiResponse:{time:0,status:"loading"},uptime:{percentage:0,status:"loading"}}),[g,x]=(0,s.useState)({newDeals:0,documents:0,dealerContacts:0,systemLogins:0}),[y,b]=(0,s.useState)([{title:"Active Deals",value:0,change:0,changeType:"neutral"},{title:"Total Deals",value:0,change:0,changeType:"neutral"},{title:"Dealer Network",value:0,change:0,changeType:"neutral"},{title:"System Users",value:0,change:0,changeType:"neutral"}]);(0,s.useEffect)(()=>{const e=setInterval(()=>l(new Date),1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{const e=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/dealers`;console.log("[DEBUG][Landing] Fetching dealer count from:",e),fetch(e,{credentials:"include"}).then(e=>{if(console.log("[DEBUG][Landing] Dealer count fetch response status:",e.status),!e.ok)throw new Error("Failed to fetch dealers");return e.json()}).then(e=>{console.log("[DEBUG][Landing] Dealer count fetch JSON:",e);const t=(e.data||e.dealers||[]).length;m(t)}).catch(e=>{console.error("[DEBUG][Landing] Error fetching dealer count:",e),m(0)})},[]),(0,s.useEffect)(()=>{const e=async()=>{try{const e=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/stats/overview`;console.log("[DEBUG][Landing] Fetching system stats from:",e);const t=await fetch(e,{credentials:"include",headers:u()});if(console.log("[DEBUG][Landing] System stats fetch response status:",t.status),t.ok){const e=(await t.json()).data;x({newDeals:e.activity.today.newDeals,documents:e.activity.today.documents,dealerContacts:e.activity.today.dealerContacts,systemLogins:Math.floor(20*Math.random())+15}),f({database:e.systemHealth.database,apiResponse:e.systemHealth.apiResponse,uptime:e.systemHealth.uptime}),b([{title:"Active Deals",value:e.overview.activeDeals,change:e.activity.monthlyGrowth,changeType:e.activity.monthlyGrowth>=0?"positive":"negative"},{title:"Total Deals",value:e.overview.totalDeals,change:e.activity.thisMonth,changeType:"positive"},{title:"Dealer Network",value:e.overview.activeDealers,change:e.overview.totalDealers-e.overview.activeDealers,changeType:"neutral"},{title:"System Users",value:e.overview.activeUsers,change:e.overview.totalUsers-e.overview.activeUsers,changeType:"neutral"}]),console.log("[DEBUG][Landing] Successfully updated stats with real data:",e)}else{console.warn("[DEBUG][Landing] Failed to fetch real stats, using fallback");const e={newDeals:Math.floor(5*Math.random())+1,documents:Math.floor(10*Math.random())+5,dealerContacts:Math.floor(8*Math.random())+3,systemLogins:Math.floor(20*Math.random())+15};x(e)}}catch(e){console.error("[DEBUG][Landing] Error fetching system stats:",e);const t={newDeals:Math.floor(5*Math.random())+1,documents:Math.floor(10*Math.random())+5,dealerContacts:Math.floor(8*Math.random())+3,systemLogins:Math.floor(20*Math.random())+15};x(t)}};e();const t=setInterval(()=>{e()},3e4);return()=>clearInterval(t)},[u]),(0,s.useEffect)(()=>{if("finance"===(null===c||void 0===c?void 0:c.role)){const e=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/deals`;console.log("[DEBUG][Landing] Fetching deals for finance user from:",e),fetch(e,{credentials:"include",headers:u()}).then(e=>(console.log("[DEBUG][Landing] Finance deals fetch response status:",e.status),e.json())).then(e=>{}).catch(()=>{})}},[c]);const v=(()=>{var e,t;return c?null!==(e=c.profile)&&void 0!==e&&e.displayName?c.profile.displayName:c.firstName&&c.lastName?`${c.firstName} ${c.lastName}`:c.firstName?c.firstName:(null===(t=c.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),w=v.split(" ")[0],N=(null===c||void 0===c?void 0:c.permissions)||{},j={...N,canViewMonthlyRevenue:N.canViewFinancials||"admin"===(null===c||void 0===c?void 0:c.role),canSearchDealers:(null===(e=N.dealers)||void 0===e?void 0:e.read)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canAccessBackOffice:(null===(t=N.backoffice)||void 0===t?void 0:t.access)||"admin"===(null===c||void 0===c?void 0:c.role)||!1,canManageUsers:(null===(n=N.users)||void 0===n?void 0:n.manage)||"admin"===(null===c||void 0===c?void 0:c.role)||!1},k="admin"===(null===c||void 0===c?void 0:c.role);console.log("\ud83d\udd0d Debug - Current User:",c),console.log("\ud83d\udd0d Debug - User Permissions:",N),console.log("\ud83d\udd0d Debug - Enhanced Permissions:",j),console.log("\ud83d\udd0d Debug - Can Search Dealers:",!!j.canSearchDealers),console.log("\ud83d\udd0d Debug - Is Admin:",k),console.log("\ud83d\udd0d Debug - Dealer Search Show Condition:",k||!!j.canSearchDealers);const S=e=>{switch(e){case"admin":default:return Ce;case"sales":return _e;case"finance":return Pe;case"viewer":return Ae}},T=e=>{switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},D=([{label:"Monthly Revenue",value:k||j.canViewMonthlyRevenue?"$2.1M":"Restricted",change:k||j.canViewMonthlyRevenue?"+12%":null,icon:Pe,gradient:"from-purple-500 to-pink-500",show:k||j.canViewMonthlyRevenue},{label:"Pending Tasks",value:"6",change:"-2",icon:Re,gradient:"from-orange-500 to-amber-500",show:k||j.canAccessBackOffice}].filter(e=>e.show&&"sales"!==(null===c||void 0===c?void 0:c.role)),[...[{title:"New Deal Entry",description:"Create a new vehicle deal with intelligent VIN decoding, dealer matching, and comprehensive financial tracking",icon:Le,gradient:"from-blue-600 via-blue-700 to-cyan-600",route:"/deals/new",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Smart VIN decoding \u2022 Dealer autocomplete \u2022 Financial calculators \u2022 Document upload"},{title:"Deal Status",description:"Track the progress of your deals with real-time status updates and document management",icon:Me,gradient:"from-green-600 to-emerald-600",route:"/deals/status",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"},{title:"Dealer Network",description:"View and manage your dealer network and contacts",icon:Oe,gradient:"from-blue-500 to-cyan-500",route:"/dealers",show:k||"sales"===(null===c||void 0===c?void 0:c.role)||"finance"===(null===c||void 0===c?void 0:c.role),feature:null!==p?`${p} dealers in network`:"Loading..."},{title:"Transport Management",description:"Manage vehicle transport logistics, tracking, and delivery coordination",icon:Ie,gradient:"from-orange-500 to-red-500",route:"/transport",show:k||"sales"===(null===c||void 0===c?void 0:c.role),feature:"Transport tracking \u2022 Delivery coordination \u2022 Logistics management \u2022 Route optimization"}]]),E=[{title:"User Management",subtitle:"System Administration",description:"Manage user accounts, roles, and system permissions",icon:Oe,gradient:"from-indigo-600 to-purple-600",route:"/users",show:k||j.canManageUsers,tasks:null},{title:"API Key Management",subtitle:"Digital Signatures",description:"Manage API keys for digital signatures and document signing",icon:Fe,gradient:"from-purple-600 to-pink-600",route:"/apikeys",show:k,tasks:null}],C=[{id:1,type:"deal",title:"2020 McLaren 720S Deal Created",subtitle:"Stock #RP2025001 \u2022 $220,000 \u2022 Ian Hutchinson",time:"2 hours ago",icon:_e,color:"blue"},{id:2,type:"document",title:"Title Documentation Received",subtitle:"2019 Ferrari F8 Tributo \u2022 Stock #RP2025003",time:"4 hours ago",icon:Ue,color:"green"},{id:3,type:"dealer",title:"New Dealer Contact Added",subtitle:"Midwest Auto Group \u2022 Kansas City, MO",time:"1 day ago",icon:Oe,color:"purple"},{id:4,type:"finance",title:"Monthly P&L Report Generated",subtitle:"$2.1M revenue \u2022 15% margin improvement",time:"2 days ago",icon:Be,color:"orange"}],_=S(null===c||void 0===c?void 0:c.role),P=T(null===c||void 0===c?void 0:c.role),A=(()=>{const e=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/deals`;console.log("[DEBUG][Landing] Fetching deals for role from:",e);const t=[{id:1,vehicle:"2020 McLaren 720S",stockNumber:"RP2025001",status:"Active",assignedTo:"Parker Gelber",price:"$220,000",progress:33,progressText:"Purchased",createdBy:"parker@rpexotics.com",createdAt:"2h ago"},{id:2,vehicle:"2019 Ferrari F8 Tributo",stockNumber:"RP2025002",status:"Pending",assignedTo:"Parker Gelber",price:"$285,000",progress:66,progressText:"Title Review",createdBy:"parker@rpexotics.com",createdAt:"1d ago"},{id:3,vehicle:"2021 Lamborghini Hurac\xe1n",stockNumber:"RP2025003",status:"Ready",assignedTo:"Chris Murphy",price:"$195,000",progress:83,progressText:"Ready to List",createdBy:"chris@rpexotics.com",createdAt:"3d ago"},{id:4,vehicle:"2022 Porsche 911 GT3",stockNumber:"RP2025004",status:"Sold",assignedTo:"Brennan Sauer",price:"$185,000 \u2192 $205,000",progress:100,progressText:"Complete",createdBy:"brennan@rpexotics.com",createdAt:"1w ago"}];return k?t:t.filter(e=>e.createdBy===(null===c||void 0===c?void 0:c.email))})(),R="sales"===(null===c||void 0===c?void 0:c.role);return(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),(0,We.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-500/3 rounded-full blur-3xl animate-pulse delay-2000"})]}),(0,We.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center group",children:[(0,We.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-blue-500/25",children:[(0,We.jsx)("img",{src:"https://cdn-ds.com/media/sz_27586/3693/rpexotics-favicon.png",alt:"RP Exotics Logo",className:"h-6 w-6 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,We.jsx)(_e,{className:"h-6 w-6 text-white hidden"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-xl font-bold text-white",children:"RP Exotics"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Professional Vehicle Management"})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsx)("p",{className:"text-sm font-medium text-white",children:v}),(0,We.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${P} text-white shadow-lg`,children:[(0,We.jsx)(_,{className:"h-3 w-3 mr-1"}),(null===c||void 0===c||null===(r=c.role)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===c||void 0===c||null===(a=c.role)||void 0===a?void 0:a.slice(1))||"Guest"]})]}),(0,We.jsxs)("div",{className:"text-right text-sm text-gray-300",children:[(0,We.jsx)("p",{className:"font-medium",children:o.toLocaleDateString()}),(0,We.jsx)("p",{className:"text-xs",children:o.toLocaleTimeString()})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[j.canManageUsers&&(0,We.jsx)(He,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200"}),(0,We.jsx)($e,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-white hover:scale-110 transition-all duration-200",onClick:async()=>{try{await d(),i("/login")}catch(e){console.error("Logout error:",e),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),i("/login")}}})]})]})]})})}),(0,We.jsxs)("div",{className:"relative max-w-8xl mx-auto px-2 sm:px-4 py-10",children:[(0,We.jsx)("div",{className:"mb-12",children:(0,We.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsxs)("h2",{className:"text-5xl font-extrabold text-white mb-2",children:["Welcome back, ",(0,We.jsx)("span",{className:`bg-gradient-to-r ${P} bg-clip-text text-transparent`,children:w})]}),(0,We.jsx)("p",{className:"text-gray-300 text-lg max-w-2xl leading-relaxed",children:(()=>{switch(null===c||void 0===c?void 0:c.role){case"admin":return"You have complete administrative control over the RP Exotics management system with full access to all modules, financial data, and user management capabilities.";case"sales":return"Access your deal management tools and dealer network. Focus on what you do best - creating deals and building relationships.";case"finance":return"Monitor financial performance with comprehensive access to pricing data, margins, and back office operations.";case"viewer":return"Stay informed with read-only access to reports, analytics, and system information.";default:return"Welcome to the RP Exotics management system."}})()})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2 bg-green-500/10 border border-green-500/30 rounded-xl px-4 py-2",children:[(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400"}),(0,We.jsx)("span",{className:"text-green-300 text-base font-semibold",children:"All Systems Operational"})]})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&0===y.length&&(0,We.jsx)("div",{className:"mb-12 text-center text-gray-400",children:"No quick stats available for finance role."}),"finance"!==(null===c||void 0===c?void 0:c.role)&&D.filter(e=>e.show&&"Deal Status"!==e.title).length>0&&(0,We.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("sales"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 lg:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:D.filter(e=>e.show&&"Deal Status"!==e.title).map(e=>(0,We.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 rounded-2xl shadow-xl flex flex-col items-center justify-between transition-transform duration-200 hover:scale-[1.02] hover:shadow-2xl cursor-pointer "+("sales"===(null===c||void 0===c?void 0:c.role)?"p-12 min-h-[280px]":"p-8 min-h-[180px]"),onClick:()=>i(e.route),children:[(0,We.jsx)("div",{className:`bg-gradient-to-r ${e.gradient} rounded-full p-4 mb-4 shadow-lg`,children:(0,We.jsx)(e.icon,{className:"h-10 w-10 text-white"})}),(0,We.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.title}),(0,We.jsx)("p",{className:"text-gray-300 text-lg font-medium mb-2 text-center",children:e.description}),e.feature&&(0,We.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:e.feature})]},e.title))}),R&&(0,We.jsx)("div",{className:"flex flex-col gap-8 mb-12 w-full",children:(0,We.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl border border-green-500/20 p-10 flex flex-col justify-between cursor-pointer hover:bg-green-500/20 transition min-h-[180px] w-full",onClick:()=>i("/deals/status"),children:[(0,We.jsxs)("div",{className:"flex items-center mb-4",children:[(0,We.jsx)(Me,{className:"h-8 w-8 text-green-400 mr-4"}),(0,We.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Deal Status"})]}),(0,We.jsx)("p",{className:"text-gray-300 text-lg mb-2",children:"Track the progress of your deals with real-time status updates and document management"}),(0,We.jsx)("p",{className:"text-xs text-gray-400",children:"Real-time status tracking \u2022 Progress indicators \u2022 Document management \u2022 Stage overview"})]})}),"finance"===(null===c||void 0===c?void 0:c.role)&&(0,We.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-blue-500/20 transition",onClick:()=>i("/dealers"),children:[(0,We.jsx)(Oe,{className:"h-12 w-12 text-blue-400 mb-4"}),(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"Dealer Network"}),(0,We.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and manage your dealer network and contacts"}),(0,We.jsxs)("div",{className:"flex items-center text-blue-400 text-sm font-medium",children:[(0,We.jsx)(Ve,{className:"h-4 w-4 mr-1"}),null!==p?`${p} dealers in network`:"Loading..."]})]}),(0,We.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-600/10 rounded-2xl border border-purple-500/20 p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-purple-500/20 transition",onClick:()=>i("/finance/deals"),children:[(0,We.jsx)(Ue,{className:"h-12 w-12 text-purple-400 mb-4"}),(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:"All Deal Status"}),(0,We.jsx)("p",{className:"text-gray-400 text-base mb-2",children:"View and update the status of all deals in one place"}),(0,We.jsxs)("div",{className:"flex items-center text-purple-400 text-sm font-medium",children:[(0,We.jsx)(Ve,{className:"h-4 w-4 mr-1"}),"Status workflow & sub-status"]})]})]}),E.filter(e=>e.show).length>0&&(0,We.jsx)("div",{className:"grid gap-8 mb-12 w-full "+("finance"===(null===c||void 0===c?void 0:c.role)?"grid-cols-1 md:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"),children:E.filter(e=>e.show).map(e=>(0,We.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 p-8 rounded-2xl shadow-xl flex flex-col items-center justify-between min-h-[180px] transition-transform duration-200 hover:scale-[1.03] hover:shadow-2xl cursor-pointer "+("finance"===(null===c||void 0===c?void 0:c.role)?"min-h-[140px] p-6":""),onClick:()=>e.route&&i(e.route),children:[(0,We.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full shadow-lg "+("finance"===(null===c||void 0===c?void 0:c.role)?"p-3 mb-3":"p-4 mb-4"),children:(0,We.jsx)(e.icon,{className:"text-white "+("finance"===(null===c||void 0===c?void 0:c.role)?"h-8 w-8":"h-10 w-10")})}),(0,We.jsx)("h3",{className:"font-bold text-white mb-2 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-lg":"text-2xl"),children:e.title}),(0,We.jsx)("p",{className:"text-white/90 text-base leading-relaxed mb-3 text-center "+("finance"===(null===c||void 0===c?void 0:c.role)?"text-sm":"text-base"),children:e.description}),e.feature&&(0,We.jsxs)("div",{className:"flex items-center text-white/80 text-xs",children:[(0,We.jsx)(Ve,{className:"h-4 w-4 mr-1"}),(0,We.jsx)("span",{children:e.feature})]})]},e.title))}),0===A.length&&(0,We.jsxs)("div",{className:"lg:col-span-2 bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,We.jsx)(Me,{className:"h-5 w-5 text-blue-400 mr-2"}),"Recent Activity"]}),(0,We.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All"})]}),(0,We.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,We.jsxs)("div",{className:"group flex items-center p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,We.jsx)("div",{className:`bg-${e.color}-500/20 rounded-lg p-2 mr-4 group-hover:scale-110 transition-transform duration-300`,children:(0,We.jsx)(e.icon,{className:`h-4 w-4 text-${e.color}-400`})}),(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsx)("p",{className:"text-white text-sm font-medium mb-1",children:e.title}),(0,We.jsx)("p",{className:"text-gray-400 text-xs",children:e.subtitle})]}),(0,We.jsx)("span",{className:"text-gray-500 text-xs",children:e.time})]},e.id))})]}),"sales"!==(null===c||void 0===c?void 0:c.role)&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,We.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]})]}),(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,We.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Today's Summary"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"New Deals"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.newDeals})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Dealer Contacts"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.dealerContacts})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Documents Processed"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.documents})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"System Logins"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.systemLogins})]})]})]})]}),"sales"===(null===c||void 0===c?void 0:c.role)&&(0,We.jsx)("div",{className:"mt-8 space-y-8",children:(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,We.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-5 w-5 text-green-400 mr-2"}),"System Health"]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Database"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.database.status?"bg-green-500":"warning"===h.database.status?"bg-yellow-500":"poor"===h.database.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.database.percentage}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.database.status?"text-green-400":"warning"===h.database.status?"text-yellow-400":"poor"===h.database.status?"text-red-400":"text-gray-400"),children:"loading"===h.database.status?"...":`${h.database.percentage}%`})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"API Response"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.apiResponse.status?"bg-blue-500":"warning"===h.apiResponse.status?"bg-yellow-500":"poor"===h.apiResponse.status?"bg-red-500":"bg-gray-500"),style:{width:`${Math.min(100,h.apiResponse.time/1e3*100)}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.apiResponse.status?"text-blue-400":"warning"===h.apiResponse.status?"text-yellow-400":"poor"===h.apiResponse.status?"text-red-400":"text-gray-400"),children:"loading"===h.apiResponse.status?"...":`${h.apiResponse.time}ms`})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Uptime"}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-1.5 mr-2",children:(0,We.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+("good"===h.uptime.status?"bg-green-500":"warning"===h.uptime.status?"bg-yellow-500":"poor"===h.uptime.status?"bg-red-500":"bg-gray-500"),style:{width:`${h.uptime.percentage}%`}})}),(0,We.jsx)("span",{className:"text-xs font-medium "+("good"===h.uptime.status?"text-green-400":"warning"===h.uptime.status?"text-yellow-400":"poor"===h.uptime.status?"text-red-400":"text-gray-400"),children:"loading"===h.uptime.status?"...":`${h.uptime.percentage}%`})]})]})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h4",{className:"text-sm font-medium text-white mb-3",children:"Today's Activity"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"New Deals"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.newDeals})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Documents"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.documents})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Dealer Contacts"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.dealerContacts})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"System Logins"}),(0,We.jsx)("span",{className:"text-white font-medium",children:g.systemLogins})]})]})]})]})]})}),"admin"===(null===c||void 0===c?void 0:c.role)&&(0,We.jsxs)("div",{className:"mt-10 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Demo: Switch User Roles"}),(0,We.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["admin","sales","finance","viewer"].map(e=>{const t=S(e),n=T(e);return(0,We.jsxs)("button",{onClick:()=>{console.log(`Switching to ${e} role`)},className:"p-4 rounded-xl transition-all duration-300 border "+((null===c||void 0===c?void 0:c.role)===e?`bg-gradient-to-r ${n} border-transparent shadow-lg shadow-white/10 scale-105`:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"),children:[(0,We.jsx)(t,{className:"h-6 w-6 mx-auto mb-2 "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-400")}),(0,We.jsx)("p",{className:"text-sm font-medium "+((null===c||void 0===c?void 0:c.role)===e?"text-white":"text-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)})})]})]})]})},Qe=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Je=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xe=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Ze=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),et=Ee("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),tt=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),nt=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),rt=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),at=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),st=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ot=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),lt=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),it=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ct=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),dt=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function ut(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ut(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ut(e))&&(r&&(r+=" "),r+=t);return r}const mt=pt;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ht=e=>"number"==typeof e&&!isNaN(e),ft=e=>"string"==typeof e,gt=e=>"function"==typeof e,xt=e=>ft(e)||gt(e)?e:null,yt=(e,t)=>!1===e||ht(e)&&e>0?e:t,bt=e=>(0,s.isValidElement)(e)||ft(e)||gt(e)||ht(e);function vt(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:l,position:i,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:m}=e,h=r?`${t}--${i}`:t,f=r?`${n}--${i}`:n,g=(0,s.useRef)(0);return(0,s.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),n=r=>{r.target===u.current&&(m(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,s.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,d,o):d()};p||(c?t():(g.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[p]),s.createElement(s.Fragment,null,l)}}function wt(e,t){return{content:Nt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.isValidElement)(e)&&!ft(e.type)?(0,s.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):gt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function jt(e){let{delay:t,isRunning:n,closeToast:r,type:a="default",hide:o,className:l,controlledProgress:i,progress:c,rtl:d,isIn:u,theme:p}=e,m=o||i&&0===c,h={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};i&&(h.transform=`scaleX(${c})`);let f=mt("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),g=gt(l)?l({rtl:d,type:a,defaultClassName:f}):mt(f,l),x={[i&&c>=1?"onTransitionEnd":"onAnimationEnd"]:i&&c<1?null:()=>{u&&r()}};return s.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},s.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${a}`}),s.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:g,style:h,...x}))}var kt=1,St=()=>""+kt++;function Tt(e,t,n){let r=1,a=0,s=[],o=[],l=t,i=new Map,c=new Set,d=()=>{o=Array.from(i.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},p=e=>{if(null==e)i.forEach(u);else{let t=i.get(e);t&&u(t)}d()},m=e=>{var t,r;let{toastId:a,updateId:s}=e.props,o=null==s;e.staleId&&i.delete(e.staleId),e.isActive=!0,i.set(a,e),d(),n(wt(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:l,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{i.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:p,toasts:i,clearQueue:()=>{a-=s.length,s=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:a}=t,s=n?n!==e:1!==e,o=i.has(r)&&null==a;return s||o})(o))return;let{toastId:c,updateId:u,data:h,staleId:f,delay:g}=o,x=null==u;x&&a++;let y={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(o).filter(e=>{let[t,n]=e;return null!=n})),toastId:c,updateId:u,data:h,isIn:!1,className:xt(o.className||l.toastClassName),progressClassName:xt(o.progressClassName||l.progressClassName),autoClose:!o.isLoading&&yt(o.autoClose,l.autoClose),closeToast(e){i.get(c).removalReason=e,p(c)},deleteToast(){let e=i.get(c);if(null!=e){if(n(wt(e,"removed")),i.delete(c),a--,a<0&&(a=0),s.length>0)return void m(s.shift());d()}}};y.closeButton=l.closeButton,!1===o.closeButton||bt(o.closeButton)?y.closeButton=o.closeButton:!0===o.closeButton&&(y.closeButton=!bt(l.closeButton)||l.closeButton);let b={content:t,props:y,staleId:f};l.limit&&l.limit>0&&a>l.limit&&x?s.push(b):ht(g)?setTimeout(()=>{m(b)},g):m(b)},setProps(e){l=e},setToggle:(e,t)=>{let n=i.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=i.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var Dt=new Map,Et=[],Ct=new Set,_t=e=>Ct.forEach(t=>t(e)),Pt=()=>Dt.size>0;function At(e,t){var n;if(t)return!(null==(n=Dt.get(t))||!n.isToastActive(e));let r=!1;return Dt.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function Rt(e){if(Pt()){if(null==e||(e=>ft(e)||ht(e))(e))Dt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Dt.get(e.containerId);t?t.removeToast(e.id):Dt.forEach(t=>{t.removeToast(e.id)})}}else Et=Et.filter(t=>null!=e&&t.options.toastId!==e)}function Lt(e,t){bt(e)&&(Pt()||Et.push({content:e,options:t}),Dt.forEach(n=>{n.buildToast(e,t)}))}function Mt(e,t){Dt.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Ot(e){let t=e.containerId||1;return{subscribe(n){let r=Tt(t,e,_t);Dt.set(t,r);let a=r.observe(n);return Et.forEach(e=>Lt(e.content,e.options)),Et=[],()=>{a(),Dt.delete(t)}},setProps(e){var n;null==(n=Dt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Dt.get(t))?void 0:e.getSnapshot()}}}function It(e){return e&&(ft(e.toastId)||ht(e.toastId))?e.toastId:St()}function Ft(e,t){return Lt(e,t),t.toastId}function Ut(e,t){return{...t,type:t&&t.type||e,toastId:It(t)}}function Bt(e){return(t,n)=>Ft(t,Ut(e,n))}function Ht(e,t){return Ft(e,Ut("default",t))}function $t(e){let[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),o=(0,s.useRef)(null),l=(0,s.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:i,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:p}=e;function m(){n(!0)}function h(){n(!1)}function f(n){let r=o.current;if(l.canDrag&&r){l.didMove=!0,t&&h(),"x"===e.draggableDirection?l.delta=n.clientX-l.start:l.delta=n.clientY-l.start,l.start!==n.clientX&&(l.canCloseOnClick=!1);let a="x"===e.draggableDirection?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;r.style.transform=`translate3d(${a},0)`,r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance))}}function g(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",g);let t=o.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Dt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,s.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",m),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){l.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",g);let n=o.current;l.canCloseOnClick=!0,l.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(l.start=t.clientX,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=t.clientY,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:a,right:s}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=s&&t.clientY>=n&&t.clientY<=r?h():m()}};return i&&c&&(x.onMouseEnter=h,e.stacked||(x.onMouseLeave=m)),p&&(x.onClick=e=>{u&&u(e),l.canCloseOnClick&&d(!0)}),{playToast:m,pauseToast:h,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:x}}Ht.loading=(e,t)=>Ft(e,Ut("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ht.promise=function(e,t,n){let r,{pending:a,error:s,success:o}=t;a&&(r=ft(a)?Ht.loading(a,n):Ht.loading(a.render,{...n,...a}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,a)=>{if(null==t)return void Ht.dismiss(r);let s={type:e,...l,...n,data:a},o=ft(t)?{render:t}:t;return r?Ht.update(r,{...s,...o}):Ht(o.render,{...s,...o}),a},c=gt(e)?e():e;return c.then(e=>i("success",o,e)).catch(e=>i("error",s,e)),c},Ht.success=Bt("success"),Ht.info=Bt("info"),Ht.error=Bt("error"),Ht.warning=Bt("warning"),Ht.warn=Ht.warning,Ht.dark=(e,t)=>Ft(e,Ut("default",{theme:"dark",...t})),Ht.dismiss=function(e){Rt(e)},Ht.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Ht.isActive=At,Ht.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Dt.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:a}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:St()};s.toastId!==e&&(s.staleId=e);let o=s.render||a;delete s.render,Ft(o,s)}},Ht.done=e=>{Ht.update(e,{progress:1})},Ht.onChange=function(e){return Ct.add(e),()=>{Ct.delete(e)}},Ht.play=e=>Mt(!0,e),Ht.pause=e=>Mt(!1,e);var zt="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Vt=e=>{let{theme:t,type:n,isLoading:r,...a}=e;return s.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...a})};var Wt={info:function(e){return s.createElement(Vt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(Vt,{...e},s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(Vt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(Vt,{...e},s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function Yt(e){let{theme:t,type:n,isLoading:r,icon:a}=e,o=null,l={theme:t,type:n};return!1===a||(gt(a)?o=a({...l,isLoading:r}):(0,s.isValidElement)(a)?o=(0,s.cloneElement)(a,l):r?o=Wt.spinner():(e=>e in Wt)(n)&&(o=Wt[n](l))),o}var qt=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:o}=$t(e),{closeButton:l,children:i,autoClose:c,onClick:d,type:u,hideProgressBar:p,closeToast:m,transition:h,position:f,className:g,style:x,progressClassName:y,updateId:b,role:v,progress:w,rtl:N,toastId:j,deleteToast:k,isIn:S,isLoading:T,closeOnClick:D,theme:E,ariaLabel:C}=e,_=mt("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":D}),P=gt(g)?g({rtl:N,position:f,type:u,defaultClassName:_}):mt(_,g),A=Yt(e),R=!!w||!c,L={closeToast:m,type:u,theme:E},M=null;return!1===l||(M=gt(l)?l(L):(0,s.isValidElement)(l)?(0,s.cloneElement)(l,L):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return s.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),s.createElement(h,{isIn:S,done:k,position:f,preventExitTransition:n,nodeRef:r,playToast:o},s.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":S,className:P,...a,style:x,ref:r,...S&&{role:v,"aria-label":C}},null!=A&&s.createElement("div",{className:mt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},A),Nt(i,e,!t),M,!e.customProgressBar&&s.createElement(jt,{...b&&!R?{key:`p-${b}`}:{},rtl:N,theme:E,delay:c,isRunning:t,isIn:S,closeToast:m,hide:p,type:u,className:y,controlledProgress:R,progress:w||0})))},Kt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Gt=vt(Kt("bounce",!0)),Qt=(vt(Kt("slide",!0)),vt(Kt("zoom")),vt(Kt("flip")),{position:"top-right",transition:Gt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Jt(e){let t={...Qt,...e},n=e.stacked,[r,a]=(0,s.useState)(!0),o=(0,s.useRef)(null),{getToastToRender:l,isToastActive:i,count:c}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:a}=(0,s.useRef)(Ot(e)).current;a(e);let o=null==(t=(0,s.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:At,count:null==o?void 0:o.length}}(t),{className:d,style:u,rtl:p,containerId:m,hotKeys:h}=t;function f(e){let t=mt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":p});return gt(d)?d({position:e,rtl:p,defaultClassName:t}):mt(t,xt(d))}function g(){n&&(a(!0),Ht.play())}return zt(()=>{var e;if(n){let n=o.current.querySelectorAll('[data-in="true"]'),a=12,s=null==(e=t.position)?void 0:e.includes("top"),l=0,i=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=s?"top":"bot");let o=l*(r?.2:1)+(r?0:a*t);n.style.setProperty("--y",`${s?o:-1*o}px`),n.style.setProperty("--g",`${a}`),n.style.setProperty("--s",""+(1-(r?i:0))),l+=n.offsetHeight,i+=.025})}},[r,c,n]),(0,s.useEffect)(()=>{function e(e){var t;let n=o.current;h(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),Ht.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),Ht.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),s.createElement("section",{ref:o,className:"Toastify",id:m,onMouseEnter:()=>{n&&(a(!1),Ht.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((e,t)=>{let r=t.length?{...u}:{...u,pointerEvents:"none"};return s.createElement("div",{tabIndex:-1,className:f(e),"data-stacked":n,style:r,key:`c-${e}`},t.map(e=>{let{content:t,props:r}=e;return s.createElement(qt,{...r,stacked:n,collapseAll:g,isIn:i(r.toastId,r.containerId),key:`t-${r.key}`},t)}))}))}Math.pow(10,8);const Xt=6048e5,Zt=6e4,en=36e5,tn=Symbol.for("constructDateFrom");function nn(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&tn in e?e[tn](t):e instanceof Date?new e.constructor(t):new Date(t)}function rn(e,t){return nn(t||e,e)}function an(e,t){const n=()=>nn(t?.in,NaN),r=t?.additionalDigits??2,a=function(e){const t={},n=e.split(sn.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],sn.timeZoneDelimiter.test(t.date)&&(t.date=e.split(sn.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=sn.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(a.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(a.date,r);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(on);if(!n)return new Date(NaN);const r=!!n[4],a=dn(n[1]),s=dn(n[2])-1,o=dn(n[3]),l=dn(n[4]),i=dn(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,i)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}(t,l,i):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(pn[t]||(mn(e)?29:28))}(t,s,o)&&function(e,t){return t>=1&&t<=(mn(e)?366:365)}(t,a)?(e.setUTCFullYear(t,s,Math.max(a,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return n();const o=+s;let l,i=0;if(a.time&&(i=function(e){const t=e.match(ln);if(!t)return NaN;const n=un(t[1]),r=un(t[2]),a=un(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*en+r*Zt+1e3*a}(a.time),isNaN(i)))return n();if(!a.timezone){const e=new Date(o+i),n=rn(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(cn);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*en+a*Zt)}(a.timezone),isNaN(l)?n():rn(o+i+l,t?.in)}const sn={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},on=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ln=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dn(e){return e?parseInt(e):1}function un(e){return e&&parseFloat(e.replace(",","."))||0}const pn=[31,null,31,30,31,30,31,31,30,31,30,31];function mn(e){return e%400===0||e%4===0&&e%100!==0}const hn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function fn(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const gn={date:fn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:fn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:fn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function yn(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const bn={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:yn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:yn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:yn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:yn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:yn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function vn(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],i=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,e=>e.test(o)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(l,e=>e.test(o));let c;c=e.valueCallback?e.valueCallback(i):i,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const wn={ordinalNumber:(Nn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Nn.matchPattern);if(!n)return null;const r=n[0],a=e.match(Nn.parsePattern);if(!a)return null;let s=Nn.valueCallback?Nn.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:vn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:vn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:vn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:vn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:vn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Nn;const jn={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=hn[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:gn,formatRelative:(e,t,n,r)=>xn[e],localize:bn,match:wn,options:{weekStartsOn:0,firstWeekContainsDate:1}},kn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Sn=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Tn={p:Sn,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return kn(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",kn(r,t)).replace("{{time}}",Sn(a,t))}},Dn=/^D+$/,En=/^Y+$/,Cn=["D","DD","YY","YYYY"];function _n(e){return Dn.test(e)}function Pn(e){return En.test(e)}function An(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Cn.includes(e))throw new RangeError(r)}let Rn={};function Ln(){return Rn}function Mn(){return Object.assign({},Ln())}function On(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):nn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class In{subPriority=0;validate(e,t){return!0}}class Fn extends In{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Un extends In{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>nn(t,e))}set(e,t){return t.timestampIsSet?e:nn(e,On(e,this.context))}}class Bn{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new Fn(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Hn=/^(1[0-2]|0?\d)/,$n=/^(3[0-1]|[0-2]?\d)/,zn=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Vn=/^(5[0-3]|[0-4]?\d)/,Wn=/^(2[0-3]|[0-1]?\d)/,Yn=/^(2[0-4]|[0-1]?\d)/,qn=/^(1[0-1]|0?\d)/,Kn=/^(1[0-2]|0?\d)/,Gn=/^[0-5]?\d/,Qn=/^[0-5]?\d/,Jn=/^\d/,Xn=/^\d{1,2}/,Zn=/^\d{1,3}/,er=/^\d{1,4}/,tr=/^-?\d+/,nr=/^-?\d/,rr=/^-?\d{1,2}/,ar=/^-?\d{1,3}/,sr=/^-?\d{1,4}/,or=/^([+-])(\d{2})(\d{2})?|Z/,lr=/^([+-])(\d{2})(\d{2})|Z/,ir=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,cr=/^([+-])(\d{2}):(\d{2})|Z/,dr=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ur(e,t){return e?{value:t(e.value),rest:e.rest}:e}function pr(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function mr(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*en+s*Zt+1e3*o),rest:t.slice(n[0].length)}}function hr(e){return pr(tr,e)}function fr(e,t){switch(e){case 1:return pr(Jn,t);case 2:return pr(Xn,t);case 3:return pr(Zn,t);case 4:return pr(er,t);default:return pr(new RegExp("^\\d{1,"+e+"}"),t)}}function gr(e,t){switch(e){case 1:return pr(nr,t);case 2:return pr(rr,t);case 3:return pr(ar,t);case 4:return pr(sr,t);default:return pr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function xr(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function yr(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function br(e){return e%400===0||e%4===0&&e%100!==0}function vr(e,t){const n=Ln(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=rn(e,t?.in),s=a.getDay(),o=(s<r?7:0)+s-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function wr(e,t){const n=rn(e,t?.in),r=n.getFullYear(),a=Ln(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=nn(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=vr(o,t),i=nn(t?.in||e,0);i.setFullYear(r,0,s),i.setHours(0,0,0,0);const c=vr(i,t);return+n>=+l?r+1:+n>=+c?r:r-1}function Nr(e,t){return vr(e,{...t,weekStartsOn:1})}function jr(e,t){const n=Ln(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=wr(e,t),s=nn(t?.in||e,0);s.setFullYear(a,0,r),s.setHours(0,0,0,0);return vr(s,t)}function kr(e,t){const n=rn(e,t?.in),r=+vr(n,t)-+jr(n,t);return Math.round(r/Xt)+1}function Sr(e,t,n){const r=rn(e,n?.in),a=kr(r,n)-t;return r.setDate(r.getDate()-7*a),rn(r,n?.in)}function Tr(e,t){const n=rn(e,t?.in),r=n.getFullYear(),a=nn(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Nr(a),o=nn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Nr(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Dr(e,t){const n=Tr(e,t),r=nn(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Nr(r)}function Er(e,t){const n=rn(e,t?.in),r=+Nr(n)-+Dr(n);return Math.round(r/Xt)+1}function Cr(e,t,n){const r=rn(e,n?.in),a=Er(r,n)-t;return r.setDate(r.getDate()-7*a),r}const _r=[31,28,31,30,31,30,31,31,30,31,30,31],Pr=[31,29,31,30,31,30,31,31,30,31,30,31];function Ar(e,t,n){const r=rn(e,n?.in);return isNaN(t)?nn(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Rr(e,t,n){const r=Ln(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=rn(e,n?.in),o=s.getDay(),l=7-a;return Ar(s,t<0||t>6?t-(o+l)%7:((t%7+7)%7+l)%7-(o+l)%7,n)}function Lr(e,t){const n=rn(e,t?.in).getDay();return 0===n?7:n}function Mr(e,t,n){const r=rn(e,n?.in);return Ar(r,t-Lr(r,n),n)}function Or(e){const t=rn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Ir={G:new class extends Bn{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Bn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return ur(fr(4,e),r);case"yo":return ur(n.ordinalNumber(e,{unit:"year"}),r);default:return ur(fr(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=yr(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Bn{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return ur(fr(4,e),r);case"Yo":return ur(n.ordinalNumber(e,{unit:"year"}),r);default:return ur(fr(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=wr(e,r);if(n.isTwoDigitYear){const t=yr(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),vr(e,r)}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),vr(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Bn{priority=130;parse(e,t){return gr("R"===t?4:t.length,e)}set(e,t,n){const r=nn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Nr(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Bn{priority=130;parse(e,t){return gr("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Bn{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return fr(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Bn{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return fr(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Bn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return ur(pr(Hn,e),r);case"MM":return ur(fr(2,e),r);case"Mo":return ur(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Bn{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return ur(pr(Hn,e),r);case"LL":return ur(fr(2,e),r);case"Lo":return ur(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Bn{priority=100;parse(e,t,n){switch(t){case"w":return pr(Vn,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return fr(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return vr(Sr(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Bn{priority=100;parse(e,t,n){switch(t){case"I":return pr(Vn,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return fr(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Nr(Cr(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Bn{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return pr($n,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return fr(t.length,e)}}validate(e,t){const n=br(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Pr[r]:t>=1&&t<=_r[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Bn{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return pr(zn,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return fr(t.length,e)}}validate(e,t){return br(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Bn{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Rr(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Bn{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ur(fr(t.length,e),a);case"eo":return ur(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Rr(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Bn{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ur(fr(t.length,e),a);case"co":return ur(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Rr(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Bn{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return fr(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ur(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ur(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ur(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ur(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Mr(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Bn{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(xr(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Bn{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(xr(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Bn{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(xr(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Bn{priority=70;parse(e,t,n){switch(t){case"h":return pr(Kn,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return fr(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Bn{priority=70;parse(e,t,n){switch(t){case"H":return pr(Wn,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return fr(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Bn{priority=70;parse(e,t,n){switch(t){case"K":return pr(qn,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return fr(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Bn{priority=70;parse(e,t,n){switch(t){case"k":return pr(Yn,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return fr(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Bn{priority=60;parse(e,t,n){switch(t){case"m":return pr(Gn,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return fr(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Bn{priority=50;parse(e,t,n){switch(t){case"s":return pr(Qn,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return fr(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends Bn{priority=30;parse(e,t){return ur(fr(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends Bn{priority=10;parse(e,t){switch(t){case"X":return mr(or,e);case"XX":return mr(lr,e);case"XXXX":return mr(ir,e);case"XXXXX":return mr(dr,e);default:return mr(cr,e)}}set(e,t,n){return t.timestampIsSet?e:nn(e,e.getTime()-Or(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends Bn{priority=10;parse(e,t){switch(t){case"x":return mr(or,e);case"xx":return mr(lr,e);case"xxxx":return mr(ir,e);case"xxxxx":return mr(dr,e);default:return mr(cr,e)}}set(e,t,n){return t.timestampIsSet?e:nn(e,e.getTime()-Or(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends Bn{priority=40;parse(e){return hr(e)}set(e,t,n){return[nn(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Bn{priority=20;parse(e){return hr(e)}set(e,t,n){return[nn(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},Fr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ur=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Br=/^'([^]*?)'?$/,Hr=/''/g,$r=/\S/,zr=/[a-zA-Z]/;function Vr(e,t,n,r){const a=()=>nn(r?.in||n,NaN),s=Mn(),o=r?.locale??s.locale??jn,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():rn(n,r?.in);const c={firstWeekContainsDate:l,weekStartsOn:i,locale:o},d=[new Un(r?.in,n)],u=t.match(Ur).map(e=>{const t=e[0];if(t in Tn){return(0,Tn[t])(e,o.formatLong)}return e}).join("").match(Fr),p=[];for(let g of u){!r?.useAdditionalWeekYearTokens&&Pn(g)&&An(g,t,e),!r?.useAdditionalDayOfYearTokens&&_n(g)&&An(g,t,e);const n=g[0],s=Ir[n];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=p.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===s.incompatibleTokens&&p.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);p.push({token:n,fullToken:g});const r=s.run(e,g,o.match,c);if(!r)return a();d.push(r.setter),e=r.rest}else{if(n.match(zr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=Wr(g)),0!==e.indexOf(g))return a();e=e.slice(g.length)}}if(e.length>0&&$r.test(e))return a();const m=d.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>d.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let h=rn(n,r?.in);if(isNaN(+h))return a();const f={};for(const g of m){if(!g.validate(h,c))return a();const e=g.set(h,f,c);Array.isArray(e)?(h=e[0],Object.assign(f,e[1])):h=e}return h}function Wr(e){return e.match(Br)[1].replace(Hr,"'")}function Yr(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function qr(e){return!(!Yr(e)&&"number"!==typeof e||isNaN(+rn(e)))}function Kr(e,t){return+rn(e)<+rn(t)}function Gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=nn.bind(null,e||n.find(e=>"object"===typeof e));return n.map(a)}function Qr(e,t){const n=rn(e,t?.in);return n.setHours(0,0,0,0),n}function Jr(e,t,n){const[r,a]=Gr(n?.in,e,t),s=Qr(r),o=Qr(a),l=+s-Or(s),i=+o-Or(o);return Math.round((l-i)/864e5)}function Xr(e,t){const n=rn(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Zr(e,t){const n=rn(e,t?.in);return Jr(n,Xr(n))+1}function ea(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ta={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ea("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):ea(n+1,2)},d:(e,t)=>ea(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ea(e.getHours()%12||12,t.length),H:(e,t)=>ea(e.getHours(),t.length),m:(e,t)=>ea(e.getMinutes(),t.length),s:(e,t)=>ea(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return ea(Math.trunc(r*Math.pow(10,n-3)),t.length)}},na="midnight",ra="noon",aa="morning",sa="afternoon",oa="evening",la="night",ia={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return ta.y(e,t)},Y:function(e,t,n,r){const a=wr(e,r),s=a>0?a:1-a;if("YY"===t){return ea(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):ea(s,t.length)},R:function(e,t){return ea(Tr(e),t.length)},u:function(e,t){return ea(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ea(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ea(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ta.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ea(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=kr(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):ea(a,t.length)},I:function(e,t,n){const r=Er(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):ea(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ta.d(e,t)},D:function(e,t,n){const r=Zr(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):ea(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ea(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ea(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return ea(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?ra:0===r?na:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?oa:r>=12?sa:r>=4?aa:la,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ta.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ta.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):ea(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):ea(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ta.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ta.s(e,t)},S:function(e,t){return ta.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return da(r);case"XXXX":case"XX":return ua(r);default:return ua(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return da(r);case"xxxx":case"xx":return ua(r);default:return ua(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ca(r,":");default:return"GMT"+ua(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ca(r,":");default:return"GMT"+ua(r,":")}},t:function(e,t,n){return ea(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return ea(+e,t.length)}};function ca(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+ea(s,2)}function da(e,t){if(e%60===0){return(e>0?"-":"+")+ea(Math.abs(e)/60,2)}return ua(e,t)}function ua(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+ea(Math.trunc(r/60),2)+t+ea(r%60,2)}const pa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ma=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ha=/^'([^]*?)'?$/,fa=/''/g,ga=/[a-zA-Z]/;function xa(e,t,n){const r=Ln(),a=n?.locale??r.locale??jn,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=rn(e,n?.in);if(!qr(l))throw new RangeError("Invalid time value");let i=t.match(ma).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Tn[t])(e,a.formatLong)}return e}).join("").match(pa).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:ya(e)};if(ia[t])return{isToken:!0,value:e};if(t.match(ga))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(i=a.localize.preprocessor(l,i));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return i.map(r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&Pn(s)||!n?.useAdditionalDayOfYearTokens&&_n(s))&&An(s,t,String(e));return(0,ia[s[0]])(l,s,a.localize,c)}).join("")}function ya(e){const t=e.match(ha);return t?t[1].replace(fa,"'"):e}function ba(e,t,n){const r=rn(e,n?.in);return r.setHours(t),r}function va(e,t,n){const r=rn(e,n?.in);return r.setMinutes(t),r}function wa(e,t,n){const r=rn(e,n?.in);return r.setSeconds(t),r}function Na(e,t){const n=rn(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ja(e,t){const n=rn(e,t?.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function ka(e,t){const n=rn(e,t?.in);return n.setHours(23,59,59,999),n}function Sa(e,t){const n=Ln(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=rn(e,t?.in),s=a.getDay(),o=6+(s<r?-7:0)-(s-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Ta(e,t){const n=rn(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Da(e,t,n){const[r,a]=Gr(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function Ea(e,t,n){const[r,a]=Gr(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Ca(e,t,n){const[r,a]=Gr(n?.in,e,t);return+ja(r)===+ja(a)}function _a(e,t,n){const[r,a]=Gr(n?.in,e,t);return+Qr(r)===+Qr(a)}function Pa(e,t){return+rn(e)===+rn(t)}function Aa(e,t,n){const r=+rn(e,n?.in),[a,s]=[+rn(t.start,n?.in),+rn(t.end,n?.in)].sort((e,t)=>e-t);return r>=a&&r<=s}function Ra(e,t){const n=rn(e,t?.in),r=n.getFullYear(),a=n.getMonth(),s=nn(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function La(e,t,n){const r=rn(e,n?.in),a=r.getFullYear(),s=r.getDate(),o=nn(n?.in||e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=Ra(o);return r.setMonth(t,Math.min(s,l)),r}function Ma(e,t,n){const r=rn(e,n?.in),a=t-(Math.trunc(r.getMonth()/3)+1);return La(r,r.getMonth()+3*a)}function Oa(e,t){return rn(e,t?.in).getFullYear()}function Ia(e,t){return rn(e,t?.in).getMonth()}function Fa(e,t){const n=rn(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Ua(e,t){const n=rn(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Ba(e,t){return rn(e,t?.in).getHours()}function Ha(e,t){return rn(e,t?.in).getMinutes()}function $a(e){return rn(e).getSeconds()}function za(e,t,n){const r=rn(e,n?.in);if(isNaN(t))return nn(n?.in||e,NaN);if(!t)return r;const a=r.getDate(),s=nn(n?.in||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);return a>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function Va(e,t,n){return za(e,-t,n)}function Wa(e,t,n){const[r,a]=Gr(n?.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function Ya(e,t,n){return za(e,3*t,n)}function qa(e,t,n){return Ya(e,-t,n)}function Ka(e,t,n){const[r,a]=Gr(n?.in,e,t);return 4*(r.getFullYear()-a.getFullYear())+(Ua(r)-Ua(a))}function Ga(e,t,n){return za(e,12*t,n)}function Qa(e,t,n){return Ga(e,-t,n)}function Ja(e,t,n){const[r,a]=Gr(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function Xa(e,t){let n,r=t?.in;return e.forEach(e=>{r||"object"!==typeof e||(r=nn.bind(null,e));const t=rn(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),nn(r,n||NaN)}function Za(e,t){let n,r=t?.in;return e.forEach(e=>{r||"object"!==typeof e||(r=nn.bind(null,e));const t=rn(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),nn(r,n||NaN)}function es(e,t,n){return nn(n?.in||e,+rn(e)+t)}function ts(e,t,n){return es(e,t*en,n)}function ns(e,t,n){const r=rn(e,n?.in);return r.setTime(r.getTime()+t*Zt),r}function rs(e,t,n){return es(e,1e3*t,n)}function as(e,t){return+rn(e)>+rn(t)}function ss(e,t){return rn(e,t?.in).getDay()}function os(e,t){return rn(e,t?.in).getDate()}function ls(e,t,n){return Ar(e,7*t,n)}function is(e){return+rn(e)}function cs(e,t,n){const r=rn(e,n?.in);return isNaN(+r)?nn(n?.in||e,NaN):(r.setFullYear(t),r)}function ds(e,t,n){const[r,a]=Gr(n?.in,e,t),s=us(r,a),o=Math.abs(Jr(r,a));r.setDate(r.getDate()-s*o);const l=s*(o-Number(us(r,a)===-s));return 0===l?0:l}function us(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ps(e,t,n){return ls(e,-t,n)}function ms(e,t,n){return Ar(e,-t,n)}var hs="undefined"!==typeof document?s.useLayoutEffect:function(){};const fs={...o}.useInsertionEffect||(e=>e());function gs(){return"undefined"!==typeof window}function xs(e){return vs(e)?(e.nodeName||"").toLowerCase():"#document"}function ys(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function bs(e){var t;return null==(t=(vs(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function vs(e){return!!gs()&&(e instanceof Node||e instanceof ys(e).Node)}function ws(e){return!!gs()&&(e instanceof Element||e instanceof ys(e).Element)}function Ns(e){return!!gs()&&(e instanceof HTMLElement||e instanceof ys(e).HTMLElement)}function js(e){return!(!gs()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ys(e).ShadowRoot)}const ks=new Set(["inline","contents"]);function Ss(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Is(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ks.has(a)}const Ts=new Set(["table","td","th"]);function Ds(e){return Ts.has(xs(e))}const Es=[":popover-open",":modal"];function Cs(e){return Es.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const _s=["transform","translate","scale","rotate","perspective"],Ps=["transform","translate","scale","rotate","perspective","filter"],As=["paint","layout","strict","content"];function Rs(e){const t=Ls(),n=ws(e)?Is(e):e;return _s.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Ps.some(e=>(n.willChange||"").includes(e))||As.some(e=>(n.contain||"").includes(e))}function Ls(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Ms=new Set(["html","body","#document"]);function Os(e){return Ms.has(xs(e))}function Is(e){return ys(e).getComputedStyle(e)}function Fs(e){return ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Us(e){if("html"===xs(e))return e;const t=e.assignedSlot||e.parentNode||js(e)&&e.host||bs(e);return js(t)?t.host:t}function Bs(e){const t=Us(e);return Os(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&Ss(t)?t:Bs(t)}function Hs(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Bs(e),s=a===(null==(r=e.ownerDocument)?void 0:r.body),o=ys(a);if(s){const e=$s(o);return t.concat(o,o.visualViewport||[],Ss(a)?a:[],e&&n?Hs(e):[])}return t.concat(a,Hs(a,[],n))}function $s(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const zs=Math.min,Vs=Math.max,Ws=Math.round,Ys=Math.floor,qs=e=>({x:e,y:e}),Ks={left:"right",right:"left",bottom:"top",top:"bottom"},Gs={start:"end",end:"start"};function Qs(e,t){return"function"===typeof e?e(t):e}function Js(e){return e.split("-")[0]}function Xs(e){return e.split("-")[1]}function Zs(e){return"y"===e?"height":"width"}const eo=new Set(["top","bottom"]);function to(e){return eo.has(Js(e))?"y":"x"}function no(e){return"x"===to(e)?"y":"x"}function ro(e){return e.replace(/start|end/g,e=>Gs[e])}const ao=["left","right"],so=["right","left"],oo=["top","bottom"],lo=["bottom","top"];function io(e,t,n,r){const a=Xs(e);let s=function(e,t,n){switch(e){case"top":case"bottom":return n?t?so:ao:t?ao:so;case"left":case"right":return t?oo:lo;default:return[]}}(Js(e),"start"===n,r);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(ro)))),s}function co(e){return e.replace(/left|right|bottom|top/g,e=>Ks[e])}function uo(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function po(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function mo(e,t,n){let{reference:r,floating:a}=e;const s=to(t),o=no(t),l=Zs(o),i=Js(t),c="y"===s,d=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let m;switch(i){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-a.width,y:u};break;default:m={x:r.x,y:r.y}}switch(Xs(t)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1)}return m}async function ho(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:s,rects:o,elements:l,strategy:i}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Qs(t,e),h=uo(m),f=l[p?"floating"===u?"reference":"floating":u],g=po(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:i})),x="floating"===u?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),b=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},v=po(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:i}):x);return{top:(g.top-v.top+h.top)/b.y,bottom:(v.bottom-g.bottom+h.bottom)/b.y,left:(g.left-v.left+h.left)/b.x,right:(v.right-g.right+h.right)/b.x}}const fo=new Set(["left","top"]);function go(e){const t=Is(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ns(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Ws(n)!==s||Ws(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function xo(e){return ws(e)?e:e.contextElement}function yo(e){const t=xo(e);if(!Ns(t))return qs(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=go(t);let o=(s?Ws(n.width):n.width)/r,l=(s?Ws(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}const bo=qs(0);function vo(e){const t=ys(e);return Ls()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:bo}function wo(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),s=xo(e);let o=qs(1);t&&(r?ws(r)&&(o=yo(r)):o=yo(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ys(e))&&t}(s,n,r)?vo(s):qs(0);let i=(a.left+l.x)/o.x,c=(a.top+l.y)/o.y,d=a.width/o.x,u=a.height/o.y;if(s){const e=ys(s),t=r&&ws(r)?ys(r):r;let n=e,a=$s(n);for(;a&&r&&t!==n;){const e=yo(a),t=a.getBoundingClientRect(),r=Is(a),s=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;i*=e.x,c*=e.y,d*=e.x,u*=e.y,i+=s,c+=o,n=ys(a),a=$s(n)}}return po({width:d,height:u,x:i,y:c})}function No(e,t){const n=Fs(e).scrollLeft;return t?t.left+n:wo(bs(e)).left+n}function jo(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:No(e,r)),y:r.top+t.scrollTop}}const ko=new Set(["absolute","fixed"]);function So(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ys(e),r=bs(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,i=0;if(a){s=a.width,o=a.height;const e=Ls();(!e||e&&"fixed"===t)&&(l=a.offsetLeft,i=a.offsetTop)}return{width:s,height:o,x:l,y:i}}(e,n);else if("document"===t)r=function(e){const t=bs(e),n=Fs(e),r=e.ownerDocument.body,a=Vs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Vs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+No(e);const l=-n.scrollTop;return"rtl"===Is(r).direction&&(o+=Vs(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}(bs(e));else if(ws(t))r=function(e,t){const n=wo(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Ns(e)?yo(e):qs(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:r*s.y}}(t,n);else{const n=vo(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return po(r)}function To(e,t){const n=Us(e);return!(n===t||!ws(n)||Os(n))&&("fixed"===Is(n).position||To(n,t))}function Do(e,t,n){const r=Ns(t),a=bs(t),s="fixed"===n,o=wo(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const i=qs(0);function c(){i.x=No(a)}if(r||!r&&!s)if(("body"!==xs(t)||Ss(a))&&(l=Fs(t)),r){const e=wo(t,!0,s,t);i.x=e.x+t.clientLeft,i.y=e.y+t.clientTop}else a&&c();s&&!r&&a&&c();const d=!a||r||s?qs(0):jo(a,l);return{x:o.left+l.scrollLeft-i.x-d.x,y:o.top+l.scrollTop-i.y-d.y,width:o.width,height:o.height}}function Eo(e){return"static"===Is(e).position}function Co(e,t){if(!Ns(e)||"fixed"===Is(e).position)return null;if(t)return t(e);let n=e.offsetParent;return bs(e)===n&&(n=n.ownerDocument.body),n}function _o(e,t){const n=ys(e);if(Cs(e))return n;if(!Ns(e)){let t=Us(e);for(;t&&!Os(t);){if(ws(t)&&!Eo(t))return t;t=Us(t)}return n}let r=Co(e,t);for(;r&&Ds(r)&&Eo(r);)r=Co(r,t);return r&&Os(r)&&Eo(r)&&!Rs(r)?n:r||function(e){let t=Us(e);for(;Ns(t)&&!Os(t);){if(Rs(t))return t;if(Cs(t))return null;t=Us(t)}return null}(e)||n}const Po={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s="fixed"===a,o=bs(r),l=!!t&&Cs(t.floating);if(r===o||l&&s)return n;let i={scrollLeft:0,scrollTop:0},c=qs(1);const d=qs(0),u=Ns(r);if((u||!u&&!s)&&(("body"!==xs(r)||Ss(o))&&(i=Fs(r)),Ns(r))){const e=wo(r);c=yo(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!o||u||s?qs(0):jo(o,i,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-i.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-i.scrollTop*c.y+d.y+p.y}},getDocumentElement:bs,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[..."clippingAncestors"===n?Cs(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Hs(e,[],!1).filter(e=>ws(e)&&"body"!==xs(e)),a=null;const s="fixed"===Is(e).position;let o=s?Us(e):e;for(;ws(o)&&!Os(o);){const t=Is(o),n=Rs(o);n||"fixed"!==t.position||(a=null),(s?!n&&!a:!n&&"static"===t.position&&a&&ko.has(a.position)||Ss(o)&&!n&&To(e,o))?r=r.filter(e=>e!==o):a=t,o=Us(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=s[0],l=s.reduce((e,n)=>{const r=So(t,n,a);return e.top=Vs(r.top,e.top),e.right=zs(r.right,e.right),e.bottom=zs(r.bottom,e.bottom),e.left=Vs(r.left,e.left),e},So(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:_o,getElementRects:async function(e){const t=this.getOffsetParent||_o,n=this.getDimensions,r=await n(e.floating);return{reference:Do(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=go(e);return{width:t,height:n}},getScale:yo,isElement:ws,isRTL:function(e){return"rtl"===Is(e).direction}};function Ao(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ro(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:i=!1}=r,c=xo(e),d=a||s?[...c?Hs(c):[],...Hs(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const u=c&&l?function(e,t){let n,r=null;const a=bs(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(l,i){void 0===l&&(l=!1),void 0===i&&(i=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:m}=c;if(l||t(),!p||!m)return;const h={rootMargin:-Ys(u)+"px "+-Ys(a.clientWidth-(d+p))+"px "+-Ys(a.clientHeight-(u+m))+"px "+-Ys(d)+"px",threshold:Vs(0,zs(1,i))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==i){if(!f)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||Ao(c,e.getBoundingClientRect())||o(),f=!1}try{r=new IntersectionObserver(g,{...h,root:a.ownerDocument})}catch(x){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),s}(c,n):null;let p,m=-1,h=null;o&&(h=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),n()}),c&&!i&&h.observe(c),h.observe(t));let f=i?wo(e):null;return i&&function t(){const r=wo(e);f&&!Ao(f,r)&&n();f=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=h)||e.disconnect(),h=null,i&&cancelAnimationFrame(p)}}const Lo=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:o,middlewareData:l}=t,i=await async function(e,t){const{placement:n,platform:r,elements:a}=e,s=await(null==r.isRTL?void 0:r.isRTL(a.floating)),o=Js(n),l=Xs(n),i="y"===to(n),c=fo.has(o)?-1:1,d=s&&i?-1:1,u=Qs(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"===typeof h&&(m="end"===l?-1*h:h),i?{x:m*d,y:p*c}:{x:p*c,y:m*d}}(t,e);return o===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:a+i.x,y:s+i.y,data:{...i,placement:o}}}}},Mo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:i,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:f=!0,...g}=Qs(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const x=Js(a),y=to(l),b=Js(l)===l,v=await(null==i.isRTL?void 0:i.isRTL(c.floating)),w=p||(b||!f?[co(l)]:function(e){const t=co(e);return[ro(e),t,ro(t)]}(l)),N="none"!==h;!p&&N&&w.push(...io(l,f,h,v));const j=[l,...w],k=await ho(t,g),S=[];let T=(null==(r=s.flip)?void 0:r.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=Xs(e),a=no(e),s=Zs(a);let o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=co(o)),[o,co(o)]}(a,o,v);S.push(k[e[0]],k[e[1]])}if(T=[...T,{placement:a,overflows:S}],!S.every(e=>e<=0)){var D,E;const e=((null==(D=s.flip)?void 0:D.index)||0)+1,t=j[e];if(t){if(!("alignment"===u&&y!==to(t))||T.every(e=>e.overflows[0]>0&&to(e.placement)===y))return{data:{index:e,overflows:T},reset:{placement:t}}}let n=null==(E=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(m){case"bestFit":{var C;const e=null==(C=T.filter(e=>{if(N){const t=to(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=l}if(a!==n)return{reset:{placement:n}}}return{}}}},Oo=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:i}=t,{element:c,padding:d=0}=Qs(e,t)||{};if(null==c)return{};const u=uo(d),p={x:n,y:r},m=no(a),h=Zs(m),f=await o.getDimensions(c),g="y"===m,x=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",v=s.reference[h]+s.reference[m]-p[m]-s.floating[h],w=p[m]-s.reference[m],N=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let j=N?N[b]:0;j&&await(null==o.isElement?void 0:o.isElement(N))||(j=l.floating[b]||s.floating[h]);const k=v/2-w/2,S=j/2-f[h]/2-1,T=zs(u[x],S),D=zs(u[y],S),E=T,C=j-f[h]-D,_=j/2-f[h]/2+k,P=Vs(E,zs(_,C));const A=!i.arrow&&null!=Xs(a)&&_!==P&&s.reference[h]/2-(_<E?T:D)-f[h]/2<0,R=A?_<E?_-E:_-C:0;return{[m]:p[m]+R,data:{[m]:P,centerOffset:_-P-R,...A&&{alignmentOffset:R}},reset:A}}}),Io=(e,t,n)=>{const r=new Map,a={platform:Po,...n},s={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),i=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=mo(c,r,i),p=r,m={},h=0;for(let f=0;f<l.length;f++){const{name:n,fn:s}=l[f],{x:g,y:x,data:y,reset:b}=await s({x:d,y:u,initialPlacement:r,placement:p,strategy:a,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,m={...m,[n]:{...m[n],...y}},b&&h<=50&&(h++,"object"===typeof b&&(b.placement&&(p=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:d,y:u}=mo(c,p,i))),f=-1)}return{x:d,y:u,placement:p,strategy:a,middlewareData:m}})(e,t,{...a,platform:s})};var Fo="undefined"!==typeof document?s.useLayoutEffect:function(){};function Uo(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Uo(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!Uo(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Bo(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ho(e,t){const n=Bo(e);return Math.round(t*n)/n}function $o(e){const t=s.useRef(e);return Fo(()=>{t.current=e}),t}const zo=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(a=n,{}.hasOwnProperty.call(a,"current"))?null!=n.current?Oo({element:n.current,padding:r}).fn(t):{}:n?Oo({element:n,padding:r}).fn(t):{};var a}}),Vo=(e,t)=>({...Lo(e),options:[e,t]}),Wo=(e,t)=>({...zo(e),options:[e,t]});const Yo="ArrowLeft",qo="ArrowRight",Ko="ArrowUp",Go="ArrowDown";const Qo=[Yo,qo],Jo=[Ko,Go],Xo={...o};let Zo=!1,el=0;const tl=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+el++;const nl=Xo.useId||function(){const[e,t]=s.useState(()=>Zo?tl():void 0);return hs(()=>{null==e&&t(tl())},[]),s.useEffect(()=>{Zo=!0},[]),e};const rl=s.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:a,shift:o}},width:l=14,height:i=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:u,stroke:p,d:m,style:{transform:h,...f}={},...g}=e;const x=nl(),[y,b]=s.useState(!1);if(hs(()=>{if(!r)return;"rtl"===Is(r).direction&&b(!0)},[r]),!r)return null;const[v,w]=n.split("-"),N="top"===v||"bottom"===v;let j=u;(N&&null!=o&&o.x||!N&&null!=o&&o.y)&&(j=null);const k=2*d,S=k/2,T=l/2*(c/-8+1),D=i/2*c/4,E=!!m,C=j&&"end"===w?"bottom":"top";let _=j&&"end"===w?"right":"left";j&&y&&(_="end"===w?"left":"right");const P=null!=(null==a?void 0:a.x)?j||a.x:"",A=null!=(null==a?void 0:a.y)?j||a.y:"",R=m||"M0,0 H"+l+" L"+(l-T)+","+(i-D)+" Q"+l/2+","+i+" "+T+","+(i-D)+" Z",L={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[v];return(0,We.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:E?l:l+k,height:l,viewBox:"0 0 "+l+" "+(i>l?i:l),style:{position:"absolute",pointerEvents:"none",[_]:P,[C]:A,[v]:N||E?"100%":"calc(100% - "+k/2+"px)",transform:[L,h].filter(e=>!!e).join(" "),...f},children:[k>0&&(0,We.jsx)("path",{clipPath:"url(#"+x+")",fill:"none",stroke:p,strokeWidth:k+(m?0:1),d:R}),(0,We.jsx)("path",{stroke:k&&!m?g.fill:"none",d:R}),(0,We.jsx)("clipPath",{id:x,children:(0,We.jsx)("rect",{x:-S,y:S*(E?-1:1),width:l+k,height:l})})]})});function al(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const sl=s.createContext(null),ol=s.createContext(null),ll=()=>{var e;return(null==(e=s.useContext(sl))?void 0:e.id)||null},il=()=>s.useContext(ol);function cl(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=nl(),o=s.useRef({}),[l]=s.useState(()=>al()),i=null!=ll();const[c,d]=s.useState(r.reference),u=function(e){const t=s.useRef(()=>{});return fs(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{o.current.openEvent=e?t:void 0,l.emit("openchange",{open:e,event:t,reason:r,nested:i}),null==n||n(e,t,r)}),p=s.useMemo(()=>({setPositionReference:d}),[]),m=s.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return s.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:m,events:l,floatingId:a,refs:p}),[t,u,m,l,a,p])}function dl(e){void 0===e&&(e={});const{nodeId:t}=e,n=cl({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[o,l]=s.useState(null),[i,c]=s.useState(null),d=(null==a?void 0:a.domReference)||o,u=s.useRef(null),p=il();hs(()=>{d&&(u.current=d)},[d]);const m=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:i=!0,whileElementsMounted:c,open:d}=e,[u,p]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=s.useState(r);Uo(m,r)||h(r);const[f,g]=s.useState(null),[x,y]=s.useState(null),b=s.useCallback(e=>{e!==j.current&&(j.current=e,g(e))},[]),v=s.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),w=o||f,N=l||x,j=s.useRef(null),k=s.useRef(null),S=s.useRef(u),T=null!=c,D=$o(c),E=$o(a),C=$o(d),_=s.useCallback(()=>{if(!j.current||!k.current)return;const e={placement:t,strategy:n,middleware:m};E.current&&(e.platform=E.current),Io(j.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==C.current};P.current&&!Uo(S.current,t)&&(S.current=t,we.flushSync(()=>{p(t)}))})},[m,t,n,E,C]);Fo(()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[d]);const P=s.useRef(!1);Fo(()=>(P.current=!0,()=>{P.current=!1}),[]),Fo(()=>{if(w&&(j.current=w),N&&(k.current=N),w&&N){if(D.current)return D.current(w,N,_);_()}},[w,N,_,D,T]);const A=s.useMemo(()=>({reference:j,floating:k,setReference:b,setFloating:v}),[b,v]),R=s.useMemo(()=>({reference:w,floating:N}),[w,N]),L=s.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=Ho(R.floating,u.x),r=Ho(R.floating,u.y);return i?{...e,transform:"translate("+t+"px, "+r+"px)",...Bo(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,i,R.floating,u.x,u.y]);return s.useMemo(()=>({...u,update:_,refs:A,elements:R,floatingStyles:L}),[u,_,A,R,L])}({...e,elements:{...a,...i&&{reference:i}}}),h=s.useCallback(e=>{const t=ws(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),m.refs.setReference(t)},[m.refs]),f=s.useCallback(e=>{(ws(e)||null===e)&&(u.current=e,l(e)),(ws(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!ws(e))&&m.refs.setReference(e)},[m.refs]),g=s.useMemo(()=>({...m.refs,setReference:f,setPositionReference:h,domReference:u}),[m.refs,f,h]),x=s.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),y=s.useMemo(()=>({...m,...r,refs:g,elements:x,nodeId:t}),[m,g,x,t,r]);return hs(()=>{r.dataRef.current.floatingContext=y;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),s.useMemo(()=>({...m,context:y,refs:g,elements:x}),[m,g,x,y])}var ul=function(e,t){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ul(e,t)};function pl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ul(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ml=function(){return ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ml.apply(this,arguments)};function hl(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var fl,gl=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,a=void 0!==r&&r,o=e.className,l=e.children,i=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return s.createElement("div",{className:o,role:"dialog","aria-label":i,"aria-modal":"true"},l)},xl=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,o=e.style,l=function(e,t){var n=(0,s.useRef)(null),r=(0,s.useRef)(e);r.current=e;var a=(0,s.useCallback)(function(e){var a,s=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(s)&&(t&&s instanceof HTMLElement&&s.classList.contains(t)||null===(a=r.current)||void 0===a||a.call(r,e))},[t]);return(0,s.useEffect)(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n}(n,e.ignoreClass);return s.createElement("div",{className:r,style:o,ref:function(e){l.current=e,a&&(a.current=e)}},t)};function yl(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(fl||(fl={}));function bl(e){if(null==e)return new Date;var t="string"===typeof e?an(e):rn(e);return wl(t)?t:new Date}function vl(e,t,n,r,a){void 0===a&&(a=bl());for(var s=Bl(n)||Bl(Ul()),o=0,l=Array.isArray(t)?t:[t];o<l.length;o++){var i=l[o],c=Vr(e,i,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(wl(c)&&(!r||e===Nl(c,i,n)))return c}return null}function wl(e,t){return qr(e)&&!Kr(e,new Date("1/1/1800"))}function Nl(e,t,n){if("en"===n)return xa(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Bl(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),xa(e,t,{locale:r=r||Bl(Ul()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function jl(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Nl(e,a,r)||""}function kl(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,s=void 0===a?0:a,o=t.second;return ba(va(wa(e,void 0===o?0:o),s),r)}function Sl(e){return Qr(e)}function Tl(e,t,n){return vr(e,{locale:Bl(t||Ul()),weekStartsOn:n})}function Dl(e){return Na(e)}function El(e){return Xr(e)}function Cl(e){return ja(e)}function _l(){return Qr(bl())}function Pl(e){return ka(e)}function Al(e){return Ta(e)}function Rl(e,t){return e&&t?Da(e,t):!e&&!t}function Ll(e,t){return e&&t?Ea(e,t):!e&&!t}function Ml(e,t){return e&&t?Ca(e,t):!e&&!t}function Ol(e,t){return e&&t?_a(e,t):!e&&!t}function Il(e,t){return e&&t?Pa(e,t):!e&&!t}function Fl(e,t,n){var r,a=Qr(t),s=ka(n);try{r=Aa(e,{start:a,end:s})}catch(o){r=!1}return r}function Ul(){return yl().__localeId__}function Bl(e){if("string"===typeof e){var t=yl();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Hl(e,t){return Nl(La(bl(),e),"LLLL",t)}function $l(e,t){return Nl(La(bl(),e),"LLL",t)}function zl(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,l=n.includeDates,i=n.includeDateIntervals,c=n.filterDate;return Xl(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return t instanceof Date?Ol(e,t):Ol(e,t.date)})||o&&o.some(function(t){var n=t.start,r=t.end;return Aa(e,{start:n,end:r})})||l&&!l.some(function(t){return Ol(e,t)})||i&&!i.some(function(t){var n=t.start,r=t.end;return Aa(e,{start:n,end:r})})||c&&!c(bl(e))||!1}function Vl(e,t){var n=void 0===t?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(t){var n=t.start,r=t.end;return Aa(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?Ol(e,t):Ol(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function Wl(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate;return Xl(e,{minDate:r?Na(r):void 0,maxDate:a?Ta(a):void 0})||(null===s||void 0===s?void 0:s.some(function(t){return Ll(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return Ll(e,t)})||l&&!l(bl(e))||!1}function Yl(e,t,n,r){var a=Oa(e),s=Ia(e),o=Oa(t),l=Ia(t),i=Oa(r);return a===o&&a===i?s<=n&&n<=l:a<o&&(i===a&&s<=n||i===o&&l>=n||i<o&&i>a)}function ql(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates;return Xl(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return Ll(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return Ll(t,e)})||!1}function Kl(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate;return Xl(e,{minDate:r,maxDate:a})||(null===s||void 0===s?void 0:s.some(function(t){return Ml(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return Ml(e,t)})||l&&!l(bl(e))||!1}function Gl(e,t,n){if(!t||!n)return!1;if(!qr(t)||!qr(n))return!1;var r=Oa(t),a=Oa(n);return r<=e&&a>=e}function Ql(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate,i=new Date(e,0,1);return Xl(i,{minDate:r?Xr(r):void 0,maxDate:a?Fa(a):void 0})||(null===s||void 0===s?void 0:s.some(function(e){return Rl(i,e instanceof Date?e:e.date)}))||o&&!o.some(function(e){return Rl(i,e)})||l&&!l(bl(i))||!1}function Jl(e,t,n,r){var a=Oa(e),s=Ua(e),o=Oa(t),l=Ua(t),i=Oa(r);return a===o&&a===i?s<=n&&n<=l:a<o&&(i===a&&s<=n||i===o&&l>=n||i<o&&i>a)}function Xl(e,t){var n,r=void 0===t?{}:t,a=r.minDate,s=r.maxDate;return null!==(n=a&&Jr(e,a)<0||s&&Jr(e,s)>0)&&void 0!==n&&n}function Zl(e,t){return t.some(function(t){return Ba(t)===Ba(e)&&Ha(t)===Ha(e)&&$a(t)===$a(e)})}function ei(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&Zl(e,r)||a&&!Zl(e,a)||s&&!s(e)||!1}function ti(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=bl();a=wa(a=va(a=ba(a,Ba(e)),Ha(e)),$a(e));var s=bl();s=wa(s=va(s=ba(s,Ba(n)),Ha(n)),$a(n));var o,l=bl();l=wa(l=va(l=ba(l,Ba(r)),Ha(r)),$a(r));try{o=!Aa(a,{start:s,end:l})}catch(i){o=!1}return o}function ni(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Va(e,1);return r&&Wa(r,s)>0||a&&a.every(function(e){return Wa(e,s)>0})||!1}function ri(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=za(e,1);return r&&Wa(s,r)>0||a&&a.every(function(e){return Wa(s,e)>0})||!1}function ai(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Qa(e,1);return r&&Ja(r,s)>0||a&&a.every(function(e){return Ja(e,s)>0})||!1}function si(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Ga(e,1);return r&&Ja(s,r)>0||a&&a.every(function(e){return Ja(s,e)>0})||!1}function oi(e){var t=e.minDate,n=e.includeDates;return n&&t?Xa(n.filter(function(e){return Jr(e,t)>=0})):n?Xa(n):t}function li(e){var t=e.maxDate,n=e.includeDates;return n&&t?Za(n.filter(function(e){return Jr(e,t)<=0})):n?Za(n):t}function ii(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var o=e[a];if(Yr(o)){var l=Nl(o,"MM.dd.yyyy");(m=r.get(l)||[]).includes(t)||(m.push(t),r.set(l,m))}else if("object"===typeof o){var i=null!==(n=Object.keys(o)[0])&&void 0!==n?n:"",c=o[i];if("string"===typeof i&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var p=c[d];if(p){var m;l=Nl(p,"MM.dd.yyyy");(m=r.get(l)||[]).includes(i)||(m.push(i),r.set(l,m))}}}}return r}function ci(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,a=e.holidayName;if(Yr(r)){var s=Nl(r,"MM.dd.yyyy"),o=n.get(s)||{className:"",holidayNames:[]};if(!("className"in o)||o.className!==t||(l=o.holidayNames,i=[a],l.length!==i.length||!l.every(function(e,t){return e===i[t]}))){var l,i;o.className=t;var c=o.holidayNames;o.holidayNames=c?hl(hl([],c,!0),[a],!1):[a],n.set(s,o)}}}),n}function di(e,t,n,r,a){for(var s=a.length,o=[],l=0;l<s;l++){var i=e,c=a[l];c&&(i=rs(i=ns(i=ts(i,Ba(c)),Ha(c)),$a(c)));var d=ns(e,(n+1)*r);as(i,t)&&Kr(i,d)&&void 0!=c&&o.push(c)}return o}function ui(e){return e<10?"0".concat(e):"".concat(e)}function pi(e,t){void 0===t&&(t=12);var n=Math.ceil(Oa(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function mi(e){var t=e.getSeconds(),n=e.getMilliseconds();return rn(e.getTime()-1e3*t-n)}function hi(e){if(!Yr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function fi(e,t){if(!Yr(e)||!Yr(t))throw new Error("Invalid date received");return Kr(hi(e),hi(t))}function gi(e){return e.key===fl.Space}var xi,yi=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=s.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,s=a instanceof Date&&!isNaN(+a)?a:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var o=e.split(":"),l=o[0],i=o[1];s.setHours(Number(l)),s.setMinutes(Number(i))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,s)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,a=t.timeString,o=t.customTimeInput;return o?(0,s.cloneElement)(o,{date:r,value:e,onChange:n.onTimeChange}):s.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||a)}})},n.state={time:n.props.timeString},n}return pl(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return s.createElement("div",{className:"react-datepicker__input-time-container"},s.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),s.createElement("div",{className:"react-datepicker-time__input-container"},s.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(s.Component),bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,s.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===fl.Space&&(e.preventDefault(),e.key=fl.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Ol(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),zl(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Vl(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ol(t.props.day,Tl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Ol(e,Tl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var a=Nl(n,"MM.dd.yyyy");return r.get(a)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,a=n.holidays;if(!a)return[void 0];var s=Nl(r,"MM.dd.yyyy");return a.has(s)?[null===(e=a.get(s))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Fl(n,r,a)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,a=n.selectsStart,s=n.selectsEnd,o=n.selectsRange,l=n.selectsDisabledDaysInRange,i=n.startDate,c=n.endDate,d=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(a||s||o)||!d||!l&&t.isDisabled())&&(a&&c&&(Kr(d,c)||Il(d,c))?Fl(r,d,c):(s&&i&&(as(d,i)||Il(d,i))||!(!o||!i||c||!as(d,i)&&!Il(d,i)))&&Fl(r,i,d))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.startDate,s=n.selectsStart,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Ol(r,s?o:a)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.endDate,s=n.selectsEnd,o=n.selectsRange,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Ol(r,s||o?l:a)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Ol(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Ol(a,n)},t.isWeekend=function(){var e=ss(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Ia(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Ia(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(bl())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return pt("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+Nl(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,s=e.ariaLabelPrefixWhenDisabled,o=void 0===s?"Not available":s,l=t.isDisabled()||t.isExcluded()?o:a;return"".concat(l," ").concat(Nl(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,a=void 0===r?new Map:r,s=e.excludeDates,o=Nl(n,"MM.dd.yyyy"),l=[];return a.has(o)&&l.push.apply(l,a.get(o).holidayNames),t.isExcluded()&&l.push(null===s||void 0===s?void 0:s.filter(function(e){return e instanceof Date?Ol(e,n):Ol(null===e||void 0===e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),l.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Ol(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(os(t.props.day),t.props.day):os(t.props.day)},t.render=function(){return s.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&s.createElement("span",{className:"overlay"},t.getTitle()))},t}return pl(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(s.Component),vi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,s.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===fl.Space&&(e.preventDefault(),e.key=fl.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ol(t.props.date,t.props.selected)&&Ol(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ol(t.props.date,t.props.selected)&&Ol(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Ol(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,a=e.ariaLabelPrefix,o=void 0===a?t.defaultProps.ariaLabelPrefix:a,l=e.onClick,i={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!r,"react-datepicker__week-number--selected":!!l&&Ol(this.props.date,this.props.selected)};return s.createElement("div",{ref:this.weekNumberEl,className:pt(i),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(s.Component),wi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return zl(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,a){for(var s,o,l,i=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){i=d;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(i,r,a),n.props.showWeekPicker&&n.handleDayClick(i,a),(null!==(s=n.props.shouldCloseOnSelect)&&void 0!==s?s:t.defaultProps.shouldCloseOnSelect)&&(null===(l=(o=n.props).setOpen)||void 0===l||l.call(o,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Er(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Ar(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Ar(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],a=n.formatWeekNumber(e);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,a):void 0;r.push(s.createElement(vi,ml({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var a=Ar(e,r);return s.createElement(bi,ml({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,onClick:n.handleDayClick.bind(n,a),onMouseEnter:n.handleDayMouseEnter.bind(n,a)}))}))},n.startOfWeek=function(){return Tl(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ol(n.startOfWeek(),n.props.selected)&&Ol(n.startOfWeek(),n.props.preSelection)},n}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Ol(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return s.createElement("div",{className:pt(e)},this.renderDays())},t}(s.Component),Ni="two_columns",ji="three_columns",ki="four_columns",Si=((xi={})[Ni]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},xi[ji]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},xi[ki]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},xi);function Ti(e,t){return e?ki:t?Ni:ji}var Di=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=hl([],Array(12),!0).map(function(){return(0,s.createRef)()}),t.QUARTER_REFS=hl([],Array(4),!0).map(function(){return(0,s.createRef)()}),t.isDisabled=function(e){return zl(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return Vl(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,a;null===(a=(r=t.props).onDayClick)||void 0===a||a.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ll(La(r,e),a)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ml(Ma(r,e),a)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ll(La(r,e),s)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ml(Ma(r,e),s)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,o=r.selectsEnd,l=r.selectsRange,i=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||o||l)||!d)&&(s&&c?Yl(d,c,e,a):(o&&i||!(!l||!i||c))&&Yl(i,d,e,a))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.startDate,o=r.selectsStart,l=La(a,e),i=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Ll(l,o?i:s)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.endDate,o=r.selectsEnd,l=r.selectsRange,i=La(a,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Ll(i,o||l?c:s)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,o=r.selectsEnd,l=r.selectsRange,i=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||o||l)||!d)&&(s&&c?Jl(d,c,e,a):(o&&i||!(!l||!i||c))&&Jl(i,d,e,a))},t.isWeekInMonth=function(e){var n=t.props.day,r=Ar(e,6);return Ll(e,n)||Ll(r,n)},t.isCurrentMonth=function(e,t){return Oa(e)===Oa(bl())&&t===Ia(bl())},t.isCurrentQuarter=function(e,t){return Oa(e)===Oa(bl())&&t===Ua(bl())},t.isSelectedMonth=function(e,t,n){return Ia(n)===t&&Oa(e)===Oa(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Ua(e)===t&&Oa(e)===Oa(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,a=e.selectedDates,s=e.selectsMultiple,o=Ia(n);return s?null===a||void 0===a?void 0:a.some(function(e){return t.isSelectedMonth(n,o,e)}):!!r&&t.isSelectedMonth(n,o,r)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,a=!1,o=Tl(Dl(t.props.day),t.props.locale,t.props.calendarStartDay),l=t.props.selected?function(e){return t.props.showWeekPicker?Tl(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,i=t.props.preSelection?function(e){return t.props.showWeekPicker?Tl(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(s.createElement(wi,ml({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:o,month:Ia(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:l,preSelection:i,showWeekNumber:t.props.showWeekNumbers}))),!a;){r++,o=ls(o,1);var c=n&&r>=6,d=!n&&!t.isWeekInMonth(o);if(c||d){if(!t.props.peekNextMonth)break;a=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),a=r.isDisabled,s=r.labelDate;a||t.handleDayClick(Dl(s),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,a=n.labelDate;r||t.handleDayMouseEnter(Dl(a))},t.handleMonthNavigation=function(e,n){var r,a,s,o;null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(o=null===(s=t.MONTH_REFS[e])||void 0===s?void 0:s.current)||void 0===o||o.focus()},t.handleKeyboardNavigation=function(e,n,r){var a,s=t.props,o=s.selected,l=s.preSelection,i=s.setPreSelection,c=s.minDate,d=s.maxDate,u=s.showFourColumnMonthYearPicker,p=s.showTwoColumnMonthYearPicker;if(l){var m=Ti(u,p),h=t.getVerticalOffset(m),f=null===(a=Si[m])||void 0===a?void 0:a.grid,g=function(e,t,n){var r,a,s=t,o=n;switch(e){case fl.ArrowRight:s=za(t,1),o=11===n?0:n+1;break;case fl.ArrowLeft:s=Va(t,1),o=0===n?11:n-1;break;case fl.ArrowUp:s=Va(t,h),o=(null===(r=null===f||void 0===f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-h:n-h;break;case fl.ArrowDown:s=za(t,h),o=(null===(a=null===f||void 0===f?void 0:f[f.length-1])||void 0===a?void 0:a.includes(n))?n-12+h:n+h}return{newCalculatedDate:s,newCalculatedMonth:o}};if(n!==fl.Enter){var x=function(e,n,r){for(var a=e,s=!1,o=0,l=g(a,n,r),i=l.newCalculatedDate,u=l.newCalculatedMonth;!s;){if(o>=40){i=n,u=r;break}var p;if(c&&i<c)a=fl.ArrowRight,i=(p=g(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;if(d&&i>d)a=fl.ArrowLeft,i=(p=g(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;if(ql(i,t.props))i=(p=g(a,i,u)).newCalculatedDate,u=p.newCalculatedMonth;else s=!0;o++}return{newCalculatedDate:i,newCalculatedMonth:u}}(n,l,r),y=x.newCalculatedDate,b=x.newCalculatedMonth;switch(n){case fl.ArrowRight:case fl.ArrowLeft:case fl.ArrowUp:case fl.ArrowDown:t.handleMonthNavigation(b,y)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===i||void 0===i||i(o))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Si[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,a=r.disabledKeyboardNavigation,s=r.handleOnMonthKeyDown,o=e.key;o!==fl.Tab&&e.preventDefault(),a||t.handleKeyboardNavigation(e,o,n),s&&s(e)},t.onQuarterClick=function(e,n){var r=Ma(t.props.day,n);Kl(r,t.props)||t.handleDayClick(Cl(r),e)},t.onQuarterMouseEnter=function(e){var n=Ma(t.props.day,e);Kl(n,t.props)||t.handleDayMouseEnter(Cl(n))},t.handleQuarterNavigation=function(e,n){var r,a,s,o;t.isDisabled(n)||t.isExcluded(n)||(null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(o=null===(s=t.QUARTER_REFS[e-1])||void 0===s?void 0:s.current)||void 0===o||o.focus())},t.onQuarterKeyDown=function(e,n){var r,a,s=e.key;if(!t.props.disabledKeyboardNavigation)switch(s){case fl.Enter:t.onQuarterClick(e,n),null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,t.props.selected);break;case fl.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,Ya(t.props.preSelection,1));break;case fl.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,qa(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,a=r.day,s=r.minDate,o=r.maxDate,l=r.excludeDates,i=r.includeDates,c=La(a,e);return{isDisabled:null!==(n=(s||o||l||i)&&Wl(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,o=n.preSelection,l=n.monthClassName,i=l?l(La(r,e)):void 0,c=t.getSelection();return pt("react-datepicker__month-text","react-datepicker__month-".concat(e),i,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&s?Yl(a,s,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Ia(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Ua(t.props.preSelection),r=Kl(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,s=n.disabledDayAriaLabelPrefix,o=void 0===s?"Not available":s,l=n.day,i=n.locale,c=La(l,e),d=t.isDisabled(c)||t.isExcluded(c)?o:a;return"".concat(d," ").concat(Nl(c,"MMMM yyyy",i))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,o=n.selected,l=n.minDate,i=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,p=n.preSelection,m=n.disabledKeyboardNavigation,h=(l||i||c||d||u)&&Kl(Ma(r,e),t.props);return pt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":h,"react-datepicker__quarter-text--selected":o?t.isSelectedQuarter(r,e,o):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&p&&t.isSelectedQuarter(r,e,p)&&!h,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&s?Jl(a,s,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,s=n.locale,o=n.day,l=$l(e,s),i=Hl(e,s);return a?a(e,l,i,o):r?i:l},t.getQuarterContent=function(e){var n,r=t.props,a=r.renderQuarterContent,s=function(e,t){return Nl(Ma(bl(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===a||void 0===a?void 0:a(e,s))&&void 0!==n?n:s},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,a=n.showFourColumnMonthYearPicker,o=n.day,l=n.selected,i=null===(e=Si[Ti(a,r)])||void 0===e?void 0:e.grid;return null===i||void 0===i?void 0:i.map(function(e,n){return s.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return s.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){gi(n)&&(n.preventDefault(),n.key=fl.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(o,e)?"date":void 0,"aria-selected":l?t.isSelectedMonth(o,e,l):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return s.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,a){return s.createElement("div",{key:a,ref:t.QUARTER_REFS[a],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,a=e.selectsEnd;return pt("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return pl(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,o=void 0===a?"Month ":a,l=o?o.trim()+" ":"";return s.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Nl(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(s.Component),Ei=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,n){return s.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?s.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return pl(t,e),t.prototype.render=function(){return s.createElement(xl,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return s.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return s.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},s.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return s.createElement(Ei,ml({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return pl(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return $l(e,t.props.locale)}:function(e){return Hl(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return s.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component);function _i(e,t){for(var n=[],r=Dl(e),a=Dl(t);!as(r,a);)n.push(bl(r)),r=za(r,1);return n}var Pi=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=is(e),r=Rl(n.props.date,e)&&Ll(n.props.date,e);return s.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?s.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Nl(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:_i(n.props.minDate,n.props.maxDate)},n}return pl(t,e),t.prototype.render=function(){var e=pt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return s.createElement(xl,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Ai=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Dl(t.props.minDate),n=Dl(t.props.maxDate),r=[];!as(e,n);){var a=is(e);r.push(s.createElement("option",{key:a,value:a},Nl(e,t.props.dateFormat,t.props.locale))),e=za(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return s.createElement("select",{value:is(Dl(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Nl(t.props.date,t.props.dateFormat,t.props.locale);return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},s.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return s.createElement(Pi,ml({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=bl(e);Rl(t.props.date,n)&&Ll(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return pl(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return s.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component),Ri=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&ti(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ei(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,mi(t).getTime()===mi(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&ti(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ei(e,n.props)},n.liClasses=function(e){var r,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Ba(e)+60*Ha(e)+$a(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===fl.Space&&(e.preventDefault(),e.key=fl.Enter),(e.key===fl.ArrowUp||e.key===fl.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===fl.ArrowDown||e.key===fl.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===fl.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var e,r=[],a="string"===typeof n.props.format?n.props.format:"p",o=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,l=n.props.selected||n.props.openToDate||bl(),i=Sl(l),c=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),d=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(l),u=d/o,p=0;p<u;p++){var m=ns(i,p*o);if(r.push(m),c){var h=di(i,m,p,o,c);r=r.concat(h)}}var f=r.reduce(function(e,t){return t.getTime()<=l.getTime()?t:e},r[0]);return r.map(function(e){return s.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},Nl(e,a,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?s.createElement(s.Fragment,null):s.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},s.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return s.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),s.createElement("div",{className:"react-datepicker__time"},s.createElement("div",{className:"react-datepicker__time-box"},s.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(s.Component),Li=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=hl([],Array(n.props.yearItemNumber),!0).map(function(){return(0,s.createRef)()}),n.isDisabled=function(e){return zl(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return Vl(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,s,o,l=n.props,i=l.date,c=l.yearItemNumber;if(void 0!==i&&void 0!==c){var d=pi(i,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(o=null===(s=n.YEAR_REFS[e-d])||void 0===s?void 0:s.current)||void 0===o||o.focus())}},n.isSameDay=function(e,t){return Ol(e,t)},n.isCurrentYear=function(e){return e===Oa(bl())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Rl(cs(bl(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Rl(cs(bl(),e),n.props.endDate)},n.isInRange=function(e){return Gl(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,s=t.selectsRange,o=t.startDate,l=t.endDate;return!(!(r||a||s)||!n.selectingDate())&&(r&&l?Gl(e,n.selectingDate(),l):(a&&o||!(!s||!o||l))&&Gl(e,o,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,s=r.selectsStart,o=cs(bl(),e);return Rl(o,s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,s=r.selectsEnd,o=r.selectsRange,l=cs(bl(),e);return Rl(l,s||o?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,s=t.excludeDates,o=t.includeDates,l=t.filterDate,i=El(cs(n.props.date,e)),c=(r||a||s||o||l)&&Ql(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ol(i,El(n.props.selected))&&Ol(i,El(n.props.preSelection))&&!c}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,a=t.selected,s=t.selectedDates;return r?null===s||void 0===s?void 0:s.some(function(t){return e===Oa(t)}):!!a&&e===Oa(a)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(El(cs(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,s=e.key,o=n.props,l=o.date,i=o.yearItemNumber,c=o.handleOnKeyDown;if(s!==fl.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(s){case fl.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case fl.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Ga(n.props.preSelection,1));break;case fl.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Qa(n.props.preSelection,1));break;case fl.ArrowUp:if(void 0===l||void 0===i||null==n.props.preSelection)break;var d=pi(l,i).startPeriod;if((m=t-(p=3))<d){var u=i%p;t>=d&&t<d+u?p=u:p+=u,m=t-p}n.handleYearNavigation(m,Qa(n.props.preSelection,p));break;case fl.ArrowDown:if(void 0===l||void 0===i||null==n.props.preSelection)break;var p,m,h=pi(l,i).endPeriod;if((m=t+(p=3))>h){u=i%p;t<=h&&t>h-u?p=u:p+=u,m=t+p}n.handleYearNavigation(m,Ga(n.props.preSelection,p))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,s=t.maxDate,o=t.excludeDates,l=t.includeDates,i=t.filterDate,c=t.yearClassName;return pt("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(cs(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||s||o||l||i)&&Ql(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Oa(n.props.preSelection),r=Ql(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return pl(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,o=n.onYearMouseEnter,l=n.onYearMouseLeave;if(void 0===r)return null;for(var i=pi(r,a),c=i.startPeriod,d=i.endPeriod,u=function(n){t.push(s.createElement("div",{ref:p.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){gi(t)&&(t.preventDefault(),t.key=fl.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(p.getYearTabIndex(n)),className:p.getYearClassNames(n),onMouseEnter:p.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:p.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(e){return l(e,n)},onPointerLeave:p.props.usePointerEvent?function(e){return l(e,n)}:void 0,key:n,"aria-current":p.isCurrentYear(n)?"date":void 0},p.getYearContent(n)))},p=this,m=c;m<=d;m++)u(m);return s.createElement("div",{className:"react-datepicker__year"},s.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(s.Component);function Mi(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var o=e+t-s,l=!0;n&&(l=Oa(n)<=o),r&&l&&(l=Oa(r)>=o),l&&a.push(o)}return a}var Oi=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return s.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?s.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),r=n.props.minDate?Oa(n.props.minDate):null,a=n.props.maxDate?Oa(n.props.maxDate):null;return a&&n.state.yearsList.find(function(e){return e===a})||t.unshift(s.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},s.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(s.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},s.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,o=r||(a?10:5);return n.state={yearsList:Mi(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,s.createRef)(),n}return pl(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=pt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return s.createElement(xl,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(s.Component),Ii=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Oa(t.props.minDate):1900,n=t.props.maxDate?Oa(t.props.maxDate):2100,r=[],a=e;a<=n;a++)r.push(s.createElement("option",{key:a,value:a},a));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return s.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return s.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},s.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),s.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return s.createElement(Oi,ml({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,a;null===(a=(r=t.props).onSelect)||void 0===a||a.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return pl(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return s.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(s.Component),Fi=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Ui=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return Fi.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,s=oi(r.props),o=li(r.props),l=bl(),i=a||n||t;return i||(s&&Kr(l,s)?s:o&&as(l,o)?o:l)},r.increaseMonth=function(){r.setState(function(e){return{date:za(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){return{date:Va(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:cs(bl(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,a,s;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(s=(a=r.props).setOpen)||void 0===s||s.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!zl(e,r.props))return e;for(var t=Dl(e),n=ds(Al(e),t),a=null,s=0;s<=n;s++){var o=Ar(t,s);if(!zl(o,r.props)){a=o;break}}return a},r.handleMonthChange=function(e){var t,n,a,s=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),null===(a=(n=r.props).setOpen)||void 0===a||a.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){return{date:cs(t.date,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){return{date:La(t.date,Number(e))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(e){r.setState(function(t){return{date:cs(La(t.date,Ia(e)),Oa(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e){void 0===e&&(e=r.state.date);var t=Tl(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(s.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map(function(e){var n=Ar(t,e),a=r.formatWeekday(n,r.props.locale),o=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return s.createElement("div",{key:e,"aria-label":Nl(n,"EEEE",r.props.locale),className:pt("react-datepicker__day-name",o)},a)}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Nl(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Nl(e,"EEE",t)}(e,t):function(e,t){return Nl(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState(function(e){var n;return{date:Qa(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,a;if(!r.props.renderCustomHeader){var o,l=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,i=r.props.showPreviousMonths?l-1:0,c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:i,d=Va(r.state.date,c);switch(!0){case r.props.showMonthYearPicker:o=ai(r.state.date,r.props);break;case r.props.showYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.yearItemNumber,s=void 0===a?12:a,o=pi(El(Qa(e,s)),s).endPeriod,l=r&&Oa(r);return l&&l>o||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=qa(Xr(e),1);return r&&Ka(r,s)>0||a&&a.every(function(e){return Ka(e,s)>0})||!1}(r.state.date,r.props);break;default:o=ni(d,r.props)}if(((null!==(a=r.props.forceShowMonthNavigation)&&void 0!==a?a:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!o)&&!r.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(p=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),p=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,f=h.previousMonthButtonLabel,g=void 0===f?t.defaultProps.previousMonthButtonLabel:f,x=h.previousYearButtonLabel,y=void 0===x?t.defaultProps.previousYearButtonLabel:x,b=r.props,v=b.previousMonthAriaLabel,w=void 0===v?"string"===typeof g?g:"Previous Month":v,N=b.previousYearAriaLabel,j=void 0===N?"string"===typeof y?y:"Previous Year":N;return s.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?j:w},s.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?y:g))}}},r.increaseYear=function(){r.setState(function(e){var n;return{date:Ga(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=si(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.yearItemNumber,s=void 0===a?12:a,o=pi(Ga(e,s),s).startPeriod,l=r&&Oa(r);return l&&l<o||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Ya(Fa(e),1);return r&&Ka(s,r)>0||a&&a.every(function(e){return Ka(s,e)>0})||!1}(r.state.date,r.props);break;default:n=ri(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var o=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(o=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),o=void 0);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,c=i.nextMonthButtonLabel,d=void 0===c?t.defaultProps.nextMonthButtonLabel:c,u=i.nextYearButtonLabel,p=void 0===u?t.defaultProps.nextYearButtonLabel:u,m=r.props,h=m.nextMonthAriaLabel,f=void 0===h?"string"===typeof d?d:"Next Month":h,g=m.nextYearAriaLabel,x=void 0===g?"string"===typeof p?p:"Next Year":g;return s.createElement("button",{type:"button",className:a.join(" "),onClick:o,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?x:f},s.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},l?p:d))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),s.createElement("h2",{className:t.join(" ")},Nl(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return s.createElement(Ii,ml({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Oa(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return s.createElement(Ci,ml({},t.defaultProps,r.props,{month:Ia(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return s.createElement(Ai,ml({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(_l(),e),r.props.setPreSelection&&r.props.setPreSelection(_l())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return s.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return s.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),s.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),s.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,a=e.monthDate,o=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var l=ni(r.state.date,r.props),i=ri(r.state.date,r.props),c=ai(r.state.date,r.props),d=si(r.state.date,r.props),u=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return s.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,ml(ml({},r.state),{customHeaderCount:o,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:i,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),u&&s.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(e){var n=e.monthDate,a=r.props,o=a.showYearPicker,l=a.yearItemNumber,i=pi(n,void 0===l?t.defaultProps.yearItemNumber:l),c=i.startPeriod,d=i.endPeriod;return s.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(c," - ").concat(d):Oa(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,a={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(a);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(a);default:return r.renderDefaultHeader(a)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var a=[],o=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ga(r.state.date,l):Va(r.state.date,l),c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:l,d=0;d<o;++d){var u=d-c+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ga(i,u):za(i,u),m="month-".concat(d),h=d<o-1,f=d>0;a.push(s.createElement("div",{key:m,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),s.createElement(Di,ml({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:h,monthShowsDuplicateDaysStart:f}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?s.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),s.createElement(Li,ml({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return s.createElement(Ri,ml({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&wl(e)&&Boolean(r.props.selected)?"".concat(ui(e.getHours()),":").concat(ui(e.getMinutes())):"";if(r.props.showTimeInput)return s.createElement(yi,ml({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,a=pi(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),o=a.startPeriod,l=a.endPeriod;return n=r.props.showYearPicker?"".concat(o," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Oa(r.state.date):"".concat(Hl(Ia(r.state.date),r.props.locale)," ").concat(Oa(r.state.date)),s.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return s.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,s.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Ol(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Ol(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Ll(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||gl;return s.createElement(xl,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},s.createElement("div",{style:{display:"contents"},ref:this.containerRef},s.createElement(e,{className:pt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(s.Component),Bi=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a=e.onClick,o="react-datepicker__calendar-icon";if("string"===typeof t)return s.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(s.isValidElement(t)){var l=t;return s.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(r),onClick:function(e){"function"===typeof l.props.onClick&&l.props.onClick(e),"function"===typeof a&&a(e)}})}return s.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},s.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Hi=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return pl(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return we.createPortal(this.props.children,this.el)},t}(s.Component),$i=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},zi=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter($i)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,s.createRef)(),n}return pl(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?s.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},s.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,s.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(s.Component);var Vi,Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,a=e.hidePopper,o=void 0===a?t.defaultProps.hidePopper:a,l=e.popperComponent,i=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,u=e.portalId,p=e.portalHost,m=e.popperProps,h=e.showArrow,f=void 0;if(!o){var g=pt("react-datepicker-popper",n);f=s.createElement(zi,{enableTabLoop:c},s.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:g,"data-placement":m.placement,onKeyDown:d},l,h&&s.createElement(rl,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=(0,s.createElement)(this.props.popperContainer,{},f)),u&&!o&&(f=s.createElement(Hi,{portalId:u,portalHost:p},f));var x=pt("react-datepicker-wrapper",r);return s.createElement(s.Fragment,null,s.createElement("div",{ref:m.refs.setReference,className:x},i),f)},t}(s.Component),Yi=(Vi=Wi,function(e){var t,n,r,a="boolean"!==typeof e.hidePopper||e.hidePopper,o=(0,s.useRef)(null),l=dl(ml({open:!a,whileElementsMounted:Ro,placement:e.popperPlacement,middleware:hl([(n={padding:15},{...Mo(n),options:[n,r]}),Vo(10),Wo({element:o})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),i=ml(ml({},e),{hidePopper:a,popperProps:ml(ml({},l),{arrowRef:o})});return s.createElement(Vi,ml({},i))}),qi="react-datepicker-ignore-onclickoutside";var Ki="Date input not valid.",Gi=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:bl()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return wl(n)?hl(hl([],e,!0),[ml(ml({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=oi(r.props),a=li(r.props),s=n&&Kr(t,Sl(n))?n:a&&as(t,Pl(a))?a:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:s,highlightDates:ii(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ml(ml({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ml(ml({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Ji},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Yr(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,a=r.state.wasHidden,s=!a||r.state.open;a&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!s||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,a,s,o,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var c=l[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,l),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:Qi});var d=r.props,u=d.selectsRange,p=d.startDate,m=d.endDate,h=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var x=g.split(h.includes("-")?" - ":"-",2).map(function(e){return e.trim()}),y=x[0],b=x[1],v=vl(null!==y&&void 0!==y?y:"",h,r.props.locale,f),w=vl(null!==b&&void 0!==b?b:"",h,r.props.locale,f),N=(null===p||void 0===p?void 0:p.getTime())!==(null===v||void 0===v?void 0:v.getTime()),j=(null===m||void 0===m?void 0:m.getTime())!==(null===w||void 0===w?void 0:w.getTime());if(!N&&!j)return;if(v&&zl(v,r.props))return;if(w&&zl(w,r.props))return;null===(s=(a=r.props).onChange)||void 0===s||s.call(a,[v,w],c)}else{var k=vl(g,h,r.props.locale,f,null!==(o=r.props.selected)&&void 0!==o?o:void 0);!k&&g||r.setSelected(k,c,!0)}}},r.handleSelect=function(e,t,n){if(!r.props.readOnly)if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,s=a.startDate,o=a.endDate;!s||o||!r.props.swapRange&&fi(e,s)||r.setOpen(!1)}},r.setSelected=function(e,t,n,a){var s,o,l=e;if(r.props.showYearPicker){if(null!==l&&Ql(Oa(l),r.props))return}else if(r.props.showMonthYearPicker){if(null!==l&&Wl(l,r.props))return}else if(null!==l&&zl(l,r.props))return;var i=r.props,c=i.onChange,d=i.selectsRange,u=i.startDate,p=i.endDate,m=i.selectsMultiple,h=i.selectedDates,f=i.minTime,g=i.swapRange;if(!Il(r.props.selected,l)||r.props.allowSameDay||d||m)if(null!==l&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(l=kl(l,{hour:Ba(r.props.selected),minute:Ha(r.props.selected),second:$a(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||f&&(l=kl(l,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),d){var x=u&&!p,y=u&&p;!u&&!p?null===c||void 0===c||c([l,null],t):x&&(null===l?null===c||void 0===c||c([null,null],t):fi(l,u)?g?null===c||void 0===c||c([l,u],t):null===c||void 0===c||c([l,null],t):null===c||void 0===c||c([u,l],t)),y&&(null===c||void 0===c||c([l,null],t))}else if(m){if(null!==l)if(null===h||void 0===h?void 0:h.length)if(h.some(function(e){return Ol(e,l)})){var b=h.filter(function(e){return!Ol(e,l)});null===c||void 0===c||c(b,t)}else null===c||void 0===c||c(hl(hl([],h,!0),[l],!1),t);else null===c||void 0===c||c([l],t)}else null===c||void 0===c||c(l,t);n||(null===(o=(s=r.props).onSelect)||void 0===o||o.call(s,l,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=Yr(r.props.minDate),n=Yr(r.props.maxDate),a=!0;if(e){var s=Sl(e);if(t&&n)a=Fl(e,r.props.minDate,r.props.maxDate);else if(t){var o=Sl(r.props.minDate);a=as(e,o)||Il(s,o)}else if(n){var l=Pl(r.props.maxDate);a=Kr(e,l)||Il(s,l)}}a&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var a=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?e:kl(a,{hour:Ba(e),minute:Ha(e)});r.setState({preSelection:s}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,a,s,o,l;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var i=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(i===fl.ArrowDown||i===fl.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(s=r.calendar)||void 0===s?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=bl(r.state.preSelection);i===fl.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Ji?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):i===fl.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):i===fl.Tab&&r.setOpen(!1),r.inputOk()||null===(l=(o=r.props).onInputError)||void 0===l||l.call(o,{code:1,msg:Ki})}}else i!==fl.ArrowDown&&i!==fl.ArrowUp&&i!==fl.Enter||null===(a=r.onInputClick)||void 0===a||a.call(r)},r.onPortalKeyDown=function(e){e.key===fl.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,a,s,o,l,i=r.props,c=i.minDate,d=i.maxDate,u=i.disabledKeyboardNavigation,p=i.showWeekPicker,m=i.shouldCloseOnSelect,h=i.locale,f=i.calendarStartDay,g=i.adjustDateOnChange,x=i.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!u){var y=e.key,b=e.shiftKey,v=bl(r.state.preSelection),w=function(e,t){var n=t;switch(e){case fl.ArrowRight:n=p?ls(t,1):Ar(t,1);break;case fl.ArrowLeft:n=p?ps(t,1):ms(t,1);break;case fl.ArrowUp:n=ps(t,1);break;case fl.ArrowDown:n=ls(t,1);break;case fl.PageUp:n=b?Qa(t,1):Va(t,1);break;case fl.PageDown:n=b?Ga(t,1):za(t,1);break;case fl.Home:n=Tl(t,h,f);break;case fl.End:n=function(e){return Sa(e)}(t)}return n};if(y===fl.Enter)return e.preventDefault(),r.handleSelect(v,e),void(!m&&r.setPreSelection(v));if(y===fl.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:Ki}));var N=null;switch(y){case fl.ArrowLeft:case fl.ArrowRight:case fl.ArrowUp:case fl.ArrowDown:case fl.PageUp:case fl.PageDown:case fl.Home:case fl.End:N=function(e,t){for(var n=e,a=!1,s=0,o=w(e,t);!a;){if(s>=40){o=t;break}c&&o<c&&(n=fl.ArrowRight,o=zl(c,r.props)?w(n,o):c),d&&o>d&&(n=fl.ArrowLeft,o=zl(d,r.props)?w(n,o):d),zl(o,r.props)?(n!==fl.PageUp&&n!==fl.Home||(n=fl.ArrowRight),n!==fl.PageDown&&n!==fl.End||(n=fl.ArrowLeft),o=w(n,o)):a=!0,s++}return o}(y,v)}if(N){if(e.preventDefault(),r.setState({lastPreSelectChange:Ji}),g&&r.setSelected(N),r.setPreSelection(N),x){var j=Ia(v),k=Ia(N),S=Oa(v),T=Oa(N);j!==k||S!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(l=(o=r.props).onInputError)||void 0===l||l.call(o,{code:1,msg:Ki})}},r.onPopperKeyDown=function(e){e.key===fl.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,a=t.onChange;n?null===a||void 0===a||a([null,null],e):null===a||void 0===a||a(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?s.createElement(Ui,ml({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:ci(r.modifyHolidays()),outsideClickIgnoreClass:qi,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,a=n.dateFormat,o=void 0===a?t.defaultProps.dateFormat:a,l=n.locale,i=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(jl(r.props.startDate,{dateFormat:i,locale:l}),". ").concat(r.props.endDate?"End date: "+jl(r.props.endDate,{dateFormat:i,locale:l}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(jl(r.props.selected,{dateFormat:o,locale:l})):r.props.showYearPicker?"Selected year: ".concat(jl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?"Selected month: ".concat(jl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(jl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):"Selected date: ".concat(jl(r.props.selected,{dateFormat:i,locale:l})),s.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,a,o=pt(r.props.className,((e={})[qi]=r.state.open,e)),l=r.props.customInput||s.createElement("input",{type:"text"}),i=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,u=void 0===d?t.defaultProps.dateFormat:d,p=c.locale,m="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=jl(e,n),a=t?jl(t,n):"";return"".concat(r).concat(" - ").concat(a)}(r.props.startDate,r.props.endDate,{dateFormat:u,locale:p}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?jl(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=jl(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}(null!==(a=r.props.selectedDates)&&void 0!==a?a:[],{dateFormat:u,locale:p}):jl(r.props.selected,{dateFormat:u,locale:p});return(0,s.cloneElement)(l,((n={})[i]=function(e){r.input=e},n.value=m,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=pt(l.props.className,o),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,a=e.selected,o=e.startDate,l=e.endDate,i=e.clearButtonTitle,c=e.clearButtonClassName,d=void 0===c?"":c,u=e.ariaLabelClose,p=void 0===u?"Close":u,m=e.selectedDates,h=e.readOnly;return!t||h||null==a&&null==o&&null==l&&!(null===m||void 0===m?void 0:m.length)?null:s.createElement("button",{type:"button",className:pt("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":p,onClick:r.onClearClick,title:i,tabIndex:-1})},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return pl(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,a,s,o,l;e.inline&&(o=e.selected,l=this.props.selected,o&&l?Ia(o)!==Ia(l)||Oa(o)!==Oa(l):o!==l)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:ii(this.props.highlightDates)}),t.focused||Il(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(s=(a=this.props).onCalendarClose)||void 0===s||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,a=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,l=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),s.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&s.createElement(Bi,ml({icon:n,className:pt(a,!a&&r,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?s.createElement(zi,{enableTabLoop:this.props.enableTabLoop},s.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=s.createElement(Hi,ml({portalId:this.props.portalId},this.props),t)),s.createElement("div",null,this.renderInputContainer(),t)}return s.createElement(Yi,ml({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(s.Component),Qi="input",Ji="navigate";const Xi=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zi=e=>{let{value:t,onChange:n,placeholder:r="Select lien payoff date..."}=e;const[a,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(t),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{i(t)},[t]);const d=(0,s.useCallback)(()=>{o(!1),l!==t&&n(l)},[l,t,n]);return(0,s.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&d()};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a,d]),(0,We.jsxs)("div",{className:"relative",ref:c,children:[(0,We.jsxs)("div",{className:"flex items-center justify-between w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent cursor-pointer hover:bg-white/15 transition-all duration-200",onClick:()=>{o(!a)},children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)(Ze,{className:"h-4 w-4 text-blue-400"}),(0,We.jsx)("span",{className:l?"text-white font-medium":"text-gray-400",children:l?(e=>{if(!e)return"";return`${e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})} at ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:void 0,hour12:!0})}`})(l):r})]}),l&&(0,We.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-blue-300",children:[(0,We.jsx)(Re,{className:"h-3 w-3"}),(0,We.jsx)("span",{children:l.toLocaleTimeString("en-US",{hour:"numeric",minute:void 0,hour12:!0})})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&(0,We.jsx)("button",{onClick:e=>{e.stopPropagation(),i(null),n(null)},className:"text-gray-400 hover:text-red-400 transition-colors p-1 rounded-full hover:bg-red-400/10",title:"Clear date",children:(0,We.jsx)(lt,{className:"h-3 w-3"})}),(0,We.jsx)(Xi,{className:"h-4 w-4 text-gray-400 transition-transform duration-200 "+(a?"rotate-180":"")})]})]}),a&&(0,We.jsx)("div",{className:"absolute z-50 mt-2",children:(0,We.jsx)(Gi,{selected:l,onChange:e=>{i(e)},inline:!0,minDate:new Date,showTimeSelect:!0,showTimeSelectOnly:!1,timeIntervals:60,timeCaption:"Time",dateFormat:"MMM dd, yyyy h:mm aa",placeholderText:r,popperClassName:"react-datepicker-popper",customInput:(0,We.jsx)("div",{}),onCalendarOpen:()=>o(!0),onCalendarClose:d,popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]}}],calendarClassName:"custom-datepicker"})}),(0,We.jsx)("style",{jsx:!0,children:"\n        .react-datepicker-popper {\n          z-index: 9999;\n        }\n        .react-datepicker {\n          background-color: #1f2937;\n          border: 1px solid #374151;\n          border-radius: 0.75rem;\n          font-family: inherit;\n          box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);\n          display: flex !important;\n          flex-direction: row !important;\n          align-items: flex-start !important;\n          gap: 0 !important;\n        }\n        \n        .custom-datepicker .react-datepicker__month-container {\n          border-radius: 0.75rem 0 0 0.75rem !important;\n          border-right: 1px solid #4b5563 !important;\n        }\n        \n        .custom-datepicker .react-datepicker__time-container {\n          border-radius: 0 0.75rem 0.75rem 0 !important;\n          border-left: 1px solid #4b5563 !important;\n          min-width: 120px !important;\n        }\n        .react-datepicker__header {\n          background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n          border-bottom: 1px solid #4b5563;\n          border-radius: 0.75rem 0.75rem 0 0;\n          padding: 1rem 0;\n          position: relative;\n        }\n        .react-datepicker__current-month {\n          color: white;\n          font-weight: 700;\n          font-size: 1.1rem;\n          margin-bottom: 0.5rem;\n        }\n        .react-datepicker__day-name {\n          color: #d1d5db;\n          font-weight: 600;\n          font-size: 0.875rem;\n          padding: 0.5rem 0;\n        }\n        .react-datepicker__day {\n          color: white;\n          border-radius: 0.375rem;\n          margin: 0.125rem;\n          width: 2rem;\n          height: 2rem;\n          line-height: 2rem;\n          font-weight: 500;\n          transition: all 0.2s ease;\n        }\n        .react-datepicker__day:hover {\n          background-color: #3b82f6;\n          transform: scale(1.05);\n        }\n        .react-datepicker__day--selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);\n        }\n        .react-datepicker__day--keyboard-selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n        }\n        .react-datepicker__day--today {\n          background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(29, 78, 216, 0.3);\n        }\n        \n        /* Enhanced navigation button styling */\n        .react-datepicker__navigation {\n          position: absolute !important;\n          top: 1rem !important;\n          background: rgba(255, 255, 255, 0.1) !important;\n          border: 1px solid rgba(255, 255, 255, 0.2) !important;\n          border-radius: 0.5rem !important;\n          width: 2.5rem !important;\n          height: 2.5rem !important;\n          transition: all 0.2s ease !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          color: white !important;\n        }\n        .react-datepicker__navigation:hover {\n          background: rgba(255, 255, 255, 0.2) !important;\n          transform: scale(1.05) !important;\n          border-color: rgba(255, 255, 255, 0.3) !important;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n        }\n        .react-datepicker__navigation--previous {\n          left: 1rem !important;\n        }\n        .react-datepicker__navigation--next {\n          right: 1rem !important;\n        }\n        .react-datepicker__navigation-icon {\n          width: 0.75rem !important;\n          height: 0.75rem !important;\n          border-color: white !important;\n          border-width: 2px 2px 0 0 !important;\n        }\n        .react-datepicker__navigation-icon--previous {\n          transform: rotate(-135deg) !important;\n          margin-left: 0.25rem !important;\n        }\n        .react-datepicker__navigation-icon--next {\n          transform: rotate(45deg) !important;\n          margin-right: 0.25rem !important;\n        }\n        \n        .react-datepicker__month-container {\n          background-color: #1f2937;\n          border-radius: 0.75rem;\n        }\n        .react-datepicker__time-container {\n          background-color: #1f2937;\n          border-left: 1px solid #4b5563;\n        }\n        .react-datepicker__time {\n          background-color: #1f2937;\n        }\n        .react-datepicker__time-box {\n          background-color: #1f2937;\n        }\n        .react-datepicker__time-list {\n          background-color: #1f2937;\n          padding: 0.5rem 0;\n        }\n        .react-datepicker__time-list-item {\n          color: white;\n          padding: 0.5rem 1rem;\n          font-weight: 500;\n          transition: all 0.2s ease;\n          border-radius: 0.25rem;\n          margin: 0.125rem 0.5rem;\n        }\n        .react-datepicker__time-list-item:hover {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          transform: scale(1.02);\n        }\n        .react-datepicker__time-list-item--selected {\n          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n          color: white;\n          font-weight: 600;\n          box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);\n        }\n        .react-datepicker__time-list-item--disabled {\n          color: #6b7280;\n          opacity: 0.5;\n        }\n        .react-datepicker__time-caption {\n          color: white;\n          font-weight: 700;\n          font-size: 1rem;\n          padding: 0.75rem 1rem 0.5rem;\n          background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n          border-bottom: 1px solid #4b5563;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar {\n          width: 6px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-track {\n          background: #374151;\n          border-radius: 3px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-thumb {\n          background: #6b7280;\n          border-radius: 3px;\n        }\n        .react-datepicker__time-list::-webkit-scrollbar-thumb:hover {\n          background: #9ca3af;\n        }\n      "})]})},ec=e=>{let{setDeals:t}=e;const{user:n,getAuthHeaders:r}=Ke(),a=te();(0,s.useEffect)(()=>{n||a("/login")},[n,a]);const o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"",l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...r(),"Content-Type":"application/json",...e};return t.Authorization?console.log("[DEAL SUBMIT] Using Authorization header:",t.Authorization):console.warn("[DEAL SUBMIT] No Authorization token in headers!"),t},i=(new Date).toISOString().slice(0,10),[c,d]=(0,s.useState)({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:i,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",killPrice:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",documents:[],salesperson:"",lienStatus:"none",lienEta:""}),[u,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[b,v]=(0,s.useState)(""),[w,N]=(0,s.useState)({}),[j,k]=(0,s.useState)(!1),[S,T]=(0,s.useState)(1),[D,E]=(0,s.useState)([]);(0,s.useEffect)(()=>{const e=`${o}/api/backoffice/document-types`;console.log("[DEBUG][NewDealEntry] Fetching document types from:",e),fetch(e,{credentials:"include",headers:r()}).then(e=>e.json()).then(e=>{e.success&&Array.isArray(e.data)}).catch(()=>{})},[r]);function C(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}const _=()=>"wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType||"wholesale-pp"===c.dealType||"wholesale-flip"===c.dealType&&"buy"===c.dealType2SubType,P=(()=>{const e=c.dealType2SubType,t="retail-pp"===c.dealType,n="retail-d2d"===c.dealType,r="wholesale-d2d"===c.dealType&&"sale"===e;c.dealType;return{purchasePriceLabel:"sale"===e?"Sale Price":"Purchase Price",sellerLabel:"sale"===e?"Sold To":"Purchased From",sellerSectionTitle:r?"Seller Information":"sale"===e?"Buyer Information":"Seller Information",companyLabel:t||n?"Company (if applicable)":"Company/Dealer",licenseLabel:t||n?"License Number (if applicable)":"Dealer License Number",addressLabel:t||n?"Address":"Seller Address",payoffBalanceLabel:"Payoff Balance",amountDueToCustomerLabel:"Amount Due to Customer",amountDueToRPExoticsLabel:"Amount Due to RP Exotics"}})(),A=[{value:"wholesale-d2d",label:"Wholesale - D2D"},{value:"wholesale-flip",label:"Wholesale - Flip"},{value:"retail-pp",label:"Retail - PP"},{value:"retail-d2d",label:"Retail - D2D"},{value:"auction",label:"Auction"}],R=[{value:"flpn-retail",label:"FLPN - Retail"},{value:"flpn-wholesale",label:"FLPN - Wholesale"},{value:"cash",label:"Cash"},{value:"flooring-line",label:"Flooring Line"},{value:"consignment",label:"Consignment"}],L=[{value:"check",label:"Check"},{value:"wire",label:"Wire Transfer"},{value:"ach",label:"ACH"},{value:"cash",label:"Cash"},{value:"financed",label:"Financed"}],M=[{value:"buy",label:"Buy"},{value:"sale",label:"Sale"},{value:"buy-sell",label:"Buy/Sell"},{value:"consign-a",label:"Consign-A"},{value:"consign-b",label:"Consign-B"},{value:"consign-c",label:"Consign-C"},{value:"consign-rdnc",label:"Consign-RDNC"}],O=[{value:"Brennan S",label:"Brennan S"},{value:"Parker G",label:"Parker G"},{value:"Dan M",label:"Dan M"},{value:"Adiana P",label:"Adiana P"},{value:"Brett M",label:"Brett M"},{value:"Other",label:"Other"}],I=()=>{const e=c.dealType;return{showFinancials:["wholesale-d2d","wholesale-flip","retail-pp","retail-d2d","auction"].includes(e),showSellerInfo:!0,requiredFields:["vin","dealType","dealType2SubType","year","make","model","sellerName"]}},F=I(),U=async e=>{p(!0);try{const t={...r(),"Content-Type":"application/json"},n=`${o}/api/deals/vin/decode`;console.log("[DEBUG][NewDealEntry] VIN decode fetch from:",n);const a=await fetch(n,{method:"POST",headers:t,body:JSON.stringify({vin:e}),credentials:"include"});console.log("[DEBUG][NewDealEntry] VIN decode response status:",a.status);const s=await a.json();console.log("[VIN DECODE] Response data:",s),s.success&&s.data?(d(e=>({...e,year:s.data.year||"",make:s.data.make||"",model:s.data.model||""})),h(!0),setTimeout(()=>h(!1),3e3)):(console.error("VIN decode failed:",s.error),alert(s.error||"Unable to decode VIN. Please check the VIN and try again."))}catch(t){console.error("[VIN DECODE] Error:",t),alert("Unable to decode VIN. Please check your connection and try again.")}finally{p(!1)}},B=async e=>{if(e.length<2)g([]);else try{const t=`${o}/api/dealers/search?q=${encodeURIComponent(e)}`;console.log("[DEBUG][NewDealEntry] Dealer search fetch from:",t);const n=await fetch(t,{credentials:"include"}),r=await n.json();g(r.dealers||[]),console.log("[DEALER SEARCH] Suggestions:",r.dealers||[])}catch(t){console.error("Dealer search error:",t),g([])}},H=(e,t)=>{let n=t;if("vin"===e&&(n=t.toUpperCase()),["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(e)&&(n=(e=>{if(!e)return"";const t=e.toString().replace(/[^\d.]/g,""),n=t.split(".");return n.length>2?n[0]+"."+n.slice(1).join(""):t})(t)),"dealType"===e)return console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Field:",e,"Value:",n),d(e=>{console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Previous formData:",e);const t="deal-type-2"===n?e.dealType2SubType:"wholesale-flip"===n?"buy-sell":"";console.log("[DEAL TYPE CHANGE] \ud83d\udd0d New dealType2SubType:",t);const r={...e,dealType:n,dealType2SubType:t,buyerType:"wholesale-flip"===n?"dealer":e.buyerType,sellerType:"wholesale-flip"===n?"private":e.sellerType};return console.log("[DEAL TYPE CHANGE] \ud83d\udd0d Updated formData:",r),r}),void(S>1&&T(1));d(t=>{"dealType2SubType"===e&&(console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Field:",e,"Value:",n),console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Previous formData:",t));const r={...t,[e]:n};return"dealType2SubType"===e&&console.log("[DEAL TYPE 2 CHANGE] \ud83d\udd0d Updated formData:",r),r}),w[e]&&N(t=>({...t,[e]:null})),"vin"!==e||17!==n.length||m||U(n),"sellerName"===e&&("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"dealer"===c.sellerType?B(n):g([]):B(n)),"buyerName"===e&&("dealer"===c.buyerType?(async e=>{if(e.length<2)y([]);else try{const t=`${o}/api/dealers/search?q=${encodeURIComponent(e)}`;console.log("[DEBUG][NewDealEntry] Dealer buyer search fetch from:",t);const n=await fetch(t,{credentials:"include"}),r=await n.json();y(r.dealers||[])}catch(t){console.error("Dealer search error:",t),y([])}})(n):y([])),"sellerType"!==e&&"buyerType"!==e||("sellerType"===e&&"private"===n&&g([]),"buyerType"===e&&"private"===n&&y([])),"dealType"===e&&S>1&&T(1)},$=e=>{const t=Array.from(e.target.files);console.log("[DOCUMENT UPLOAD] Files selected:",t.length,"files"),t.forEach((e,t)=>{console.log(`[DOCUMENT UPLOAD] File ${t+1}:`,e.name,"Size:",e.size,"Type:",e.type)}),d(e=>{const n=[...e.documents||[],...t];return console.log("[DOCUMENT UPLOAD] Total documents after upload:",n.length),{...e,documents:n}}),E(e=>{const n=[...e,...t.map((t,n)=>({fileIndex:e.length+n,note:""}))];return console.log("[DOCUMENT UPLOAD] Total document notes after upload:",n.length),n}),e.target.value=""},z=e=>{console.log("[DOCUMENT REMOVE] Removing document at index:",e),d(t=>{const n=t.documents.filter((t,n)=>n!==e);return console.log("[DOCUMENT REMOVE] Documents after removal:",n.length),{...t,documents:n}}),E(t=>{const n=t.filter(t=>t.fileIndex!==e).map(t=>({...t,fileIndex:t.fileIndex>e?t.fileIndex-1:t.fileIndex}));return console.log("[DOCUMENT REMOVE] Notes after removal:",n.length),n})},V=(e,t)=>{E(n=>n.find(t=>t.fileIndex===e)?n.map(n=>n.fileIndex===e?{...n,note:t}:n):[...n,{fileIndex:e,note:t}])},W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;console.log("[VALIDATION] Starting form validation..."),console.log("[VALIDATION] Data to validate:",e);const t={};let n=F.requiredFields||["vin","dealType","dealType2SubType","year","make","model","sellerName"];return console.log("[VALIDATION] Required fields:",n),"wholesale-flip"===e.dealType&&(n=[...n,"buyerName"],console.log("[VALIDATION] Added buyerName for wholesale flip deal")),console.log("[VALIDATION] Final required fields:",n),n.forEach(n=>{const r=e[n];console.log(`[VALIDATION] Checking field '${n}':`,r),r&&""!==r.toString().trim()?console.log(`[VALIDATION] \u2705 Field '${n}' is valid:`,r):(t[n]=`${n.charAt(0).toUpperCase()+n.slice(1)} is required`,console.log(`[VALIDATION] \u274c Field '${n}' is missing or empty`))}),e.year&&(e.year<1900||e.year>(new Date).getFullYear()+1)&&(t.year="Please enter a valid year",console.log("[VALIDATION] \u274c Invalid year:",e.year)),e.mileage&&e.mileage<0&&(t.mileage="Mileage cannot be negative",console.log("[VALIDATION] \u274c Negative mileage:",e.mileage)),F.showFinancials&&e.purchasePrice&&e.purchasePrice<=0&&(t.purchasePrice="Purchase price must be greater than 0",console.log("[VALIDATION] \u274c Invalid purchase price:",e.purchasePrice)),"wholesale-d2d"!==e.dealType||e.dealType2SubType&&""!==e.dealType2SubType.trim()||(t.dealType2SubType='Please select "Buy" or "Sale" for wholesale dealer-to-dealer deals.',console.log("[VALIDATION] \u274c Wholesale d2d deal missing dealType2SubType")),"wholesale-d2d"===e.dealType&&"buy"===e.dealType2SubType&&e.buyerName&&""!==e.buyerName.trim()&&(t.dealType2SubType='This appears to be a sale deal (has buyer info). Please select "Sale" as Deal Type 2.',console.log('[VALIDATION] \u274c Wholesale d2d deal has buyer info but dealType2SubType is "buy"')),"wholesale-d2d"===e.dealType&&"sale"===e.dealType2SubType&&(e.buyerName&&""!==e.buyerName.trim()||(t.buyerName="Buyer information is required for wholesale dealer-to-dealer sale deals.",console.log("[VALIDATION] \u274c Wholesale d2d sale deal missing buyer info"))),console.log("[VALIDATION] Final validation errors:",t),N(t),0===Object.keys(t).length},Y=async function(){return q(c,arguments.length>0&&void 0!==arguments[0]&&arguments[0])},q=async function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("[HANDLE SAVE] Starting deal submission..."),console.log("[HANDLE SAVE] isDraft:",s),console.log("[HANDLE SAVE] currentUser:",n),console.log("[HANDLE SAVE] Using data:",e),console.log("[HANDLE SAVE] \ud83d\udd0d dealType:",e.dealType),console.log("[HANDLE SAVE] \ud83d\udd0d dealType2SubType:",e.dealType2SubType),console.log("[HANDLE SAVE] \ud83d\udd0d dealType2:",e.dealType2),!n)return console.log("[HANDLE SAVE] No user logged in"),alert("You must be logged in to submit a deal."),void a("/login");if(!s&&!W(e))return console.log("[HANDLE SAVE] Validation failed"),console.log("[HANDLE SAVE] Validation errors:",w),void alert("Please fill in all required fields: "+Object.keys(w).join(", "));console.log("[HANDLE SAVE] Setting saving state to true"),k(!0);try{var u,p;console.log("[HANDLE SAVE] Building deal data..."),console.log("[DEAL SUBMIT] dataToUse:",e),console.log("[DEBUG] handleSave - sellerType in dataToUse:",e.sellerType),console.log("[DEBUG] handleSave - dealType2SubType in dataToUse:",e.dealType2SubType),console.log("[DEAL SUBMIT] Financial fields:",{brokerageFee:e.brokerageFee,brokerageFeePaidTo:e.brokerageFeePaidTo,payoffBalance:e.payoffBalance,amountDueToCustomer:e.amountDueToCustomer,amountDueToRP:e.amountDueToRP,commissionRate:e.commissionRate});const a="contract-received",g={vehicle:`${e.year} ${e.make} ${e.model}`,vin:e.vin,year:parseInt(e.year),make:e.make,model:e.model,rpStockNumber:e.rpStockNumber,color:e.exteriorColor,exteriorColor:e.exteriorColor,interiorColor:e.interiorColor,mileage:parseInt(e.mileage)||0,purchasePrice:parseFloat(e.purchasePrice)||0,listPrice:parseFloat(e.listPrice)||0,killPrice:parseFloat(e.killPrice)||0,wholesalePrice:parseFloat(e.wholesalePrice)||0,dealType:e.dealType,dealType2SubType:e.dealType2SubType,dealType2:(()=>{const t={buy:"Buy",sale:"Sale","buy-sell":"Buy/Sell","consign-a":"Consign-A","consign-b":"Consign-B","consign-c":"Consign-C","consign-rdnc":"Consign-RDNC"};console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Input dealType2SubType:",e.dealType2SubType),console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Mapping table:",t);const n=t[e.dealType2SubType]||"Buy";return console.log("[DEAL TYPE 2 MAPPING] \ud83d\udd0d Mapped result:",n),n})(),seller:{name:e.sellerName,type:e.sellerType||("wholesale-flip"===e.dealType||e.dealType.includes("private")?"private":"dealer"),contact:{address:C(e.sellerAddress),phone:e.sellerPhone,email:e.sellerEmail},licenseNumber:e.sellerLicenseNumber,tier:e.sellerTier},buyer:{name:e.buyerName,type:e.buyerType,contact:{address:C(e.buyerAddress),phone:e.buyerPhone,email:e.buyerEmail},licenseNumber:e.buyerLicenseNumber,tier:e.buyerTier},fundingSource:e.fundingSource,paymentMethod:e.paymentMethod,purchaseDate:e.purchaseDate?new Date(e.purchaseDate):new Date,currentStage:a||"contract-received",salesperson:n.name||"Unknown",brokerFee:parseFloat(e.brokerageFee)||0,brokerFeePaidTo:e.brokerageFeePaidTo||"",payoffBalance:parseFloat(e.payoffBalance)||0,amountDueToCustomer:parseFloat(e.amountDueToCustomer)||0,amountDueToRP:parseFloat(e.amountDueToRP)||0,commissionRate:parseFloat(e.commissionRate)||0,generalNotes:e.generalNotes,titleInfo:{lienStatus:e.lienStatus||"none",lienEta:e.lienEta?new Date(e.lienEta):null}};console.log("[DEAL SUBMIT] Final dealData being sent:",{dealType:g.dealType,dealType2:g.dealType2,dealType2SubType:g.dealType2SubType,buyer:null===(u=g.buyer)||void 0===u?void 0:u.name,seller:null===(p=g.seller)||void 0===p?void 0:p.name}),"wholesale-d2d"===g.dealType&&(console.log("[DEAL SUBMIT] \ud83d\udd0d WHOLESALE D2D DEAL DEBUGGING:"),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType:",g.dealType),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType2:",g.dealType2),console.log("[DEAL SUBMIT] \ud83d\udd0d - dealType2SubType:",g.dealType2SubType),console.log("[DEAL SUBMIT] \ud83d\udd0d - Is this a sale deal?","sale"===g.dealType2SubType||"Sale"===g.dealType2),console.log("[DEAL SUBMIT] \ud83d\udd0d - Full dealData object:",JSON.stringify(g,null,2))),console.log("[DEBUG] handleSave - dealData.seller.type:",g.seller.type),console.log("[DEAL SUBMIT] SENDING seller license number:",c.sellerLicenseNumber),console.log("[DEAL SUBMIT] SENDING buyer license number:",c.buyerLicenseNumber),console.log("[DEAL SUBMIT] dealData to backend:",g),g.currentStage="contract-received",console.log("[DEBUG] dealData.currentStage (final):",g.currentStage),console.log("[DEBUG] Full dealData:",g),console.log("[HANDLE SAVE] Making API call to create deal..."),console.log("[HANDLE SAVE] API URL:",`${o}/api/deals`),console.log("[HANDLE SAVE] Headers:",l()),console.log("[HANDLE SAVE] Deal data:",g);const x=await fetch(`${o}/api/deals`,{method:"POST",headers:l(),body:JSON.stringify(g),credentials:"include"});console.log("[DEAL SUBMIT] Backend response status:",x.status),console.log("[DEAL SUBMIT] Backend response headers:",x.headers);const y=await x.json().catch(e=>(console.error("[DEAL SUBMIT] Error parsing JSON response:",e),{}));if(console.log("[DEAL SUBMIT] Backend response JSON:",y),!x.ok)throw console.error("[DEAL SUBMIT] API call failed with status:",x.status),console.error("[DEAL SUBMIT] Error response:",y),new Error(y.error||`Failed to create deal (Status: ${x.status})`);if(!y.success||!y.deal)throw console.error("[DEAL SUBMIT] API call succeeded but no deal returned"),console.error("[DEAL SUBMIT] Response:",y),new Error(y.error||"Failed to create deal - no deal data returned");if(console.log("[DEAL SUBMIT] Deal created successfully!"),console.log("[DEAL SUBMIT] Deal ID:",y.deal._id),console.log("[DEAL SUBMIT] Stock number:",y.stockNumber),t&&t(e=>[y.deal,...e]),e.documents&&e.documents.length>0){console.log("[DEAL SUBMIT] Uploading",e.documents.length,"documents"),console.log("[DEAL SUBMIT] Documents to upload:",e.documents.map(e=>({name:e.name,size:e.size,type:e.type})));try{const t=new FormData;e.documents.forEach((e,n)=>{var r;t.append("documents",e);const a=(null===(r=D.find(e=>e.fileIndex===n))||void 0===r?void 0:r.note)||"";a&&t.append("notes",a)}),console.log("[DEAL SUBMIT] Batch uploading all documents to:",`${o}/api/backOffice/deals/${y.deal._id}/documents/extra_doc/upload`);const n=await fetch(`${o}/api/backOffice/deals/${y.deal._id}/documents/extra_doc/upload`,{method:"POST",headers:{...r()},body:t,credentials:"include"});if(console.log("[DEAL SUBMIT] Upload response status:",n.status),n.ok){const e=await n.json();console.log("[DEAL SUBMIT] All documents uploaded successfully:",e),Ht.success(`${e.data.length} document(s) uploaded successfully!`)}else{const e=await n.text();console.warn("[DEAL SUBMIT] Failed to upload documents:","Status:",n.status,"Error:",e),Ht.error("Failed to upload some documents. Please try again.")}}catch(m){console.error("[DEAL SUBMIT] Error uploading documents:",m),Ht.error("Error uploading documents. Please try again.")}}else console.log("[DEAL SUBMIT] No documents to upload");try{console.log("[DEAL SUBMIT] Generating documents for deal:",y.deal._id),console.log("[DEAL SUBMIT] Sending document generation data:",{dealType2SubType:g.dealType2SubType,dealType2:g.dealType2,sellerType:g.sellerType,buyerType:g.buyerType});try{const e=await fetch(`${o}/api/documents/generate/${y.deal._id}`,{method:"POST",headers:{...l(),"Content-Type":"application/json"},body:JSON.stringify({dealType2SubType:g.dealType2SubType,dealType2:g.dealType2,sellerType:g.sellerType,buyerType:g.buyerType}),credentials:"include"});if(console.log("[DEAL SUBMIT] Document generation response status:",e.status),e.ok){const t=await e.json();console.log("[DEAL SUBMIT] Documents generated successfully:",t),Ht.success(`Deal submitted and ${t.documentCount||0} document(s) generated successfully!`)}else{const t=await e.text();console.error("[DEAL SUBMIT] Document generation failed:",{status:e.status,statusText:e.statusText,error:t}),Ht.error("Deal submitted but document generation failed. Please contact support.")}}catch(h){console.error("[DEAL SUBMIT] Error generating documents:",h),Ht.error("Deal submitted but document generation failed. Please contact support.")}}catch(f){console.error("[DEAL SUBMIT] Error in document generation block:",f),Ht.error("Deal submitted but document generation failed. Please contact support.")}s||(d({vin:"",year:"",make:"",model:"",mileage:"",exteriorColor:"",interiorColor:"",dealType:"",dealType2SubType:"",fundingSource:"",purchaseDate:i,paymentMethod:"check",currentStage:"contract-received",purchasePrice:"",listPrice:"",killPrice:"",wholesalePrice:"",commissionRate:"",brokerageFee:"",brokerageFeePaidTo:"",payoffBalance:"",amountDueToCustomer:"",amountDueToRP:"",sellerName:"",sellerAddress:"",sellerPhone:"",sellerEmail:"",sellerLicenseNumber:"",sellerTier:"Tier 1",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",buyerLicenseNumber:"",buyerTier:"Tier 1",buyerType:"dealer",sellerType:"private",rpStockNumber:"",vehicleDescription:"",generalNotes:"",documents:[],salesperson:"",lienStatus:"none",lienEta:""}),E([]),T(1))}catch(g){console.error("[HANDLE SAVE] Error occurred during deal submission:",g),console.error("[HANDLE SAVE] Error message:",g.message),console.error("[HANDLE SAVE] Error stack:",g.stack),g.message.includes("401")||g.message.includes("not authorized")?(console.error("[HANDLE SAVE] Authentication error detected"),alert("Session expired or not authorized. Please log in again."),a("/login")):g.message.includes("400")?(console.error("[HANDLE SAVE] Bad request error detected"),alert(`Validation error: ${g.message}`)):g.message.includes("403")?(console.error("[HANDLE SAVE] Forbidden error detected"),alert("Access denied. Please check your permissions.")):g.message.includes("500")?(console.error("[HANDLE SAVE] Server error detected"),alert("Server error occurred. Please try again later.")):(console.error("[HANDLE SAVE] Unknown error occurred"),alert(`Error saving deal: ${g.message}`))}finally{console.log("[HANDLE SAVE] Setting saving state to false"),k(!1)}},K=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,We.jsxs)("div",{className:"space-y-2",children:[(0,We.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-300",children:[o&&s.createElement(o,{className:"h-4 w-4 mr-2"}),e,a&&(0,We.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),"select"===n?(0,We.jsxs)("select",{value:c[t],onChange:e=>H(t,e.target.value),className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors "+(w[t]?"border-red-500":"border-white/20 hover:border-white/30"),children:[(0,We.jsxs)("option",{value:"",children:["Select ",e]}),null===r||void 0===r?void 0:r.map(e=>(0,We.jsx)("option",{value:e.value,className:"bg-gray-800",children:e.label},e.value))]}):"textarea"===n?(0,We.jsx)("textarea",{value:c[t],onChange:e=>H(t,e.target.value),rows:4,placeholder:`Enter ${e.toLowerCase()}...`,className:"w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none "+(w[t]?"border-red-500":"border-white/20 hover:border-white/30")}):"checkbox"===n?(0,We.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,We.jsx)("input",{type:"checkbox",checked:!!c[t],onChange:e=>H(t,e.target.checked),className:"rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500"}),(0,We.jsx)("span",{className:"text-gray-300",children:e})]}):(0,We.jsxs)("div",{className:"relative",children:[["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)&&(0,We.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:"$"}),(0,We.jsx)("input",{type:n,value:c[t]||"",onChange:e=>{H(t,e.target.value)},placeholder:`Enter ${e.toLowerCase()}...`,pattern:"tel"===n?"[0-9+-()s]*":void 0,className:`w-full bg-white/10 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w[t]?"border-red-500":"border-white/20 hover:border-white/30"} ${"vin"===t?"pr-20":""} ${["purchasePrice","listPrice","killPrice","wholesalePrice","brokerageFee","payoffBalance","amountDueToCustomer","amountDueToRP"].includes(t)?"pl-8":""}`}),"vin"===t&&17===c.vin.length&&(0,We.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:u?(0,We.jsx)(Qe,{className:"h-5 w-5 text-blue-400 animate-spin"}):m?(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400"}):(0,We.jsx)("button",{onClick:()=>U(c.vin),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition-colors",children:"Decode"})}),l&&"dealerName"===t&&x.length>0&&(0,We.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:x.map(e=>(0,We.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{d(t=>{var n;return{...t,dealerName:e.name,dealerCompany:e.company,dealerPhone:e.phone,dealerEmail:(null===(n=e.contact)||void 0===n?void 0:n.email)||e.email||"",dealerAddress:e.location||e.address||""}}),y([])},children:[(0,We.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"buyerName"===t&&"dealer"===c.buyerType&&x.length>0&&(0,We.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:x.map(e=>(0,We.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{d(t=>({...t,buyerName:e.name||"",buyerAddress:e.addressString||"",buyerPhone:e.phone||"",buyerEmail:e.email||"",buyerLicenseNumber:e.licenseNumber||"",buyerTier:e.tier||"Tier 1"})),y([]),console.log("[BUYER DEALER AUTOFILL] Selected dealer:",e)})(e)},children:[(0,We.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))}),"sellerName"===t&&f.length>0&&("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType&&"dealer"===c.sellerType||!["retail-pp","retail-auction","retail-dtod"].includes(c.dealType)&&!("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType))&&(0,We.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl z-10 max-h-40 overflow-y-auto",children:f.map(e=>(0,We.jsxs)("div",{className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/10 last:border-b-0",onClick:()=>{(e=>{d(t=>{const n={...t,sellerName:e.name||"",sellerCompany:e.company||"",sellerPhone:e.phone||"",sellerEmail:e.email||"",sellerAddress:e.addressString||"",sellerLicenseNumber:e.licenseNumber||"",sellerTier:e.tier||"Tier 1",sellerType:"dealer"};return console.log("[DEBUG] handleDealerSuggestionSelect - sellerType set to:",n.sellerType),n}),g([]),v("")})(e)},children:[(0,We.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," \u2022 ",e.location]})]},e.id))})]}),w[t]&&(0,We.jsxs)("div",{className:"flex items-center text-red-400 text-sm",children:[(0,We.jsx)(Je,{className:"h-4 w-4 mr-1"}),w[t]]})]})},G=(()=>{let e=2;return F.showFinancials&&e++,F.showSellerInfo&&e++,e++,e})();return(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,We.jsx)(it,{className:"h-5 w-5 text-white"})}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,We.jsx)(Le,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-xl font-bold text-white",children:"New Deal Entry"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Create a new vehicle deal"})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("button",{onClick:()=>Y(!0),disabled:j,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[j?(0,We.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(ct,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,We.jsxs)("button",{onClick:()=>Y(!1),disabled:j,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors disabled:opacity-50",children:[j?(0,We.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(ze,{className:"h-4 w-4 mr-2"}),"Create Deal"]})]})]})})}),(0,We.jsxs)("div",{className:"relative max-w-6xl mx-auto px-6 py-8",children:[(0,We.jsx)("div",{className:"mb-8",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:Array.from({length:G},(e,t)=>{const n=t+1,r=S===n,a=S>n;let s="",o="";return 1===n?(s="Vehicle & Deal Type",o="Enter vehicle information and select deal type"):2===n?(s="Deal Configuration",o="Configure funding, payment, and timeline"):3===n&&F.showFinancials?(s="Financial Information",o="Set pricing and financial terms"):3===n&&!F.showFinancials&&F.showSellerInfo||4===n&&F.showFinancials&&F.showSellerInfo?(s="wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"Buyer & Seller Information":"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType?"Buyer Information":"Seller Information",o="wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType?"Add buyer and seller contact information":"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType?"Add purchasing dealer information":"Add seller contact information"):(4===n&&!F.showFinancials&&!F.showSellerInfo||5===n&&(F.showFinancials||F.showSellerInfo))&&(s="Comments & Files",o="Add vehicle description, notes, and upload documents"),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors "+(r?"bg-blue-600 border-blue-600 text-white":a?"bg-green-600 border-green-600 text-white":"bg-white/10 border-white/20 text-gray-400"),children:a?(0,We.jsx)(ze,{className:"h-5 w-5"}):(0,We.jsx)("span",{className:"text-sm font-medium",children:n})}),(0,We.jsxs)("div",{className:"ml-3",children:[(0,We.jsx)("p",{className:"text-sm font-medium "+(r?"text-white":"text-gray-400"),children:s}),(0,We.jsx)("p",{className:"text-xs text-gray-500",children:o})]}),n<G&&(0,We.jsx)("div",{className:"w-16 h-0.5 mx-4 "+(a?"bg-green-600":"bg-white/20")})]},n)})})}),(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2",children:[1===S&&"Vehicle Information & Deal Type",2===S&&"Deal Configuration",3===S&&F.showFinancials&&"Financial Information",3===S&&!F.showFinancials&&F.showSellerInfo&&"Seller Information",3===S&&!F.showFinancials&&!F.showSellerInfo&&F.showDocumentation&&"Documentation & Notes",4===S&&F.showFinancials&&F.showSellerInfo&&"Seller Information",4===S&&F.showFinancials&&!F.showSellerInfo&&F.showDocumentation&&"Documentation & Notes",5===S&&"Documentation & Notes"]}),(0,We.jsxs)("p",{className:"text-gray-300",children:[1===S&&"Enter basic vehicle information and select the deal type",2===S&&"Configure deal type, funding, and timeline",3===S&&F.showFinancials&&"Set pricing and financial terms",3===S&&!F.showFinancials&&F.showSellerInfo&&"Add seller contact information",3===S&&!F.showFinancials&&!F.showSellerInfo&&F.showDocumentation&&"Document status and additional notes",4===S&&F.showFinancials&&F.showSellerInfo&&"Add seller contact information",4===S&&F.showFinancials&&!F.showSellerInfo&&F.showDocumentation&&"Document status and additional notes",5===S&&"Document status and additional notes"]})]}),(()=>{var e;switch(S){case 1:return(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Deal Type Selection"}),K("Deal Type","dealType","select",A,!0,_e),(0,We.jsxs)("div",{className:"mt-4",children:[(0,We.jsx)("div",{className:"wholesale-d2d"!==c.dealType||c.dealType2SubType&&""!==c.dealType2SubType.trim()?"":"ring-2 ring-yellow-500/50 rounded-lg p-1",children:K("Deal Type 2","dealType2SubType","select",M,!0)}),"wholesale-d2d"===c.dealType&&(0,We.jsx)("div",{className:"mt-2 p-3 border rounded-lg "+(c.dealType2SubType&&""!==c.dealType2SubType.trim()?"bg-blue-500/10 border-blue-500/20":"bg-yellow-500/10 border-yellow-500/30"),children:(0,We.jsx)("p",{className:"text-sm "+(c.dealType2SubType&&""!==c.dealType2SubType.trim()?"text-blue-300":"text-yellow-300"),children:c.dealType2SubType&&""!==c.dealType2SubType.trim()?"buy"===c.dealType2SubType?(0,We.jsxs)(We.Fragment,{children:["\u2705 ",(0,We.jsx)("strong",{children:"Buy Deal:"})," RP Exotics is purchasing from another dealer",(0,We.jsx)("br",{}),"\u2022 ",(0,We.jsx)("strong",{children:"Seller:"})," Another dealer (you'll enter their info)",(0,We.jsx)("br",{}),"\u2022 ",(0,We.jsx)("strong",{children:"Buyer:"})," RP Exotics (no buyer info needed)"]}):"sale"===c.dealType2SubType?(0,We.jsxs)(We.Fragment,{children:["\u2705 ",(0,We.jsx)("strong",{children:"Sale Deal:"})," RP Exotics is selling to another dealer",(0,We.jsx)("br",{}),"\u2022 ",(0,We.jsx)("strong",{children:"Seller:"})," RP Exotics (no seller info needed)",(0,We.jsx)("br",{}),"\u2022 ",(0,We.jsx)("strong",{children:"Buyer:"})," Another dealer (you'll enter their info)"]}):(0,We.jsxs)(We.Fragment,{children:["\ud83d\udca1 ",(0,We.jsx)("strong",{children:"Important:"})," Please select the correct option for wholesale dealer-to-dealer deals:",(0,We.jsx)("br",{}),"\u2022 Select ",(0,We.jsx)("strong",{children:'"Buy"'})," if RP Exotics is purchasing from another dealer",(0,We.jsx)("br",{}),"\u2022 Select ",(0,We.jsx)("strong",{children:'"Sale"'})," if RP Exotics is selling to another dealer"]}):(0,We.jsxs)(We.Fragment,{children:["\u26a0\ufe0f ",(0,We.jsx)("strong",{children:"Required:"}),' Please select "Buy" or "Sale" for wholesale dealer-to-dealer deals:',(0,We.jsx)("br",{}),"\u2022 Select ",(0,We.jsx)("strong",{children:'"Buy"'})," if RP Exotics is purchasing from another dealer",(0,We.jsx)("br",{}),"\u2022 Select ",(0,We.jsx)("strong",{children:'"Sale"'})," if RP Exotics is selling to another dealer"]})})})]})]}),(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Vehicle Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsx)("div",{className:"md:col-span-2",children:K("VIN","vin","text",null,!0,Xe)}),K("Year","year","number",null,!0,Ze),K("Make","make","text",null,!0),K("Model","model","text",null,!0),K("Mileage","mileage","number",null,!1,et),K("Exterior Color","exteriorColor","text",null,!1,tt),K("Interior Color","interiorColor","text",null,!1,tt)]})]})]});case 2:return(0,We.jsx)("div",{className:"space-y-6",children:(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Deal Configuration"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[K("Funding Source","fundingSource","select",R,!0,Pe),K("Purchase/Sale Date","purchaseDate","date",null,!0,Ze),K("Payment Method","paymentMethod","select",L,!0),K("RP Exotics Stock Number","rpStockNumber","text",null,!1,Xe),K("Salesperson","salesperson","select",O,!0,nt)]})]})});case 3:return F.showFinancials?(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Financial Information"}),"sale"===c.dealType2SubType?(0,We.jsxs)("div",{className:"space-y-6",children:[K(P.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),K("Brokerage Fee","brokerageFee","number"),K("Brokerage Fee Paid To","brokerageFeePaidTo","text"),K(P.amountDueToCustomerLabel,"amountDueToCustomer","number"),K(P.amountDueToRPExoticsLabel,"amountDueToRP","number")]}):"retail-pp"===c.dealType||"retail-d2d"===c.dealType?(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-6",children:[K(P.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),K("List Price","listPrice","number"),K(P.payoffBalanceLabel,"payoffBalance","number")]}),(0,We.jsxs)("div",{className:"space-y-6",children:[K("Brokerage Fee","brokerageFee","number"),K("Brokerage Fee Paid To","brokerageFeePaidTo","text"),K(P.amountDueToCustomerLabel,"amountDueToCustomer","number"),K(P.amountDueToRPExoticsLabel,"amountDueToRP","number")]})]}):"wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType?(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-6",children:[K(P.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),K("Kill Price","killPrice","number"),K("Wholesale Price","wholesalePrice","number"),["consign-a","consign-b","consign-c","consign-rdnc"].includes(c.dealType2SubType)?K("Commission Rate (%)","commissionRate","number"):null]}),(0,We.jsxs)("div",{className:"space-y-6",children:[K("Brokerage Fee","brokerageFee","number"),K("Brokerage Fee Paid To","brokerageFeePaidTo","text"),K(P.payoffBalanceLabel,"payoffBalance","number"),K(P.amountDueToCustomerLabel,"amountDueToCustomer","number"),K(P.amountDueToRPExoticsLabel,"amountDueToRP","number")]})]}):(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-6",children:[K(P.purchasePriceLabel,"purchasePrice","number",null,!0,Pe),K("Kill Price","killPrice","number"),K("Wholesale Price","wholesalePrice","number"),K("List Price","listPrice","number"),["consign-a","consign-b","consign-c","consign-rdnc"].includes(c.dealType2SubType)?K("Commission Rate (%)","commissionRate","number"):null]}),(0,We.jsxs)("div",{className:"space-y-6",children:[K("Brokerage Fee","brokerageFee","number"),K("Brokerage Fee Paid To","brokerageFeePaidTo","text"),K(P.payoffBalanceLabel,"payoffBalance","number"),K(P.amountDueToCustomerLabel,"amountDueToCustomer","number"),K(P.amountDueToRPExoticsLabel,"amountDueToRP","number")]})]})]}):(0,We.jsxs)("div",{className:"text-center py-12",children:[(0,We.jsx)(Pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Financial Information Not Required"}),(0,We.jsx)("p",{className:"text-gray-400",children:"This deal type does not require financial information."})]});case 4:if("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType)return(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-10",children:[(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white",children:"Buyer Information"}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsx)("button",{type:"button",onClick:()=>H("buyerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===c.buyerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,We.jsx)("button",{type:"button",onClick:()=>H("buyerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===c.buyerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[K("dealer"===c.buyerType?"Dealer Name":"Buyer Name","buyerName","text",null,!0,nt),K("Phone","buyerPhone","tel",null,!1,rt),K("Email","buyerEmail","email",null,!1,at),K("Address","buyerAddress","text",null,!1,st),"dealer"===c.buyerType&&K("Dealer License Number","buyerLicenseNumber","text"),"dealer"===c.buyerType&&!_()&&K("Dealer Tier","buyerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]}),(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white",children:"Seller Information"}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsx)("button",{type:"button",onClick:()=>H("sellerType","private"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("private"===c.sellerType?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Private Party"}),(0,We.jsx)("button",{type:"button",onClick:()=>H("sellerType","dealer"),className:"px-3 py-1 rounded-lg border transition-colors text-sm "+("dealer"===c.sellerType?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Dealer"})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[K("dealer"===c.sellerType?"Dealer Name":"Seller Name","sellerName","text",null,!0,nt),K("Phone","sellerPhone","tel",null,!1,rt),K("Email","sellerEmail","email",null,!1,at),K("Address","sellerAddress","text",null,!1,st),"dealer"===c.sellerType&&K("Dealer License Number","sellerLicenseNumber","text"),"dealer"===c.sellerType&&!("wholesale-flip"===c.dealType&&"buy-sell"===c.dealType2SubType)&&!_()&&K("Dealer Tier","sellerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]})]});if("wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType)return(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Buyer Information"}),(0,We.jsx)("p",{className:"text-gray-400 mb-6",children:"Enter the purchasing dealer information (RP Exotics is the seller)"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[K("Dealer Name","buyerName","text",null,!0,nt),K("Phone","buyerPhone","tel",null,!1,rt),K("Email","buyerEmail","email",null,!1,at),K("Address","buyerAddress","text",null,!1,st),K("Dealer License Number","buyerLicenseNumber","text"),!_()&&K("Dealer Tier","buyerTier","select",[{value:"Tier 1",label:"Tier 1: Pay Upon Title"},{value:"Tier 2",label:"Tier 2: Pay Prior to Release"}])]})]});{var t;const e="retail-pp"===c.dealType;return(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:P.sellerSectionTitle}),e?(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsx)("div",{className:"md:col-span-2",children:K(P.sellerLabel,"sellerName","text",null,!0,nt)}),K("Phone","sellerPhone","tel",null,!1,rt),K("Email","sellerEmail","email",null,!1,at),K("Address","sellerAddress","text",null,!1,st)]}):(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsx)("div",{className:"md:col-span-2",children:K(P.sellerLabel,"sellerName","text",null,!0,nt)}),!e&&"retail-d2d"!==c.dealType&&!("wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType)&&K(P.companyLabel,"sellerCompany","text"),K("Phone","sellerPhone","tel",null,!1,rt),K("Email","sellerEmail","email",null,!1,at),K(P.addressLabel,"sellerAddress","text",null,!1,st),"wholesale-d2d"===c.dealType&&(0,We.jsxs)(We.Fragment,{children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"seller-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,We.jsx)("input",{type:"text",id:"seller-license-number",value:c.sellerLicenseNumber||"",onChange:e=>H("sellerLicenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),"sale"===c.dealType2SubType&&(0,We.jsxs)("div",{className:"md:col-span-2",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Dealer Tier"}),(0,We.jsxs)("div",{className:"flex space-x-4",children:[(0,We.jsx)("button",{type:"button",onClick:()=>H("sellerTier","Tier 1"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 1"===c.sellerTier?"bg-red-600 border-red-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 1 - Pay Upon Title"}),(0,We.jsx)("button",{type:"button",onClick:()=>H("sellerTier","Tier 2"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 2"===c.sellerTier?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 2 - Pay Prior to Release"})]}),(0,We.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tier 1: Pay Upon Title. Tier 2: Pay Prior to Release."})]})]})]}),"wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType&&(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 mt-6",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"buy"===c.dealType2SubType?"Purchasing Dealer Information":"Buyer Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsx)("div",{className:"md:col-span-2",children:K("buy"===c.dealType2SubType?"Purchasing Dealer Name":"Buyer Name","buyerName","text",null,!0,nt)}),K("Phone","buyerPhone","tel",null,!1,rt),K("Email","buyerEmail","email",null,!1,at),K("Address","buyerAddress","text",null,!1,st),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"buyer-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,We.jsx)("input",{type:"text",id:"buyer-license-number",value:c.buyerLicenseNumber||"",onChange:e=>H("buyerLicenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!_()&&(0,We.jsxs)("div",{className:"md:col-span-2",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Dealer Tier"}),(0,We.jsxs)("div",{className:"flex space-x-4",children:[(0,We.jsx)("button",{type:"button",onClick:()=>H("buyerTier","Tier 1"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 1"===c.buyerTier?"bg-red-600 border-red-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 1 - Pay Upon Title"}),(0,We.jsx)("button",{type:"button",onClick:()=>H("buyerTier","Tier 2"),className:"px-4 py-2 rounded-lg border transition-colors "+("Tier 2"===c.buyerTier?"bg-green-600 border-green-500 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),children:"Tier 2 - Pay Prior to Release"})]}),(0,We.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tier 1: Pay Upon Title. Tier 2: Pay Prior to Release."})]})]})]}),"wholesale-flip"===c.dealType&&"private"===c.sellerType&&(0,We.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mt-6",children:[(0,We.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Title Lien Status"]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,We.jsxs)("select",{value:c.lienStatus,onChange:e=>H("lienStatus",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"none",children:"No Lien"}),(0,We.jsx)("option",{value:"lien_on_title",children:"Lien on Title"})]})]}),"lien_on_title"===c.lienStatus&&(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Payoff Completion ETA"}),(0,We.jsx)(Zi,{value:c.lienEta?new Date(c.lienEta):null,onChange:e=>H("lienEta",e?e.toISOString():""),placeholder:"Select lien payoff date..."})]})]})]}),"retail-pp"!==c.dealType&&"retail-d2d"!==c.dealType&&!("wholesale-d2d"===c.dealType&&"buy"===c.dealType2SubType)&&(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 mt-6",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Additional Information"}),(0,We.jsxs)("div",{className:"space-y-6",children:[K("Vehicle Description","vehicleDescription","textarea",null,!1,ot),K("General Notes","generalNotes","textarea",null,!1,ot),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Upload Documents/Photos"}),(0,We.jsx)("input",{type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx",onChange:$,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700",style:{display:"block"}},`file-input-step4-${(null===(t=c.documents)||void 0===t?void 0:t.length)||0}`),(0,We.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"You can select multiple files at once"}),c.documents&&c.documents.length>0&&(0,We.jsxs)("p",{className:"text-blue-400 text-xs mt-1",children:["Currently uploaded: ",c.documents.length," file",1!==c.documents.length?"s":""]}),c.documents&&c.documents.length>0&&(0,We.jsx)("div",{className:"mt-3 space-y-2",children:c.documents.map((e,t)=>{var n;return(0,We.jsxs)("div",{className:"flex items-center space-x-3 bg-white/10 rounded p-2",children:[e.type&&e.type.startsWith("image")?(0,We.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"h-12 w-12 object-cover rounded"}):(0,We.jsx)("span",{className:"inline-block w-12 h-12 bg-gray-700 text-white flex items-center justify-center rounded",children:"PDF"}),(0,We.jsx)("span",{className:"text-white text-sm truncate max-w-xs",children:e.name}),(0,We.jsx)("input",{type:"text",value:(null===(n=D.find(e=>e.fileIndex===t))||void 0===n?void 0:n.note)||"",onChange:e=>V(t,e.target.value),placeholder:"Add a note (optional)",className:"bg-white/10 border rounded-lg px-2 py-1 text-white text-sm"}),(0,We.jsx)("button",{type:"button",className:"ml-auto text-red-400 hover:text-red-600 text-xs font-medium",onClick:()=>z(t),children:"Remove"})]},t)})})]})]})]})]})}case 5:return(0,We.jsx)("div",{className:"space-y-6",children:(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Comments, Description & Files"}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vehicle Description"}),(0,We.jsx)("textarea",{value:c.vehicleDescription||"",onChange:e=>H("vehicleDescription",e.target.value),placeholder:"Enter detailed vehicle description...",rows:4,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"General Notes"}),(0,We.jsx)("textarea",{value:c.generalNotes||"",onChange:e=>H("generalNotes",e.target.value),placeholder:"Enter any additional notes or comments...",rows:4,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload Documents"}),(0,We.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center hover:border-white/30 transition-colors",children:[(0,We.jsx)("input",{type:"file",multiple:!0,onChange:$,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",style:{display:"block"}},`file-input-${(null===(e=c.documents)||void 0===e?void 0:e.length)||0}`),(0,We.jsxs)("div",{className:"mt-3 text-center",children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"PDF, DOC, DOCX, JPG, PNG (Max 10MB each)"}),(0,We.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"You can select multiple files at once"}),c.documents&&c.documents.length>0&&(0,We.jsxs)("p",{className:"text-blue-400 text-xs mt-1",children:["Currently uploaded: ",c.documents.length," file",1!==c.documents.length?"s":""]})]})]})]}),c.documents&&c.documents.length>0&&(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Uploaded Documents"}),(0,We.jsx)("div",{className:"space-y-3",children:c.documents.map((e,t)=>{var n;return(0,We.jsxs)("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsx)("div",{className:"bg-blue-500/20 rounded p-2",children:(0,We.jsx)(Ue,{className:"h-4 w-4 text-blue-400"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,We.jsxs)("p",{className:"text-gray-400 text-xs",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("input",{type:"text",placeholder:"Add note...",value:(null===(n=D.find(e=>e.fileIndex===t))||void 0===n?void 0:n.note)||"",onChange:e=>V(t,e.target.value),className:"bg-white/10 border border-white/20 rounded px-2 py-1 text-white text-xs placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,We.jsx)("button",{onClick:()=>z(t),className:"text-red-400 hover:text-red-300 transition-colors",children:(0,We.jsx)(lt,{className:"h-4 w-4"})})]})]},t)})})]})]})});default:return null}})(),(0,We.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-white/10",children:[(0,We.jsxs)("button",{onClick:()=>T(Math.max(1,S-1)),disabled:1===S,className:"flex items-center px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,We.jsx)(it,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[S===G&&c.vehicleDescription&&(0,We.jsxs)("button",{onClick:()=>{const e=`New Vehicle Ready for Listing\n\nVehicle: ${c.year} ${c.make} ${c.model}\nVIN: ${c.vin}\nStock #: ${c.rpStockNumber}\nMileage: ${c.mileage}\nExterior: ${c.exteriorColor}\nInterior: ${c.interiorColor}\n\nDescription:\n${c.vehicleDescription}\n\nPlease prepare listing materials for this vehicle.\n\nBest regards,\n${n.name}`,t=`mailto:listing@rpexotics.com?subject=New Vehicle for Listing - ${c.year} ${c.make} ${c.model}&body=${encodeURIComponent(e)}`;window.open(t)},className:"flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,We.jsx)(dt,{className:"h-4 w-4 mr-2"}),"Email to Listing Team"]}),S<G?(0,We.jsxs)("button",{onClick:()=>T(Math.min(G,S+1)),className:"flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg transition-colors",children:["Next",(0,We.jsx)(it,{className:"h-4 w-4 ml-2 rotate-180"})]}):(0,We.jsxs)("button",{onClick:()=>{if(console.log("[SUBMIT] Submit button clicked"),console.log("[SUBMIT] Current form data:",c),console.log("[SUBMIT] Current user:",n),console.log("[SUBMIT] Validation errors:",w),!n)return console.log("[SUBMIT] No user logged in"),alert("You must be logged in to submit a deal."),void a("/login");if("wholesale-d2d"===c.dealType&&"sale"===c.dealType2SubType&&!c.sellerName){console.log("[SUBMIT] Auto-setting seller for wholesale-d2d sale deal");const e={...c,sellerName:"RP Exotics",sellerType:"dealer",sellerPhone:"(314) 970-2427",sellerEmail:"titling@rpexotics.com",sellerAddress:"1155 N Warson Rd, Saint Louis, MO 63132",sellerLicenseNumber:"D4865",sellerTier:"Tier 1"};d(e);const t={};["vin","dealType","dealType2SubType","year","make","model","sellerName"].forEach(n=>{const r=e[n];console.log(`[SUBMIT] Checking field '${n}':`,r),r&&""!==r.toString().trim()?console.log(`[SUBMIT] \u2705 Field '${n}' is valid:`,r):(t[n]=`${n.charAt(0).toUpperCase()+n.slice(1)} is required`,console.log(`[SUBMIT] \u274c Field '${n}' is missing or empty`))}),e.year&&(e.year<1900||e.year>(new Date).getFullYear()+1)&&(t.year="Please enter a valid year",console.log("[SUBMIT] \u274c Invalid year:",e.year)),e.mileage&&e.mileage<0&&(t.mileage="Mileage cannot be negative",console.log("[SUBMIT] \u274c Negative mileage:",e.mileage));I().showFinancials&&e.purchasePrice&&e.purchasePrice<=0&&(t.purchasePrice="Purchase price must be greater than 0",console.log("[SUBMIT] \u274c Invalid purchase price:",e.purchasePrice)),console.log("[SUBMIT] Validation errors:",t),N(t);const n=0===Object.keys(t).length;return console.log("[SUBMIT] Form validation result:",n),n?(console.log("[SUBMIT] Calling handleSave with updated form data..."),void q(e,!1)):(console.log("[SUBMIT] Form validation failed"),console.log("[SUBMIT] Form errors:",t),void alert("Please fill in all required fields: "+Object.keys(t).join(", ")))}const e=W();if(console.log("[SUBMIT] Form validation result:",e),!e)return console.log("[SUBMIT] Form validation failed"),console.log("[SUBMIT] Form errors:",w),void alert("Please fill in all required fields: "+Object.keys(w).join(", "));console.log("[SUBMIT] Calling handleSave..."),Y(!1)},disabled:j,className:"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,We.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(ze,{className:"h-4 w-4 mr-2"}),"Submit Deal"]})]})]})]}),u&&(0,We.jsxs)("div",{className:"fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,We.jsx)(Qe,{className:"h-4 w-4 mr-2 animate-spin"}),"Decoding VIN..."]}),m&&(0,We.jsxs)("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[(0,We.jsx)(ze,{className:"h-4 w-4 mr-2"}),"VIN decoded successfully!"]})]}),(0,We.jsx)(Jt,{})]})},tc=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),nc=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),rc=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ac=e=>{var t;let{user:n,onComplete:r}=e;const[a,o]=(0,s.useState)(0),[l,i]=(0,s.useState)(0),c=(0,s.useCallback)(()=>[{text:"Authenticating credentials...",icon:tc,duration:800},{text:"Loading user profile...",icon:n&&"admin"===n.role?Ce:n&&"sales"===n.role?_e:n&&"finance"===n.role?nc:Ae,duration:700},{text:"Initializing workspace...",icon:Oe,duration:600},{text:"Preparing dashboard...",icon:Ve,duration:500},{text:"Welcome to RP Exotics!",icon:ze,duration:400}],[n]);s.useEffect(()=>{let e,t;const n=c(),a=s=>{if(s>=n.length)return void setTimeout(()=>r(),300);o(s),i(0);const l=n[s].duration,c=100/(l/10);t=setInterval(()=>{i(e=>e>=100?(clearInterval(t),100):e+c)},10),e=setTimeout(()=>{clearInterval(t),a(s+1)},l)};return a(0),()=>{clearTimeout(e),clearInterval(t)}},[c,r]);const d=e=>{if(!e)return"from-gray-500 to-gray-600";switch(e){case"admin":return"from-blue-500 to-cyan-500";case"sales":return"from-green-500 to-emerald-500";case"finance":return"from-purple-500 to-pink-500";case"viewer":return"from-orange-500 to-amber-500";default:return"from-gray-500 to-gray-600"}},u=c()[a]||c()[0],p=u.icon;return(0,We.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center z-50",children:[(0,We.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsxs)("div",{className:"relative text-center max-w-md mx-auto px-6",children:[(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsx)("div",{className:`mx-auto h-24 w-24 bg-gradient-to-r ${d(n.role)} rounded-2xl flex items-center justify-center mb-6 shadow-2xl animate-pulse`,children:(0,We.jsx)(_e,{className:"h-12 w-12 text-white"})}),(0,We.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"RP Exotics"}),(0,We.jsx)("p",{className:"text-gray-300",children:"Professional Vehicle Management"})]}),(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("div",{className:`inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r ${d(n.role)} text-white text-sm font-medium mb-3 shadow-lg`,children:["admin"===n.role&&(0,We.jsx)(Ce,{className:"h-4 w-4 mr-2"}),"sales"===n.role&&(0,We.jsx)(_e,{className:"h-4 w-4 mr-2"}),"finance"===n.role&&(0,We.jsx)(nc,{className:"h-4 w-4 mr-2"}),"viewer"===n.role&&(0,We.jsx)(Ae,{className:"h-4 w-4 mr-2"}),n.role.charAt(0).toUpperCase()+n.role.slice(1)," Access"]}),(0,We.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Welcome, ",(null===(t=n.profile)||void 0===t?void 0:t.displayName)||n.email]})]}),(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("div",{className:"relative mb-6",children:[(0,We.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-full blur-xl"}),(0,We.jsx)("div",{className:`relative mx-auto h-16 w-16 bg-gradient-to-r ${d(n.role)} rounded-full flex items-center justify-center shadow-xl`,children:(0,We.jsx)(p,{className:"h-8 w-8 text-white animate-pulse"})})]}),(0,We.jsx)("p",{className:"text-white text-lg font-medium mb-4",children:u.text}),(0,We.jsx)("div",{className:"relative",children:(0,We.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:(0,We.jsx)("div",{className:`h-full bg-gradient-to-r ${d(n.role)} rounded-full transition-all duration-100 ease-out shadow-lg`,style:{width:`${l}%`}})})})]}),(0,We.jsx)("div",{className:"flex justify-center space-x-2",children:c().map((e,t)=>(0,We.jsx)("div",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(t<=a?`bg-gradient-to-r ${d(n.role)} shadow-lg scale-125`:"bg-white/20")},t))})]})]})},sc=()=>{const[e,t]=(0,s.useState)("login"),[n,r]=(0,s.useState)(!1),[a,o]=(0,s.useState)({email:"",password:""}),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)({email:"",newPassword:""}),[x,y]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),{user:w,login:N,logout:j,getAuthHeaders:k}=Ke(),S=te();(0,s.useEffect)(()=>{w&&S("/")},[w,S]);const T={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"";(0,s.useEffect)(()=>{(async()=>{try{const e=`${T}/api/auth/profile`;console.log("[DEBUG][CompleteLoginFlow] Fetching profile from:",e);const n=await fetch(e,{credentials:"include",headers:{...k()}});if(n.ok){const e=await n.json(),r=e.user||e;localStorage.getItem("token")||N(r),r&&r.email&&"clayton@rpexotics.com"===r.email.toLowerCase()?S("/it"):t("dashboard")}}catch(e){}})()},[N,T,k]);const D=async()=>{if(a.email&&a.password){p(!0),d("");try{const e=`${T}/api/auth/login`;console.log("[DEBUG][CompleteLoginFlow] Logging in via:",e);const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...a,rememberMe:l})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Login failed")}const r=await n.json();console.log("[DEBUG][CompleteLoginFlow] Login response:",r),N(r.user,r.token),t("transition")}catch(e){d("Invalid credentials"===e.message?"Email or password is incorrect":e.message)}finally{p(!1)}}else d("Please enter both email and password")},E=()=>{w&&w.email&&"clayton@rpexotics.com"===w.email.toLowerCase()?S("/it"):t("dashboard")},C=async()=>{if(f.email&&f.newPassword){y(!0),d("");try{const e=`${T}/api/auth/forgot-password`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Request failed")}v(!0),g({email:"",newPassword:""})}catch(e){d(e.message)}finally{y(!1)}}else d("Please enter both email and new password")},_=async()=>{await j(),o({email:"",password:""}),t("login")};return"login"===e?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:(0,We.jsxs)("div",{className:"max-w-md w-full",children:[(0,We.jsxs)("div",{className:"text-center mb-8",children:[(0,We.jsx)("div",{className:"mx-auto h-24 w-24 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 shadow-2xl border border-white/20",children:(0,We.jsx)(_e,{className:"h-16 w-16 text-white"})}),(0,We.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"RP Exotics"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Premium Vehicle Management System"})]}),(0,We.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8",children:(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),(0,We.jsx)("p",{className:"text-gray-300",children:"Sign in to your account"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Email Address"}),(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,We.jsx)(nt,{className:"h-5 w-5 text-gray-400"})}),(0,We.jsx)("input",{type:"email",className:"block w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email",value:a.email,onChange:e=>{o({...a,email:e.target.value}),c&&d("")},onKeyDown:e=>{"Enter"===e.key&&D()}})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,We.jsx)(tc,{className:"h-5 w-5 text-gray-400"})}),(0,We.jsx)("input",{type:n?"text":"password",className:"block w-full pl-12 pr-12 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",value:a.password,onChange:e=>{o({...a,password:e.target.value}),c&&d("")},onKeyDown:e=>{"Enter"===e.key&&D()}}),(0,We.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:(0,We.jsx)("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",onClick:()=>r(!n),children:n?(0,We.jsx)(rc,{className:"h-5 w-5"}):(0,We.jsx)(Ae,{className:"h-5 w-5"})})})]})]}),c&&(0,We.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 text-red-300 text-sm",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"flex-shrink-0",children:(0,We.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,We.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,We.jsx)("div",{className:"ml-3",children:(0,We.jsx)("p",{className:"text-sm font-medium text-red-300",children:c})}),(0,We.jsx)("div",{className:"ml-auto pl-3",children:(0,We.jsx)("button",{onClick:()=>d(""),className:"text-red-400 hover:text-red-300 transition-colors",children:(0,We.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,We.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),m&&(0,We.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 space-y-4",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Reset Password"}),(0,We.jsx)("p",{className:"text-sm text-blue-200",children:"Enter your email and desired new password. A request will be sent to the administrator."})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email Address"}),(0,We.jsx)("input",{type:"email",className:"block w-full px-4 py-3 bg-white/10 border border-blue-500/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",value:f.email,onChange:e=>{g({...f,email:e.target.value}),c&&d("")}})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"New Password"}),(0,We.jsx)("input",{type:"password",className:"block w-full px-4 py-3 bg-white/10 border border-blue-500/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your new password",value:f.newPassword,onChange:e=>{g({...f,newPassword:e.target.value}),c&&d("")}})]}),b&&(0,We.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 text-green-300 text-sm",children:"\u2705 Password reset request sent! You'll receive an email once it's approved."}),(0,We.jsxs)("div",{className:"flex space-x-3",children:[(0,We.jsx)("button",{onClick:C,disabled:x,className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 "+(x?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:x?"Sending Request...":"Send Request"}),(0,We.jsx)("button",{onClick:()=>{h(!1),g({email:"",newPassword:""}),v(!1),d("")},className:"px-4 py-3 border border-gray-500 text-gray-300 hover:text-white rounded-lg transition-colors",children:"Cancel"})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("input",{id:"rememberMe",type:"checkbox",checked:l,onChange:e=>i(e.target.checked),className:"form-checkbox h-4 w-4 text-blue-600 transition duration-150 ease-in-out"}),(0,We.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-200",children:"Remember Me (12 hours)"})]}),(0,We.jsx)("button",{onClick:()=>h(!m),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot Password?"})]}),(0,We.jsx)("button",{onClick:D,disabled:u,className:"w-full py-4 px-6 rounded-xl font-medium transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 shadow-lg "+(u?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white hover:scale-105"),children:u?(0,We.jsxs)("div",{className:"flex items-center justify-center",children:[(0,We.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,We.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,We.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"}),(0,We.jsx)("div",{className:"text-center"}),(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,We.jsx)("div",{className:"w-full border-t border-white/20"})}),(0,We.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,We.jsx)("span",{className:"px-2 bg-transparent text-gray-400",children:"Demo Accounts"})})]}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("button",{onClick:()=>o({email:"chris@rpexotics.com",password:"Matti11!"}),className:"w-full flex items-center justify-between bg-blue-600/20 hover:bg-blue-600/30 text-white p-4 rounded-lg transition-colors border border-blue-500/30",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)(Ce,{className:"h-5 w-5 text-blue-400 mr-3"}),(0,We.jsx)("span",{className:"font-medium",children:"Admin Access"})]}),(0,We.jsx)("span",{className:"text-blue-300 text-sm",children:"Full Control"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,We.jsxs)("button",{onClick:()=>o({email:"parker@rpexotics.com",password:"17Hellcat!"}),className:"flex flex-col items-center bg-green-600/20 hover:bg-green-600/30 text-white p-3 rounded-lg transition-colors border border-green-500/30",children:[(0,We.jsx)(_e,{className:"h-4 w-4 text-green-400 mb-1"}),(0,We.jsx)("span",{className:"text-xs",children:"Sales"})]}),(0,We.jsxs)("button",{onClick:()=>o({email:"lynn@rpexotics.com",password:"titles123"}),className:"flex flex-col items-center bg-purple-600/20 hover:bg-purple-600/30 text-white p-3 rounded-lg transition-colors border border-purple-500/30",children:[(0,We.jsx)(nc,{className:"h-4 w-4 text-purple-400 mb-1"}),(0,We.jsx)("span",{className:"text-xs",children:"Finance"})]}),(0,We.jsxs)("button",{onClick:()=>o({email:"viewer@rpexotics.com",password:"view123"}),className:"flex flex-col items-center bg-orange-600/20 hover:bg-orange-600/30 text-white p-3 rounded-lg transition-colors border border-orange-500/30",children:[(0,We.jsx)(Ae,{className:"h-4 w-4 text-orange-400 mb-1"}),(0,We.jsx)("span",{className:"text-xs",children:"Viewer"})]})]})]})]})}),(0,We.jsx)("div",{className:"text-center mt-6",children:(0,We.jsxs)("div",{className:"inline-flex items-center bg-white/5 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[(0,We.jsx)(Ve,{className:"h-4 w-4 text-yellow-400 mr-2"}),(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Secured by Enterprise Authentication"})]})})]})}):"transition"===e?(0,We.jsx)(ac,{user:w,onComplete:E}):"dashboard"===e?(0,We.jsx)(Ge,{user:w,onLogout:_}):w?null:void 0},oc=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lc=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ic=()=>{var e,t,n,r,a,o;const l=te(),{user:i}=Ke();console.log("All process.env variables:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),console.log("window.location:",window.location.href);const c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;console.log("DealerNetworkPage API_BASE:",c),c||alert("REACT_APP_API_URL is not set! API requests will fail. Please set this variable in your Vercel project settings and redeploy.");const[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)(!0),[h,f]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[y,b]=(0,s.useState)({region:"all",dealerType:"all",status:"all",rating:"all"}),[v,w]=(0,s.useState)("grid"),[N,j]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[T,D]=(0,s.useState)({}),[E,C]=(0,s.useState)(null),[_,P]=(0,s.useState)(""),[A,R]=(0,s.useState)(null),[L,M]=(0,s.useState)({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),[O,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{console.log("[DEBUG] DealerNetworkPage useEffect running"),console.log("[DEBUG] API_BASE:",c);(async()=>{m(!0),f("");try{const t=function(e){if(console.log("[DEBUG] getApiUrl called with path:",e),!c)throw new Error("REACT_APP_API_URL is not set!");const t=`${c}${e.startsWith("/")?"":"/"}${e}`;return console.log("[DEBUG] Constructed API URL:",t),t.startsWith("https://astonishing-chicken-production.up.railway.app")||(console.error("[DEBUG] API call is NOT going to the backend! URL:",t),alert("API call is NOT going to the backend! Check your environment variable and redeploy.")),t}("/api/dealers");console.log("[DEBUG] Fetching dealers from:",t);const n={};console.log("[DEBUG] Fetch options:",n);const r=await fetch(t,n),a=r.headers.get("content-type");let s;if(console.log("[DEBUG] Dealer fetch response status:",r.status,"content-type:",a),!r.ok){const e=await r.text();return console.error("[DEBUG] Dealer fetch failed:",r.status,e),f(`Dealer fetch failed: ${r.status} ${e}`),void m(!1)}try{s=await r.json(),console.log("[DEBUG] Dealer fetch JSON response:",s)}catch(e){const t=await r.text();return console.error("[DEBUG] Dealer fetch response is not JSON:",t),f("Dealer fetch response is not JSON. Raw response: "+t.slice(0,300)),void m(!1)}u(s.data||s.dealers||[]),m(!1)}catch(h){console.error("[DEBUG] Error loading dealers:",h),f("Error loading dealers: "+h.message),m(!1)}})()},[c,i]);const F=d.filter(e=>{var t,n,r,a,s;const o=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(g.toLowerCase())||((null===(n=e.company)||void 0===n?void 0:n.toLowerCase())||"").includes(g.toLowerCase())||((null===(r=e.contact)||void 0===r||null===(a=r.person)||void 0===a?void 0:a.toLowerCase())||"").includes(g.toLowerCase()),l="all"===y.region||(null===(s=e.location)||void 0===s?void 0:s.includes(y.region)),i="all"===y.dealerType||e.type===y.dealerType,c="all"===y.status||e.status===y.status;return o&&l&&i&&c}),U=e=>{switch(e){case"Active":return"bg-green-500/20 text-green-400";case"Inactive":return"bg-red-500/20 text-red-400";case"Pending":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}};function B(e){if(!e)return"";const{street:t,city:n,state:r,zip:a}=e;return[t,n,r,a].filter(Boolean).join(", ")}function H(e){if(!e)return{street:"",city:"",state:"",zip:""};const t=e.split(",").map(e=>e.trim());return{street:t[0]||"",city:t[1]||"",state:t[2]||"",zip:t[3]||""}}if(!i)return null;const $={admin:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!0},sales:{canCreateDeals:!0,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!0,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1},finance:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!0,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!0,canViewReports:!0,canViewFinancials:!0,canManageUsers:!1},viewer:{canCreateDeals:!1,canViewDeals:!0,canEditDeals:!1,canSearchDealers:!0,canManageDealers:!1,canAccessBackOffice:!1,canViewReports:!0,canViewFinancials:!1,canManageUsers:!1}},z=(()=>{var e,t;return i?null!==(e=i.profile)&&void 0!==e&&e.displayName?i.profile.displayName:i.firstName&&i.lastName?`${i.firstName} ${i.lastName}`:i.firstName?i.firstName:(null===(t=i.email)||void 0===t?void 0:t.split("@")[0])||"User":"Guest"})(),V=$[null===i||void 0===i?void 0:i.role]||$.viewer;return p?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-white text-lg",children:"Loading dealer network..."})]})}):h?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("p",{className:"text-red-400 text-lg font-bold mb-4",children:"Error loading dealers"}),(0,We.jsx)("pre",{className:"bg-black/60 text-red-200 p-4 rounded-lg max-w-xl mx-auto overflow-x-auto text-left",style:{whiteSpace:"pre-wrap"},children:h})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsx)("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("button",{onClick:()=>l("/"),className:"mr-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:(0,We.jsx)(it,{className:"h-5 w-5 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Dealer Network"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage your dealer contacts and relationships"})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsx)("p",{className:"text-sm font-medium text-white",children:z}),(0,We.jsx)("p",{className:"text-gray-400 text-xs",children:(null===i||void 0===i?void 0:i.role)||"Guest"})]}),V.canManageDealers&&(0,We.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Add Dealer"})]})]})]})})}),_&&(0,We.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transition-all",children:_}),(0,We.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,We.jsx)("div",{className:"mb-8",children:(0,We.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,We.jsx)("div",{className:"flex-1",children:(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,We.jsx)("input",{type:"text",placeholder:"Search dealers by name, company, or contact...",value:g,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,We.jsxs)("div",{className:"flex gap-4",children:[(0,We.jsxs)("select",{value:y.region,onChange:e=>b(t=>({...t,region:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Regions"}),(0,We.jsx)("option",{value:"North",children:"North"}),(0,We.jsx)("option",{value:"South",children:"South"}),(0,We.jsx)("option",{value:"East",children:"East"}),(0,We.jsx)("option",{value:"West",children:"West"})]}),(0,We.jsxs)("select",{value:y.status,onChange:e=>b(t=>({...t,status:e.target.value})),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Status"}),(0,We.jsx)("option",{value:"Active",children:"Active"}),(0,We.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,We.jsx)("option",{value:"Pending",children:"Pending"})]})]})]})}),(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:"text-white text-sm",children:"View:"}),(0,We.jsx)("button",{onClick:()=>w("grid"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("grid"===v?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"Grid"}),(0,We.jsx)("button",{onClick:()=>w("list"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+("list"===v?"bg-blue-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"List"})]}),(0,We.jsxs)("div",{className:"text-gray-400 text-sm",children:[F.length," of ",d.length," dealers"]})]}),"grid"===v?(0,We.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:F.map(e=>{var t,n,r;return(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:[(0,We.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(e.status)}`,children:e.status}),V.canManageDealers&&(0,We.jsx)("div",{className:"relative",children:(0,We.jsx)("button",{onClick:()=>C(e),className:"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors",title:"Delete dealer",children:(0,We.jsx)(lc,{className:"h-4 w-4"})})})]})]}),(0,We.jsxs)("div",{className:"space-y-3 mb-4",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,We.jsx)(Oe,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,We.jsx)(rt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(r=e.contact)||void 0===r?void 0:r.email)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300 text-sm",children:[(0,We.jsx)(at,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsx)("div",{className:"flex items-center",children:(0,We.jsxs)("span",{className:"text-gray-400 text-xs",children:["Deals: ",e.totalDeals||0]})}),(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,We.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,We.jsx)("div",{className:"flex space-x-2",children:(0,We.jsx)("button",{onClick:()=>R(e),className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"View Details"})})]},e.id)})}):(0,We.jsx)("div",{className:"space-y-4",children:F.map(e=>{var t,n,r;return(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:bg-white/10 hover:border-white/20 transition-all duration-300",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:e.company})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(null===(t=e.contact)||void 0===t?void 0:t.person)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,We.jsx)(Oe,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.person]}),(null===(n=e.contact)||void 0===n?void 0:n.phone)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,We.jsx)(rt,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.phone]}),(null===(r=e.contact)||void 0===r?void 0:r.email)&&(0,We.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,We.jsx)(at,{className:"h-4 w-4 mr-2 text-gray-400"}),e.contact.email]})]}),(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsxs)("p",{className:"text-white font-semibold",children:[e.totalDeals||0," deals"]}),(0,We.jsxs)("p",{className:"text-gray-400 text-xs",children:["$",(e.totalVolume||0).toLocaleString()]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(e.status)}`,children:e.status}),(0,We.jsx)("button",{onClick:()=>R(e),className:"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:"View Details"})]})]})},e.id)})}),0===F.length&&(0,We.jsxs)("div",{className:"text-center py-12",children:[(0,We.jsx)(Oe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No dealers found"}),(0,We.jsx)("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search or filters"}),V.canManageDealers&&(0,We.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Add Your First Dealer"})]})]})]}),N&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Add New Dealer"}),(0,We.jsxs)("form",{onSubmit:async e=>{var t,n;e.preventDefault(),I(!0),P("");const r={name:L.dealerName,company:L.dealerName,licenseNumber:L.licenseNumber||"",type:"Dealer",contact:{person:L.contactPerson||"",phone:(null===(t=L.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=L.contact)||void 0===n?void 0:n.email)||"",address:H(L.fullAddress)},status:L.status||"Active"};try{const e=await fetch(`${c}/api/dealers`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),t=await e.json();e.ok&&t.success&&t.data?(u(e=>[t.data,...e]),j(!1),M({dealerName:"",contactPerson:"",contact:{phone:"",email:""},licenseNumber:"",status:"Active",fullAddress:""}),P("Dealer added successfully!"),setTimeout(()=>P(""),2e3)):(P(t.error||"Failed to add dealer."),setTimeout(()=>P(""),2e3))}catch(h){P("Error adding dealer."),setTimeout(()=>P(""),2e3)}finally{I(!1)}},className:"space-y-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,We.jsx)("input",{type:"text",id:"add-dealer-name",value:L.dealerName,onChange:e=>M(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,We.jsx)("input",{type:"text",id:"add-contact-person",value:L.contactPerson,onChange:e=>M(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,We.jsx)("input",{type:"text",id:"add-contact-phone",value:L.contact.phone,onChange:e=>M(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,We.jsx)("input",{type:"email",id:"add-contact-email",value:L.contact.email,onChange:e=>M(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,We.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:L.fullAddress||"",onChange:e=>M(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,We.jsx)("input",{type:"text",id:"add-license-number",value:L.licenseNumber||"",onChange:e=>M(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"add-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,We.jsxs)("select",{id:"add-status",value:L.status,onChange:e=>M(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"Active",children:"Active"}),(0,We.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,We.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,We.jsx)("button",{type:"button",onClick:()=>j(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:O,children:"Cancel"}),(0,We.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:O,children:O?"Saving...":"Add Dealer"})]})]})]})}),k&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Dealer"}),(0,We.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k&&(async e=>{var t,n;const r={name:T.dealerName,company:T.dealerName,licenseNumber:T.licenseNumber||"",contact:{person:T.contactPerson||"",phone:(null===(t=T.contact)||void 0===t?void 0:t.phone)||"",email:(null===(n=T.contact)||void 0===n?void 0:n.email)||"",address:H(T.fullAddress)},status:T.status||"Active"};console.log("Sending dealer update body:",r);try{const t=await fetch(`${c}/api/dealers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),n=await t.json();n&&n.success&&n.data?(u(t=>t.map(t=>t.id===e?n.data:t)),S(null),D({}),P("Dealer updated successfully!"),setTimeout(()=>P(""),2e3),console.log("Updated dealer:",n.data)):(P("Failed to update dealer."),setTimeout(()=>P(""),2e3),console.error("Update response:",n))}catch(h){P("Error updating dealer."),setTimeout(()=>P(""),2e3),console.error("Error updating dealer:",h)}})(k.id)},className:"space-y-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-dealer-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer Name"}),(0,We.jsx)("input",{type:"text",id:"edit-dealer-name",value:T.dealerName,onChange:e=>D(t=>({...t,dealerName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-contact-person",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Person"}),(0,We.jsx)("input",{type:"text",id:"edit-contact-person",value:T.contactPerson,onChange:e=>D(t=>({...t,contactPerson:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-contact-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,We.jsx)("input",{type:"text",id:"edit-contact-phone",value:null===(e=T.contact)||void 0===e?void 0:e.phone,onChange:e=>D(t=>({...t,contact:{...t.contact,phone:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-contact-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,We.jsx)("input",{type:"email",id:"edit-contact-email",value:null===(t=T.contact)||void 0===t?void 0:t.email,onChange:e=>D(t=>({...t,contact:{...t.contact,email:e.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,We.jsx)("input",{type:"text",placeholder:"Street, City, State, Zip",value:T.fullAddress||"",onChange:e=>D(t=>({...t,fullAddress:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-license-number",className:"block text-sm font-medium text-gray-300 mb-1",children:"Dealer License Number"}),(0,We.jsx)("input",{type:"text",id:"edit-license-number",value:T.licenseNumber||"",onChange:e=>D(t=>({...t,licenseNumber:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{htmlFor:"edit-status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,We.jsxs)("select",{id:"edit-status",value:T.status,onChange:e=>D(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"Active",children:"Active"}),(0,We.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,We.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,We.jsx)("button",{type:"button",onClick:()=>S(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,We.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Save Changes"})]})]})]})}),A&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Dealer Details"}),(0,We.jsx)("button",{onClick:()=>R(null),className:"text-gray-400 hover:text-white transition-colors",children:(0,We.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Basic Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Dealer Name"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.name})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Company"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.company||"N/A"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),(0,We.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U(A.status)}`,children:A.status})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"License Number"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.licenseNumber||"N/A"})]})]})]}),(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Contact Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(null===(n=A.contact)||void 0===n?void 0:n.person)&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Contact Person"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.contact.person})]}),(null===(r=A.contact)||void 0===r?void 0:r.phone)&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.contact.phone})]}),(null===(a=A.contact)||void 0===a?void 0:a.email)&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),(0,We.jsx)("p",{className:"text-white font-medium",children:A.contact.email})]}),(null===(o=A.contact)||void 0===o?void 0:o.address)&&(0,We.jsxs)("div",{className:"md:col-span-2",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Address"}),(0,We.jsx)("p",{className:"text-white font-medium",children:B(A.contact.address)})]})]})]}),A.recentDeals&&A.recentDeals.length>0&&(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Recent Deals"}),(0,We.jsx)("div",{className:"space-y-2",children:A.recentDeals.slice(0,5).map((e,t)=>{var n;return(0,We.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-white font-medium",children:e.vehicle}),(0,We.jsx)("p",{className:"text-sm text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsxs)("p",{className:"text-white font-medium",children:["$",(null===(n=e.amount)||void 0===n?void 0:n.toLocaleString())||"N/A"]}),(0,We.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("Completed"===e.status?"bg-green-500/20 text-green-400":"Pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})]})]},t)})})]}),A.notes&&(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Notes"}),(0,We.jsx)("p",{className:"text-gray-300",children:A.notes})]})]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-white/10",children:[(0,We.jsx)("button",{onClick:()=>R(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Close"}),V.canManageDealers&&(0,We.jsx)("button",{onClick:()=>{(e=>{var t,n;S(e),D({dealerName:e.company||e.name||"",contactPerson:(null===(t=e.contact)||void 0===t?void 0:t.person)||"",contact:e.contact||{},licenseNumber:e.licenseNumber||"",status:e.status||"Active",fullAddress:B(null===(n=e.contact)||void 0===n?void 0:n.address)})})(A),R(null)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Edit Dealer"})]})]})}),E&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Dealer"}),(0,We.jsxs)("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",(0,We.jsx)("span",{className:"text-white font-semibold",children:E.name}),"? This action cannot be undone."]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,We.jsx)("button",{onClick:()=>C(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,We.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`${c}/api/dealers/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok?(u(t=>t.filter(t=>t.id!==e)),C(null)):(console.error("Error deleting dealer:",t.statusText),alert("Failed to delete dealer. Please try again."))}catch(h){console.error("Error deleting dealer:",h),alert("Failed to delete dealer. Please try again.")}})(E.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"})]})]})})]})},cc=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),dc=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),uc=()=>{var e,t,n,r,a,o,l;const i=te(),{getAuthHeaders:c}=Ke(),[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)({}),[h,f]=(0,s.useState)(!0),[g,x]=(0,s.useState)(null),[y,b]=(0,s.useState)({status:"",dealType:"",search:""}),[v,w]=(0,s.useState)([]),[N,j]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=!0;f(!0);const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;return console.log("[DEBUG][FinanceDashboard] API_BASE:",t),Promise.all([fetch(`${t}/api/documents/vehicle-records`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Vehicle records fetch response status:",e.status),e.json())).then(t=>{e&&t.success&&u(t.data)}).catch(e=>{console.error("[DEBUG][FinanceDashboard] Error fetching vehicle records:",e)}),fetch(`${t}/api/documents/stats`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Stats fetch response status:",e.status),e.json())).then(t=>{e&&t.success&&m(t.stats)}).catch(e=>{console.error("[DEBUG][FinanceDashboard] Error fetching stats:",e)}),fetch(`${t}/api/deals`,{credentials:"include",headers:c()}).then(e=>(console.log("[DEBUG][FinanceDashboard] Deals fetch response status:",e.status),e.json())).then(t=>{e&&w(t.deals||t.data||[])}).catch(()=>{e&&w([])}),fetch(`${t}/api/stats/overview`,{credentials:"include",headers:c()}).then(e=>e.json()).then(t=>{e&&t.success&&j(t.data.recentActivity||[])}).catch(e=>{console.error("[DEBUG][FinanceDashboard] Error fetching recent activity:",e)})]).finally(()=>{e&&f(!1)}),()=>{e=!1}},[c]),(0,s.useEffect)(()=>{const e=setInterval(async()=>{try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,t=await fetch(`${e}/api/stats/overview`,{credentials:"include",headers:c()}),n=await t.json();n.success&&j(n.data.recentActivity||[])}catch(e){console.error("[DEBUG][FinanceDashboard] Error refreshing recent activity:",e)}},3e4);return()=>clearInterval(e)},[c]);const k=async()=>{try{f(!0);const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,t=await fetch(`${e}/api/documents/vehicle-records`,{credentials:"include",headers:c()});console.log("[DEBUG][FinanceDashboard] Vehicle records fetch response status:",t.status);const n=await t.json();n.success&&u(n.data);const r=await fetch(`${e}/api/documents/stats`,{credentials:"include",headers:c()});console.log("[DEBUG][FinanceDashboard] Stats fetch response status:",r.status);const a=await r.json();a.success&&m(a.stats)}catch(e){console.error("[DEBUG][FinanceDashboard] Error fetching data:",e)}finally{f(!1)}},S=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const a=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/documents/vehicle-records/${e}/documents/${t}/status`;console.log("[DEBUG][FinanceDashboard] Updating status via:",a);const s=await fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json",...c()},body:JSON.stringify({status:n,notes:r}),credentials:"include"});if(console.log("[DEBUG][FinanceDashboard] Status update response status:",s.status),!s.ok)throw new Error("Failed to update status");k(),alert("Status updated successfully")}catch(a){console.error("[DEBUG][FinanceDashboard] Error updating status:",a),alert("Error updating status")}},T=async e=>{try{const t=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/documents/download/${e}`;console.log("[DEBUG][FinanceDashboard] Downloading document from:",t);const n=await fetch(t,{credentials:"include",headers:c()});if(!n.ok)throw new Error("Failed to download document");{const t=await n.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}}catch(t){console.error("[DEBUG][FinanceDashboard] Error downloading document:",t),alert("Error downloading document")}},D=async e=>{if(window.confirm("Are you sure you want to delete this deal? This action cannot be undone."))try{const t=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/api/deals/${e}`;console.log("[DEBUG][FinanceDashboard] Deleting deal via:",t);const n=await fetch(t,{method:"DELETE",credentials:"include",headers:c()});if(console.log("[DEBUG][FinanceDashboard] Delete deal response status:",n.status),!n.ok){const e=await n.json();throw new Error(e.error||"Failed to delete deal")}k(),alert("Deal deleted successfully")}catch(t){console.error("[DEBUG][FinanceDashboard] Error deleting deal:",t),alert(`Error deleting deal: ${t.message}`)}},E=e=>{switch(e){case"approved":return"text-green-400 bg-green-500/20";case"rejected":return"text-red-400 bg-red-500/20";case"sent_to_finance":return"text-orange-400 bg-orange-500/20";default:return"text-gray-400 bg-gray-500/20"}},C=e=>{switch(e){case"retail":return"text-blue-400 bg-blue-500/20";case"wholesale":return"text-purple-400 bg-purple-500/20";case"consignment":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},_=d.filter(e=>{if(y.status&&e.status!==y.status)return!1;if(y.dealType&&e.dealType!==y.dealType)return!1;if(y.search){var t,n,r,a,s;const o=y.search.toLowerCase();return(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(n=e.stockNumber)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(r=e.recordId)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(a=e.dealId)||void 0===a||null===(s=a.vehicle)||void 0===s?void 0:s.toLowerCase().includes(o))}return!0}),P=v.filter(e=>{if(y.status&&e.currentStage!==y.status&&e.status!==y.status)return!1;if(y.dealType&&e.dealType!==y.dealType)return!1;if(y.search){const t=y.search.toLowerCase(),n=(e.vehicle||`${e.year||""} ${e.make||""} ${e.model||""}`).toLowerCase(),r=(e.vin||"").toLowerCase(),a=(e.rpStockNumber||e.stockNumber||"").toLowerCase();if(!n.includes(t)&&!r.includes(t)&&!a.includes(t))return!1}return!0});return h?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:(0,We.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:[(0,We.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium",onClick:()=>i("/"),children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Dashboard"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Review and manage vehicle records and generated documents"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,We.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-2xl border border-blue-500/20 p-6",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3 mr-4",children:(0,We.jsx)(Ue,{className:"h-6 w-6 text-blue-400"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.totalRecords||0}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Records"})]})]})})}),(0,We.jsx)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 rounded-2xl border border-orange-500/20 p-6",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-orange-500/20 rounded-lg p-3 mr-4",children:(0,We.jsx)(Re,{className:"h-6 w-6 text-orange-400"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.pendingFinance||0}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending Review"})]})]})})}),(0,We.jsx)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 rounded-2xl border border-green-500/20 p-6",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3 mr-4",children:(0,We.jsx)(ze,{className:"h-6 w-6 text-green-400"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.approvedDocuments||0}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Approved"})]})]})})}),(0,We.jsx)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl border border-purple-500/20 p-6",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-purple-500/20 rounded-lg p-3 mr-4",children:(0,We.jsx)(_e,{className:"h-6 w-6 text-purple-400"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-2xl font-bold text-white mb-1",children:p.draftDocuments||0}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Draft Documents"})]})]})})})]}),(0,We.jsx)("div",{className:"mb-8",children:(0,We.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Status"}),(0,We.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:y.status,onChange:e=>b(t=>({...t,status:e.target.value})),children:[(0,We.jsx)("option",{value:"",children:"All Statuses"}),(0,We.jsx)("option",{value:"draft",children:"Draft"}),(0,We.jsx)("option",{value:"sent_to_finance",children:"Sent to Finance"}),(0,We.jsx)("option",{value:"approved",children:"Approved"}),(0,We.jsx)("option",{value:"rejected",children:"Rejected"}),(0,We.jsx)("option",{value:"pending",children:"Pending"}),(0,We.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Deal Type"}),(0,We.jsxs)("select",{className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",value:y.dealType,onChange:e=>b(t=>({...t,dealType:e.target.value})),children:[(0,We.jsx)("option",{value:"",children:"All Deal Types"}),(0,We.jsx)("option",{value:"retail",children:"Retail"}),(0,We.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,We.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,We.jsx)("option",{value:"wholesale-pp",children:"Wholesale PP"}),(0,We.jsx)("option",{value:"wholesale-flip",children:"Wholesale Flip"}),(0,We.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,We.jsx)("option",{value:"retail-d2d",children:"Retail D2D"}),(0,We.jsx)("option",{value:"consignment",children:"Consignment"}),(0,We.jsx)("option",{value:"auction",children:"Auction"})]})]}),(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Search"}),(0,We.jsx)("input",{type:"text",className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-3 py-2 w-full",placeholder:"Search by VIN, Stock #, Vehicle, etc.",value:y.search,onChange:e=>b(t=>({...t,search:e.target.value}))})]})]})}),(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Recent Activity"}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:(0,We.jsx)("div",{className:"p-6",children:0===N.length?(0,We.jsx)("div",{className:"text-gray-400",children:"No recent activity found."}):(0,We.jsx)("div",{className:"space-y-4",children:N.slice(0,5).map((e,t)=>(0,We.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-lg",children:[(0,We.jsx)("div",{className:"bg-blue-500/20 rounded-full p-2",children:(0,We.jsx)(_e,{className:"h-4 w-4 text-blue-400"})}),(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.vehicle," (",e.dealType,")"]}),(0,We.jsxs)("div",{className:"text-xs text-gray-400",children:["Status: ",e.status," \u2022 ",new Date(e.date).toLocaleString()]})]})]},t))})})})]}),(0,We.jsxs)("div",{className:"mb-12",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Submitted Deals"}),0===P.length?(0,We.jsx)("div",{className:"text-gray-400",children:"No submitted deals found."}):(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-white/5",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Purchase ID"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock #"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"VIN"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Price"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Assigned To"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-white/10",children:P.map(e=>{var t,n,r;return(0,We.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsxs)("div",{children:[(0,We.jsx)("div",{className:"text-sm font-medium text-white",children:e.vehicle||`${e.year} ${e.make} ${e.model}`}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:[e.dealType," \u2022 ",e.dealType2SubType||e.dealType2||"N/A"]})]})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm font-medium text-blue-400",children:e.dealId||"N/A"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm text-gray-300",children:e.rpStockNumber||e.stockNumber||"N/A"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm text-gray-300",children:e.vin||"N/A"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsxs)("span",{className:"text-sm font-medium text-white",children:["$",(null===(t=e.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-500/20 text-blue-400",children:e.currentStage||"Unknown"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm text-gray-300",children:(null===(n=e.assignedTo)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.displayName)||e.assignedTo||"Unassigned"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm text-gray-300",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex space-x-3",children:[(0,We.jsx)("button",{onClick:()=>i(`/finance/deals/${e._id||e.id}`),className:"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"View Details",children:(0,We.jsx)(Ae,{className:"h-5 w-5"})}),(0,We.jsx)("button",{onClick:()=>i(`/finance/deals/${e._id||e.id}/update-status`),className:"text-green-400 hover:text-green-300 p-2 rounded-lg hover:bg-green-500/10 transition-colors",title:"Update Status",children:(0,We.jsx)(ze,{className:"h-5 w-5"})}),(0,We.jsx)("button",{onClick:()=>D(e._id||e.id),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete Deal",children:(0,We.jsx)(lc,{className:"h-5 w-5"})})]})})]},e._id||e.id)})})]})})})]}),(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden",children:[(0,We.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Vehicle Records"}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage vehicle records and review generated documents"})]}),(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-white/5",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Record ID"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"VIN"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Type"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Documents"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,We.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-white/10",children:_.map(e=>{var t,n;return(0,We.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm font-medium text-white",children:e.recordId})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.year," ",e.make," ",e.model]}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock #",e.stockNumber]})]})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:"text-sm text-gray-300",children:e.vin})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C(e.dealType)}`,children:e.dealType})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("div",{className:"space-y-1",children:null===(t=e.generatedDocuments)||void 0===t?void 0:t.map((e,t)=>(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${E(e.status)}`,children:e.documentType.replace("_"," ")}),(0,We.jsx)("button",{onClick:()=>T(e.fileName),className:"text-blue-400 hover:text-blue-300 p-1 rounded hover:bg-blue-500/10 transition-colors",children:(0,We.jsx)(cc,{className:"h-4 w-4"})})]},t))})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${E(e.status)}`,children:e.status})}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap text-sm text-gray-300",children:new Date(e.createdAt).toLocaleDateString()}),(0,We.jsx)("td",{className:"px-6 py-6 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex space-x-3",children:[(0,We.jsx)("button",{onClick:()=>x(e),className:"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"View Details",children:(0,We.jsx)(Ae,{className:"h-5 w-5"})}),(null===(n=e.generatedDocuments)||void 0===n?void 0:n.some(e=>"sent_to_finance"===e.status))&&(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);S(e.recordId,t,"approved")},className:"text-green-400 hover:text-green-300 p-2 rounded-lg hover:bg-green-500/10 transition-colors",title:"Approve",children:(0,We.jsx)(ze,{className:"h-5 w-5"})}),(0,We.jsx)("button",{onClick:()=>{const t=e.generatedDocuments.findIndex(e=>"sent_to_finance"===e.status);S(e.recordId,t,"rejected")},className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Reject",children:(0,We.jsx)(dc,{className:"h-5 w-5"})})]}),e.dealId&&(0,We.jsx)("button",{onClick:()=>D(e.dealId),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete Deal",children:(0,We.jsx)(lc,{className:"h-5 w-5"})})]})})]},e._id)})})]})}),0===_.length&&(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"No vehicle records found"})]})]}),g&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-2xl border border-white/10 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,We.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white",children:"Vehicle Record Details"}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[g.dealId&&(0,We.jsx)("button",{onClick:()=>{D(g.dealId),x(null)},className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/20",title:"Delete Deal",children:(0,We.jsx)(lc,{className:"h-5 w-5"})}),(0,We.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-white",children:(0,We.jsx)(dc,{className:"h-6 w-6"})})]})]})}),(0,We.jsxs)("div",{className:"p-6",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Information"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Record ID:"}),(0,We.jsx)("p",{className:"text-white",children:g.recordId})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Vehicle:"}),(0,We.jsxs)("p",{className:"text-white",children:[g.year," ",g.make," ",g.model]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN:"}),(0,We.jsx)("p",{className:"text-white",children:g.vin})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Stock Number:"}),(0,We.jsx)("p",{className:"text-white",children:g.stockNumber})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Color:"}),(0,We.jsx)("p",{className:"text-white",children:g.color||"N/A"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Mileage:"}),(0,We.jsx)("p",{className:"text-white",children:(null===(e=g.mileage)||void 0===e?void 0:e.toLocaleString())||"N/A"})]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Deal Information"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type:"}),(0,We.jsx)("p",{className:"text-white",children:g.dealType})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Deal Type 2:"}),(0,We.jsx)("p",{className:"text-white",children:g.dealType2})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price:"}),(0,We.jsxs)("p",{className:"text-white",children:["$",(null===(t=g.purchasePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price:"}),(0,We.jsxs)("p",{className:"text-white",children:["$",(null===(n=g.listPrice)||void 0===n?void 0:n.toLocaleString())||"N/A"]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Rate:"}),(0,We.jsxs)("p",{className:"text-white",children:[(null===(r=g.commission)||void 0===r?void 0:r.rate)||"N/A","%"]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Commission Amount:"}),(0,We.jsxs)("p",{className:"text-white",children:["$",(null===(a=g.commission)||void 0===a||null===(o=a.amount)||void 0===o?void 0:o.toLocaleString())||"N/A"]})]})]})]})]}),(0,We.jsxs)("div",{className:"mt-8",children:[(0,We.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Generated Documents"}),(0,We.jsx)("div",{className:"space-y-4",children:null===(l=g.generatedDocuments)||void 0===l?void 0:l.map((e,t)=>(0,We.jsx)("div",{className:"bg-white/5 rounded-lg p-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h5",{className:"text-white font-medium",children:e.documentType.replace("_"," ")}),(0,We.jsxs)("p",{className:"text-gray-400 text-sm",children:["Document #: ",e.documentNumber]}),(0,We.jsxs)("p",{className:"text-gray-400 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${E(e.status)}`,children:e.status.replace("_"," ")}),(0,We.jsx)("button",{onClick:()=>T(e.fileName),className:"text-blue-400 hover:text-blue-300",title:"Download",children:(0,We.jsx)(cc,{className:"h-4 w-4"})}),"sent_to_finance"===e.status&&(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("button",{onClick:()=>S(g.recordId,t,"approved"),className:"text-green-400 hover:text-green-300",title:"Approve",children:(0,We.jsx)(ze,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>S(g.recordId,t,"rejected"),className:"text-red-400 hover:text-red-300",title:"Reject",children:(0,We.jsx)(dc,{className:"h-4 w-4"})})]})]})]})},t))})]})]})]})})]})},pc=()=>{var e,t;const{dealId:n}=ne(),r=te(),{getAuthHeaders:a}=Ke(),[o,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),[p,m]=(0,s.useState)(null),[h,f]=(0,s.useState)(!1),[g,x]=(0,s.useState)({}),[y,b]=(0,s.useState)(!1),v={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{u(!0);const e={...a()};fetch(`${v||""}/api/backoffice/deals/${n}`,{credentials:"include",headers:e}).then(e=>{if(!e.ok)throw new Error("Deal not found");return e.json()}).then(async e=>{const t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],r=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];console.log("[FinanceDealDetails] Deal documents:",n),console.log("[FinanceDealDetails] Vehicle record documents:",r),console.log("[FinanceDealDetails] Deal documents length:",n.length),console.log("[FinanceDealDetails] Vehicle record documents length:",r.length),console.log("[FinanceDealDetails] Deal object structure:",Object.keys(t||{})),console.log("[FinanceDealDetails] Deal documents structure:",null!==t&&void 0!==t&&t.documents?Object.keys(t.documents[0]||{}):"No documents");let a=[...n];new Set(r.map(e=>e.fileName));r.forEach(e=>{a.some(t=>t.fileName===e.fileName)||a.push(e)}),console.log("[FinanceDealDetails] Filtered document list:",a),c(t),l(e=>(0===a.length?console.warn("[FinanceDealDetails] setDocuments called with empty array!"):console.log("[FinanceDealDetails] setDocuments called with:",a),a)),u(!1)}).catch(e=>{m(e.message),u(!1)})},[n]),(0,s.useEffect)(()=>{console.log("[FinanceDealDetails] documents state changed:",o)},[o]);const w=()=>{if(!h){var e,t,n,r,a,s,o,l,c,d,u,p,m,g,y,b,v,w,N,j,k,S,T,D;const h=e=>{if(!e)return"";const{street:t,city:n,state:r,zip:a}=e;return[t,n,r,a].filter(Boolean).join(", ")};x({"seller.name":(null===(e=i.seller)||void 0===e?void 0:e.name)||"","seller.licenseNumber":(null===(t=i.seller)||void 0===t?void 0:t.licenseNumber)||"","seller.contact.phone":(null===(n=i.seller)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.phone)||(null===(a=i.seller)||void 0===a?void 0:a.phone)||"","seller.contact.email":(null===(s=i.seller)||void 0===s||null===(o=s.contact)||void 0===o?void 0:o.email)||(null===(l=i.seller)||void 0===l?void 0:l.email)||"","seller.contact.address":h((null===(c=i.seller)||void 0===c||null===(d=c.contact)||void 0===d?void 0:d.address)||(null===(u=i.seller)||void 0===u?void 0:u.address)),"buyer.name":(null===(p=i.buyer)||void 0===p?void 0:p.name)||"","buyer.company":(null===(m=i.buyer)||void 0===m?void 0:m.company)||"","buyer.licenseNumber":(null===(g=i.buyer)||void 0===g?void 0:g.licenseNumber)||"","buyer.contact.phone":(null===(y=i.buyer)||void 0===y||null===(b=y.contact)||void 0===b?void 0:b.phone)||(null===(v=i.buyer)||void 0===v?void 0:v.phone)||"","buyer.contact.email":(null===(w=i.buyer)||void 0===w||null===(N=w.contact)||void 0===N?void 0:N.email)||(null===(j=i.buyer)||void 0===j?void 0:j.email)||"","buyer.contact.address":h((null===(k=i.buyer)||void 0===k||null===(S=k.contact)||void 0===S?void 0:S.address)||(null===(T=i.buyer)||void 0===T?void 0:T.address)),"buyer.tier":(null===(D=i.buyer)||void 0===D?void 0:D.tier)||"",purchasePrice:i.purchasePrice||"",listPrice:i.listPrice||"",killPrice:i.killPrice||"",mileage:i.mileage||"",color:i.color||"",exteriorColor:i.exteriorColor||"",interiorColor:i.interiorColor||"",rpStockNumber:i.rpStockNumber||"",notes:i.notes||"",generalNotes:i.generalNotes||""})}f(!h)},N=(e,t)=>{x(n=>({...n,[e]:t}))},j=async()=>{b(!0);try{const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",r={...a(),"Content-Type":"application/json"},s={...g,regenerateDocuments:!0},o=await fetch(`${t}/api/backoffice/deals/${n}/update-and-regenerate`,{method:"PUT",credentials:"include",headers:r,body:JSON.stringify(s)});if(!o.ok){let t="Failed to update deal";try{const e=await o.json();t=e.message||JSON.stringify(e)}catch(e){t=o.statusText||t}throw new Error(t)}await o.json();l([]);const i={...a()},d=await fetch(`${t}/api/backoffice/deals/${n}`,{credentials:"include",headers:i});if(d.ok){const e=await d.json(),t=e.deal||e.data||e,n=e.deal&&e.deal.documents?e.deal.documents:[],r=Array.isArray(e.vehicleRecordDocuments)?e.vehicleRecordDocuments:[];let a=[...n];const s=new Set(a.map(e=>e.fileName));r.forEach(e=>{s.has(e.fileName)||a.push(e)}),c(t),l(a)}f(!1),Ht.success("Deal updated and documents regenerated successfully!",{position:"bottom-right"})}catch(p){if(console.error("Error updating deal:",p),p.response)try{const e=await p.response.json();Ht.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+p.message,{position:"bottom-right"})}else if(p instanceof Response)try{const e=await p.json();Ht.error("Error updating deal: "+(e.message||JSON.stringify(e)),{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+p.statusText,{position:"bottom-right"})}else if(p&&p.message&&p.message.startsWith("Failed to update deal"))try{const e=p.response||p;if(e&&e.json){const t=await e.json();Ht.error("Error updating deal: "+(t.message||JSON.stringify(t)),{position:"bottom-right"})}else Ht.error("Error updating deal: "+p.message,{position:"bottom-right"})}catch(e){Ht.error("Error updating deal: "+p.message,{position:"bottom-right"})}else Ht.error("Error updating deal: "+p.message,{position:"bottom-right"})}finally{b(!1)}};return console.log("[FinanceDealDetails] documents state:",o),d?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,We.jsxs)("div",{className:"flex flex-col items-center",children:[(0,We.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,We.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,We.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),(0,We.jsx)("div",{className:"text-white text-lg font-semibold",children:"Loading deal details..."})]})}):p?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center",children:(0,We.jsxs)("div",{className:"flex flex-col items-center",children:[(0,We.jsxs)("svg",{className:"h-10 w-10 text-red-400 mb-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,We.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),(0,We.jsxs)("div",{className:"text-red-400 text-lg font-semibold",children:["Error loading deal: ",p]}),(0,We.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Retry"})]})}):(console.log("[FinanceDealDetails] Rendering documents (from state):",o),(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8 flex flex-col items-center",children:[(0,We.jsx)(Jt,{position:"bottom-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),(0,We.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>r(-1),children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,We.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,We.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Deal Documents"}),(0,We.jsxs)("div",{className:"flex gap-3",children:[(0,We.jsx)("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:h?"Cancel Edit":"Edit Deal"}),"failed"===i.documentGenerationStatus&&(0,We.jsx)("button",{onClick:async()=>{try{u(!0);const e=await fetch(`${v}/api/documents/generate/${n}`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify({dealType2SubType:i.dealType2SubType,dealType2:i.dealType2,sellerType:i.sellerType||"private",buyerType:i.buyerType||"dealer"}),credentials:"include"});if(e.ok){const t=await e.json();Ht.success(`Document generation retry successful! ${t.documentCount||0} document(s) generated.`),window.location.reload()}else{const t=await e.text();Ht.error(`Document generation retry failed: ${t}`)}}catch(p){console.error("Error retrying document generation:",p),Ht.error("Failed to retry document generation")}finally{u(!1)}},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Retry Document Generation"})]})]}),i&&(0,We.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Deal Summary"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Vehicle:"}),(0,We.jsx)("div",{className:"font-semibold",children:i.vehicle})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"VIN:"}),(0,We.jsx)("div",{className:"font-semibold",children:i.vin})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Seller:"}),(0,We.jsx)("div",{className:"font-semibold",children:null===(e=i.seller)||void 0===e?void 0:e.name})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Purchase Price:"}),(0,We.jsxs)("div",{className:"font-semibold",children:["$",null===(t=i.purchasePrice)||void 0===t?void 0:t.toLocaleString()]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Deal Type:"}),(0,We.jsx)("div",{className:"font-semibold",children:i.dealType})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Status:"}),(0,We.jsx)("div",{className:"font-semibold",children:i.currentStage})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300",children:"Document Generation:"}),(0,We.jsx)("div",{className:"font-semibold "+("completed"===i.documentGenerationStatus?"text-green-400":"failed"===i.documentGenerationStatus?"text-red-400":"in_progress"===i.documentGenerationStatus?"text-yellow-400":"text-gray-400"),children:"completed"===i.documentGenerationStatus?"\u2705 Completed":"failed"===i.documentGenerationStatus?"\u274c Failed":"in_progress"===i.documentGenerationStatus?"\u23f3 In Progress":"\u23f3 Pending"})]})]})]}),(()=>{var e;return h?(0,We.jsxs)("div",{className:"bg-white/10 rounded-xl p-6 border border-white/20 mb-8",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Deal Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Seller Information"}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Seller Name"}),(0,We.jsx)("input",{type:"text",value:g["seller.name"]||"",onChange:e=>N("seller.name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Seller name"})]}),"retail-pp"!==(null===i||void 0===i?void 0:i.dealType)&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,We.jsx)("input",{type:"text",value:g["seller.licenseNumber"]||"",onChange:e=>N("seller.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,We.jsx)("input",{type:"tel",value:g["seller.contact.phone"]||"",onChange:e=>N("seller.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,We.jsx)("input",{type:"email",value:g["seller.contact.email"]||"",onChange:e=>N("seller.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,We.jsx)("input",{type:"text",value:g["seller.contact.address"]||"",onChange:e=>N("seller.contact.address",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address (street, city, state, zip)"})]})]}),("wholesale-flip"===(null===i||void 0===i?void 0:i.dealType)||"wholesale-d2d"===(null===i||void 0===i?void 0:i.dealType))&&(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Buyer Information"}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Name"}),(0,We.jsx)("input",{type:"text",value:g["buyer.name"]||"",onChange:e=>N("buyer.name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buyer/dealer name"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),(0,We.jsx)("input",{type:"text",value:g["buyer.company"]||"",onChange:e=>N("buyer.company",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company name"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License Number"}),(0,We.jsx)("input",{type:"text",value:g["buyer.licenseNumber"]||"",onChange:e=>N("buyer.licenseNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dealer license number"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,We.jsx)("input",{type:"tel",value:g["buyer.contact.phone"]||"",onChange:e=>N("buyer.contact.phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,We.jsx)("input",{type:"email",value:g["buyer.contact.email"]||"",onChange:e=>N("buyer.contact.email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,We.jsx)("input",{type:"text",value:g["buyer.contact.address"]||"",onChange:e=>N("buyer.contact.address",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address (street, city, state, zip)"})]}),"string"===typeof(null===i||void 0===i||null===(e=i.buyer)||void 0===e?void 0:e.type)&&"dealer"===i.buyer.type.toLowerCase()&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buyer Tier"}),(0,We.jsxs)("select",{value:g["buyer.tier"]||"",onChange:e=>N("buyer.tier",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"",children:"Select Tier"}),(0,We.jsx)("option",{value:"Tier 1",children:"Tier 1 (Pay Upon Title)"}),(0,We.jsx)("option",{value:"Tier 2",children:"Tier 2 (Pay Prior to Release)"}),(0,We.jsx)("option",{value:"Tier 3",children:"Tier 3"})]})]})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Vehicle Information"}),(0,We.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Purchase Price"}),(0,We.jsx)("input",{type:"number",value:g.purchasePrice||"",onChange:e=>N("purchasePrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"List Price"}),(0,We.jsx)("input",{type:"number",value:g.listPrice||"",onChange:e=>N("listPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Kill Price"}),(0,We.jsx)("input",{type:"number",value:g.killPrice||"",onChange:e=>N("killPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mileage"}),(0,We.jsx)("input",{type:"number",value:g.mileage||"",onChange:e=>N("mileage",parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Color"}),(0,We.jsx)("input",{type:"text",value:g.color||"",onChange:e=>N("color",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Color"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Exterior"}),(0,We.jsx)("input",{type:"text",value:g.exteriorColor||"",onChange:e=>N("exteriorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Exterior color"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interior"}),(0,We.jsx)("input",{type:"text",value:g.interiorColor||"",onChange:e=>N("interiorColor",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Interior color"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock Number"}),(0,We.jsx)("input",{type:"text",value:g.rpStockNumber||"",onChange:e=>N("rpStockNumber",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"RP Stock Number"})]})]})]}),(0,We.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,We.jsx)("button",{onClick:j,disabled:y,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":"Save Changes & Regenerate Documents"}),(0,We.jsx)("button",{onClick:w,disabled:y,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):null})(),(0,We.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"24px",alignItems:"center",marginTop:"32px"},children:0===o.length?(0,We.jsxs)("div",{style:{background:"rgba(255,255,255,0.92)",border:"1px solid #e2e8f0",borderRadius:16,padding:"24px 28px",textAlign:"center",color:"#666"},children:[(0,We.jsx)("h3",{children:"No documents found"}),(0,We.jsx)("p",{children:"Documents will appear here once they are generated or uploaded."})]}):o.map((e,t)=>{const s=e.type||e.documentType||"unknown";return console.log(`[FinanceDealDetails] Rendering document ${t}:`,e),(0,We.jsxs)("div",{style:{minWidth:480,maxWidth:600,width:"100%",background:"rgba(255,255,255,0.92)",border:"1px solid #e2e8f0",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.07)",padding:"24px 28px",margin:"0 auto",transition:"box-shadow 0.2s",fontFamily:"inherit",color:"#222",position:"relative",outline:"none"},onMouseOver:e=>e.currentTarget.style.boxShadow="0 8px 32px 0 rgba(0,0,0,0.13)",onMouseOut:e=>e.currentTarget.style.boxShadow="0 4px 24px 0 rgba(0,0,0,0.07)",children:[(0,We.jsxs)("div",{style:{fontWeight:700,fontSize:16,marginBottom:12,color:"#1a202c",wordBreak:"break-word",lineHeight:"1.4"},children:[(0,We.jsx)("div",{style:{marginBottom:8},children:e.fileName}),(0,We.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["vehicle_record_pdf"===s&&(0,We.jsx)("span",{style:{background:"linear-gradient(90deg, #f6d365 0%, #fda085 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Vehicle Record PDF"}),"retail_pp_buy"===s&&(0,We.jsx)("span",{style:{background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Retail PP Contract"}),"wholesale_pp_buy"===s&&(0,We.jsx)("span",{style:{background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale PP Contract"}),"wholesale_bos"===s&&(0,We.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale BOS"}),"wholesale_purchase_order"===s&&(0,We.jsx)("span",{style:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",color:"#fff",borderRadius:6,padding:"4px 12px",fontSize:12,fontWeight:600,display:"inline-block"},children:"Wholesale Purchase Order"})]})]}),(0,We.jsxs)("div",{style:{fontSize:14,marginBottom:6,wordBreak:"break-word",lineHeight:"1.4"},children:[(0,We.jsx)("b",{children:"Type:"})," ","retail_pp_buy"===s?"Retail Private Party Purchase Contract":"wholesale_pp_buy"===s?"Wholesale Private Party Purchase Contract":"wholesale_bos"===s?"Wholesale Bill of Sale":"vehicle_record_pdf"===s?"Vehicle Record PDF":"bill_of_sale"===s?"Bill of Sale":"wholesale_purchase_order"===s?"Wholesale Purchase Order":"extra_doc"===s?"Additional Document":s]}),(0,We.jsxs)("div",{style:{fontSize:14,marginBottom:16,wordBreak:"break-word"},children:[(0,We.jsx)("b",{children:"Size:"})," ",e.fileSize?`${e.fileSize.toLocaleString()} bytes`:"N/A"]}),(0,We.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[(0,We.jsx)("button",{onClick:()=>(e=>{let t;if(console.log("handleView called with doc:",e),"extra_doc"===e.type){const a=e.documentId||e.type;t=`${v}/api/backoffice/deals/${n}/documents/${a}/download`,console.log("extra_doc view URL:",t);const s=`/deals/${n}/documents/enhanced-view`;console.log("Navigating to:",s),r(s,{state:{viewUrl:t,dealId:n,documentType:e.type}})}else{t=`${v}/api/documents/download/${e.fileName||e.name}`,console.log("generated document view URL:",t);const a=`/deals/${n}/documents/${encodeURIComponent(e.fileName||e.name)}/enhanced-view`;console.log("Navigating to:",a),r(a,{state:{viewUrl:t,dealId:n,documentType:e.type}})}})(e),style:{padding:"10px 22px",background:"linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(79,209,197,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #38b2ac 0%, #319795 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(56,178,172,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #4fd1c5 0%, #38b2ac 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(79,209,197,0.13)"},children:"View"}),(0,We.jsx)("button",{onClick:()=>(async(e,t)=>{try{let n;if("extra_doc"===e.type&&e.documentId)n=`${v}/api/backoffice/deals/${t}/documents/${e.documentId}/download`;else if("extra_doc"===e.type)n=`${v}/api/backoffice/deals/${t}/documents/extra_doc/download`;else{if(!e.fileName)return void Ht.error("Download URL not available for this document");n=`${v}/api/documents/download/${e.fileName||e.name}`}console.log("[FinanceDealDetails] Downloading document:",e.type,n);const r=await fetch(n,{method:"GET",credentials:"include",headers:a()});if(r.ok){const t=await r.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e.fileName||e.name||`${e.type}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a),Ht.success("Document downloaded successfully!")}else if(404===r.status)console.warn("[FinanceDealDetails] Document not found (404):",e.fileName||e.name),Ht.error("Document not found. It may have been deleted or not yet generated.");else{const e=await r.text();console.error("[FinanceDealDetails] Download failed:",r.status,e),Ht.error("Failed to download document")}}catch(p){console.error("[FinanceDealDetails] Error downloading document:",p),Ht.error("Error downloading document")}})(e,n),style:{padding:"10px 22px",background:"linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",color:"#fff",borderRadius:8,fontWeight:600,fontSize:15,border:"none",cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(102,126,234,0.13)",transition:"background 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="linear-gradient(90deg, #5a67d8 0%, #434190 100%)",e.currentTarget.style.boxShadow="0 4px 16px 0 rgba(90,103,216,0.18)"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #667eea 0%, #5a67d8 100%)",e.currentTarget.style.boxShadow="0 2px 8px 0 rgba(102,126,234,0.13)"},children:"Download"})]})]},e.fileName||e.documentNumber||t)})})]})]}))},mc=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),hc=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),fc=()=>{const e=te(),{getAuthHeaders:t}=Ke(),[n,r]=(0,s.useState)(null),[a,o]=(0,s.useState)("all"),[l,i]=(0,s.useState)("all"),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)(null),[m,h]=(0,s.useState)([]),[f,g]=(0,s.useState)(!0),x={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;console.log("[DEBUG][FinanceStatusDashboard] API_BASE at top:",x);const y={wholesale:[{id:"contract_received",label:"Contract Received",description:"Initial paperwork received"},{id:"docs_signed",label:"Docs Signed",description:"All documents signed by parties"},{id:"title_processing",label:"Title Processing",description:"Title documentation in progress"},{id:"payment_approved",label:"Payment Approved",description:"Payment authorization completed"},{id:"funds_disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title_received",label:"Title Received",description:"Clean title in hand"},{id:"deal_complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title_processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection_complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos_complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing_ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed_active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer_contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing_approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery_scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal_complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle_acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport_arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle_arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title_processing",label:"Title Processing",description:"Title documentation"},{id:"inspection_complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready_for_sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal_complete",label:"Deal Complete",description:"Final sale completed"}]};(0,s.useEffect)(()=>{console.log("[DEBUG][FinanceStatusDashboard] API_BASE:",x),b()},[]);const b=async()=>{try{g(!0);const e=`${x}/api/deals`;console.log("[DEBUG][FinanceStatusDashboard] Fetching deals from:",e);const n=await fetch(e,{credentials:"include",headers:t()});if(console.log("[DEBUG][FinanceStatusDashboard] Deal fetch response status:",n.status),!n.ok){const e=await n.text();throw console.error("[DEBUG][FinanceStatusDashboard] Deal fetch failed:",n.status,e),new Error("Failed to fetch deals")}const r=await n.json();console.log("[DEBUG][FinanceStatusDashboard] Deal fetch JSON response:",r);const a=(r.deals||r.data||[]).map(e=>{var t,n,r,a;return{id:e._id||e.id,stockNumber:e.rpStockNumber||e.stockNumber,vin:e.vin,vehicle:`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"contract_received",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||"Unknown",buyerContact:(null===(n=e.buyer)||void 0===n?void 0:n.name)||"Pending",purchasePrice:e.purchasePrice||0,salePrice:e.listPrice||e.salePrice||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.notes||e.generalNotes||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,documentation:{contract:{status:"received",date:e.createdDate},title:{status:"clean"===(null===(r=e.titleInfo)||void 0===r?void 0:r.status)?"received":"pending",date:null===(a=e.titleInfo)||void 0===a?void 0:a.titleReceivedDate},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:e.createdDate}},titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null}});h(a)}catch(e){console.error("[DEBUG][FinanceStatusDashboard] Error fetching deals:",e),h([{id:1,stockNumber:"RP2025001",vin:"SBM14FCA4LW004366",vehicle:"2020 McLaren 720S",dealType:"wholesale",currentStage:"payment_approved",seller:"Ian Hutchinson",buyerContact:"P Gelber",purchasePrice:22e4,salePrice:244995,payoffBalance:226e3,createdDate:"2025-07-11",lastUpdated:"2025-07-11",priority:"high",notes:"Car is here at RP on consignment. All docs printed and turned in to Tammie.",paymentMethod:"Check",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-11"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-11"}},titleInfo:{},wholesalePrice:23e4},{id:2,stockNumber:"RP2025002",vin:"1HGBH41JXMN109186",vehicle:"2019 Ferrari F8 Tributo",dealType:"retail",currentStage:"title_processing",seller:"Midwest Auto Group",buyerContact:"Pending",purchasePrice:285e3,salePrice:315e3,payoffBalance:0,createdDate:"2025-07-10",lastUpdated:"2025-07-11",priority:"medium",notes:"Waiting on title from previous owner. Expected next week.",paymentMethod:"Wire Transfer",requiresContract:!0,documentation:{contract:{status:"received",date:"2025-07-10"},title:{status:"pending",date:null},odometer:{status:"received",date:"2025-07-10"},paymentApproval:{status:"approved",date:"2025-07-10"}},titleInfo:{},wholesalePrice:null},{id:3,stockNumber:"RP2025003",vin:"1G1RC6E3XD0109186",vehicle:"2020 Toyota Camry",dealType:"wholesale-flip",currentStage:"title_processing",seller:"Local Dealer",buyerContact:"Pending",purchasePrice:18e4,salePrice:2e5,payoffBalance:185e3,createdDate:"2025-07-09",lastUpdated:"2025-07-09",priority:"high",notes:"Car is in good condition. Need to verify title and odometer.",paymentMethod:"Cash",requiresContract:!1,documentation:{contract:{status:"received",date:"2025-07-09"},title:{status:"pending",date:null},odometer:{status:"pending",date:null},paymentApproval:{status:"approved",date:"2025-07-09"}},titleInfo:{},wholesalePrice:195e3}])}finally{g(!1)}},v=m.filter(e=>{const t="all"===a||e.currentStage===a,n="all"===l||e.dealType===l,r=""===c||e.vehicle.toLowerCase().includes(c.toLowerCase())||e.stockNumber.toLowerCase().includes(c.toLowerCase())||e.seller.toLowerCase().includes(c.toLowerCase());return t&&n&&r}),w=e=>{var t,n;let{deal:r,onClose:a,onUpdate:o}=e;const[l,i]=(0,s.useState)(r.currentStage),[c,d]=(0,s.useState)(r.notes),[u,p]=(0,s.useState)((null===(t=r.titleInfo)||void 0===t?void 0:t.lienStatus)||"none"),[m,h]=(0,s.useState)(null!==(n=r.titleInfo)&&void 0!==n&&n.lienEta?new Date(r.titleInfo.lienEta).toISOString().split("T")[0]:""),f=y[r.dealType]||y.wholesale;return(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,We.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white",children:"Update Deal Status"}),(0,We.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,We.jsx)(lt,{className:"h-6 w-6"})})]}),(0,We.jsx)("div",{className:"mb-6",children:(0,We.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-white font-medium",children:r.vehicle}),(0,We.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",r.stockNumber]})]}),(0,We.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",r.seller," \u2022 Deal Type: ",r.dealType.charAt(0).toUpperCase()+r.dealType.slice(1)]})]})}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,We.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>{const n=e.id===r.currentStage,a=f.findIndex(e=>e.id===r.currentStage)>t,s=e.id===l;return(0,We.jsx)("div",{onClick:()=>i(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(s?"bg-blue-500/20 border-blue-500/50":a?"bg-green-500/10 border-green-500/30":n?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[a?(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400"}):n?(0,We.jsx)(Re,{className:"h-5 w-5 text-orange-400"}):(0,We.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),s&&(0,We.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,We.jsx)(ze,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),"retail-pp"===r.dealType&&"title_processing"===l&&(0,We.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,We.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,We.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"payoff_requested",children:"Payoff Requested"}),(0,We.jsx)("option",{value:"payoff_received",children:"Payoff Received"}),(0,We.jsx)("option",{value:"lien_release_pending",children:"Release Pending"}),(0,We.jsx)("option",{value:"lien_released",children:"Lien Released"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,We.jsx)(Zi,{value:m?new Date(m):null,onChange:e=>h(e?e.toISOString().split("T")[0]:""),placeholder:"Select lien payoff date..."})]})]})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,We.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,We.jsx)("button",{onClick:a,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:()=>o(r.id,l,c,u,m),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,We.jsx)(ct,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Update Status"})]})]})]})})};return f?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"flex flex-col items-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,We.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsxs)("button",{onClick:()=>e("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(it,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Back"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Finance Deal Status"}),(0,We.jsx)("p",{className:"text-gray-300",children:"Track and update deal progression through the pipeline"})]})]}),(0,We.jsx)("div",{className:"flex items-center space-x-3",children:(0,We.jsxs)("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(mc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Refresh"})]})})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,We.jsx)("input",{type:"text",placeholder:"Search deals...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,We.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Deal Types"}),(0,We.jsx)("option",{value:"wholesale",children:"Wholesale"}),(0,We.jsx)("option",{value:"retail",children:"Retail"}),(0,We.jsx)("option",{value:"auction",children:"Auction"})]}),(0,We.jsxs)("select",{value:a,onChange:e=>o(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Statuses"}),(0,We.jsx)("option",{value:"contract_received",children:"Contract Received"}),(0,We.jsx)("option",{value:"title_processing",children:"Title Processing"}),(0,We.jsx)("option",{value:"payment_approved",children:"Payment Approved"}),(0,We.jsx)("option",{value:"listing_ready",children:"Ready to List"}),(0,We.jsx)("option",{value:"deal_complete",children:"Complete"})]}),(0,We.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,We.jsxs)("span",{className:"ml-2 font-medium",children:[v.length," deals"]})]})]})]}),(0,We.jsx)("div",{className:"space-y-4",children:0===v.length?(0,We.jsx)("div",{className:"text-center py-12",children:(0,We.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,We.jsx)(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):v.map(e=>{var t,n,r,a,o;const l=((e,t)=>{const n=y[e]||y.wholesale;return n.find(e=>e.id===t)||n[0]})(e.dealType,e.currentStage),i=((e,t)=>{const n=y[e]||y.wholesale;return(n.findIndex(e=>e.id===t)+1)/n.length*100})(e.dealType,e.currentStage),c={contract_received:"blue",vehicle_acquired:"blue",title_processing:"orange",payment_approved:"green",inspection_complete:"green",listing_ready:"purple",deal_complete:"green",transport_arranged:"orange",funds_disbursed:"green"}[e.currentStage]||"gray";e.priority;return(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,We.jsx)(_e,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white",children:e.vehicle}),(0,We.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:e.dealType.toUpperCase()})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,We.jsxs)("span",{children:["Stock #",e.stockNumber]}),(0,We.jsx)("span",{children:"\u2022"}),(0,We.jsx)("span",{children:e.seller}),(0,We.jsx)("span",{children:"\u2022"}),(0,We.jsxs)("span",{children:["Created: ",e.createdDate]})]})]})]}),(0,We.jsx)("div",{className:"flex items-center space-x-3",children:(0,We.jsxs)("button",{onClick:()=>p(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(hc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Update Status"})]})})]}),(0,We.jsxs)("div",{className:"mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`bg-${c}-500/20 text-${c}-400 text-xs font-medium px-2 py-1 rounded-full`,children:l.label}),(0,We.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(i),"% Complete"]})]})]}),(0,We.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,We.jsx)("div",{className:`bg-gradient-to-r from-${c}-500 to-${c}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${i}%`}})})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price"}),(0,We.jsx)(Pe,{className:"h-4 w-4 text-green-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.purchasePrice.toLocaleString()]})]}),"wholesale-flip"===e.dealType?(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Wholesale Price"}),(0,We.jsx)(Be,{className:"h-4 w-4 text-blue-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(t=e.wholesalePrice)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}):(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price"}),(0,We.jsx)(Be,{className:"h-4 w-4 text-blue-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",e.salePrice.toLocaleString()]})]})]}),(0,We.jsxs)("div",{className:"mb-4",children:[(0,We.jsx)("h4",{className:"text-white font-medium mb-3",children:"Documentation Status"}),(0,We.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(e.documentation).map(e=>{let[t,n]=e;return(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:["received"===n.status||"approved"===n.status?(0,We.jsx)(ze,{className:"h-4 w-4 text-green-400"}):"pending"===n.status?(0,We.jsx)(Re,{className:"h-4 w-4 text-orange-400"}):(0,We.jsx)(dc,{className:"h-4 w-4 text-red-400"}),(0,We.jsx)("span",{className:"text-gray-300 text-sm capitalize",children:t.replace("_"," ")})]},t)})})]}),"retail-pp"===e.dealType&&"title_processing"===e.currentStage&&(0,We.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-4",children:[(0,We.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Lien on Title"]}),(0,We.jsx)("div",{className:"flex items-center justify-between mb-4 mt-2",children:["payoff_requested","payoff_received","lien_release_pending","lien_released"].map((t,n,r)=>{var a,o;const l=(null===(a=e.titleInfo)||void 0===a?void 0:a.lienStatus)===t,i=r.indexOf(null===(o=e.titleInfo)||void 0===o?void 0:o.lienStatus)>n;return(0,We.jsxs)(s.Fragment,{children:[(0,We.jsxs)("div",{className:"flex flex-col items-center",children:[(0,We.jsx)("div",{className:"rounded-full w-7 h-7 flex items-center justify-center font-bold text-sm mb-1 transition-all duration-200 "+(l?"bg-blue-500 text-white shadow-lg scale-110":i?"bg-green-400 text-white":"bg-gray-400 text-white/70"),children:n+1}),(0,We.jsx)("span",{className:"text-xs font-medium "+(l?"text-blue-400":i?"text-green-400":"text-gray-400"),children:{payoff_requested:"Payoff Requested",payoff_received:"Payoff Received",lien_release_pending:"Release Pending",lien_released:"Lien Released"}[t]})]}),n<r.length-1&&(0,We.jsx)("div",{className:"flex-1 h-1 mx-1 md:mx-2 rounded-full "+(i?"bg-green-400":l?"bg-blue-400":"bg-gray-400/40")})]},t)})}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Holder"}),(0,We.jsx)("div",{className:"text-white font-bold text-base",children:(null===(n=e.titleInfo)||void 0===n?void 0:n.lienHolder)||"None"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,We.jsx)("div",{className:"text-white font-bold text-base capitalize",children:(null===(r=e.titleInfo)||void 0===r||null===(a=r.lienStatus)||void 0===a?void 0:a.replace(/_/g," "))||"None"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"ETA to Lien Release"}),(0,We.jsx)("div",{className:"text-white font-bold text-base",children:null!==(o=e.titleInfo)&&void 0!==o&&o.lienEta?new Date(e.titleInfo.lienEta).toLocaleDateString():"TBD"})]})]})]}),e.notes&&(0,We.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,We.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,We.jsx)(Je,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,We.jsx)("p",{className:"text-orange-300 text-sm",children:e.notes})]})})]},e.id)})}),u&&(0,We.jsx)(w,{deal:u,onClose:()=>p(null),onUpdate:async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;try{const o=`${x}/api/deals/${e}`;console.log("[DEBUG][FinanceStatusDashboard] Updating deal status via:",o);const l=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({currentStage:n,notes:r,updatedAt:new Date,...a&&"title_processing"===n?{lienStatus:a}:{},...s&&"title_processing"===n?{lienEta:s}:{}}),credentials:"include"});if(console.log("[DEBUG][FinanceStatusDashboard] Update deal status response status:",l.status),!l.ok){const e=await l.text();throw console.error("[DEBUG][FinanceStatusDashboard] Update deal status failed:",l.status,e),new Error("Failed to update deal status")}h(m.map(t=>{var o,l;return t.id===e?{...t,currentStage:n,lastUpdated:(new Date).toISOString().split("T")[0],notes:r||t.notes,titleInfo:{...t.titleInfo,lienStatus:a||(null===(o=t.titleInfo)||void 0===o?void 0:o.lienStatus),lienEta:s||(null===(l=t.titleInfo)||void 0===l?void 0:l.lienEta)}}:t})),p(null)}catch(o){console.error("[DEBUG][FinanceStatusDashboard] Error updating deal status:",o),alert("Failed to update deal status. Please try again.")}}})]})]})},gc=()=>{var e;const{fileName:t}=ne(),n=te(),r=Z(),{getAuthHeaders:a,token:o,user:l}=Ke(),[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!0),[p,m]=(0,s.useState)(null),h={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",f=(null===(e=r.state)||void 0===e?void 0:e.viewUrl)||`${h}/api/documents/download/${encodeURIComponent(t||"document")}`,g=t||"Document";(0,s.useEffect)(()=>{(async()=>{if(!t)return console.error("[PDFViewer] No fileName provided"),void m("No document specified");try{u(!0),m(null),console.log("[PDFViewer] Auth headers:",a()),console.log("[PDFViewer] Full token:",o),console.log("[PDFViewer] Fetching PDF from:",f);const e=await fetch(f,{method:"GET",credentials:"include",headers:a()});if(console.log("[PDFViewer] Request headers:",a()),console.log("[PDFViewer] Request URL:",f),console.log("[PDFViewer] Request method:","GET"),console.log("[PDFViewer] Request credentials:","include"),console.log("[PDFViewer] Response status:",e.status),console.log("[PDFViewer] Response headers:",e.headers),e.ok){const t=await e.blob(),n=URL.createObjectURL(t);c(n)}else if(404===e.status)console.warn("[PDFViewer] Document not found (404):",t),m("Document not found. It may have been deleted or not yet generated.");else{const t=await e.text();console.error("[PDFViewer] Response error text:",t),m(`Failed to load PDF: ${e.status} ${e.statusText}`)}}catch(p){console.error("[PDFViewer] Error loading PDF:",p),m(`Error loading PDF: ${p.message}`)}finally{u(!1)}})()},[t,f,a,o,l]);return d?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"text-white text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,We.jsx)("p",{children:"Loading PDF..."})]})}):p?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"text-red-400 text-center",children:[(0,We.jsxs)("p",{children:["Error loading PDF: ",p]}),(0,We.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>n(-1),children:"Go Back"})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:[(0,We.jsxs)("button",{className:"mb-6 flex items-center text-blue-400 hover:text-blue-300 font-medium self-start",onClick:()=>n(-1),children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,We.jsx)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",children:(0,We.jsx)("iframe",{src:i,title:g,className:"w-full h-full border-0",onError:()=>{console.error("[PDFViewer] Iframe failed to load:",i)}})})]})},xc=()=>{var e,t,n;const{fileName:r}=ne(),a=te(),o=Z(),{getAuthHeaders:l,token:i,user:c}=Ke(),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(!0),[h,f]=(0,s.useState)(null),[g,x]=(0,s.useState)(!1),[y,b]=(0,s.useState)(1),[v,w]=(0,s.useState)(null),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)(""),[T,D]=(0,s.useState)("draw"),[E,C]=(0,s.useState)({intentToSign:!1,electronicBusiness:!1}),[_,P]=(0,s.useState)(!1),[A,R]=(0,s.useState)(""),L=(0,s.useRef)(null),M=(0,s.useRef)(!1),O={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",I=(null===(e=o.state)||void 0===e?void 0:e.viewUrl)||`${O}/api/documents/download/${encodeURIComponent(r||"document")}`,F=r||"Document",U=null===(t=o.state)||void 0===t?void 0:t.dealId,B=null===(n=o.state)||void 0===n?void 0:n.documentType;(0,s.useEffect)(()=>{(async()=>{if(!r)return console.error("[EnhancedPDFViewer] No fileName provided"),void f("No document specified");try{m(!0),f(null);const e=await fetch(I,{method:"GET",credentials:"include",headers:l()});if(e.ok){const t=await e.blob(),n=URL.createObjectURL(t);u(n)}else if(404===e.status)f("Document not found. It may have been deleted or not yet generated.");else{await e.text();f(`Failed to load PDF: ${e.status} ${e.statusText}`)}}catch(h){console.error("[EnhancedPDFViewer] Error loading PDF:",h),f(`Error loading PDF: ${h.message}`)}finally{m(!1)}})()},[r,I,l,i,c]),(0,s.useEffect)(()=>{if(!L.current)return;const e=L.current,t=e.getContext("2d"),n=n=>{M.current=!0;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.beginPath(),t.moveTo(a,s)},r=n=>{if(!M.current)return;const r=e.getBoundingClientRect(),a=n.clientX-r.left,s=n.clientY-r.top;t.lineTo(a,s),t.stroke()},a=()=>{M.current=!1};return e.addEventListener("mousedown",n),e.addEventListener("mousemove",r),e.addEventListener("mouseup",a),()=>{e.removeEventListener("mousedown",n),e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",a)}},[g]);const H=()=>{if(L.current){const e=L.current;e.getContext("2d").clearRect(0,0,e.width,e.height)}j(null),S("")};return p?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"text-white text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,We.jsx)("p",{children:"Loading PDF..."})]})}):h?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"text-red-400 text-center",children:[(0,We.jsxs)("p",{children:["Error loading PDF: ",h]}),(0,We.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>a(-1),children:"Go Back"})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:[(0,We.jsxs)("div",{className:"w-full max-w-5xl flex justify-between items-center mb-6",children:[(0,We.jsxs)("button",{className:"flex items-center text-blue-400 hover:text-blue-300 font-medium",onClick:()=>a(-1),children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),"finance"===(null===c||void 0===c?void 0:c.role)&&(0,We.jsxs)("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center",children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Sign Document"]})]}),(0,We.jsx)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",children:(0,We.jsx)("iframe",{src:d,title:F,className:"w-full h-full border-0",onError:()=>{console.error("[EnhancedPDFViewer] Iframe failed to load:",d)}})}),g&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,We.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,We.jsxs)("div",{className:"p-6",children:[(0,We.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign Document"}),(0,We.jsx)("button",{onClick:()=>{x(!1),b(1),H()},className:"text-gray-500 hover:text-gray-700",children:(0,We.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),1===y&&(0,We.jsxs)("div",{className:"space-y-6",children:["finance"!==(null===c||void 0===c?void 0:c.role)&&(0,We.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Legal Consent"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("label",{className:"flex items-start",children:[(0,We.jsx)("input",{type:"checkbox",checked:E.intentToSign,onChange:e=>C({...E,intentToSign:e.target.checked}),className:"mt-1 mr-3"}),(0,We.jsx)("span",{className:"text-sm text-blue-800",children:"I intend to sign this document electronically and agree that my electronic signature is the legal equivalent of my manual/handwritten signature."})]}),(0,We.jsxs)("label",{className:"flex items-start",children:[(0,We.jsx)("input",{type:"checkbox",checked:E.electronicBusiness,onChange:e=>C({...E,electronicBusiness:e.target.checked}),className:"mt-1 mr-3"}),(0,We.jsx)("span",{className:"text-sm text-blue-800",children:"I consent to conduct business electronically and agree that electronic signatures are legally binding."})]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Choose Signature Method"}),(0,We.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,We.jsx)("button",{onClick:()=>D("draw"),className:"px-4 py-2 rounded-lg border "+("draw"===T?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Draw Signature"}),(0,We.jsx)("button",{onClick:()=>D("type"),className:"px-4 py-2 rounded-lg border "+("type"===T?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"),children:"Type Signature"})]}),"draw"===T&&(0,We.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg p-4",children:[(0,We.jsx)("canvas",{ref:L,width:400,height:100,className:"border border-gray-300 rounded cursor-crosshair",style:{backgroundColor:"white"}}),(0,We.jsx)("button",{onClick:H,className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Clear Signature"})]}),"type"===T&&(0,We.jsx)("div",{children:(0,We.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Type your signature here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,We.jsx)("button",{onClick:async()=>{const e="finance"===(null===c||void 0===c?void 0:c.role);if(e||E.intentToSign&&E.electronicBusiness)if((()=>{if("draw"===T&&L.current){const e=L.current.toDataURL();j(e)}else if("type"===T&&k.trim()){const e=document.createElement("canvas"),t=e.getContext("2d");e.width=400,e.height=100,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#1a1a1a",t.font='bold 36px "Brush Script MT", "Lucida Handwriting", "Comic Sans MS", cursive',t.textAlign="center",t.textBaseline="middle";const n=k.trim(),r=e.width/2,a=e.height/2;t.save(),t.translate(r,a),t.rotate(-.02),t.fillText(n,0,0),t.restore(),j(e.toDataURL())}})(),N)try{m(!0);const t={ipAddress:await fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>e.ip).catch(()=>"unknown"),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language},n=await fetch(`${O}/api/signatures`,{method:"POST",headers:{...l(),"Content-Type":"application/json"},body:JSON.stringify({dealId:U,documentType:B,fileName:r,signerType:"finance",signerName:(null===c||void 0===c?void 0:c.firstName)+" "+(null===c||void 0===c?void 0:c.lastName),signerEmail:null===c||void 0===c?void 0:c.email,signatureImage:N,consent:{intentToSign:!!e||E.intentToSign,electronicBusiness:!!e||E.electronicBusiness,timestamp:(new Date).toISOString()},auditTrail:{ipAddress:t.ipAddress,userAgent:t.userAgent,screenResolution:t.screenResolution,timezone:t.timezone,language:t.language,sessionId:sessionStorage.getItem("sessionId")||"unknown",documentUrl:I,signatureMethod:T}}),credentials:"include"});if(n.ok){const e=await n.json();w(e),b(2),Ht.success("Document signed successfully! \u2705 Legal compliance verified")}else{const e=await n.text();Ht.error(`Failed to sign document: ${e}`)}}catch(h){console.error("Error signing document:",h),Ht.error("Failed to sign document")}finally{m(!1)}else Ht.error("Please provide a signature");else Ht.error("Please check both consent boxes to proceed")},disabled:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:p?"Signing...":"Sign Document"})]}),2===y&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("svg",{className:"h-6 w-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,We.jsx)("span",{className:"text-green-800 font-semibold",children:"Document signed successfully!"})]})}),(0,We.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Download Signed Document"}),(0,We.jsx)("p",{className:"text-sm text-blue-800 mb-4",children:"Your signature has been placed on the document. Download the signed version below."}),(0,We.jsxs)("button",{onClick:()=>window.open(`${O}/api/signatures/${v._id}/download`,"_blank"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold flex items-center justify-center",children:[(0,We.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Signed PDF"]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Send to Client for Signature"}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Email Address"}),(0,We.jsx)("input",{type:"email",value:A,onChange:e=>R(e.target.value),placeholder:"client@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,We.jsx)("button",{onClick:async()=>{if(A.trim())try{P(!0);const e=await fetch(`${O}/api/signatures/${v._id}/send-to-client`,{method:"POST",headers:{...l(),"Content-Type":"application/json"},body:JSON.stringify({clientEmail:A.trim(),documentUrl:I,dealId:U,documentType:B}),credentials:"include"});if(e.ok)Ht.success("Document sent to client for signature!"),x(!1),b(1),R("");else{const t=await e.text();Ht.error(`Failed to send to client: ${t}`)}}catch(h){console.error("Error sending to client:",h),Ht.error("Failed to send document to client")}finally{P(!1)}else Ht.error("Please enter client email address")},disabled:_||!A.trim(),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:_?"Sending...":"Send to Client"})]})]})]})]})})})]})},yc={wholesale:[{id:"contract-received",label:"Contract Received",description:"Initial paperwork received"},{id:"docs-signed",label:"Docs Signed",description:"All documents signed by parties"},{id:"title-processing",label:"Title Processing",description:"Title documentation in progress"},{id:"funds-disbursed",label:"Funds Disbursed",description:"Payment sent to seller"},{id:"title-received",label:"Title Received",description:"Clean title in hand"},{id:"deal-complete",label:"Deal Complete",description:"All documentation finalized"}],retail:[{id:"vehicle-acquired",label:"Vehicle Acquired",description:"Vehicle purchased and in inventory"},{id:"title-processing",label:"Title Processing",description:"Title work in progress"},{id:"inspection-complete",label:"Inspection Complete",description:"Vehicle inspection finalized"},{id:"photos-complete",label:"Photos Complete",description:"Professional photos taken"},{id:"listing-ready",label:"Ready to List",description:"Vehicle ready for sale"},{id:"listed-active",label:"Listed & Active",description:"Vehicle actively marketed"},{id:"buyer-contract",label:"Buyer Contract",description:"Sale contract executed"},{id:"financing-approved",label:"Financing Approved",description:"Buyer financing completed"},{id:"delivery-scheduled",label:"Delivery Scheduled",description:"Delivery appointment set"},{id:"deal-complete",label:"Deal Complete",description:"Vehicle delivered, payment received"}],auction:[{id:"vehicle-acquired",label:"Vehicle Acquired",description:"Won at auction"},{id:"transport-arranged",label:"Transport Arranged",description:"Shipping scheduled"},{id:"vehicle-arrived",label:"Vehicle Arrived",description:"Vehicle delivered to RP"},{id:"title-processing",label:"Title Processing",description:"Title documentation"},{id:"inspection-complete",label:"Inspection Complete",description:"Condition verified"},{id:"ready-for-sale",label:"Ready for Sale",description:"Ready to list or wholesale"},{id:"deal-complete",label:"Deal Complete",description:"Final sale completed"}]};function bc(){var e,t,n,r;const{dealId:a}=ne(),o=te(),{getAuthHeaders:l}=Ke(),[i,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[h,f]=(0,s.useState)("none"),[g,x]=(0,s.useState)(""),[y,b]=(0,s.useState)(!0),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),k={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;(0,s.useEffect)(()=>{!async function(){b(!0);try{var e,t;const n={...l()},r=await fetch(`${k}/api/backOffice/deals/${a}`,{credentials:"include",headers:n});if(!r.ok)throw new Error("Deal not found");const s=await r.json(),o=s.deal||s.data||s;c(o),u(o.currentStage||"contract-received"),m(o.notes||o.generalNotes||""),f((null===(e=o.titleInfo)||void 0===e?void 0:e.lienStatus)||"none"),x(null!==(t=o.titleInfo)&&void 0!==t&&t.lienEta?new Date(o.titleInfo.lienEta).toISOString().split("T")[0]:"")}catch(n){j(n.message)}finally{b(!1)}}()},[a]);if(y||v)return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:v?"Updating Deal Status":"Loading Deal Information"}),(0,We.jsx)("p",{className:"text-gray-400",children:v?"Please wait while we update the deal status...":"Please wait while we load the deal details..."}),v&&(0,We.jsx)("div",{className:"mt-4",children:(0,We.jsx)("div",{className:"bg-gray-800 rounded-full h-2 overflow-hidden",children:(0,We.jsx)("div",{className:"bg-blue-500 h-2 rounded-full animate-pulse",style:{width:"60%"}})})})]})});if(N)return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"bg-gray-900 border border-red-500/20 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,We.jsx)("div",{className:"text-red-500 mb-4",children:(0,We.jsx)(lt,{className:"h-12 w-12 mx-auto"})}),(0,We.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Error Loading Deal"}),(0,We.jsx)("p",{className:"text-red-400 mb-4",children:N}),(0,We.jsx)("button",{onClick:()=>o("/finance/deals"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Deals"})]})});if(!i)return null;console.log("[UpdateStatusPage] deal.seller:",i.seller),console.log("[UpdateStatusPage] deal.seller?.type:",null===(e=i.seller)||void 0===e?void 0:e.type);const S=yc[i.dealType]||yc.wholesale;return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col items-center justify-center p-8",children:(0,We.jsxs)("div",{className:"bg-gray-900 border border-white/20 rounded-2xl p-8 max-w-2xl w-full",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Update Deal Status"}),(0,We.jsx)("button",{onClick:()=>o("/finance/deals"),className:"text-gray-400 hover:text-white transition-colors",children:(0,We.jsx)(lt,{className:"h-6 w-6"})})]}),(0,We.jsxs)("div",{className:"mb-6 bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-white font-medium",children:i.vehicle||`${i.year} ${i.make} ${i.model}`}),(0,We.jsxs)("span",{className:"text-gray-400 text-sm",children:["Stock #",i.rpStockNumber||i.stockNumber||"N/A"]})]}),(0,We.jsxs)("div",{className:"text-gray-300 text-sm",children:["Seller: ",(null===(t=i.seller)||void 0===t?void 0:t.name)||i.seller||"Unknown"," \u2022 Deal Type: ",null===(n=i.dealType)||void 0===n?void 0:n.replace("-"," ").toUpperCase()]})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-white font-medium mb-3",children:"Current Progress"}),(0,We.jsx)("div",{className:"space-y-3",children:S.map((e,t)=>{const n=e.id===d,r=n,a=S.findIndex(e=>e.id===d)>t;return(0,We.jsx)("div",{onClick:()=>u(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(n?"bg-blue-500/20 border-blue-500/50":a?"bg-green-500/10 border-green-500/30":e.id===i.currentStage?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[a?(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400"}):r?(0,We.jsx)(Re,{className:"h-5 w-5 text-blue-400"}):e.id===i.currentStage?(0,We.jsx)(Re,{className:"h-5 w-5 text-orange-400"}):(0,We.jsx)("div",{className:"h-5 w-5 rounded-full border border-gray-500"}),(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),n&&(0,We.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,We.jsx)(ze,{className:"h-4 w-4 text-white"})})]})},e.id)})})]}),("retail-pp"===i.dealType&&"buy"===i.dealType2SubType&&"title-processing"===d||"wholesale-flip"===i.dealType&&"private"===(null===(r=i.seller)||void 0===r?void 0:r.type)&&"title-processing"===d)&&(0,We.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,We.jsxs)("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[(0,We.jsx)(Ce,{className:"h-4 w-4 mr-2 text-blue-400"}),"Title Lien Status"]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Status"}),(0,We.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"none",children:"No Lien"}),(0,We.jsx)("option",{value:"lien_on_title",children:"Lien on Title"})]})]}),"lien_on_title"===h&&(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:"text-gray-300 text-sm",children:"Lien Payoff Completion ETA"}),(0,We.jsx)(Zi,{value:g?new Date(g):null,onChange:e=>x(e?e.toISOString():""),placeholder:"Select lien payoff date..."})]})]})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-white font-medium mb-3",children:"Update Notes"}),(0,We.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add notes about this status update..."})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,We.jsx)("button",{onClick:()=>o("/finance/deals"),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:async()=>{w(!0);try{const e={...l(),"Content-Type":"application/json"};if(!(await fetch(`${k}/api/backOffice/deals/${a}/stage`,{method:"PUT",headers:e,body:JSON.stringify({stage:d,notes:p,..."retail-pp"===i.dealType&&"buy"===i.dealType2SubType&&"title-processing"===d?{lienStatus:h,lienEta:g}:{}})})).ok)throw new Error("Failed to update deal status");o("/finance/deals")}catch(e){j(e.message)}finally{w(!1)}},disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[(0,We.jsx)(ct,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:v?"Saving...":"Update Status"})]})]})]})})}const vc=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),wc=Ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Nc={"contract-received":"Initial Contact","docs-signed":"Docs Signed","title-processing":"Title Processing","payment-approved":"Finance Review","funds-disbursed":"Funds Disbursed","title-received":"Title Received","deal-complete":"Completion"},jc=["contract-received","docs-signed","title-processing","payment-approved","funds-disbursed","title-received","deal-complete"],kc={buy:"Buy",sale:"Sale","buy-sell":"Buy/Sell","consign-a":"Consign-A","consign-b":"Consign-B","consign-c":"Consign-C","consign-rdnc":"Consign-RDNC"},Sc=()=>{console.log("DealStatusPage rendered");const{getAuthHeaders:e}=Ke(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(null),[i,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("all"),[p,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(!0),[g,x]=(0,s.useState)(null),y=te(),[b,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[j,k]=(0,s.useState)([]),[S,T]=(0,s.useState)([]),D={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app";(0,s.useEffect)(()=>{let e;return console.log("[DEBUG][DealStatusPage] useEffect running"),console.log("[DEBUG][DealStatusPage] API_BASE:",D),E(),h&&(e=setInterval(()=>{E(),x(new Date)},1e4)),()=>{e&&clearInterval(e)}},[h]),(0,s.useEffect)(()=>{const e=setInterval(()=>{const e=new Date(Date.now()-3e5);T(t=>t.filter(t=>t.timestamp>e))},6e4);return()=>clearInterval(e)},[]);const E=async()=>{try{a(!0);const t=`${D}/api/sales/deals`;console.log("[DEBUG][DealStatusPage] Fetching sales deals from:",t),console.log("[DEBUG][DealStatusPage] API_BASE:",D),console.log("[DEBUG][DealStatusPage] Auth headers:",e());const r=await fetch(t,{credentials:"include",headers:e()});if(console.log("[DEBUG][DealStatusPage] Deal fetch response status:",r.status),console.log("[DEBUG][DealStatusPage] Response headers:",r.headers),r.ok){const e=await r.json();console.log("[DEBUG][DealStatusPage] Deal fetch JSON response:",e),console.log("[DEBUG][DealStatusPage] Response data type:",typeof e),console.log("[DEBUG][DealStatusPage] Response data keys:",Object.keys(e)),console.log("[DEBUG][DealStatusPage] Full response data:",JSON.stringify(e,null,2));const t=e.deals||e.data||[];console.log("[DEBUG][DealStatusPage] Deals data length:",t.length),console.log("[DEBUG][DealStatusPage] Deals data type:",typeof t),console.log("[DEBUG][DealStatusPage] Deals data:",t),0===t.length&&(console.warn("[DEBUG][DealStatusPage] No deals found in response data"),console.warn("[DEBUG][DealStatusPage] Full response data:",e),console.warn("[DEBUG][DealStatusPage] Trying to find deals in different response structures..."),console.warn("[DEBUG][DealStatusPage] data.deals:",e.deals),console.warn("[DEBUG][DealStatusPage] data.data:",e.data),console.warn("[DEBUG][DealStatusPage] data.salesDeals:",e.salesDeals),console.warn("[DEBUG][DealStatusPage] data.results:",e.results),console.warn("[DEBUG][DealStatusPage] Array.isArray(data):",Array.isArray(e)),Array.isArray(e)&&console.warn("[DEBUG][DealStatusPage] data is an array with length:",e.length));const a=t.map(e=>{var t,n,r,a,s,o,l,i;return console.log("[DEBUG][DealStatusPage] Processing deal:",e._id,e.vehicle),{id:e._id||e.id,stockNumber:e.stockNumber||e.rpStockNumber,vin:e.vin,vehicle:e.vehicle||`${e.year||""} ${e.make||""} ${e.model||""}`.trim(),dealType:e.dealType||"wholesale",currentStage:e.currentStage||"contract-received",seller:(null===(t=e.seller)||void 0===t?void 0:t.name)||(null===(n=e.customer)||void 0===n?void 0:n.name)||"Unknown",buyerContact:(null===(r=e.buyer)||void 0===r?void 0:r.name)||(null===(a=e.customer)||void 0===a?void 0:a.name)||"Pending",purchasePrice:e.purchasePrice||(null===(s=e.financial)||void 0===s?void 0:s.purchasePrice)||0,salePrice:e.listPrice||e.salePrice||(null===(o=e.financial)||void 0===o?void 0:o.listPrice)||0,payoffBalance:e.payoffBalance||0,createdDate:new Date(e.purchaseDate||(null===(l=e.timeline)||void 0===l?void 0:l.purchaseDate)||e.createdAt||e.createdDate).toISOString().split("T")[0],lastUpdated:new Date(e.updatedAt||e.lastUpdated).toISOString().split("T")[0],priority:e.priority||"medium",notes:e.generalNotes||e.notes||(null===(i=e.customer)||void 0===i?void 0:i.notes)||"",paymentMethod:e.paymentMethod||"Check",requiresContract:!0,titleInfo:e.titleInfo||{},wholesalePrice:e.wholesalePrice||null,dealType2SubType:e.dealType2SubType||"",salesPerson:e.salesPerson||{id:e.salesperson||null,name:e.salesperson||"Unknown",email:""},calculatedMetrics:e.calculatedMetrics||{daysInCurrentStage:0,estimatedCompletion:new Date,progressPercentage:0,timelineStatus:"on-track"}}});if(console.log("[DEBUG][DealStatusPage] Transformed deals:",a),console.log("[DEBUG][DealStatusPage] Setting deals state with length:",a.length),j.length>0){const e=[];a.forEach(t=>{const n=j.find(e=>e.id===t.id);n&&n.currentStage!==t.currentStage&&e.push({dealId:t.id,vehicle:t.vehicle,oldStage:n.currentStage,newStage:t.currentStage,timestamp:new Date})}),e.length>0&&(T(e),console.log("[DEBUG][DealStatusPage] Status changes detected:",e),e.forEach(e=>{Ht.info(`Status updated: ${e.vehicle} - ${e.oldStage} \u2192 ${e.newStage}`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}))}n(a),k(a)}else{const e=await r.text();console.error("[DEBUG][DealStatusPage] Deal fetch failed:",r.status,e)}}catch(t){console.error("[DEBUG][DealStatusPage] Error fetching deals:",t)}finally{a(!1)}},C=e=>{N(e.target.value)},_=()=>{v(null),N("")},P=e=>({id:e,label:Nc[e]||e,description:{"contract-received":"Deal created and initial contact made","docs-signed":"Documents have been signed by all parties","title-processing":"Title is being processed and transferred","payment-approved":"Financial terms and approval process","funds-disbursed":"Funds have been disbursed","title-received":"Title has been received","deal-complete":"Deal finalized and closed"}[e]||""}),A=t.filter(e=>{var t,n,r,a;const s=""===p||(null===(t=e.vehicle)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(n=e.stockNumber)||void 0===n?void 0:n.toLowerCase().includes(p.toLowerCase()))||(null===(r=e.vin)||void 0===r?void 0:r.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.seller)||void 0===a?void 0:a.toLowerCase().includes(p.toLowerCase())),o="all"===i||e.currentStage===i,l="all"===d||e.dealType===d;return s&&o&&l});return console.log("[DEBUG][DealStatusPage] Current deals state length:",t.length),console.log("[DEBUG][DealStatusPage] Filtered deals length:",A.length),console.log("[DEBUG][DealStatusPage] Search term:",p),console.log("[DEBUG][DealStatusPage] Filter status:",i),console.log("[DEBUG][DealStatusPage] Filter deal type:",d),r?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"flex flex-col items-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,We.jsx)("p",{className:"text-white text-lg",children:"Loading deals..."})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsxs)("button",{onClick:()=>y("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(it,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Back"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sales Deal Status"}),(0,We.jsx)("p",{className:"text-gray-300",children:"Track and monitor your deals through the sales pipeline - Directly synced with Finance status"})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("input",{type:"checkbox",id:"autoRefresh",checked:h,onChange:e=>f(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("label",{htmlFor:"autoRefresh",className:"text-gray-300 text-sm",children:"Auto-refresh"})]}),g&&(0,We.jsxs)("div",{className:"text-gray-400 text-sm",children:["Last sync: ",g.toLocaleTimeString()]}),(0,We.jsxs)("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",disabled:r,children:[(0,We.jsx)(mc,{className:"h-4 w-4 "+(r?"animate-spin":"")}),(0,We.jsx)("span",{children:r?"Refreshing...":"Refresh"})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,We.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,We.jsx)("span",{children:"Real-time updates"})]})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,We.jsx)("input",{type:"text",placeholder:"Search deals...",value:p,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,We.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Deal Types"}),(0,We.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,We.jsx)("option",{value:"retail",children:"Retail"}),(0,We.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,We.jsx)("option",{value:"retail-d2d",children:"Retail D2D"})]}),(0,We.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,We.jsx)("option",{value:"all",children:"All Statuses"}),(0,We.jsx)("option",{value:"contract-received",children:"Initial Contact"}),(0,We.jsx)("option",{value:"docs-signed",children:"Docs Signed"}),(0,We.jsx)("option",{value:"title-processing",children:"Title Processing"}),(0,We.jsx)("option",{value:"payment-approved",children:"Finance Review"}),(0,We.jsx)("option",{value:"funds-disbursed",children:"Funds Disbursed"}),(0,We.jsx)("option",{value:"title-received",children:"Title Received"}),(0,We.jsx)("option",{value:"deal-complete",children:"Complete"})]}),(0,We.jsxs)("div",{className:"text-white text-sm flex items-center",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Showing:"}),(0,We.jsxs)("span",{className:"ml-2 font-medium",children:[A.length," deals"]})]})]})]}),(0,We.jsx)("div",{className:"space-y-4",children:0===A.length?(0,We.jsx)("div",{className:"text-center py-12",children:(0,We.jsxs)("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10",children:[(0,We.jsx)(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No deals found"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters or search terms."})]})}):A.map(r=>{var a,s,i,c;const d=P(r.currentStage),u=(e=>{const t=jc.indexOf(e);return t>=0?Math.round(t/(jc.length-1)*100):0})(r.currentStage),p=(e=>{switch(e){case"deal-complete":return"green";case"payment-approved":case"funds-disbursed":case"title-received":case"title-processing":return"blue";case"contract-received":case"docs-signed":return"yellow";default:return"gray"}})(r.currentStage),m=(e=>{switch(e){case"high":return"text-red-400";case"medium":return"text-orange-400";case"low":return"text-green-400";default:return"text-gray-400"}})(r.priority);return(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all duration-300",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3",children:(0,We.jsx)(_e,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,We.jsx)("h3",{className:"text-xl font-bold text-white",children:r.vehicle}),(0,We.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:r.dealType.toUpperCase()}),r.dealType2SubType&&"wholesale-flip"!==r.dealType&&(0,We.jsx)("span",{className:"bg-gray-500/20 text-gray-400 text-xs font-medium px-2 py-1 rounded-full",children:kc[r.dealType2SubType]||r.dealType2SubType}),(0,We.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,We.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",title:"In sync with finance system"}),(0,We.jsx)("span",{className:"text-green-400 text-xs",children:"Synced with Finance"})]}),S.some(e=>e.dealId===r.id&&new Date-e.timestamp<6e4)&&(0,We.jsx)("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-medium px-2 py-1 rounded-full animate-pulse",children:"Recently Updated"})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-4 text-gray-300 text-sm",children:[(0,We.jsxs)("span",{children:["Stock #",r.stockNumber]}),(0,We.jsx)("span",{children:"\u2022"}),(0,We.jsxs)("span",{className:"text-blue-400 font-medium",children:["ID: ",r.dealId||"N/A"]}),(0,We.jsx)("span",{children:"\u2022"}),(0,We.jsx)("span",{children:r.seller}),(0,We.jsx)("span",{children:"\u2022"}),(0,We.jsxs)("span",{children:["Created: ",r.createdDate]})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsx)("button",{onClick:()=>l(o===r.id?null:r.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:o===r.id?(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)(vc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Hide Details"})]}):(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)(Xi,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"View Details"})]})}),(0,We.jsxs)("button",{onClick:()=>(e=>{v(e.id),N(e.notes||"")})(r),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(hc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Edit Notes"})]}),(0,We.jsxs)("button",{onClick:()=>(async r=>{const a=t;n(e=>e.filter(e=>e.id!==r));try{const t=`${D}/api/sales/deals/${r}`;if(!(await fetch(t,{method:"DELETE",headers:e(),credentials:"include"})).ok)throw new Error("Delete failed");Ht.success("Deal deleted!")}catch(s){n(a),Ht.error("Failed to delete deal!")}})(r.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(lc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Delete"})]})]})]}),(0,We.jsxs)("div",{className:"mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Progress"}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:`bg-${p}-500/20 text-${p}-400 text-xs font-medium px-2 py-1 rounded-full`,children:d.label}),(0,We.jsxs)("span",{className:"text-gray-400 text-xs",children:[Math.round(u),"% Complete"]})]})]}),(0,We.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,We.jsx)("div",{className:`bg-gradient-to-r from-${p}-500 to-${p}-400 h-2 rounded-full transition-all duration-500`,style:{width:`${u}%`}})})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"VIN"}),(0,We.jsx)(Ue,{className:"h-4 w-4 text-blue-400"})]}),(0,We.jsx)("p",{className:"text-white font-bold text-sm font-mono",children:r.vin})]}),(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Purchase Price"}),(0,We.jsx)(Pe,{className:"h-4 w-4 text-green-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(a=r.purchasePrice)||void 0===a?void 0:a.toLocaleString())||"N/A"]})]}),"wholesale-flip"===r.dealType?(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Wholesale Price"}),(0,We.jsx)(Be,{className:"h-4 w-4 text-blue-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(s=r.wholesalePrice)||void 0===s?void 0:s.toLocaleString())||"N/A"]})]}):(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"List Price"}),(0,We.jsx)(Be,{className:"h-4 w-4 text-blue-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(i=r.salePrice)||void 0===i?void 0:i.toLocaleString())||"N/A"]})]}),r.payoffBalance>0&&(0,We.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,We.jsx)("span",{className:"text-gray-400 text-sm",children:"Payoff Balance"}),(0,We.jsx)(Je,{className:"h-4 w-4 text-orange-400"})]}),(0,We.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",(null===(c=r.payoffBalance)||void 0===c?void 0:c.toLocaleString())||"N/A"]})]})]}),o===r.id&&(0,We.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("h4",{className:"text-white font-medium mb-4",children:"Deal Progress"}),(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-600"}),(0,We.jsx)("div",{className:"space-y-4",children:jc.map((e,t)=>{const n=P(e),a=t<jc.indexOf(r.currentStage),s=e===r.currentStage;return(0,We.jsxs)("div",{className:"relative flex items-start space-x-4",children:[(0,We.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center z-10 "+(a?"bg-green-500":s?"bg-blue-500":"bg-gray-600"),children:a?(0,We.jsx)(ze,{className:"h-4 w-4 text-white"}):s?(0,We.jsx)(wc,{className:"h-4 w-4 text-white"}):(0,We.jsx)(tc,{className:"h-4 w-4 text-gray-300"})}),(0,We.jsxs)("div",{className:"flex-1 pt-1",children:[(0,We.jsx)("div",{className:"font-medium "+(a?"text-green-400":s?"text-blue-400":"text-gray-400"),children:n.label}),(0,We.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:n.description}),s&&(0,We.jsx)("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded",children:"In progress..."})]})]},e)})})]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-white font-medium mb-3",children:"Deal Information"}),(0,We.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Deal Type:"}),(0,We.jsx)("span",{className:"text-white capitalize",children:r.dealType.replace("-"," ")})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Payment Method:"}),(0,We.jsx)("span",{className:"text-white",children:r.paymentMethod})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Priority:"}),(0,We.jsx)("span",{className:m,children:r.priority})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,We.jsx)("span",{className:"text-white",children:r.lastUpdated})]}),"wholesale-flip"!==r.dealType&&(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Deal Type 2:"}),(0,We.jsx)("span",{className:"text-white capitalize",children:kc[r.dealType2SubType]||r.dealType2SubType||"N/A"})]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"text-white font-medium mb-3",children:"Contact Information"}),(0,We.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Seller:"}),(0,We.jsx)("span",{className:"text-white",children:r.seller})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Buyer:"}),(0,We.jsx)("span",{className:"text-white",children:r.buyerContact})]})]})]})]})]}),r.notes&&b!==r.id&&(0,We.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,We.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,We.jsx)(Je,{className:"h-4 w-4 text-orange-400 mt-0.5 flex-shrink-0"}),(0,We.jsx)("p",{className:"text-orange-300 text-sm",children:r.notes})]})}),b===r.id&&(0,We.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 mt-2",children:(0,We.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,We.jsx)("textarea",{className:"w-full rounded p-2 text-sm text-gray-900",value:w,onChange:C}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsx)("button",{onClick:()=>(async r=>{const a=t;n(e=>e.map(e=>e.id===r?{...e,notes:w}:e)),v(null);try{const t=`${D}/api/sales/deals/${r}/customer`,a=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({notes:w}),credentials:"include"}),s=await a.json();if(!a.ok)throw new Error(s.error||"Update failed");n(e=>e.map(e=>e.id===r?{...e,notes:w}:e)),Ht.success("Deal updated!")}catch(s){n(a),Ht.error("Failed to update deal!")}})(r.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",children:"Save"}),(0,We.jsx)("button",{onClick:_,className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded",children:"Cancel"})]})]})})]},r.id)})})]})]})},Tc=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Dc=Ee("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]),Ec=Ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Cc=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),_c=()=>{const{user:e,token:t,getAuthHeaders:n,loading:r}=Ke(),[a,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)("all"),[m,h]=(0,s.useState)("all"),[f,g]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[j,k]=(0,s.useState)(!1),[S,T]=(0,s.useState)(null),[D,E]=(0,s.useState)(null),[C,_]=(0,s.useState)({firstName:"",lastName:"",email:"",username:"",password:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),P={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",A=async()=>{try{if(i(!0),T(null),!t)throw new Error("No authentication token available");console.log("[USER MANAGEMENT] Current user:",e),console.log("[USER MANAGEMENT] User role:",null===e||void 0===e?void 0:e.role),console.log("[USER MANAGEMENT] Token available:",!!t),console.log("[USER MANAGEMENT] Token preview:",t?`${t.substring(0,20)}...`:"None"),console.log("[USER MANAGEMENT] Fetching users from:",`${P}/api/users`);const r={...n(),"Content-Type":"application/json"};console.log("[USER MANAGEMENT] Request headers:",r);const a=await fetch(`${P}/api/users`,{headers:r,credentials:"include"});if(console.log("[USER MANAGEMENT] Response status:",a.status),console.log("[USER MANAGEMENT] Response headers:",Object.fromEntries(a.headers.entries())),!a.ok){const e=await a.json().catch(()=>({}));throw console.error("[USER MANAGEMENT] Error response:",e),new Error(e.error||`HTTP ${a.status}: Failed to fetch users`)}const s=await a.json();console.log("[USER MANAGEMENT] Users data:",s),console.log("[USER MANAGEMENT] Number of users received:",s.length),o(s)}catch(S){console.error("[USER MANAGEMENT] Error fetching users:",S),T(S.message||"Failed to load users")}finally{i(!1)}};(0,s.useEffect)(()=>{if(!r)return e?void("admin"===e.role?A():(T("Admin access required"),i(!1))):(T("Please log in to access user management"),void i(!1))},[e,r]);const R=a.filter(e=>{var t,n,r,a;const s=(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.lastName)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(a=e.username)||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase())),o="all"===u||e.role===u,l="all"===m||"active"===m&&e.isActive||"inactive"===m&&!e.isActive;return s&&o&&l}),L=e=>{const t=(e=>{const t={admin:{deals:{create:!0,read:!0,update:!0,delete:!0,viewFinancials:!0},dealers:{create:!0,read:!0,update:!0,delete:!0},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!0},system:{configure:!0}},sales:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}},finance:{deals:{create:!1,read:!0,update:!0,delete:!1,viewFinancials:!0},dealers:{create:!1,read:!0,update:!1,delete:!1},backoffice:{access:!0},reports:{access:!0,viewFinancials:!0},users:{manage:!1},system:{configure:!1}}};return t[e]||t.sales})(e);f?_(n=>({...n,role:e,permissions:t})):w&&N(n=>({...n,role:e,permissions:t}))};return r?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)(mc,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Loading authentication..."})]})}):(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,We.jsx)(it,{className:"h-5 w-5 text-white"})}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl p-3 mr-4 shadow-lg shadow-blue-500/25",children:(0,We.jsx)(Ce,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-xl font-bold text-white",children:"User Management"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage system users and permissions"})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("button",{onClick:()=>A(),disabled:l,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 "+(l?"animate-spin":"")}),"Refresh"]}),(0,We.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,We.jsx)(Tc,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})})}),(0,We.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[S&&(0,We.jsxs)("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-center",children:[(0,We.jsx)(Je,{className:"h-5 w-5 text-red-400 mr-3"}),(0,We.jsx)("span",{className:"text-red-400",children:S}),(0,We.jsx)("button",{onClick:()=>T(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,We.jsx)(lt,{className:"h-4 w-4"})})]}),D&&(0,We.jsxs)("div",{className:"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center",children:[(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400 mr-3"}),(0,We.jsx)("span",{className:"text-green-400",children:D}),(0,We.jsx)("button",{onClick:()=>E(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,We.jsx)(lt,{className:"h-4 w-4"})})]}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,We.jsx)("input",{type:"text",placeholder:"Search users...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"all",children:"All Roles"}),(0,We.jsx)("option",{value:"admin",children:"Admin"}),(0,We.jsx)("option",{value:"sales",children:"Sales"}),(0,We.jsx)("option",{value:"finance",children:"Finance"})]}),(0,We.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"all",children:"All Status"}),(0,We.jsx)("option",{value:"active",children:"Active"}),(0,We.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end text-gray-300 text-sm",children:[R.length," of ",a.length," users"]})]})}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:l?(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(mc,{className:"h-8 w-8 text-blue-400 animate-spin mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Loading users..."})]}):(0,We.jsxs)("div",{className:"overflow-x-auto",children:[(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"User"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Role"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Last Login"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,We.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-white/10",children:R.map(e=>{var t,r,a,s;return(0,We.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,We.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,We.jsxs)("span",{className:"text-white font-medium text-sm",children:[null===(t=e.firstName)||void 0===t?void 0:t[0],null===(r=e.lastName)||void 0===r?void 0:r[0]]})})}),(0,We.jsxs)("div",{className:"ml-4",children:[(0,We.jsxs)("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]}),(0,We.jsx)("div",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${s=e.role,{admin:"bg-red-100 text-red-800 border-red-200",sales:"bg-blue-100 text-blue-800 border-blue-200",finance:"bg-green-100 text-green-800 border-green-200"}[s]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.role})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(a=e.isActive,a?(0,We.jsx)(ze,{className:"h-4 w-4 text-green-500"}):(0,We.jsx)(dc,{className:"h-4 w-4 text-red-500"})),(0,We.jsx)("span",{className:"ml-2 text-sm "+(e.isActive?"text-green-400":"text-red-400"),children:e.isActive?"Active":"Inactive"})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,We.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch(`${P}/api/users/${e._id}`,{method:"PUT",headers:n(),body:JSON.stringify({isActive:!e.isActive})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to update user status")}E(`User ${e.isActive?"deactivated":"activated"} successfully`),A()}catch(S){console.error("Error updating user status:",S),T(S.message)}})(e),className:"p-2 rounded-lg transition-colors "+(e.isActive?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-green-400 hover:text-green-300 hover:bg-green-500/10"),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,We.jsx)(Dc,{className:"h-4 w-4"}):(0,We.jsx)(Ec,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>{N(e),y(!0)},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:(0,We.jsx)(Cc,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const t=await fetch(`${P}/api/users/${e}`,{method:"DELETE",headers:n()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete user")}E("User deleted successfully"),A()}catch(S){console.error("Error deleting user:",S),T(S.message)}})(e._id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:(0,We.jsx)(lc,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===R.length&&(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"No users found"})]})]})})]}),f&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create New User"}),(0,We.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white",children:(0,We.jsx)(lt,{className:"h-6 w-6"})})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,We.jsx)("input",{type:"text",placeholder:"First Name",value:C.firstName,onChange:e=>_(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,We.jsx)("input",{type:"text",placeholder:"Last Name",value:C.lastName,onChange:e=>_(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email (Username)"}),(0,We.jsx)("input",{type:"email",placeholder:"Enter email address",value:C.email,onChange:e=>{_(t=>({...t,email:e.target.value,username:e.target.value}))},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),(0,We.jsx)("input",{type:"password",placeholder:"Enter password",value:C.password,onChange:e=>_(t=>({...t,password:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,We.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,We.jsxs)("select",{value:C.role,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"sales",children:"Sales"}),(0,We.jsx)("option",{value:"finance",children:"Finance"}),(0,We.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone (Optional)"}),(0,We.jsx)("input",{type:"tel",placeholder:"Enter phone number",value:C.phone,onChange:e=>_(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",id:"isActive",checked:C.isActive,onChange:e=>_(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,We.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:async()=>{try{k(!0),T(null);const e=await fetch(`${P}/api/users`,{method:"POST",headers:n(),body:JSON.stringify(C)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to create user")}E("User created successfully"),g(!1),_({firstName:"",lastName:"",email:"",username:"",password:"",role:"sales",department:"Sales",phone:"",isActive:!0,permissions:{deals:{create:!0,read:!0,update:!0,delete:!1,viewFinancials:!1},dealers:{create:!0,read:!0,update:!0,delete:!1},backoffice:{access:!1},reports:{access:!0,viewFinancials:!1},users:{manage:!1},system:{configure:!1}}}),A()}catch(S){console.error("Error creating user:",S),T(S.message)}finally{k(!1)}},disabled:j||!C.firstName||!C.lastName||!C.email||!C.password,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(ct,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]})}),x&&w&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit User"}),(0,We.jsx)("button",{onClick:()=>{y(!1),N(null)},className:"text-gray-400 hover:text-white",children:(0,We.jsx)(lt,{className:"h-6 w-6"})})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),(0,We.jsx)("input",{type:"text",value:w.firstName||"",onChange:e=>N(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,We.jsx)("input",{type:"text",value:w.lastName||"",onChange:e=>N(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,We.jsx)("input",{type:"email",value:w.email||"",onChange:e=>N(t=>({...t,email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,We.jsxs)("select",{value:w.role||"sales",onChange:e=>L(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"sales",children:"Sales"}),(0,We.jsx)("option",{value:"finance",children:"Finance"}),(0,We.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,We.jsx)("input",{type:"tel",value:w.phone||"",onChange:e=>N(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",id:"editIsActive",checked:w.isActive,onChange:e=>N(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("label",{htmlFor:"editIsActive",className:"ml-2 block text-sm text-gray-300",children:"Active User"})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,We.jsx)("button",{onClick:()=>{y(!1),N(null)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:async()=>{try{k(!0),T(null);const e=await fetch(`${P}/api/users/${w._id}`,{method:"PUT",headers:n(),body:JSON.stringify(w)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to update user")}E("User updated successfully"),y(!1),N(null),A()}catch(S){console.error("Error updating user:",S),T(S.message)}finally{k(!1)}},disabled:j||!w.firstName||!w.lastName||!w.email,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[j?(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(ct,{className:"h-4 w-4 mr-2"}),"Update User"]})]})]})})]})},Pc=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ac=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Rc=()=>{const{getAuthHeaders:e}=Ke(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(""),[i,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("all"),[p,m]=(0,s.useState)("all"),[h,f]=(0,s.useState)("createdAt"),[g,x]=(0,s.useState)("desc"),[y,b]=(0,s.useState)([]),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)({total:0,active:0,completed:0,pending:0}),T={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",D=async()=>{try{var t,r,s,o,l;a(!0);const i=await fetch(`${T}/api/deals`,{credentials:"include",headers:e()});if(!i.ok)throw new Error("Failed to fetch deals");const c=await i.json();n(c.deals||c.data||[]);const d=(null===(t=c.deals)||void 0===t?void 0:t.length)||(null===(r=c.data)||void 0===r?void 0:r.length)||0,u=(null===(s=c.deals)||void 0===s?void 0:s.filter(e=>"active"===e.status).length)||0,p=(null===(o=c.deals)||void 0===o?void 0:o.filter(e=>"completed"===e.status).length)||0,m=(null===(l=c.deals)||void 0===l?void 0:l.filter(e=>"pending"===e.status).length)||0;S({total:d,active:u,completed:p,pending:m})}catch(N){console.error("Error fetching deals:",N),j("Failed to load deals")}finally{a(!1)}};(0,s.useEffect)(()=>{D()},[]);const E=t.filter(e=>{var t,n,r,a,s,l,c,u,m,h;const f=(null===(t=e.vin)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.rpStockNumber)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.vehicle)||void 0===r||null===(a=r.make)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.vehicle)||void 0===s||null===(l=s.model)||void 0===l?void 0:l.toLowerCase().includes(o.toLowerCase()))||(null===(c=e.seller)||void 0===c||null===(u=c.name)||void 0===u?void 0:u.toLowerCase().includes(o.toLowerCase()))||(null===(m=e.buyer)||void 0===m||null===(h=m.name)||void 0===h?void 0:h.toLowerCase().includes(o.toLowerCase())),g="all"===i||e.status===i,x="all"===d||e.dealType===d;let y=!0;if("all"!==p){const t=new Date(e.createdAt||e.dateCreated),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(p){case"today":y=t>=r;break;case"week":y=t>=new Date(r.getTime()-6048e5);break;case"month":y=t>=new Date(r.getTime()-2592e6)}}return f&&g&&x&&y}).sort((e,t)=>{let n=e[h],r=t[h];var a,s,o,l,i,c,d,u,p,m;"vehicle"===h&&(n=`${null===(a=e.vehicle)||void 0===a?void 0:a.year} ${null===(s=e.vehicle)||void 0===s?void 0:s.make} ${null===(o=e.vehicle)||void 0===o?void 0:o.model}`,r=`${null===(l=t.vehicle)||void 0===l?void 0:l.year} ${null===(i=t.vehicle)||void 0===i?void 0:i.make} ${null===(c=t.vehicle)||void 0===c?void 0:c.model}`);"seller"===h&&(n=(null===(d=e.seller)||void 0===d?void 0:d.name)||"",r=(null===(u=t.seller)||void 0===u?void 0:u.name)||"");"buyer"===h&&(n=(null===(p=e.buyer)||void 0===p?void 0:p.name)||"",r=(null===(m=t.buyer)||void 0===m?void 0:m.name)||"");return"createdAt"!==h&&"dateCreated"!==h||(n=new Date(n),r=new Date(r)),"asc"===g?n>r?1:-1:n<r?1:-1}),C=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A";return(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,We.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),(0,We.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,We.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 bg-white/10 hover:bg-white/20 rounded-lg border border-white/20 transition-colors",children:(0,We.jsx)(_e,{className:"h-5 w-5 text-white"})}),(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25",children:(0,We.jsx)(Ue,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-xl font-bold text-white",children:"All Deals"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Complete deal management and oversight"})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("button",{onClick:()=>D(),disabled:r,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 "+(r?"animate-spin":"")}),"Refresh"]}),(0,We.jsxs)("button",{onClick:()=>window.location.href="/deals/new",className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})]})})}),(0,We.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Deals"}),(0,We.jsx)("p",{className:"text-2xl font-bold text-white",children:k.total})]}),(0,We.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,We.jsx)(_e,{className:"h-6 w-6 text-blue-400"})})]})}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Deals"}),(0,We.jsx)("p",{className:"text-2xl font-bold text-green-400",children:k.active})]}),(0,We.jsx)("div",{className:"bg-green-500/20 rounded-lg p-3",children:(0,We.jsx)(ze,{className:"h-6 w-6 text-green-400"})})]})}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Completed"}),(0,We.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:k.completed})]}),(0,We.jsx)("div",{className:"bg-blue-500/20 rounded-lg p-3",children:(0,We.jsx)(nc,{className:"h-6 w-6 text-blue-400"})})]})}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending"}),(0,We.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:k.pending})]}),(0,We.jsx)("div",{className:"bg-yellow-500/20 rounded-lg p-3",children:(0,We.jsx)(Re,{className:"h-6 w-6 text-yellow-400"})})]})})]}),(0,We.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 mb-6",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsx)("h2",{className:"text-lg font-bold text-white",children:"Filters & Search"}),(0,We.jsxs)("button",{onClick:()=>w(!v),className:"flex items-center px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:[(0,We.jsx)(Pc,{className:"h-4 w-4 mr-2"}),v?"Hide":"Show"," Filters"]})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,We.jsx)("input",{type:"text",placeholder:"Search deals...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,We.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"all",children:"All Status"}),(0,We.jsx)("option",{value:"active",children:"Active"}),(0,We.jsx)("option",{value:"pending",children:"Pending"}),(0,We.jsx)("option",{value:"completed",children:"Completed"}),(0,We.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,We.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"all",children:"All Types"}),(0,We.jsx)("option",{value:"wholesale-d2d",children:"Wholesale D2D"}),(0,We.jsx)("option",{value:"wholesale-private",children:"Wholesale Private"}),(0,We.jsx)("option",{value:"wholesale-flip",children:"Wholesale Flip"}),(0,We.jsx)("option",{value:"retail-pp",children:"Retail PP"}),(0,We.jsx)("option",{value:"retail-d2d",children:"Retail D2D"}),(0,We.jsx)("option",{value:"retail-auction",children:"Retail Auction"}),(0,We.jsx)("option",{value:"retail-dtod",children:"Retail D2D"})]}),(0,We.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"all",children:"All Time"}),(0,We.jsx)("option",{value:"today",children:"Today"}),(0,We.jsx)("option",{value:"week",children:"This Week"}),(0,We.jsx)("option",{value:"month",children:"This Month"})]})]}),v&&(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort By"}),(0,We.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"createdAt",children:"Created Date"}),(0,We.jsx)("option",{value:"vehicle",children:"Vehicle"}),(0,We.jsx)("option",{value:"seller",children:"Seller"}),(0,We.jsx)("option",{value:"buyer",children:"Buyer"}),(0,We.jsx)("option",{value:"status",children:"Status"}),(0,We.jsx)("option",{value:"dealType",children:"Deal Type"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort Order"}),(0,We.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"desc",children:"Newest First"}),(0,We.jsx)("option",{value:"asc",children:"Oldest First"})]})]}),(0,We.jsx)("div",{className:"flex items-end",children:(0,We.jsxs)("div",{className:"text-gray-300 text-sm",children:[E.length," of ",t.length," deals"]})})]})]}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:r?(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(mc,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Loading deals..."})]}):(0,We.jsxs)("div",{className:"overflow-x-auto",children:[(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:(0,We.jsx)("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:()=>{y.length===E.length?b([]):b(E.map(e=>e._id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Deal Info"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Parties"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,We.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-white/10",children:E.map(e=>{var t,n,r,a,s,o,l,i,c,d;return(0,We.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("input",{type:"checkbox",checked:y.includes(e._id),onChange:()=>{return t=e._id,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"text-sm font-medium text-white",children:[null===(t=e.vehicle)||void 0===t?void 0:t.year," ",null===(n=e.vehicle)||void 0===n?void 0:n.make," ",null===(r=e.vehicle)||void 0===r?void 0:r.model]}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:["VIN: ",e.vin]}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:["Stock: ",e.rpStockNumber||"N/A"]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{children:[(0,We.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d=e.dealType,{"wholesale-d2d":"bg-purple-100 text-purple-800 border-purple-200","wholesale-private":"bg-indigo-100 text-indigo-800 border-indigo-200","wholesale-flip":"bg-pink-100 text-pink-800 border-pink-200","retail-pp":"bg-orange-100 text-orange-800 border-orange-200","retail-d2d":"bg-cyan-100 text-cyan-800 border-cyan-200","retail-auction":"bg-teal-100 text-teal-800 border-teal-200","retail-dtod":"bg-cyan-100 text-cyan-800 border-cyan-200"}[d]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.dealType}),(0,We.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[C(null===(a=e.financials)||void 0===a?void 0:a.purchasePrice)," \u2192 ",C(null===(s=e.financials)||void 0===s?void 0:s.salePrice)]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,We.jsx)(nt,{className:"h-3 w-3 inline mr-1"}),(null===(o=e.seller)||void 0===o?void 0:o.name)||"N/A"]}),(0,We.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,We.jsx)(Ac,{className:"h-3 w-3 inline mr-1"}),(null===(l=e.buyer)||void 0===l?void 0:l.name)||"N/A"]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c=e.status,{active:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-blue-100 text-blue-800 border-blue-200",cancelled:"bg-red-100 text-red-800 border-red-200"}[c]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.status})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:(i=e.createdAt||e.dateCreated,i?new Date(i).toLocaleDateString():"N/A")}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,We.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}`,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-colors",title:"View Details",children:(0,We.jsx)(Ae,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/edit`,className:"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors",title:"Edit Deal",children:(0,We.jsx)(Cc,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>window.location.href=`/deals/${e._id}/documents`,className:"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-colors",title:"Documents",children:(0,We.jsx)(Ue,{className:"h-4 w-4"})})]})})]},e._id)})})]}),0===E.length&&(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"No deals found"})]})]})}),y.length>0&&(0,We.jsx)("div",{className:"fixed bottom-6 right-6 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 p-4 shadow-lg",children:(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsxs)("span",{className:"text-white text-sm",children:[y.length," deal(s) selected"]}),(0,We.jsx)("button",{className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"Export Selected"}),(0,We.jsx)("button",{className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors",children:"Bulk Update"})]})})]})]})},Lc=()=>{var e;const{user:t,getAuthHeaders:n}=Ke(),r=te(),[a,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)("All Status"),[m,h]=(0,s.useState)("All Vendors"),[f,g]=(0,s.useState)(1),[x]=(0,s.useState)(5),y=[{id:"W-07-010",vehicle:{year:"2024",make:"Cadillac",model:"Escalade ESV",vin:"1GYS4RKL2RR116683",type:"Big SUV"},status:"Provide Quote",type:"Delivery to RP",location:{city:"San Antonio, TX",address:"9711 Plymouth Rd"},requestedDate:"Jul 29",contact:{name:"Prestige",phone:"(210) 900-2014",email:"Brennan Sauer"},quotes:[{vendor:"NTS Best",price:"$925"},{vendor:"Formula",price:"Pending"}]},{id:"W-07-009",vehicle:{year:"2024",make:"Mercedes-Benz",model:"GLS 450",vin:"4JGFF5KEXRB221729",type:"Open Transport"},status:"Provide Quote",type:"Delivery to RP",location:{city:"New Rochelle, NY",address:"77 E Main St"},requestedDate:"Jul 28",contact:{name:"Unassigned",phone:"Contact TBD",email:"Adiana Palic"},quotes:[{vendor:"NTS",price:"Pending"},{vendor:"Formula Best",price:"$1,100"}]},{id:"W-07-002",vehicle:{year:"2025",make:"BMW",model:"M5",vin:"WBS83FK06SCT42170",type:"Sedan"},status:"Delivered",type:"Delivery to RP",location:{city:"San Antonio, TX",address:"9711 Plymouth Rd"},requestedDate:"Jul 21",contact:{name:"Prestige",phone:"(210) 900-2014",email:"Brennan Sauer"},quotes:[{vendor:"NTS Best",price:"$850"},{vendor:"Formula",price:null}]},{id:"W-06-002",vehicle:{year:"2018",make:"Mercedes-Benz",model:"E 63 S",vin:"WDDZH8KB6JA473612",type:"Best Value"},status:"Provide Quote",type:"Delivery to RP",location:{city:"Bonita Springs, FL",address:"28701 Trails Edge Blvd"},requestedDate:"Jun 25",contact:{name:"Adam",phone:"(239) 530-8212",email:"Brennan Sauer"},quotes:[{vendor:"NTS",price:"$1,575"},{vendor:"Formula Best",price:"$1,200"}]},{id:"W-07-007",vehicle:{year:"2018",make:"Mercedes-Benz",model:"GLE 43 Coupe",vin:"4JGED6EB1JA094632",type:"Open Transport"},status:"In Transit",type:"Delivery to RP",location:{city:"Boerne, TX",address:"31805 IH 10 W"},requestedDate:"Jul 25",contact:{name:"Brian",phone:"(210) 233-6700",email:"Adiana Palic"},quotes:[{vendor:"NTS Best",price:"$875"},{vendor:"Formula",price:null}]}];(0,s.useEffect)(()=>{setTimeout(()=>{o(y),i(!1)},1e3)},[]);const b=e=>{switch(e){case"Delivered":return"bg-green-500 text-white";case"In Transit":return"bg-blue-500 text-white";case"Provide Quote":return"bg-orange-500 text-white";default:return"bg-gray-500 text-white"}},v=e=>{switch(e){case"Delivered":return(0,We.jsx)(ze,{className:"h-4 w-4"});case"In Transit":return(0,We.jsx)(Ie,{className:"h-4 w-4"});case"Provide Quote":return(0,We.jsx)(Je,{className:"h-4 w-4"});default:return(0,We.jsx)(Re,{className:"h-4 w-4"})}},w=a.filter(e=>{const t=e.id.toLowerCase().includes(c.toLowerCase())||e.vehicle.vin.toLowerCase().includes(c.toLowerCase())||e.vehicle.make.toLowerCase().includes(c.toLowerCase())||e.vehicle.model.toLowerCase().includes(c.toLowerCase()),n="All Status"===u||e.status===u,r="All Vendors"===m||e.quotes.some(e=>e.vendor.includes(m));return t&&n&&r}),N=Math.ceil(w.length/x),j=(f-1)*x,k=j+x,S=w.slice(j,k),T=a.filter(e=>"Delivered"!==e.status).length,D=a.filter(e=>"Provide Quote"===e.status).length;return(0,We.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,We.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsx)("button",{onClick:()=>r("/"),className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Back to Dashboard",children:(0,We.jsx)(it,{className:"h-5 w-5"})}),(0,We.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,We.jsx)(Ie,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-2xl font-bold",children:"Transport Management"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Vehicle Transportation & Logistics"})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsxs)("button",{onClick:()=>r("/transport/new"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"New Transport"})]}),(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsx)("p",{className:"font-medium",children:(null===t||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.displayName)||"User"}),(0,We.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:(null===t||void 0===t?void 0:t.role)||"User"})]})]})]})}),(0,We.jsxs)("div",{className:"p-6",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Transports"}),(0,We.jsx)("p",{className:"text-3xl font-bold",children:T})]}),(0,We.jsx)("div",{className:"bg-blue-500 p-3 rounded-lg",children:(0,We.jsx)(Ie,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"mt-4 flex items-center text-green-400 text-sm",children:[(0,We.jsx)("span",{className:"bg-green-500/20 px-2 py-1 rounded text-xs",children:"+3"}),(0,We.jsx)("span",{className:"ml-2",children:"from last week"})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Pending Quotes"}),(0,We.jsx)("p",{className:"text-3xl font-bold",children:D})]}),(0,We.jsx)("div",{className:"bg-orange-500 p-3 rounded-lg",children:(0,We.jsx)(Re,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"mt-4 flex items-center text-red-400 text-sm",children:[(0,We.jsx)("span",{className:"bg-red-500/20 px-2 py-1 rounded text-xs",children:"-2"}),(0,We.jsx)("span",{className:"ml-2",children:"from yesterday"})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Monthly Costs"}),(0,We.jsx)("p",{className:"text-3xl font-bold",children:"$18.2K"})]}),(0,We.jsx)("div",{className:"bg-green-500 p-3 rounded-lg",children:(0,We.jsx)(Be,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"mt-4 flex items-center text-green-400 text-sm",children:[(0,We.jsx)("span",{className:"bg-green-500/20 px-2 py-1 rounded text-xs",children:"+12%"}),(0,We.jsx)("span",{className:"ml-2",children:"vs last month"})]})]})]}),(0,We.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:(0,We.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,We.jsxs)("div",{className:"flex-1 relative",children:[(0,We.jsx)(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,We.jsx)("input",{type:"text",placeholder:"Search by VIN, transport ID, or vehicle...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})]}),(0,We.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,We.jsx)("option",{children:"All Status"}),(0,We.jsx)("option",{children:"Provide Quote"}),(0,We.jsx)("option",{children:"In Transit"}),(0,We.jsx)("option",{children:"Delivered"})]}),(0,We.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,We.jsx)("option",{children:"All Vendors"}),(0,We.jsx)("option",{children:"NTS"}),(0,We.jsx)("option",{children:"Formula"})]}),(0,We.jsxs)("button",{className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,We.jsx)(Pc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Advanced Filters"})]}),(0,We.jsxs)("button",{className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,We.jsx)(cc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Export"})]})]})}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[(0,We.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("h2",{className:"text-xl font-bold",children:"Transport Bookings"}),(0,We.jsxs)("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm",children:[T," Active"]})]})}),l?(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,We.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading transport bookings..."})]}):(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-gray-700",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Transport ID"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Vehicle Details"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Type & Status"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Location & Date"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contact"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Quotes"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:S.map(e=>(0,We.jsxs)("tr",{className:"hover:bg-gray-700 transition-colors",children:[(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("span",{className:"font-medium text-blue-400",children:e.id})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsxs)("div",{children:[(0,We.jsxs)("div",{className:"font-medium",children:[e.vehicle.year," ",e.vehicle.make," ",e.vehicle.model]}),(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:["VIN: ",e.vehicle.vin]}),(0,We.jsx)("div",{className:"text-sm text-gray-400",children:e.vehicle.type})]})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsxs)("div",{className:"space-y-2",children:[(0,We.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(e.status)}`,children:[v(e.status),(0,We.jsx)("span",{className:"ml-1",children:e.status})]}),(0,We.jsx)("div",{className:"text-sm text-gray-400",children:e.type})]})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsxs)("div",{className:"space-y-1",children:[(0,We.jsxs)("div",{className:"flex items-center text-sm",children:[(0,We.jsx)(st,{className:"h-4 w-4 text-gray-400 mr-1"}),e.location.city]}),(0,We.jsx)("div",{className:"text-sm text-gray-400",children:e.location.address}),(0,We.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,We.jsx)(Ze,{className:"h-4 w-4 mr-1"}),"Requested: ",e.requestedDate]})]})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsxs)("div",{className:"space-y-1",children:[(0,We.jsx)("div",{className:"font-medium",children:e.contact.name}),(0,We.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,We.jsx)(rt,{className:"h-4 w-4 mr-1"}),e.contact.phone]}),(0,We.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,We.jsx)(at,{className:"h-4 w-4 mr-1"}),e.contact.email]})]})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsx)("div",{className:"space-y-2",children:e.quotes.map((e,t)=>(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("span",{className:"text-sm font-medium",children:e.vendor}),(0,We.jsx)("span",{className:"text-sm text-gray-400",children:e.price||(0,We.jsx)(Pe,{className:"h-4 w-4"})})]},t))})}),(0,We.jsx)("td",{className:"px-6 py-4",children:(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsx)("button",{className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm transition-colors",children:"Details"}),"Provide Quote"===e.status&&(0,We.jsx)("button",{className:"px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded text-sm transition-colors",children:"Accept"})]})})]},e.id))})]})}),(0,We.jsxs)("div",{className:"px-6 py-4 border-t border-gray-700 flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",j+1," to ",Math.min(k,w.length)," of ",w.length," transport bookings"]}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsx)("button",{onClick:()=>g(Math.max(1,f-1)),disabled:1===f,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors",children:"Previous"}),Array.from({length:N},(e,t)=>t+1).map(e=>(0,We.jsx)("button",{onClick:()=>g(e),className:"px-3 py-1 rounded transition-colors "+(f===e?"bg-blue-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"),children:e},e)),(0,We.jsx)("button",{onClick:()=>g(Math.min(N,f+1)),disabled:f===N,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors",children:"Next"})]})]})]})]})]})]})},Mc=()=>{const{user:e,getAuthHeaders:t}=Ke(),n=te(),[r,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)({vehicleYear:"",vehicleMake:"",vehicleModel:"",vehicleVin:"",vehicleType:"",transportType:"Delivery to RP",status:"Provide Quote",originCity:"",originAddress:"",destinationCity:"",destinationAddress:"",requestedDate:"",contactName:"",contactPhone:"",contactEmail:"",notes:"",priority:"normal"}),[i,c]=(0,s.useState)({}),d=(e,t)=>{l(n=>({...n,[e]:t})),i[e]&&c(t=>({...t,[e]:null}))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";const l=i[t];return(0,We.jsxs)("div",{className:"mb-4",children:[(0,We.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e," ",a&&(0,We.jsx)("span",{className:"text-red-500",children:"*"})]}),"select"===n?(0,We.jsxs)("select",{value:o[t],onChange:e=>d(t,e.target.value),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 "+(l?"border-red-500":"border-gray-600"),children:[(0,We.jsxs)("option",{value:"",children:["Select ",e]}),null===r||void 0===r?void 0:r.map((e,t)=>(0,We.jsx)("option",{value:e.value||e,children:e.label||e},t))]}):"textarea"===n?(0,We.jsx)("textarea",{value:o[t],onChange:e=>d(t,e.target.value),placeholder:s,rows:3,className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 "+(l?"border-red-500":"border-gray-600")}):(0,We.jsx)("input",{type:n,value:o[t],onChange:e=>d(t,e.target.value),placeholder:s,className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 "+(l?"border-red-500":"border-gray-600")}),l&&(0,We.jsxs)("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[(0,We.jsx)(Je,{className:"h-4 w-4 mr-1"}),l]})]})};return(0,We.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,We.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,We.jsx)("div",{className:"flex items-center justify-between",children:(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsx)("button",{onClick:()=>n("/transport"),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,We.jsx)(it,{className:"h-5 w-5"})}),(0,We.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,We.jsx)(Ie,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-2xl font-bold",children:"New Transport Booking"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Create a new vehicle transport request"})]})]})})}),(0,We.jsx)("div",{className:"p-6 max-w-4xl mx-auto",children:(0,We.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return o.vehicleYear||(e.vehicleYear="Vehicle year is required"),o.vehicleMake||(e.vehicleMake="Vehicle make is required"),o.vehicleModel||(e.vehicleModel="Vehicle model is required"),o.vehicleVin||(e.vehicleVin="VIN is required"),o.originCity||(e.originCity="Origin city is required"),o.originAddress||(e.originAddress="Origin address is required"),o.requestedDate||(e.requestedDate="Requested date is required"),o.contactName||(e.contactName="Contact name is required"),o.contactPhone||(e.contactPhone="Contact phone is required"),o.vehicleVin&&17!==o.vehicleVin.length&&(e.vehicleVin="VIN must be exactly 17 characters"),o.vehicleYear&&(o.vehicleYear<1900||o.vehicleYear>(new Date).getFullYear()+1)&&(e.vehicleYear="Please enter a valid year"),o.contactPhone&&!/^[\+]?[1-9][\d]{0,15}$/.test(o.contactPhone.replace(/[\s\-\(\)]/g,""))&&(e.contactPhone="Please enter a valid phone number"),o.contactEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.contactEmail)&&(e.contactEmail="Please enter a valid email address"),c(e),0===Object.keys(e).length})()){a(!0);try{const t=`W-${(new Date).getFullYear().toString().slice(-2)}-${String(Math.floor(999*Math.random())).padStart(3,"0")}`,r={...o,id:t,createdAt:(new Date).toISOString(),createdBy:(null===e||void 0===e?void 0:e.username)||"Unknown",quotes:[{vendor:"NTS",price:null},{vendor:"Formula",price:null}]};console.log("Transport data to be saved:",r),await new Promise(e=>setTimeout(e,1e3)),alert("Transport booking created successfully!"),n("/transport")}catch(r){console.error("Error creating transport:",r),alert("Error creating transport booking. Please try again.")}finally{a(!1)}}},className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(_e,{className:"h-5 w-5 text-blue-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Vehicle Information"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u("Vehicle Year","vehicleYear","number",null,!0,"2024"),u("Vehicle Make","vehicleMake","text",null,!0,"BMW"),u("Vehicle Model","vehicleModel","text",null,!0,"M5"),u("VIN","vehicleVin","text",null,!0,"WBS83FK06SCT42170")]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[u("Vehicle Type","vehicleType","select",["Sedan","SUV","Truck","Sports Car","Luxury Vehicle","Big SUV","Open Transport","Enclosed Transport","Best Value"],!1),u("Transport Type","transportType","select",["Delivery to RP","Pickup from RP","Dealer to Dealer","Customer Delivery","Auction Transport"],!1)]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(st,{className:"h-5 w-5 text-green-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Location Information"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"Origin"}),(0,We.jsxs)("div",{className:"space-y-4",children:[u("City","originCity","text",null,!0,"San Antonio, TX"),u("Address","originAddress","textarea",null,!0,"9711 Plymouth Rd")]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"Destination"}),(0,We.jsxs)("div",{className:"space-y-4",children:[u("City","destinationCity","text",null,!1,"Saint Louis, MO"),u("Address","destinationAddress","textarea",null,!1,"1155 N Warson Rd")]})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(nt,{className:"h-5 w-5 text-purple-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Contact Information"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u("Contact Name","contactName","text",null,!0,"John Doe"),u("Phone","contactPhone","tel",null,!0,"(555) 123-4567"),u("Email","contactEmail","email",null,!1,"john@example.com")]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(Ze,{className:"h-5 w-5 text-orange-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Transport Details"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u("Requested Date","requestedDate","date",null,!0),u("Priority","priority","select",[{value:"low",label:"Low Priority",color:"text-green-500"},{value:"normal",label:"Normal Priority",color:"text-yellow-500"},{value:"high",label:"High Priority",color:"text-red-500"},{value:"urgent",label:"Urgent",color:"text-red-600 font-bold"}],!1)]}),(0,We.jsx)("div",{className:"mt-4",children:u("Notes","notes","textarea",null,!1,"Additional notes or special instructions...")})]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,We.jsx)("button",{type:"button",onClick:()=>n("/transport"),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,We.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,We.jsx)("span",{children:"Creating..."})]}):(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)(ct,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Create Transport"})]})})]})]})})]})},Oc=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ic=Ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Fc=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Uc=Ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Bc=Ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Hc=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$c=Ee("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),zc=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Vc=Ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Wc=Ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),Yc=Ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),qc=()=>{var e;const{user:t,getAuthHeaders:n}=Ke(),r=te(),[a,o]=(0,s.useState)(!0),[l,i]=(0,s.useState)({backend:"online",database:"online",storage:"online",performance:"good"}),[c,d]=(0,s.useState)({documentGeneration:{averageTime:0,totalDocuments:0,browserReuses:0,cacheHits:0},apiResponse:{averageTime:0,totalRequests:0,errorRate:0},system:{memoryUsage:0,cpuUsage:0,diskUsage:0}}),[u,p]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[f,g]=(0,s.useState)("overview"),[x,y]=(0,s.useState)({development:{status:"online",lastDeploy:"2024-01-15T10:30:00Z",version:"v1.2.3-dev",environment:"development"},production:{status:"online",lastDeploy:"2024-01-14T15:45:00Z",version:"v1.2.2",environment:"production"}}),[b,v]=(0,s.useState)([]),[w,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{o(!0);const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,t=await fetch(`${e}/api/it/deployment/status`,{credentials:"include",headers:n()});if(t.ok){const e=await t.json();y(e.data)}const r=await fetch(`${e}/api/it/deployment/history`,{credentials:"include",headers:n()});if(r.ok){const e=await r.json();v(e.data)}const a=await fetch(`${e}/api/stats/metrics`,{credentials:"include",headers:n()});if(a.ok){const e=await a.json();d(t=>{var n,r,a;return{...t,system:{memoryUsage:(null===(n=e.data.system)||void 0===n?void 0:n.memoryUsage)||45,cpuUsage:(null===(r=e.data.system)||void 0===r?void 0:r.cpuUsage)||25,diskUsage:(null===(a=e.data.system)||void 0===a?void 0:a.diskUsage)||60}}})}}catch(e){console.error("[IT PAGE] Error fetching data:",e)}finally{o(!1)}})()},[n]);const j=e=>{switch(e){case"online":case"completed":case"good":return"text-green-400";case"warning":case"pending":return"text-yellow-400";case"error":case"offline":case"critical":return"text-red-400";default:return"text-gray-400"}},k=e=>{switch(e){case"online":case"completed":case"good":return(0,We.jsx)(ze,{className:"h-4 w-4"});case"warning":case"pending":case"error":case"offline":case"critical":return(0,We.jsx)(Oc,{className:"h-4 w-4"});default:return(0,We.jsx)(Re,{className:"h-4 w-4"})}},S=e=>{switch(e){case"feature":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"bugfix":return"bg-red-500/20 text-red-400 border-red-500/30";case"improvement":return"bg-green-500/20 text-green-400 border-green-500/30";case"security":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},T=e=>{switch(e){case"info":return"text-blue-400";case"warn":return"text-yellow-400";case"error":return"text-red-400";case"debug":return"text-gray-400";default:return"text-white"}},D=async()=>{if(window.confirm("Are you sure you want to promote the current development version to production? This will affect live users.")){N(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,r=await fetch(`${e}/api/it/promote`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({action:"promote",fromEnvironment:"development",toEnvironment:"production",timestamp:(new Date).toISOString()})});if(!r.ok)throw new Error(`Failed to promote to production: ${r.statusText}`);{const e=await r.json();console.log("[IT PAGE] Promotion to production successful:",e),y(e=>({...e,production:{...e.production,status:"deploying",lastDeploy:(new Date).toISOString(),version:e.development.version.replace("-dev","")}}));const n={id:Date.now(),environment:"production",action:"promote",status:"in_progress",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown",fromVersion:x.development.version,toVersion:x.development.version.replace("-dev","")};v(e=>[n,...e])}}catch(e){console.error("[IT PAGE] Promotion error:",e),alert(`Promotion failed: ${e.message}`)}finally{N(!1)}}},E=async e=>{if(window.confirm(`Are you sure you want to rollback ${e} to the previous version?`)){N(!0);try{const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,a=await fetch(`${r}/api/it/rollback`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({environment:e,action:"rollback",timestamp:(new Date).toISOString()})});if(!a.ok)throw new Error(`Failed to rollback: ${a.statusText}`);{const n=await a.json();console.log(`[IT PAGE] Rollback successful for ${e}:`,n);const r={id:Date.now(),environment:e,action:"rollback",status:"completed",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown"};v(e=>[r,...e])}}catch(r){console.error("[IT PAGE] Rollback error:",r),alert(`Rollback failed: ${r.message}`)}finally{N(!1)}}},C=[{id:"overview",label:"Overview",icon:Me},{id:"deployment",label:"Deployment",icon:Uc},{id:"updates",label:"Updates",icon:Yc},{id:"logs",label:"Logs",icon:Ue},{id:"debugging",label:"Debugging",icon:$c}];return(0,We.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,We.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,We.jsx)("button",{onClick:()=>r("/"),className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Back to Dashboard",children:(0,We.jsx)(it,{className:"h-5 w-5"})}),(0,We.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,We.jsx)(He,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-2xl font-bold",children:"Clayton's IT Management"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Dedicated System Monitoring & Debugging"})]})]}),(0,We.jsx)("div",{className:"flex items-center space-x-4",children:(0,We.jsxs)("div",{className:"text-right",children:[(0,We.jsx)("p",{className:"font-medium",children:(null===t||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.displayName)||"User"}),(0,We.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:(null===t||void 0===t?void 0:t.role)||"User"})]})})]})}),(0,We.jsxs)("div",{className:"p-6",children:[(0,We.jsx)("div",{className:"flex space-x-1 mb-6 bg-gray-800 rounded-lg p-1",children:C.map(e=>{const t=e.icon;return(0,We.jsxs)("button",{onClick:()=>g(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors "+(f===e.id?"bg-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[(0,We.jsx)(t,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:e.label})]},e.id)})}),a?(0,We.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,We.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,We.jsxs)("div",{children:["overview"===f&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-indigo-500/10 rounded-lg p-6 border border-purple-500/20",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,We.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,We.jsx)(Ce,{className:"h-5 w-5 text-white"})}),(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Welcome, Clayton!"})]}),(0,We.jsx)("p",{className:"text-gray-300",children:"This is your dedicated IT Management dashboard. You have exclusive access to system monitoring, debugging tools, and performance metrics. Use this page to monitor system health, track updates, and troubleshoot any issues."})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(Me,{className:"h-5 w-5 text-blue-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"System Status"})]}),(0,We.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(l).map(e=>{let[t,n]=e;return(0,We.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:t}),(0,We.jsx)("p",{className:`font-medium ${j(n)}`,children:n})]}),(0,We.jsx)("div",{className:j(n),children:k(n)})]})},t)})})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"Document Generation"}),(0,We.jsxs)("p",{className:"text-2xl font-bold",children:[c.documentGeneration.averageTime,"ms"]})]}),(0,We.jsx)("div",{className:"bg-blue-500 p-3 rounded-lg",children:(0,We.jsx)(Ue,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Total Documents:"}),(0,We.jsx)("span",{children:c.documentGeneration.totalDocuments})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Browser Reuses:"}),(0,We.jsx)("span",{className:"text-green-400",children:c.documentGeneration.browserReuses})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Cache Hits:"}),(0,We.jsx)("span",{className:"text-blue-400",children:c.documentGeneration.cacheHits})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"API Response Time"}),(0,We.jsxs)("p",{className:"text-2xl font-bold",children:[c.apiResponse.averageTime,"ms"]})]}),(0,We.jsx)("div",{className:"bg-green-500 p-3 rounded-lg",children:(0,We.jsx)(Ve,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Total Requests:"}),(0,We.jsx)("span",{children:c.apiResponse.totalRequests.toLocaleString()})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Error Rate:"}),(0,We.jsxs)("span",{className:"text-red-400",children:[c.apiResponse.errorRate,"%"]})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("p",{className:"text-gray-400 text-sm",children:"System Resources"}),(0,We.jsxs)("p",{className:"text-2xl font-bold",children:[c.system.memoryUsage,"%"]})]}),(0,We.jsx)("div",{className:"bg-orange-500 p-3 rounded-lg",children:(0,We.jsx)(Ic,{className:"h-6 w-6 text-white"})})]}),(0,We.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"CPU Usage:"}),(0,We.jsxs)("span",{children:[c.system.cpuUsage,"%"]})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Disk Usage:"}),(0,We.jsxs)("span",{children:[c.system.diskUsage,"%"]})]})]})]})]})]}),"deployment"===f&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,We.jsx)(Uc,{className:"h-5 w-5 text-white"})}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Development"})]}),(0,We.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(x.development.status)}`,children:x.development.status})]}),(0,We.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,We.jsx)("span",{className:"text-white font-mono",children:x.development.version})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Last Deploy:"}),(0,We.jsx)("span",{className:"text-white",children:new Date(x.development.lastDeploy).toLocaleString()})]})]}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsxs)("button",{onClick:()=>(async e=>{N(!0);try{const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,a=await fetch(`${r}/api/it/deploy`,{method:"POST",headers:{...n(),"Content-Type":"application/json"},body:JSON.stringify({environment:e,action:"deploy",timestamp:(new Date).toISOString()})});if(!a.ok)throw new Error(`Failed to trigger deployment: ${a.statusText}`);{const n=await a.json();console.log(`[IT PAGE] Deployment triggered for ${e}:`,n),y(t=>({...t,[e]:{...t[e],status:"deploying",lastDeploy:(new Date).toISOString()}}));const r={id:Date.now(),environment:e,action:"deploy",status:"in_progress",timestamp:(new Date).toISOString(),user:(null===t||void 0===t?void 0:t.email)||"Unknown"};v(e=>[r,...e])}}catch(r){console.error("[IT PAGE] Deployment error:",r),alert(`Deployment failed: ${r.message}`)}finally{N(!1)}})("development"),disabled:w,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,We.jsx)(mc,{className:"h-4 w-4 "+(w?"animate-spin":"")}),(0,We.jsx)("span",{children:w?"Deploying...":"Deploy"})]}),(0,We.jsx)("button",{onClick:()=>E("development"),disabled:w,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",title:"Rollback to previous version",children:(0,We.jsx)(it,{className:"h-4 w-4"})})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,We.jsx)(Bc,{className:"h-5 w-5 text-white"})}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Production"})]}),(0,We.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(x.production.status)}`,children:x.production.status})]}),(0,We.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,We.jsx)("span",{className:"text-white font-mono",children:x.production.version})]}),(0,We.jsxs)("div",{className:"flex justify-between",children:[(0,We.jsx)("span",{className:"text-gray-400",children:"Last Deploy:"}),(0,We.jsx)("span",{className:"text-white",children:new Date(x.production.lastDeploy).toLocaleString()})]})]}),(0,We.jsxs)("div",{className:"flex space-x-2",children:[(0,We.jsxs)("button",{onClick:D,disabled:w||"deploying"===x.development.status,className:"flex-1 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,We.jsx)(Hc,{className:"h-4 w-4 "+(w?"animate-spin":"")}),(0,We.jsx)("span",{children:w?"Promoting...":"Promote to Production"})]}),(0,We.jsx)("button",{onClick:()=>E("production"),disabled:w,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",title:"Rollback to previous version",children:(0,We.jsx)(it,{className:"h-4 w-4"})})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Deployment History"}),(0,We.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(mc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Refresh"})]})]}),(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-gray-700",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Timestamp"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Environment"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Action"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"User"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Details"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-gray-700",children:b.map(e=>(0,We.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:new Date(e.timestamp).toLocaleString()}),(0,We.jsx)("td",{className:"px-4 py-3",children:(0,We.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("production"===e.environment?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"),children:e.environment})}),(0,We.jsx)("td",{className:"px-4 py-3",children:(0,We.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("deploy"===e.action?"bg-blue-500/20 text-blue-400":"promote"===e.action?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"),children:e.action})}),(0,We.jsx)("td",{className:"px-4 py-3",children:(0,We.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})}),(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.user}),(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.fromVersion&&e.toVersion&&(0,We.jsxs)("span",{children:[e.fromVersion," \u2192 ",e.toVersion]})})]},e.id))})]})}),0===b.length&&(0,We.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,We.jsx)(Uc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,We.jsx)("p",{children:"No deployment history available"})]})]})]}),"updates"===f&&(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"System Updates"}),(0,We.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Add Update"})]})]}),(0,We.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,We.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,We.jsxs)("div",{className:"flex items-start justify-between",children:[(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,We.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${S(e.type)}`,children:e.type}),(0,We.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(e.status)}`,children:e.status}),(0,We.jsx)("span",{className:"text-sm text-gray-400",children:e.date})]}),(0,We.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,We.jsx)("p",{className:"text-gray-300 mb-3",children:e.description}),(0,We.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,We.jsxs)("span",{className:"text-gray-400",children:["Priority: ",(0,We.jsx)("span",{className:"text-white",children:e.priority})]}),(0,We.jsxs)("span",{className:"text-gray-400",children:["Impact: ",(0,We.jsx)("span",{className:"text-white",children:e.impact})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,We.jsx)(Ae,{className:"h-4 w-4"})}),(0,We.jsx)("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,We.jsx)(Cc,{className:"h-4 w-4"})})]})]})},e.id))})]}),"logs"===f&&(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"System Logs"}),(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(mc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Refresh"})]}),(0,We.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,We.jsx)(cc,{className:"h-4 w-4"}),(0,We.jsx)("span",{children:"Export"})]})]})]}),(0,We.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-gray-700",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Timestamp"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Level"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Component"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Message"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"User"}),(0,We.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-gray-700",children:m.map(e=>(0,We.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.timestamp}),(0,We.jsx)("td",{className:"px-4 py-3",children:(0,We.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(e.level)}`,children:e.level.toUpperCase()})}),(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.component}),(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-white max-w-md truncate",children:e.message}),(0,We.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.userId}),(0,We.jsx)("td",{className:"px-4 py-3",children:(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("button",{className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,We.jsx)(Ae,{className:"h-3 w-3"})}),(0,We.jsx)("button",{className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,We.jsx)(Fc,{className:"h-3 w-3"})})]})})]},e.id))})]})})})]}),"debugging"===f&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)($c,{className:"h-5 w-5 text-red-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Debugging Tools"})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h3",{className:"text-md font-medium text-gray-300",children:"System Diagnostics"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("button",{className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Run System Health Check"}),(0,We.jsx)(Me,{className:"h-4 w-4"})]}),(0,We.jsxs)("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Test Database Connection"}),(0,We.jsx)(zc,{className:"h-4 w-4"})]}),(0,We.jsxs)("button",{className:"w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Check API Endpoints"}),(0,We.jsx)(Bc,{className:"h-4 w-4"})]})]})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("h3",{className:"text-md font-medium text-gray-300",children:"Performance Tests"}),(0,We.jsxs)("div",{className:"space-y-3",children:[(0,We.jsxs)("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Test Document Generation"}),(0,We.jsx)(Ue,{className:"h-4 w-4"})]}),(0,We.jsxs)("button",{className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Load Test API"}),(0,We.jsx)(Ve,{className:"h-4 w-4"})]}),(0,We.jsxs)("button",{className:"w-full bg-teal-500 hover:bg-teal-600 text-white px-4 py-3 rounded-lg flex items-center justify-between transition-colors",children:[(0,We.jsx)("span",{children:"Memory Usage Analysis"}),(0,We.jsx)(Vc,{className:"h-4 w-4"})]})]})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,We.jsx)(Wc,{className:"h-5 w-5 text-green-400"}),(0,We.jsx)("h2",{className:"text-lg font-semibold",children:"Command Console"})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-600",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,We.jsx)("span",{className:"text-green-400",children:"$"}),(0,We.jsx)("input",{type:"text",placeholder:"Enter command...",className:"flex-1 bg-transparent text-white outline-none"})]}),(0,We.jsx)("div",{className:"text-sm text-gray-400",children:"Available commands: health, logs, metrics, test, clear"})]}),(0,We.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-600 min-h-[200px]",children:(0,We.jsxs)("div",{className:"text-sm text-gray-300 font-mono",children:[(0,We.jsx)("div",{className:"text-green-400",children:"$ health"}),(0,We.jsx)("div",{className:"text-white",children:"System health check completed"}),(0,We.jsx)("div",{className:"text-green-400",children:"\u2713 Backend: Online"}),(0,We.jsx)("div",{className:"text-green-400",children:"\u2713 Database: Online"}),(0,We.jsx)("div",{className:"text-green-400",children:"\u2713 Storage: Online"}),(0,We.jsx)("div",{className:"text-yellow-400",children:"\u26a0 Memory usage: 72%"})]})})]})]})]})]})]})]})};const Kc=function(e){let{children:t}=e;const{user:n,loading:r}=Ke(),a=Z();return r?null:n?n.email&&"clayton@rpexotics.com"===n.email.toLowerCase()?t:(0,We.jsx)(ge,{to:"/",replace:!0}):(0,We.jsx)(ge,{to:"/login",state:{from:a},replace:!0})},Gc=()=>{var e,t,n;const{user:r,getAuthHeaders:a}=Ke(),[o,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[g,x]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),[v,w]=(0,s.useState)(null),[N,j]=(0,s.useState)({}),[k,S]=(0,s.useState)({name:"",description:"",type:"internal",entityId:"",entityType:"User",permissions:{signAgreements:!0,viewDocuments:!0,createSignatures:!0},expiresAt:""}),[T,D]=(0,s.useState)({users:[],dealers:[],deals:[]}),E={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app",C=async()=>{try{c(!0),b(null);const e=await fetch(`${E}/api/apikeys`,{headers:a(),credentials:"include"});if(!e.ok)throw new Error("Failed to fetch API keys");const t=await e.json();l(t)}catch(y){console.error("Error fetching API keys:",y),b(y.message)}finally{c(!1)}};(0,s.useEffect)(()=>{C(),(async()=>{try{const e=await fetch(`${E}/api/users`,{headers:a(),credentials:"include"});if(e.ok){const t=await e.json();D(e=>({...e,users:t}))}const t=await fetch(`${E}/api/dealers`,{headers:a(),credentials:"include"});if(t.ok){const e=await t.json();D(t=>({...t,dealers:e}))}}catch(y){console.error("Error fetching entities:",y)}})()},[]);const _=e=>e.isActive?e.expiresAt&&new Date(e.expiresAt)<new Date?(0,We.jsx)("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:"Expired"}):(0,We.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Active"}):(0,We.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full",children:"Inactive"}),P=e=>{switch(e){case"internal":case"customer":return(0,We.jsx)(nt,{className:"h-4 w-4"});case"dealer":return(0,We.jsx)(Ac,{className:"h-4 w-4"});case"system":return(0,We.jsx)(Ue,{className:"h-4 w-4"});default:return(0,We.jsx)(Fe,{className:"h-4 w-4"})}};return(0,We.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[(0,We.jsx)("header",{className:"relative bg-black/20 backdrop-blur-md border-b border-white/10",children:(0,We.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-3 mr-4 shadow-lg shadow-purple-500/25",children:(0,We.jsx)(Fe,{className:"h-6 w-6 text-white"})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-xl font-bold text-white",children:"API Key Management"}),(0,We.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage digital signature API keys"})]})]}),(0,We.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,We.jsxs)("button",{onClick:()=>C(),disabled:i,className:"flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors disabled:opacity-50",children:[(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 "+(i?"animate-spin":"")}),"Refresh"]}),(0,We.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg shadow-lg transition-colors",children:[(0,We.jsx)(Le,{className:"h-4 w-4 mr-2"}),"New API Key"]})]})]})})}),(0,We.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[y&&(0,We.jsx)("div",{className:"mb-6 bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)(dc,{className:"h-5 w-5 text-red-400 mr-2"}),(0,We.jsx)("span",{className:"text-red-400",children:y})]})}),v&&(0,We.jsx)("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)(ze,{className:"h-5 w-5 text-green-400 mr-2"}),(0,We.jsx)("span",{className:"text-green-400",children:v})]})}),(0,We.jsx)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden",children:i?(0,We.jsxs)("div",{className:"p-8 text-center",children:[(0,We.jsx)(mc,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-4"}),(0,We.jsx)("p",{className:"text-gray-400",children:"Loading API keys..."})]}):(0,We.jsx)("div",{className:"overflow-x-auto",children:(0,We.jsxs)("table",{className:"w-full",children:[(0,We.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"API Key"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name & Type"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Entity"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usage"}),(0,We.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,We.jsx)("tbody",{className:"divide-y divide-white/10",children:o.map(e=>(0,We.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("div",{className:"flex items-center space-x-2",children:(0,We.jsx)("div",{className:"flex-1",children:(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("span",{className:"text-sm font-mono text-gray-300",children:N[e._id]?e.key:`${e.key.substring(0,12)}...`}),(0,We.jsx)("button",{onClick:()=>j(t=>({...t,[e._id]:!t[e._id]})),className:"text-gray-400 hover:text-white",children:N[e._id]?(0,We.jsx)(rc,{className:"h-4 w-4"}):(0,We.jsx)(Ae,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>{return t=e.key,navigator.clipboard.writeText(t),void w("API key copied to clipboard");var t},className:"text-gray-400 hover:text-white",children:(0,We.jsx)(Fc,{className:"h-4 w-4"})})]})})})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[P(e.type),(0,We.jsxs)("div",{children:[(0,We.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,We.jsx)("div",{className:"text-sm text-gray-400 capitalize",children:e.type})]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsx)("div",{className:"text-sm text-gray-300",children:e.entityId?(0,We.jsxs)("span",{children:[e.entityId.name||e.entityId.firstName," ",e.entityId.lastName]}):(0,We.jsx)("span",{className:"text-gray-500",children:"No entity"})})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_(e)}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,We.jsxs)("div",{children:["Used ",e.usageCount," times"]}),e.lastUsed&&(0,We.jsxs)("div",{className:"text-xs text-gray-400",children:["Last: ",new Date(e.lastUsed).toLocaleDateString()]})]})}),(0,We.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,We.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,We.jsx)("button",{onClick:()=>{f(e),m(!0)},className:"text-blue-400 hover:text-blue-300",children:(0,We.jsx)(Cc,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to regenerate this API key? The old key will no longer work."))try{const t=await fetch(`${E}/api/apikeys/${e}/regenerate`,{method:"POST",headers:a()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to regenerate API key")}w("API key regenerated successfully"),C()}catch(y){console.error("Error regenerating API key:",y),b(y.message)}})(e._id),className:"text-yellow-400 hover:text-yellow-300",children:(0,We.jsx)(mc,{className:"h-4 w-4"})}),(0,We.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this API key? This action cannot be undone."))try{const t=await fetch(`${E}/api/apikeys/${e}`,{method:"DELETE",headers:a()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete API key")}w("API key deleted successfully"),C()}catch(y){console.error("Error deleting API key:",y),b(y.message)}})(e._id),className:"text-red-400 hover:text-red-300",children:(0,We.jsx)(lc,{className:"h-4 w-4"})})]})})]},e._id))})]})})})]}),d&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create New API Key"}),(0,We.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white",children:(0,We.jsx)(dc,{className:"h-6 w-6"})})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,We.jsx)("input",{type:"text",value:k.name,onChange:e=>S(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter API key name"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,We.jsx)("textarea",{value:k.description,onChange:e=>S(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter description",rows:3})]}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),(0,We.jsxs)("select",{value:k.type,onChange:e=>S(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"internal",children:"Internal"}),(0,We.jsx)("option",{value:"customer",children:"Customer"}),(0,We.jsx)("option",{value:"dealer",children:"Dealer"}),(0,We.jsx)("option",{value:"system",children:"System"})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entity Type"}),(0,We.jsxs)("select",{value:k.entityType,onChange:e=>S(t=>({...t,entityType:e.target.value,entityId:""})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"User",children:"User"}),(0,We.jsx)("option",{value:"Dealer",children:"Dealer"}),(0,We.jsx)("option",{value:"Deal",children:"Deal"})]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entity"}),(0,We.jsxs)("select",{value:k.entityId,onChange:e=>S(t=>({...t,entityId:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,We.jsx)("option",{value:"",children:"Select entity"}),(e=>{switch(e){case"User":return T.users.map(e=>({value:e._id,label:`${e.firstName} ${e.lastName} (${e.email})`}));case"Dealer":return T.dealers.map(e=>({value:e._id,label:`${e.name} (${e.email||"No email"})`}));case"Deal":return T.deals.map(e=>({value:e._id,label:`${e.vehicle} (${e.stockNumber})`}));default:return[]}})(k.entityType).map(e=>(0,We.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expires At (Optional)"}),(0,We.jsx)("input",{type:"datetime-local",value:k.expiresAt,onChange:e=>S(t=>({...t,expiresAt:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Permissions"}),(0,We.jsxs)("div",{className:"space-y-2",children:[(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:k.permissions.signAgreements,onChange:e=>S(t=>({...t,permissions:{...t.permissions,signAgreements:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Sign Agreements"})]}),(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:k.permissions.viewDocuments,onChange:e=>S(t=>({...t,permissions:{...t.permissions,viewDocuments:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"View Documents"})]}),(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:k.permissions.createSignatures,onChange:e=>S(t=>({...t,permissions:{...t.permissions,createSignatures:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Create Signatures"})]})]})]})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,We.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:async()=>{try{x(!0),b(null);const e=await fetch(`${E}/api/apikeys`,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(k)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to create API key")}await e.json();w("API key created successfully"),u(!1),S({name:"",description:"",type:"internal",entityId:"",entityType:"User",permissions:{signAgreements:!0,viewDocuments:!0,createSignatures:!0},expiresAt:""}),C()}catch(y){console.error("Error creating API key:",y),b(y.message)}finally{x(!1)}},disabled:g||!k.name||!k.entityId,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[g?(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(Le,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})]})}),p&&h&&(0,We.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,We.jsxs)("div",{className:"bg-gray-800 rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,We.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,We.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit API Key"}),(0,We.jsx)("button",{onClick:()=>{m(!1),f(null)},className:"text-gray-400 hover:text-white",children:(0,We.jsx)(dc,{className:"h-6 w-6"})})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,We.jsx)("input",{type:"text",value:h.name||"",onChange:e=>f(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,We.jsx)("textarea",{value:h.description||"",onChange:e=>f(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expires At (Optional)"}),(0,We.jsx)("input",{type:"datetime-local",value:h.expiresAt?new Date(h.expiresAt).toISOString().slice(0,16):"",onChange:e=>f(t=>({...t,expiresAt:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Permissions"}),(0,We.jsxs)("div",{className:"space-y-2",children:[(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:(null===(e=h.permissions)||void 0===e?void 0:e.signAgreements)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,signAgreements:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Sign Agreements"})]}),(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:(null===(t=h.permissions)||void 0===t?void 0:t.viewDocuments)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,viewDocuments:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"View Documents"})]}),(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:(null===(n=h.permissions)||void 0===n?void 0:n.createSignatures)||!1,onChange:e=>f(t=>({...t,permissions:{...t.permissions,createSignatures:e.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Create Signatures"})]})]})]}),(0,We.jsx)("div",{children:(0,We.jsxs)("label",{className:"flex items-center",children:[(0,We.jsx)("input",{type:"checkbox",checked:h.isActive,onChange:e=>f(t=>({...t,isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,We.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Active"})]})})]}),(0,We.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-white/10",children:[(0,We.jsx)("button",{onClick:()=>{m(!1),f(null)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,We.jsxs)("button",{onClick:async()=>{try{x(!0),b(null);const e=await fetch(`${E}/api/apikeys/${h._id}`,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(h)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to update API key")}w("API key updated successfully"),m(!1),f(null),C()}catch(y){console.error("Error updating API key:",y),b(y.message)}finally{x(!1)}},disabled:g||!h.name,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[g?(0,We.jsx)(mc,{className:"h-4 w-4 mr-2 animate-spin"}):(0,We.jsx)(Cc,{className:"h-4 w-4 mr-2"}),"Update API Key"]})]})]})})]})};function Qc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jc}=Object.prototype,{getPrototypeOf:Xc}=Object,{iterator:Zc,toStringTag:ed}=Symbol,td=(nd=Object.create(null),e=>{const t=Jc.call(e);return nd[t]||(nd[t]=t.slice(8,-1).toLowerCase())});var nd;const rd=e=>(e=e.toLowerCase(),t=>td(t)===e),ad=e=>t=>typeof t===e,{isArray:sd}=Array,od=ad("undefined");const ld=rd("ArrayBuffer");const id=ad("string"),cd=ad("function"),dd=ad("number"),ud=e=>null!==e&&"object"===typeof e,pd=e=>{if("object"!==td(e))return!1;const t=Xc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ed in e)&&!(Zc in e)},md=rd("Date"),hd=rd("File"),fd=rd("Blob"),gd=rd("FileList"),xd=rd("URLSearchParams"),[yd,bd,vd,wd]=["ReadableStream","Request","Response","Headers"].map(rd);function Nd(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),sd(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function jd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const kd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Sd=e=>!od(e)&&e!==kd;const Td=(Dd="undefined"!==typeof Uint8Array&&Xc(Uint8Array),e=>Dd&&e instanceof Dd);var Dd;const Ed=rd("HTMLFormElement"),Cd=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_d=rd("RegExp"),Pd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Nd(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const Ad=rd("AsyncFunction"),Rd=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],kd.addEventListener("message",e=>{let{source:t,data:a}=e;t===kd&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),kd.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,cd(kd.postMessage)),Ld="undefined"!==typeof queueMicrotask?queueMicrotask.bind(kd):"undefined"!==typeof process&&process.nextTick||Rd,Md={isArray:sd,isArrayBuffer:ld,isBuffer:function(e){return null!==e&&!od(e)&&null!==e.constructor&&!od(e.constructor)&&cd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||cd(e.append)&&("formdata"===(t=td(e))||"object"===t&&cd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ld(e.buffer),t},isString:id,isNumber:dd,isBoolean:e=>!0===e||!1===e,isObject:ud,isPlainObject:pd,isReadableStream:yd,isRequest:bd,isResponse:vd,isHeaders:wd,isUndefined:od,isDate:md,isFile:hd,isBlob:fd,isRegExp:_d,isFunction:cd,isStream:e=>ud(e)&&cd(e.pipe),isURLSearchParams:xd,isTypedArray:Td,isFileList:gd,forEach:Nd,merge:function e(){const{caseless:t}=Sd(this)&&this||{},n={},r=(r,a)=>{const s=t&&jd(n,a)||a;pd(n[s])&&pd(r)?n[s]=e(n[s],r):pd(r)?n[s]=e({},r):sd(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Nd(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Nd(t,(t,r)=>{n&&cd(t)?e[r]=Qc(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&Xc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:td,kindOfTest:rd,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(sd(e))return e;let t=e.length;if(!dd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Zc]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ed,hasOwnProperty:Cd,hasOwnProp:Cd,reduceDescriptors:Pd,freezeMethods:e=>{Pd(e,(t,n)=>{if(cd(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];cd(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return sd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:jd,global:kd,isContextDefined:Sd,isSpecCompliantForm:function(e){return!!(e&&cd(e.append)&&"FormData"===e[ed]&&e[Zc])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ud(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=sd(e)?[]:{};return Nd(e,(e,t)=>{const s=n(e,r+1);!od(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Ad,isThenable:e=>e&&(ud(e)||cd(e))&&cd(e.then)&&cd(e.catch),setImmediate:Rd,asap:Ld,isIterable:e=>null!=e&&cd(e[Zc])};function Od(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Md.inherits(Od,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Md.toJSONObject(this.config),code:this.code,status:this.status}}});const Id=Od.prototype,Fd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fd[e]={value:e}}),Object.defineProperties(Od,Fd),Object.defineProperty(Id,"isAxiosError",{value:!0}),Od.from=(e,t,n,r,a,s)=>{const o=Object.create(Id);return Md.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Od.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Ud=Od;function Bd(e){return Md.isPlainObject(e)||Md.isArray(e)}function Hd(e){return Md.endsWith(e,"[]")?e.slice(0,-2):e}function $d(e,t,n){return e?e.concat(t).map(function(e,t){return e=Hd(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const zd=Md.toFlatObject(Md,{},null,function(e){return/^is[A-Z]/.test(e)});const Vd=function(e,t,n){if(!Md.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Md.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Md.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Md.isSpecCompliantForm(t);if(!Md.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Md.isDate(e))return e.toISOString();if(Md.isBoolean(e))return e.toString();if(!l&&Md.isBlob(e))throw new Ud("Blob is not supported. Use a Buffer instead.");return Md.isArrayBuffer(e)||Md.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(Md.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Md.isArray(e)&&function(e){return Md.isArray(e)&&!e.some(Bd)}(e)||(Md.isFileList(e)||Md.endsWith(n,"[]"))&&(l=Md.toArray(e)))return n=Hd(n),l.forEach(function(e,r){!Md.isUndefined(e)&&null!==e&&t.append(!0===o?$d([n],r,s):null===o?n:n+"[]",i(e))}),!1;return!!Bd(e)||(t.append($d(a,n,s),i(e)),!1)}const d=[],u=Object.assign(zd,{defaultVisitor:c,convertValue:i,isVisitable:Bd});if(!Md.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Md.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Md.forEach(n,function(n,s){!0===(!(Md.isUndefined(n)||null===n)&&a.call(t,n,Md.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function Wd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Yd(e,t){this._pairs=[],e&&Vd(e,this,t)}const qd=Yd.prototype;qd.append=function(e,t){this._pairs.push([e,t])},qd.toString=function(e){const t=e?function(t){return e.call(this,t,Wd)}:Wd;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Kd=Yd;function Gd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qd(e,t,n){if(!t)return e;const r=n&&n.encode||Gd;Md.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Md.isURLSearchParams(t)?t.toString():new Kd(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Jd=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Md.forEach(this.handlers,function(t){null!==t&&e(t)})}},Xd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Kd,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},eu="undefined"!==typeof window&&"undefined"!==typeof document,tu="object"===typeof navigator&&navigator||void 0,nu=eu&&(!tu||["ReactNative","NativeScript","NS"].indexOf(tu.product)<0),ru="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,au=eu&&window.location.href||"http://localhost",su={...r,...Zd};const ou=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),l=a>=e.length;if(s=!s&&Md.isArray(r)?r.length:s,l)return Md.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&Md.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Md.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(Md.isFormData(e)&&Md.isFunction(e.entries)){const n={};return Md.forEachEntry(e,(e,r)=>{t(function(e){return Md.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const lu={transitional:Xd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Md.isObject(e);a&&Md.isHTMLForm(e)&&(e=new FormData(e));if(Md.isFormData(e))return r?JSON.stringify(ou(e)):e;if(Md.isArrayBuffer(e)||Md.isBuffer(e)||Md.isStream(e)||Md.isFile(e)||Md.isBlob(e)||Md.isReadableStream(e))return e;if(Md.isArrayBufferView(e))return e.buffer;if(Md.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Vd(e,new su.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return su.isNode&&Md.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Md.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Vd(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Md.isString(e))try{return(t||JSON.parse)(e),Md.trim(e)}catch(xp){if("SyntaxError"!==xp.name)throw xp}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||lu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Md.isResponse(e)||Md.isReadableStream(e))return e;if(e&&Md.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(xp){if(n){if("SyntaxError"===xp.name)throw Ud.from(xp,Ud.ERR_BAD_RESPONSE,this,null,this.response);throw xp}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:su.classes.FormData,Blob:su.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Md.forEach(["delete","get","head","post","put","patch"],e=>{lu.headers[e]={}});const iu=lu,cu=Md.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),du=Symbol("internals");function uu(e){return e&&String(e).trim().toLowerCase()}function pu(e){return!1===e||null==e?e:Md.isArray(e)?e.map(pu):String(e)}function mu(e,t,n,r,a){return Md.isFunction(r)?r.call(this,t,n):(a&&(t=n),Md.isString(t)?Md.isString(r)?-1!==t.indexOf(r):Md.isRegExp(r)?r.test(t):void 0:void 0)}class hu{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=uu(t);if(!a)throw new Error("header name must be a non-empty string");const s=Md.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=pu(e))}const s=(e,t)=>Md.forEach(e,(e,n)=>a(e,n,t));if(Md.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Md.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&cu[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Md.isObject(e)&&Md.isIterable(e)){let n,r,a={};for(const t of e){if(!Md.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Md.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=uu(e)){const n=Md.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Md.isFunction(t))return t.call(this,e,n);if(Md.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=uu(e)){const n=Md.findKey(this,e);return!(!n||void 0===this[n]||t&&!mu(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=uu(e)){const a=Md.findKey(n,e);!a||t&&!mu(0,n[a],a,t)||(delete n[a],r=!0)}}return Md.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!mu(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Md.forEach(this,(r,a)=>{const s=Md.findKey(n,a);if(s)return t[s]=pu(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();o!==a&&delete t[a],t[o]=pu(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Md.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Md.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[du]=this[du]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=uu(e);t[r]||(!function(e,t){const n=Md.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Md.isArray(e)?e.forEach(r):r(e),this}}hu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Md.reduceDescriptors(hu.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Md.freezeMethods(hu);const fu=hu;function gu(e,t){const n=this||iu,r=t||n,a=fu.from(r.headers);let s=r.data;return Md.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function xu(e){return!(!e||!e.__CANCEL__)}function yu(e,t,n){Ud.call(this,null==e?"canceled":e,Ud.ERR_CANCELED,t,n),this.name="CanceledError"}Md.inherits(yu,Ud,{__CANCEL__:!0});const bu=yu;function vu(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ud("Request failed with status code "+n.status,[Ud.ERR_BAD_REQUEST,Ud.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const wu=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(l){const i=Date.now(),c=r[o];a||(a=i),n[s]=l,r[s]=i;let d=o,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),i-a<t)return;const p=c&&i-c;return p?Math.round(1e3*u/p):void 0}};const Nu=function(e,t){let n,r,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];t>=s?o(i,e):(n=i,r||(r=setTimeout(()=>{r=null,o(n)},s-t)))},()=>n&&o(n)]},ju=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=wu(50,250);return Nu(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,l=s-r,i=a(l);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:i||void 0,estimated:i&&o&&s<=o?(o-s)/i:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},ku=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Su=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Md.asap(()=>e(...n))},Tu=su.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,su.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(su.origin),su.navigator&&/(msie|trident)/i.test(su.navigator.userAgent)):()=>!0,Du=su.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const o=[e+"="+encodeURIComponent(t)];Md.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Md.isString(r)&&o.push("path="+r),Md.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Eu(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Cu=e=>e instanceof fu?{...e}:e;function _u(e,t){t=t||{};const n={};function r(e,t,n,r){return Md.isPlainObject(e)&&Md.isPlainObject(t)?Md.merge.call({caseless:r},e,t):Md.isPlainObject(t)?Md.merge({},t):Md.isArray(t)?t.slice():t}function a(e,t,n,a){return Md.isUndefined(t)?Md.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Md.isUndefined(t))return r(void 0,t)}function o(e,t){return Md.isUndefined(t)?Md.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t,n)=>a(Cu(e),Cu(t),0,!0)};return Md.forEach(Object.keys(Object.assign({},e,t)),function(r){const s=i[r]||a,o=s(e[r],t[r],r);Md.isUndefined(o)&&s!==l||(n[r]=o)}),n}const Pu=e=>{const t=_u({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:i}=t;if(t.headers=l=fu.from(l),t.url=Qd(Eu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Md.isFormData(r))if(su.hasStandardBrowserEnv||su.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(su.hasStandardBrowserEnv&&(a&&Md.isFunction(a)&&(a=a(t)),a||!1!==a&&Tu(t.url))){const e=s&&o&&Du.read(o);e&&l.set(s,e)}return t},Au="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Pu(e);let a=r.data;const s=fu.from(r.headers).normalize();let o,l,i,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=fu.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());vu(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Ud("Request aborted",Ud.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Ud("Network Error",Ud.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Xd;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ud(t,a.clarifyTimeoutError?Ud.ETIMEDOUT:Ud.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&Md.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Md.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),m&&([i,d]=ju(m,!0),f.addEventListener("progress",i)),p&&f.upload&&([l,c]=ju(p),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{f&&(n(!t||t.type?new bu(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===su.protocols.indexOf(x)?n(new Ud("Unsupported protocol "+x+":",Ud.ERR_BAD_REQUEST,e)):f.send(a||null)})},Ru=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ud?t:new bu(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Ud(`timeout ${t} of ms exceeded`,Ud.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Md.asap(o),l}},Lu=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Mu=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Ou=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of Mu(e))yield*Lu(n,t)}(e,t);let s,o=0,l=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},Iu="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Fu=Iu&&"function"===typeof ReadableStream,Uu=Iu&&("function"===typeof TextEncoder?(Bu=new TextEncoder,e=>Bu.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Bu;const Hu=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(xp){return!1}},$u=Fu&&Hu(()=>{let e=!1;const t=new Request(su.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),zu=Fu&&Hu(()=>Md.isReadableStream(new Response("").body)),Vu={stream:zu&&(e=>e.body)};var Wu;Iu&&(Wu=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vu[e]&&(Vu[e]=Md.isFunction(Wu[e])?t=>t[e]():(t,n)=>{throw new Ud(`Response type '${e}' is not supported`,Ud.ERR_NOT_SUPPORT,n)})}));const Yu=async(e,t)=>{const n=Md.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Md.isBlob(e))return e.size;if(Md.isSpecCompliantForm(e)){const t=new Request(su.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Md.isArrayBufferView(e)||Md.isArrayBuffer(e)?e.byteLength:(Md.isURLSearchParams(e)&&(e+=""),Md.isString(e)?(await Uu(e)).byteLength:void 0)})(t):n},qu=Iu&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:i,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=Pu(e);c=c?(c+"").toLowerCase():"text";let m,h=Ru([a,s&&s.toAbortSignal()],o);const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(i&&$u&&"get"!==n&&"head"!==n&&0!==(g=await Yu(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Md.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=ku(g,ju(Su(i)));r=Ou(n.body,65536,e,t)}}Md.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0});let s=await fetch(m,p);const o=zu&&("stream"===c||"response"===c);if(zu&&(l||o&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=Md.toFiniteNumber(s.headers.get("content-length")),[n,r]=l&&ku(t,ju(Su(l),!0))||[];s=new Response(Ou(s.body,65536,n,()=>{r&&r(),f&&f()}),e)}c=c||"text";let x=await Vu[Md.findKey(Vu,c)||"text"](s,e);return!o&&f&&f(),await new Promise((t,n)=>{vu(t,n,{data:x,headers:fu.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:m})})}catch(x){if(f&&f(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new Ud("Network Error",Ud.ERR_NETWORK,e,m),{cause:x.cause||x});throw Ud.from(x,x&&x.code,e,m)}}),Ku={http:null,xhr:Au,fetch:qu};Md.forEach(Ku,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(xp){}Object.defineProperty(e,"adapterName",{value:t})}});const Gu=e=>`- ${e}`,Qu=e=>Md.isFunction(e)||null===e||!1===e,Ju=e=>{e=Md.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Qu(n)&&(r=Ku[(t=String(n)).toLowerCase()],void 0===r))throw new Ud(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Gu).join("\n"):" "+Gu(e[0]):"as no adapter specified";throw new Ud("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Xu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bu(null,e)}function Zu(e){Xu(e),e.headers=fu.from(e.headers),e.data=gu.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ju(e.adapter||iu.adapter)(e).then(function(t){return Xu(e),t.data=gu.call(e,e.transformResponse,t),t.headers=fu.from(t.headers),t},function(t){return xu(t)||(Xu(e),t&&t.response&&(t.response.data=gu.call(e,e.transformResponse,t.response),t.response.headers=fu.from(t.response.headers))),Promise.reject(t)})}const ep="1.10.0",tp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const np={};tp.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ep+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Ud(r(a," has been removed"+(t?" in "+t:"")),Ud.ERR_DEPRECATED);return t&&!np[a]&&(np[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},tp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const rp={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ud("options must be an object",Ud.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Ud("option "+s+" must be "+n,Ud.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ud("Unknown option "+s,Ud.ERR_BAD_OPTION)}},validators:tp},ap=rp.validators;class sp{constructor(e){this.defaults=e||{},this.interceptors={request:new Jd,response:new Jd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(xp){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=_u(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&rp.assertOptions(n,{silentJSONParsing:ap.transitional(ap.boolean),forcedJSONParsing:ap.transitional(ap.boolean),clarifyTimeoutError:ap.transitional(ap.boolean)},!1),null!=r&&(Md.isFunction(r)?t.paramsSerializer={serialize:r}:rp.assertOptions(r,{encode:ap.function,serialize:ap.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rp.assertOptions(t,{baseUrl:ap.spelling("baseURL"),withXsrfToken:ap.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Md.merge(a.common,a[t.method]);a&&Md.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=fu.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[Zu.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let p=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=Zu.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return Qd(Eu((e=_u(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Md.forEach(["delete","get","head","options"],function(e){sp.prototype[e]=function(t,n){return this.request(_u(n||{},{method:e,url:t,data:(n||{}).data}))}}),Md.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(_u(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}sp.prototype[e]=t(),sp.prototype[e+"Form"]=t(!0)});const op=sp;class lp{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new bu(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new lp(function(t){e=t}),cancel:e}}}const ip=lp;const cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cp).forEach(e=>{let[t,n]=e;cp[n]=t});const dp=cp;const up=function e(t){const n=new op(t),r=Qc(op.prototype.request,n);return Md.extend(r,op.prototype,n,{allOwnKeys:!0}),Md.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_u(t,n))},r}(iu);up.Axios=op,up.CanceledError=bu,up.CancelToken=ip,up.isCancel=xu,up.VERSION=ep,up.toFormData=Vd,up.AxiosError=Ud,up.Cancel=up.CanceledError,up.all=function(e){return Promise.all(e)},up.spread=function(e){return function(t){return e.apply(null,t)}},up.isAxiosError=function(e){return Md.isObject(e)&&!0===e.isAxiosError},up.mergeConfig=_u,up.AxiosHeaders=fu,up.formToJSON=e=>ou(Md.isHTMLForm(e)?new FormData(e):e),up.getAdapter=Ju,up.HttpStatusCode=dp,up.default=up;const pp=up,mp=e=>{var t,n,r,a,o,l,i;let{signatureId:c,apiKey:d,onSignatureComplete:u}=e;const[p,m]=(0,s.useState)(1),[h,f]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[v,w]=(0,s.useState)({intentToSign:!1,electronicBusiness:!1}),[N,j]=(0,s.useState)(null),[k,S]=(0,s.useState)(""),[T,D]=(0,s.useState)("draw"),E=(0,s.useRef)(null),C=(0,s.useRef)(!1);(0,s.useEffect)(()=>{c&&_()},[c]);const _=async()=>{try{f(!0);const e=await pp.get(`/api/signatures/status/${c}`,{headers:{"x-api-key":d}});b(e.data),"signed"===e.data.status&&m(4)}catch(g){x("Failed to load signature request"),console.error("Error fetching signature status:",g)}finally{f(!1)}},P=async e=>{try{f(!0);const t="intent"===e?"/api/signatures/consent/intent-to-sign":"/api/signatures/consent/electronic-business";await pp.post(t,{signatureId:c,ipAddress:"client-ip",userAgent:navigator.userAgent},{headers:{"x-api-key":d}}),w(t=>({...t,["intent"===e?"intentToSign":"electronicBusiness"]:!0})),"electronicBusiness"===e&&m(3)}catch(g){x(`Failed to record ${e} consent`),console.error("Error recording consent:",g)}finally{f(!1)}},A=()=>{C.current=!1;const e=E.current;j(e.toDataURL())};return h?(0,We.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,We.jsx)("span",{className:"ml-2",children:"Processing..."})]}):g?(0,We.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,We.jsx)("div",{className:"text-red-800 font-medium",children:"Error"}),(0,We.jsx)("div",{className:"text-red-600",children:g}),(0,We.jsx)("button",{onClick:()=>x(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Try Again"})]}):(0,We.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,We.jsx)("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(e=>(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(p>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:e}),e<4&&(0,We.jsx)("div",{className:"w-16 h-1 mx-2 "+(p>e?"bg-blue-600":"bg-gray-200")})]},e))}),1===p&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Legal Consent"}),(0,We.jsx)("p",{className:"text-gray-600",children:"Please review and agree to the following terms"})]}),(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,We.jsx)("input",{type:"checkbox",id:"intentToSign",checked:v.intentToSign,onChange:e=>w(t=>({...t,intentToSign:e.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 rounded"}),(0,We.jsxs)("label",{htmlFor:"intentToSign",className:"text-sm text-gray-700",children:[(0,We.jsx)("strong",{children:"Intent to Sign Electronically:"})," I agree to sign this document electronically. I understand that my electronic signature is legally binding and has the same effect as a handwritten signature."]})]}),(0,We.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,We.jsx)("input",{type:"checkbox",id:"electronicBusiness",checked:v.electronicBusiness,onChange:e=>w(t=>({...t,electronicBusiness:e.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 rounded"}),(0,We.jsxs)("label",{htmlFor:"electronicBusiness",className:"text-sm text-gray-700",children:[(0,We.jsx)("strong",{children:"Consent to Electronic Business:"})," I consent to conduct business electronically. I understand that electronic signatures and records are legally binding and admissible in court."]})]})]}),(0,We.jsx)("button",{onClick:async()=>{v.intentToSign||await P("intent"),v.electronicBusiness||await P("electronicBusiness")},disabled:!v.intentToSign||!v.electronicBusiness,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Continue to Signature"})]}),2===p&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document Review"}),(0,We.jsx)("p",{className:"text-gray-600",children:"Please review the document before signing"})]}),y&&(0,We.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,We.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Document Details"}),(0,We.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,We.jsxs)("div",{children:["Document Type: ",null===(t=y.signature)||void 0===t?void 0:t.documentType]}),(0,We.jsxs)("div",{children:["Signer: ",null===(n=y.signature)||void 0===n?void 0:n.signerName]}),(0,We.jsxs)("div",{children:["Status: ",null===(r=y.signature)||void 0===r?void 0:r.status]})]})]}),(0,We.jsx)("button",{onClick:()=>m(3),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700",children:"Proceed to Signature"})]}),3===p&&(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign Document"}),(0,We.jsx)("p",{className:"text-gray-600",children:"Please provide your signature below"})]}),(0,We.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,We.jsx)("button",{onClick:()=>D("draw"),className:"px-4 py-2 rounded-lg font-medium "+("draw"===T?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Draw Signature"}),(0,We.jsx)("button",{onClick:()=>D("type"),className:"px-4 py-2 rounded-lg font-medium "+("type"===T?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Type Signature"})]}),"draw"===T?(0,We.jsxs)("div",{className:"space-y-4",children:[(0,We.jsx)("canvas",{ref:E,width:400,height:200,className:"border-2 border-gray-300 rounded-lg cursor-crosshair",onMouseDown:e=>{C.current=!0;const t=E.current,n=t.getContext("2d"),r=t.getBoundingClientRect();n.beginPath(),n.moveTo(e.clientX-r.left,e.clientY-r.top)},onMouseMove:e=>{if(!C.current)return;const t=E.current,n=t.getContext("2d"),r=t.getBoundingClientRect();n.lineTo(e.clientX-r.left,e.clientY-r.top),n.stroke()},onMouseUp:A,onMouseLeave:A}),(0,We.jsx)("button",{onClick:()=>{const e=E.current;e.getContext("2d").clearRect(0,0,e.width,e.height),j(null)},className:"text-gray-600 hover:text-gray-800 underline",children:"Clear Signature"})]}):(0,We.jsx)("div",{className:"space-y-4",children:(0,We.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Type your full name as signature",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,We.jsx)("button",{onClick:async()=>{if("draw"!==T||N)if("type"!==T||k.trim())try{f(!0);const e={signatureId:c,signatureImage:"draw"===T?N:null,typedSignature:"type"===T?k:null,coordinates:{x:100,y:200,page:1},ipAddress:"client-ip",userAgent:navigator.userAgent},t=await pp.post("/api/signatures/sign",e,{headers:{"x-api-key":d}});b(t.data),m(4),u&&u(t.data)}catch(g){x("Failed to submit signature"),console.error("Error submitting signature:",g)}finally{f(!1)}else x("Please type your signature");else x("Please draw your signature")},disabled:"draw"===T&&!N||"type"===T&&!k.trim(),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Sign Document"})]}),4===p&&(0,We.jsxs)("div",{className:"text-center space-y-6",children:[(0,We.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,We.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,We.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document Signed Successfully!"}),(0,We.jsx)("p",{className:"text-gray-600",children:"Your signature has been recorded and the document is now legally binding."})]}),y&&(0,We.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,We.jsx)("h3",{className:"font-medium text-green-900 mb-2",children:"Signature Details"}),(0,We.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,We.jsxs)("div",{children:["Signed by: ",null===(a=y.signature)||void 0===a?void 0:a.signerName]}),(0,We.jsxs)("div",{children:["Date: ",new Date(null===(o=y.signature)||void 0===o||null===(l=o.signatureData)||void 0===l?void 0:l.timestamp).toLocaleString()]}),(0,We.jsxs)("div",{children:["Status: ",null===(i=y.signature)||void 0===i?void 0:i.status]})]})]}),(0,We.jsx)("div",{className:"text-sm text-gray-500",children:"A copy of the signed document has been sent to your email address."})]})]})},hp=()=>{var e;const{signatureId:t}=ne(),{getAuthHeaders:n}=Ke(),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null),d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://astonishing-chicken-production.up.railway.app";if((0,s.useEffect)(()=>{t&&(async()=>{try{l(!0);const e=await fetch(`${d}/api/signatures/${t}/compliance`,{headers:n(),credentials:"include"});if(e.ok){const t=await e.json();a(t)}else c("Failed to fetch compliance report")}catch(i){console.error("Error fetching compliance:",i),c("Error fetching compliance report")}finally{l(!1)}})()},[t,n]),o)return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsxs)("div",{className:"text-white text-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,We.jsx)("p",{children:"Loading compliance report..."})]})});if(i)return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsx)("div",{className:"text-red-400 text-center",children:(0,We.jsxs)("p",{children:["Error: ",i]})})});if(!r)return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:(0,We.jsx)("div",{className:"text-white text-center",children:(0,We.jsx)("p",{children:"No compliance data found"})})});const{compliance:u,auditTrail:p}=r;return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-8",children:(0,We.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,We.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Legal Compliance Report"}),(0,We.jsx)("div",{className:"mb-8 p-6 rounded-lg border-2 "+(u.isCompliant?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,We.jsxs)("div",{className:"flex items-center",children:[(0,We.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center "+(u.isCompliant?"bg-green-500":"bg-red-500"),children:u.isCompliant?(0,We.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,We.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,We.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,We.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,We.jsxs)("div",{className:"ml-3",children:[(0,We.jsx)("h2",{className:"text-xl font-semibold "+(u.isCompliant?"text-green-800":"text-red-800"),children:u.isCompliant?"\u2705 LEGALLY COMPLIANT":"\u274c NOT COMPLIANT"}),(0,We.jsxs)("p",{className:"text-sm "+(u.isCompliant?"text-green-700":"text-red-700"),children:["This signature meets ",u.isCompliant?"all":"some"," ESIGN and UETA requirements"]})]})]})}),(0,We.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,We.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(u.intentToSign?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,We.jsxs)("div",{className:"flex items-center mb-3",children:[(0,We.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(u.intentToSign?"bg-green-500":"bg-red-500"),children:u.intentToSign?"\u2713":"\u2717"}),(0,We.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"1. Intent to Sign"})]}),(0,We.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"User took clear affirmative action to sign electronically"}),p.intentToSign.timestamp&&(0,We.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,We.jsxs)("p",{children:["Timestamp: ",new Date(p.intentToSign.timestamp).toLocaleString()]}),(0,We.jsxs)("p",{children:["IP Address: ",p.intentToSign.ipAddress]})]})]}),(0,We.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(u.consentToElectronicBusiness?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,We.jsxs)("div",{className:"flex items-center mb-3",children:[(0,We.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(u.consentToElectronicBusiness?"bg-green-500":"bg-red-500"),children:u.consentToElectronicBusiness?"\u2713":"\u2717"}),(0,We.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"2. Consent to Electronic Business"})]}),(0,We.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"User agreed to conduct business electronically"}),p.consentToElectronicBusiness.timestamp&&(0,We.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,We.jsxs)("p",{children:["Timestamp: ",new Date(p.consentToElectronicBusiness.timestamp).toLocaleString()]}),(0,We.jsxs)("p",{children:["IP Address: ",p.consentToElectronicBusiness.ipAddress]})]})]}),(0,We.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(u.signatureAssociation?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,We.jsxs)("div",{className:"flex items-center mb-3",children:[(0,We.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(u.signatureAssociation?"bg-green-500":"bg-red-500"),children:u.signatureAssociation?"\u2713":"\u2717"}),(0,We.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"3. Clear Signature Association"})]}),(0,We.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Signature is tied to a specific user identity"}),(0,We.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,We.jsxs)("p",{children:["Verification Method: ",p.signatureAssociation.identityVerificationMethod]}),(0,We.jsxs)("p",{children:["Verified: ",p.signatureAssociation.signerIdentityVerified?"Yes":"No"]})]})]}),(0,We.jsxs)("div",{className:"p-6 rounded-lg border-2 "+(u.documentIntegrity?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,We.jsxs)("div",{className:"flex items-center mb-3",children:[(0,We.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center "+(u.documentIntegrity?"bg-green-500":"bg-red-500"),children:u.documentIntegrity?"\u2713":"\u2717"}),(0,We.jsx)("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"4. Document Integrity"})]}),(0,We.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Document is tamper-evident and verified"}),(0,We.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,We.jsxs)("p",{children:["Document Hash: ",null===(e=p.documentIntegrity.documentHash)||void 0===e?void 0:e.substring(0,16),"..."]}),(0,We.jsxs)("p",{children:["Signature Verified: ",p.documentIntegrity.isVerified?"Yes":"No"]})]})]})]}),(0,We.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,We.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Audit Trail"}),(0,We.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Intent to Sign"}),(0,We.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,We.jsxs)("p",{children:["Timestamp: ",p.intentToSign.timestamp?new Date(p.intentToSign.timestamp).toLocaleString():"Not recorded"]}),(0,We.jsxs)("p",{children:["IP Address: ",p.intentToSign.ipAddress||"Not recorded"]}),(0,We.jsxs)("p",{children:["User Agent: ",p.intentToSign.userAgent?p.intentToSign.userAgent.substring(0,50)+"...":"Not recorded"]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Electronic Business Consent"}),(0,We.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,We.jsxs)("p",{children:["Timestamp: ",p.consentToElectronicBusiness.timestamp?new Date(p.consentToElectronicBusiness.timestamp).toLocaleString():"Not recorded"]}),(0,We.jsxs)("p",{children:["IP Address: ",p.consentToElectronicBusiness.ipAddress||"Not recorded"]}),(0,We.jsxs)("p",{children:["User Agent: ",p.consentToElectronicBusiness.userAgent?p.consentToElectronicBusiness.userAgent.substring(0,50)+"...":"Not recorded"]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Identity Verification"}),(0,We.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,We.jsxs)("p",{children:["Method: ",p.signatureAssociation.identityVerificationMethod]}),(0,We.jsxs)("p",{children:["Verified: ",p.signatureAssociation.signerIdentityVerified?"Yes":"No"]}),(0,We.jsxs)("p",{children:["Timestamp: ",p.signatureAssociation.identityVerificationTimestamp?new Date(p.signatureAssociation.identityVerificationTimestamp).toLocaleString():"Not recorded"]})]})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Document Integrity"}),(0,We.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,We.jsxs)("p",{children:["Document Hash: ",p.documentIntegrity.documentHash||"Not generated"]}),(0,We.jsxs)("p",{children:["Signature Hash: ",p.documentIntegrity.signatureHash||"Not generated"]}),(0,We.jsxs)("p",{children:["Verified: ",p.documentIntegrity.isVerified?"Yes":"No"]})]})]})]})]}),(0,We.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,We.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Legal Disclaimer"}),(0,We.jsx)("p",{className:"text-sm text-blue-800",children:"This compliance report is generated based on ESIGN Act and UETA requirements. The signature system is designed to meet legal standards for electronic signatures in the United States. For legal advice regarding specific compliance requirements, please consult with qualified legal counsel."})]})]})})})};function fp(e){let{children:t}=e;const{user:n,loading:r}=Ke(),a=Z();return r?null:n?t:(0,We.jsx)(ge,{to:"/login",state:{from:a},replace:!0})}const gp=function(){return(0,We.jsx)(qe,{children:(0,We.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,We.jsxs)(be,{children:[(0,We.jsx)(xe,{path:"/login",element:(0,We.jsx)(sc,{})}),(0,We.jsx)(xe,{path:"/deals/new",element:(0,We.jsx)(fp,{children:(0,We.jsx)(ec,{})})}),(0,We.jsx)(xe,{path:"/deals/status",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Sc,{})})}),(0,We.jsx)(xe,{path:"/deals/all",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Rc,{})})}),(0,We.jsx)(xe,{path:"/users",element:(0,We.jsx)(fp,{children:(0,We.jsx)(_c,{})})}),(0,We.jsx)(xe,{path:"/apikeys",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Gc,{})})}),(0,We.jsx)(xe,{path:"/sign/:signatureId",element:(0,We.jsx)(mp,{})}),(0,We.jsx)(xe,{path:"/signatures/:signatureId/compliance",element:(0,We.jsx)(fp,{children:(0,We.jsx)(hp,{})})}),(0,We.jsx)(xe,{path:"/dealers",element:(0,We.jsx)(fp,{children:(0,We.jsx)(ic,{})})}),(0,We.jsx)(xe,{path:"/finance/deals",element:(0,We.jsx)(fp,{children:(0,We.jsx)(uc,{})})}),(0,We.jsx)(xe,{path:"/finance/deals/:dealId",element:(0,We.jsx)(fp,{children:(0,We.jsx)(pc,{})})}),(0,We.jsx)(xe,{path:"/finance/status",element:(0,We.jsx)(fp,{children:(0,We.jsx)(fc,{})})}),(0,We.jsx)(xe,{path:"/finance/deals/:dealId/update-status",element:(0,We.jsx)(fp,{children:(0,We.jsx)(bc,{})})}),(0,We.jsx)(xe,{path:"/deals/:dealId/documents/:fileName/view",element:(0,We.jsx)(gc,{})}),(0,We.jsx)(xe,{path:"/deals/:dealId/documents/view",element:(0,We.jsx)(gc,{})}),(0,We.jsx)(xe,{path:"/deals/:dealId/documents/:fileName/enhanced-view",element:(0,We.jsx)(xc,{})}),(0,We.jsx)(xe,{path:"/deals/:dealId/documents/enhanced-view",element:(0,We.jsx)(xc,{})}),(0,We.jsx)(xe,{path:"/transport",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Lc,{})})}),(0,We.jsx)(xe,{path:"/transport/new",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Mc,{})})}),(0,We.jsx)(xe,{path:"/it",element:(0,We.jsx)(Kc,{children:(0,We.jsx)(qc,{})})}),(0,We.jsx)(xe,{path:"/",element:(0,We.jsx)(fp,{children:(0,We.jsx)(Ge,{})})})]})})})};l.createRoot(document.getElementById("root")).render((0,We.jsx)(gp,{}))})();
//# sourceMappingURL=main.b4c86b11.js.map